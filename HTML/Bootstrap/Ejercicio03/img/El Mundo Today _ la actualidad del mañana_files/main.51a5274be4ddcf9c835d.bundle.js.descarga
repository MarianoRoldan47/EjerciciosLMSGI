(()=>{var SB=Object.defineProperty,CB=Object.defineProperties;var TB=Object.getOwnPropertyDescriptors;var Lu=Object.getOwnPropertySymbols;var ub=Object.prototype.hasOwnProperty,cb=Object.prototype.propertyIsEnumerable;var lb=(Dn,Ln,ke)=>Ln in Dn?SB(Dn,Ln,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Dn[Ln]=ke,kn=(Dn,Ln)=>{for(var ke in Ln||(Ln={}))ub.call(Ln,ke)&&lb(Dn,ke,Ln[ke]);if(Lu)for(var ke of Lu(Ln))cb.call(Ln,ke)&&lb(Dn,ke,Ln[ke]);return Dn},xo=(Dn,Ln)=>CB(Dn,TB(Ln));var Xn=(Dn,Ln)=>{var ke={};for(var Go in Dn)ub.call(Dn,Go)&&Ln.indexOf(Go)<0&&(ke[Go]=Dn[Go]);if(Dn!=null&&Lu)for(var Go of Lu(Dn))Ln.indexOf(Go)<0&&cb.call(Dn,Go)&&(ke[Go]=Dn[Go]);return ke};var IB=(Dn,Ln)=>()=>(Ln||Dn((Ln={exports:{}}).exports,Ln),Ln.exports);var il=(Dn,Ln,ke)=>new Promise((Go,H)=>{var E=u=>{try{t(ke.next(u))}catch(s){H(s)}},e=u=>{try{t(ke.throw(u))}catch(s){H(s)}},t=u=>u.done?Go(u.value):Promise.resolve(u.value).then(E,e);t((ke=ke.apply(Dn,Ln)).next())});var DB=IB(ef=>{(function(){try{var Dn=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ln=new Error().stack;Ln&&(Dn._sentryDebugIds=Dn._sentryDebugIds||{},Dn._sentryDebugIds[Ln]="2903bb43-4ab2-4546-9fbb-d92ebf4a4300",Dn._sentryDebugIdIdentifier="sentry-dbid-2903bb43-4ab2-4546-9fbb-d92ebf4a4300")}catch(ke){}})();var MB=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};MB.SENTRY_RELEASE={id:"substack@bac9252"};(()=>{var Dn={28599:H=>{"use strict";const{AbortController:E,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;H.exports=E,H.exports.AbortSignal=e,H.exports.default=E},21924:(H,E,e)=>{"use strict";var t=e(40210),u=e(55559),s=u(t("String.prototype.indexOf"));H.exports=function(P,y){var O=t(P,!!y);return typeof O=="function"&&s(P,".prototype.")>-1?u(O):O}},55559:(H,E,e)=>{"use strict";var t=e(58612),u=e(40210),s=u("%Function.prototype.apply%"),g=u("%Function.prototype.call%"),P=u("%Reflect.apply%",!0)||t.call(g,s),y=u("%Object.getOwnPropertyDescriptor%",!0),O=u("%Object.defineProperty%",!0),c=u("%Math.max%");if(O)try{O({},"a",{value:1})}catch(d){O=null}H.exports=function(T){var D=P(t,g,arguments);if(y&&O){var I=y(D,"length");I.configurable&&O(D,"length",{value:1+c(0,T.length-(arguments.length-1))})}return D};var f=function(){return P(t,s,arguments)};O?O(H.exports,"apply",{value:f}):H.exports.apply=f},94184:(H,E)=>{var e,t;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var u={}.hasOwnProperty;function s(){for(var g=[],P=0;P<arguments.length;P++){var y=arguments[P];if(y){var O=typeof y;if(O==="string"||O==="number")g.push(y);else if(Array.isArray(y)){if(y.length){var c=s.apply(null,y);c&&g.push(c)}}else if(O==="object")if(y.toString===Object.prototype.toString)for(var f in y)u.call(y,f)&&y[f]&&g.push(f);else g.push(y.toString())}}return g.join(" ")}H.exports?(s.default=s,H.exports=s):(e=[],t=function(){return s}.apply(E,e),t!==void 0&&(H.exports=t))})()},98767:H=>{H.exports=E;function E(t){if(t)return e(t)}function e(t){for(var u in E.prototype)t[u]=E.prototype[u];return t}E.prototype.on=E.prototype.addEventListener=function(t,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(u),this},E.prototype.once=function(t,u){function s(){this.off(t,s),u.apply(this,arguments)}return s.fn=u,this.on(t,s),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(t,u){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var g,P=0;P<s.length;P++)if(g=s[P],g===u||g.fn===u){s.splice(P,1);break}return s.length===0&&delete this._callbacks["$"+t],this},E.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),s=this._callbacks["$"+t],g=1;g<arguments.length;g++)u[g-1]=arguments[g];if(s){s=s.slice(0);for(var g=0,P=s.length;g<P;++g)s[g].apply(this,u)}return this},E.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},E.prototype.hasListeners=function(t){return!!this.listeners(t).length}},27484:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E="millisecond",e="second",t="minute",u="hour",s="day",g="week",P="month",y="quarter",O="year",c="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},D=function(S,N,R){var U=String(S);return!U||U.length>=N?S:""+Array(N+1-U.length).join(R)+S},I={s:D,z:function(S){var N=-S.utcOffset(),R=Math.abs(N),U=Math.floor(R/60),F=R%60;return(N<=0?"+":"-")+D(U,2,"0")+":"+D(F,2,"0")},m:function S(N,R){if(N.date()<R.date())return-S(R,N);var U=12*(R.year()-N.year())+(R.month()-N.month()),F=N.clone().add(U,P),$=R-F<0,G=N.clone().add(U+($?-1:1),P);return+(-(U+(R-F)/($?F-G:G-F))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:P,y:O,w:g,d:s,D:c,h:u,m:t,s:e,ms:E,Q:y}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},p="en",l={};l[p]=T;var a=function(S){return S instanceof C},v=function(S,N,R){var U;if(!S)return p;if(typeof S=="string")l[S]&&(U=S),N&&(l[S]=N,U=S);else{var F=S.name;l[F]=S,U=F}return!R&&U&&(p=U),U||!R&&p},w=function(S,N){if(a(S))return S.clone();var R=typeof N=="object"?N:{};return R.date=S,R.args=arguments,new C(R)},M=I;M.l=v,M.i=a,M.w=function(S,N){return w(S,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var C=function(){function S(R){this.$L=v(R.locale,null,!0),this.parse(R)}var N=S.prototype;return N.parse=function(R){this.$d=function(U){var F=U.date,$=U.utc;if(F===null)return new Date(NaN);if(M.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var G=F.match(f);if(G){var Q=G[2]-1||0,K=(G[7]||"0").substring(0,3);return $?new Date(Date.UTC(G[1],Q,G[3]||1,G[4]||0,G[5]||0,G[6]||0,K)):new Date(G[1],Q,G[3]||1,G[4]||0,G[5]||0,G[6]||0,K)}}return new Date(F)}(R),this.$x=R.x||{},this.init()},N.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},N.$utils=function(){return M},N.isValid=function(){return this.$d.toString()!=="Invalid Date"},N.isSame=function(R,U){var F=w(R);return this.startOf(U)<=F&&F<=this.endOf(U)},N.isAfter=function(R,U){return w(R)<this.startOf(U)},N.isBefore=function(R,U){return this.endOf(U)<w(R)},N.$g=function(R,U,F){return M.u(R)?this[U]:this.set(F,R)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(R,U){var F=this,$=!!M.u(U)||U,G=M.p(R),Q=function(ie,ue){var he=M.w(F.$u?Date.UTC(F.$y,ue,ie):new Date(F.$y,ue,ie),F);return $?he:he.endOf(s)},K=function(ie,ue){return M.w(F.toDate()[ie].apply(F.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ue)),F)},W=this.$W,Y=this.$M,ne=this.$D,V="set"+(this.$u?"UTC":"");switch(G){case O:return $?Q(1,0):Q(31,11);case P:return $?Q(1,Y):Q(0,Y+1);case g:var j=this.$locale().weekStart||0,te=(W<j?W+7:W)-j;return Q($?ne-te:ne+(6-te),Y);case s:case c:return K(V+"Hours",0);case u:return K(V+"Minutes",1);case t:return K(V+"Seconds",2);case e:return K(V+"Milliseconds",3);default:return this.clone()}},N.endOf=function(R){return this.startOf(R,!1)},N.$set=function(R,U){var F,$=M.p(R),G="set"+(this.$u?"UTC":""),Q=(F={},F[s]=G+"Date",F[c]=G+"Date",F[P]=G+"Month",F[O]=G+"FullYear",F[u]=G+"Hours",F[t]=G+"Minutes",F[e]=G+"Seconds",F[E]=G+"Milliseconds",F)[$],K=$===s?this.$D+(U-this.$W):U;if($===P||$===O){var W=this.clone().set(c,1);W.$d[Q](K),W.init(),this.$d=W.set(c,Math.min(this.$D,W.daysInMonth())).$d}else Q&&this.$d[Q](K);return this.init(),this},N.set=function(R,U){return this.clone().$set(R,U)},N.get=function(R){return this[M.p(R)]()},N.add=function(R,U){var F,$=this;R=Number(R);var G=M.p(U),Q=function(Y){var ne=w($);return M.w(ne.date(ne.date()+Math.round(Y*R)),$)};if(G===P)return this.set(P,this.$M+R);if(G===O)return this.set(O,this.$y+R);if(G===s)return Q(1);if(G===g)return Q(7);var K=(F={},F[t]=6e4,F[u]=36e5,F[e]=1e3,F)[G]||1,W=this.$d.getTime()+R*K;return M.w(W,this)},N.subtract=function(R,U){return this.add(-1*R,U)},N.format=function(R){var U=this;if(!this.isValid())return"Invalid Date";var F=R||"YYYY-MM-DDTHH:mm:ssZ",$=M.z(this),G=this.$locale(),Q=this.$H,K=this.$m,W=this.$M,Y=G.weekdays,ne=G.months,V=function(ue,he,Z,J){return ue&&(ue[he]||ue(U,F))||Z[he].substr(0,J)},j=function(ue){return M.s(Q%12||12,ue,"0")},te=G.meridiem||function(ue,he,Z){var J=ue<12?"AM":"PM";return Z?J.toLowerCase():J},ie={YY:String(this.$y).slice(-2),YYYY:this.$y,M:W+1,MM:M.s(W+1,2,"0"),MMM:V(G.monthsShort,W,ne,3),MMMM:V(ne,W),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:V(G.weekdaysMin,this.$W,Y,2),ddd:V(G.weekdaysShort,this.$W,Y,3),dddd:Y[this.$W],H:String(Q),HH:M.s(Q,2,"0"),h:j(1),hh:j(2),a:te(Q,K,!0),A:te(Q,K,!1),m:String(K),mm:M.s(K,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:$};return F.replace(d,function(ue,he){return he||ie[ue]||$.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(R,U,F){var $,G=M.p(U),Q=w(R),K=6e4*(Q.utcOffset()-this.utcOffset()),W=this-Q,Y=M.m(this,Q);return Y=($={},$[O]=Y/12,$[P]=Y,$[y]=Y/3,$[g]=(W-K)/6048e5,$[s]=(W-K)/864e5,$[u]=W/36e5,$[t]=W/6e4,$[e]=W/1e3,$)[G]||W,F?Y:M.a(Y)},N.daysInMonth=function(){return this.endOf(P).$D},N.$locale=function(){return l[this.$L]},N.locale=function(R,U){if(!R)return this.$L;var F=this.clone(),$=v(R,U,!0);return $&&(F.$L=$),F},N.clone=function(){return M.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},S}(),L=C.prototype;return w.prototype=L,[["$ms",E],["$s",e],["$m",t],["$H",u],["$W",s],["$M",P],["$y",O],["$D",c]].forEach(function(S){L[S[1]]=function(N){return this.$g(N,S[0],S[1])}}),w.extend=function(S,N){return S.$i||(S(N,C,w),S.$i=!0),w},w.locale=v,w.isDayjs=a,w.unix=function(S){return w(1e3*S)},w.en=l[p],w.Ls=l,w.p={},w})},80790:function(H,E,e){(function(t,u){H.exports=u(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var u={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function s(P,y,O){var c=u[O];return Array.isArray(c)&&(c=c[y?0:1]),c.replace("%d",P)}var g={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4rz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez".split("_"),ordinal:function(P){return P+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s}};return t.locale(g,null,!0),g})},67763:function(H,E,e){(function(t,u){H.exports=u(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var u={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(s){return s+"\xBA"}};return t.locale(u,null,!0),u})},96023:function(H,E,e){(function(t,u){H.exports=u(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var u={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(s){return""+s+(s===1?"er":"")}};return t.locale(u,null,!0),u})},15551:function(H,E,e){(function(t,u){H.exports=u(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var u={name:"it",weekdays:"domenica_luned\xEC_marted\xEC_mercoled\xEC_gioved\xEC_venerd\xEC_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(s){return s+"\xBA"}};return t.locale(u,null,!0),u})},15001:function(H,E,e){(function(t,u){H.exports=u(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var u={name:"pt",weekdays:"Domingo_Segunda-feira_Ter\xE7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xE1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sab".split("_"),weekdaysMin:"Do_2\xAA_3\xAA_4\xAA_5\xAA_6\xAA_Sa".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),ordinal:function(s){return s+"\xBA"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xE0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xE0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xE1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xEAs",MM:"%d meses",y:"um ano",yy:"%d anos"}};return t.locale(u,null,!0),u})},28734:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var u=e.prototype,s=u.format;t.en.ordinal=function(g){var P=["th","st","nd","rd"],y=g%100;return"["+g+(P[(y-20)%10]||P[y]||P[0])+"]"},u.format=function(g){var P=this,y=this.$locale(),O=this.$utils(),c=(g||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((P.$M+1)/3);case"Do":return y.ordinal(P.$D);case"gggg":return P.weekYear();case"GGGG":return P.isoWeekYear();case"wo":return y.ordinal(P.week(),"W");case"w":case"ww":return O.s(P.week(),f==="w"?1:2,"0");case"W":case"WW":return O.s(P.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return O.s(String(P.$H===0?24:P.$H),f==="k"?1:2,"0");case"X":return Math.floor(P.$d.getTime()/1e3);case"x":return P.$d.getTime();case"z":return"["+P.offsetName()+"]";case"zzz":return"["+P.offsetName("long")+"]";default:return f}});return s.bind(this)(c)}}})},90850:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var u=e.prototype,s=u.parse;u.parse=function(g){g.date=function(P){var y=P.date,O=P.utc;return Array.isArray(y)?O?y.length?new Date(Date.UTC.apply(null,y)):new Date:y.length===1?t(String(y[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(y))):y}.bind(this)(g),s.bind(this)(g)}}})},94712:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var u="h:mm A",s={lastDay:"[Yesterday at] "+u,sameDay:"[Today at] "+u,nextDay:"[Tomorrow at] "+u,nextWeek:"dddd [at] "+u,lastWeek:"[Last] dddd [at] "+u,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(g,P){var y=P||this.$locale().calendar||s,O=t(g||void 0).startOf("d"),c=this.diff(O,"d",!0),f=c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse",d=y[f]||s[f];return typeof d=="function"?d.call(this,t()):this.format(d)}}})},10285:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(D,I){return D.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,l,a){var v=a&&a.toUpperCase();return l||I[a]||E[a]||I[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,M,C){return M||C.slice(1)})})},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,s=/\d\d?/,g=/\d*[^\s\d-_:/()]+/,P={},y=function(D){return function(I){this[D]=+I}},O=[/[+-]\d\d:?(\d\d)?/,function(D){(this.zone||(this.zone={})).offset=function(I){if(!I)return 0;var p=I.match(/([+-]|\d\d)/g),l=60*p[1]+(+p[2]||0);return l===0?0:p[0]==="+"?-l:l}(D)}],c=function(D){var I=P[D];return I&&(I.indexOf?I:I.s.concat(I.f))},f=function(D,I){var p,l=P.meridiem;if(l){for(var a=1;a<=24;a+=1)if(D.indexOf(l(a,0,I))>-1){p=a>12;break}}else p=D===(I?"pm":"PM");return p},d={A:[g,function(D){this.afternoon=f(D,!1)}],a:[g,function(D){this.afternoon=f(D,!0)}],S:[/\d/,function(D){this.milliseconds=100*+D}],SS:[u,function(D){this.milliseconds=10*+D}],SSS:[/\d{3}/,function(D){this.milliseconds=+D}],s:[s,y("seconds")],ss:[s,y("seconds")],m:[s,y("minutes")],mm:[s,y("minutes")],H:[s,y("hours")],h:[s,y("hours")],HH:[s,y("hours")],hh:[s,y("hours")],D:[s,y("day")],DD:[u,y("day")],Do:[g,function(D){var I=P.ordinal,p=D.match(/\d+/);if(this.day=p[0],I)for(var l=1;l<=31;l+=1)I(l).replace(/\[|\]/g,"")===D&&(this.day=l)}],M:[s,y("month")],MM:[u,y("month")],MMM:[g,function(D){var I=c("months"),p=(c("monthsShort")||I.map(function(l){return l.substr(0,3)})).indexOf(D)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[g,function(D){var I=c("months").indexOf(D)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[/[+-]?\d+/,y("year")],YY:[u,function(D){D=+D,this.year=D+(D>68?1900:2e3)}],YYYY:[/\d{4}/,y("year")],Z:O,ZZ:O},T=function(D,I,p){try{var l=function(Y){for(var ne=(Y=e(Y,P&&P.formats)).match(t),V=ne.length,j=0;j<V;j+=1){var te=ne[j],ie=d[te],ue=ie&&ie[0],he=ie&&ie[1];ne[j]=he?{regex:ue,parser:he}:te.replace(/^\[|\]$/g,"")}return function(Z){for(var J={},ae=0,le=0;ae<V;ae+=1){var oe=ne[ae];if(typeof oe=="string")le+=oe.length;else{var ee=oe.regex,z=oe.parser,re=Z.substr(le),se=ee.exec(re)[0];z.call(J,se),Z=Z.replace(se,"")}}return function(fe){var Ee=fe.afternoon;if(Ee!==void 0){var ge=fe.hours;Ee?ge<12&&(fe.hours+=12):ge===12&&(fe.hours=0),delete fe.afternoon}}(J),J}}(I)(D),a=l.year,v=l.month,w=l.day,M=l.hours,C=l.minutes,L=l.seconds,S=l.milliseconds,N=l.zone,R=new Date,U=w||(a||v?1:R.getDate()),F=a||R.getFullYear(),$=0;a&&!v||($=v>0?v-1:R.getMonth());var G=M||0,Q=C||0,K=L||0,W=S||0;return N?new Date(Date.UTC(F,$,U,G,Q,K,W+60*N.offset*1e3)):p?new Date(Date.UTC(F,$,U,G,Q,K,W)):new Date(F,$,U,G,Q,K,W)}catch(Y){return new Date("")}};return function(D,I,p){p.p.customParseFormat=!0;var l=I.prototype,a=l.parse;l.parse=function(v){var w=v.date,M=v.utc,C=v.args;this.$u=M;var L=C[1];if(typeof L=="string"){var S=C[2]===!0,N=C[3]===!0,R=S||N,U=C[2];N&&(U=C[2]),P=this.$locale(),!S&&U&&(P=p.Ls[U]),this.$d=T(w,L,M),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),R&&w!==this.format(L)&&(this.$d=new Date("")),P={}}else if(L instanceof Array)for(var F=L.length,$=1;$<=F;$+=1){C[1]=L[$-1];var G=p.apply(this,C);if(G.isValid()){this.$d=G.$d,this.$L=G.$L,this.init();break}$===F&&(this.$d=new Date(""))}else a.call(this,v)}}})},92997:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.dayOfYear=function(t){var u=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return t==null?u:this.add(t-u,"day")}}})},1646:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E,e,t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},g=function(T){return T instanceof d},P=function(T,D,I){return new d(T,I,D.$l)},y=function(T){return e.p(T)+"s"},O=function(T){return T<0},c=function(T){return O(T)?Math.ceil(T):Math.floor(T)},f=function(T,D){return T?O(T)?{negative:!0,format:""+function(I){return Math.abs(I)}(T)+D}:{negative:!1,format:""+T+D}:{negative:!1,format:""}},d=function(){function T(I,p,l){var a=this;if(this.$d={},this.$l=l,p)return P(I*s[y(p)],this);if(typeof I=="number")return this.$ms=I,this.parseFromMilliseconds(),this;if(typeof I=="object")return Object.keys(I).forEach(function(w){a.$d[y(w)]=I[w]}),this.calMilliseconds(),this;if(typeof I=="string"){var v=I.match(u);if(v)return this.$d.years=v[2],this.$d.months=v[3],this.$d.weeks=v[4],this.$d.days=v[5],this.$d.hours=v[6],this.$d.minutes=v[7],this.$d.seconds=v[8],this.calMilliseconds(),this}return this}var D=T.prototype;return D.calMilliseconds=function(){var I=this;this.$ms=Object.keys(this.$d).reduce(function(p,l){return p+(I.$d[l]||0)*s[l]},0)},D.parseFromMilliseconds=function(){var I=this.$ms;this.$d.years=c(I/31536e6),I%=31536e6,this.$d.months=c(I/2592e6),I%=2592e6,this.$d.days=c(I/864e5),I%=864e5,this.$d.hours=c(I/36e5),I%=36e5,this.$d.minutes=c(I/6e4),I%=6e4,this.$d.seconds=c(I/1e3),I%=1e3,this.$d.milliseconds=I},D.toISOString=function(){var I=f(this.$d.years,"Y"),p=f(this.$d.months,"M"),l=+this.$d.days||0;this.$d.weeks&&(l+=7*this.$d.weeks);var a=f(l,"D"),v=f(this.$d.hours,"H"),w=f(this.$d.minutes,"M"),M=this.$d.seconds||0;this.$d.milliseconds&&(M+=this.$d.milliseconds/1e3);var C=f(M,"S"),L=I.negative||p.negative||a.negative||v.negative||w.negative||C.negative,S=v.format||w.format||C.format?"T":"",N=(L?"-":"")+"P"+I.format+p.format+a.format+S+v.format+w.format+C.format;return N==="P"||N==="-P"?"P0D":N},D.toJSON=function(){return this.toISOString()},D.format=function(I){var p=I||"YYYY-MM-DDTHH:mm:ss",l={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return p.replace(t,function(a,v){return v||String(l[a])})},D.as=function(I){return this.$ms/s[y(I)]},D.get=function(I){var p=this.$ms,l=y(I);return l==="milliseconds"?p%=1e3:p=l==="weeks"?c(p/s[l]):this.$d[l],p===0?0:p},D.add=function(I,p,l){var a;return a=p?I*s[y(p)]:g(I)?I.$ms:P(I,this).$ms,P(this.$ms+a*(l?-1:1),this)},D.subtract=function(I,p){return this.add(I,p,!0)},D.locale=function(I){var p=this.clone();return p.$l=I,p},D.clone=function(){return P(this.$ms,this)},D.humanize=function(I){return E().add(this.$ms,"ms").locale(this.$l).fromNow(!I)},D.milliseconds=function(){return this.get("milliseconds")},D.asMilliseconds=function(){return this.as("milliseconds")},D.seconds=function(){return this.get("seconds")},D.asSeconds=function(){return this.as("seconds")},D.minutes=function(){return this.get("minutes")},D.asMinutes=function(){return this.as("minutes")},D.hours=function(){return this.get("hours")},D.asHours=function(){return this.as("hours")},D.days=function(){return this.get("days")},D.asDays=function(){return this.as("days")},D.weeks=function(){return this.get("weeks")},D.asWeeks=function(){return this.as("weeks")},D.months=function(){return this.get("months")},D.asMonths=function(){return this.as("months")},D.years=function(){return this.get("years")},D.asYears=function(){return this.as("years")},T}();return function(T,D,I){E=I,e=I().$utils(),I.duration=function(a,v){var w=I.locale();return P(a,{$l:w},v)},I.isDuration=g;var p=D.prototype.add,l=D.prototype.subtract;D.prototype.add=function(a,v){return g(a)&&(a=a.asMilliseconds()),p.bind(this)(a,v)},D.prototype.subtract=function(a,v){return g(a)&&(a=a.asMilliseconds()),l.bind(this)(a,v)}}})},66607:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){e.prototype.isBetween=function(u,s,g,P){var y=t(u),O=t(s),c=(P=P||"()")[0]==="(",f=P[1]===")";return(c?this.isAfter(y,g):!this.isBefore(y,g))&&(f?this.isBefore(O,g):!this.isAfter(O,g))||(c?this.isBefore(y,g):!this.isAfter(y,g))&&(f?this.isAfter(O,g):!this.isBefore(O,g))}}})},10423:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.isSameOrAfter=function(t,u){return this.isSame(t,u)||this.isAfter(t,u)}}})},37412:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.isSameOrBefore=function(t,u){return this.isSame(t,u)||this.isBefore(t,u)}}})},96671:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E="month",e="quarter";return function(t,u){var s=u.prototype;s.quarter=function(y){return this.$utils().u(y)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(y-1))};var g=s.add;s.add=function(y,O){return y=Number(y),this.$utils().p(O)===e?this.add(3*y,E):g.bind(this)(y,O)};var P=s.startOf;s.startOf=function(y,O){var c=this.$utils(),f=!!c.u(O)||O;if(c.p(y)===e){var d=this.quarter()-1;return f?this.month(3*d).startOf(E).startOf("day"):this.month(3*d+2).endOf(E).endOf("day")}return P.bind(this)(y,O)}}})},84110:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){E=E||{};var u=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function g(y,O,c,f){return u.fromToBase(y,O,c,f)}t.en.relativeTime=s,u.fromToBase=function(y,O,c,f,d){for(var T,D,I,p=c.$locale().relativeTime||s,l=E.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],a=l.length,v=0;v<a;v+=1){var w=l[v];w.d&&(T=f?t(y).diff(c,w.d,!0):c.diff(y,w.d,!0));var M=(E.rounding||Math.round)(Math.abs(T));if(I=T>0,M<=w.r||!w.r){M<=1&&v>0&&(w=l[v-1]);var C=p[w.l];d&&(M=d(""+M)),D=typeof C=="string"?C.replace("%d",M):C(M,O,w.l,I);break}}if(O)return D;var L=I?p.future:p.past;return typeof L=="function"?L(D):L.replace("%s",D)},u.to=function(y,O){return g(y,O,this,!0)},u.from=function(y,O){return g(y,O,this)};var P=function(y){return y.$u?t.utc():t()};u.toNow=function(y){return this.to(P(this),y)},u.fromNow=function(y){return this.from(P(this),y)}}})},29387:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(t,u,s){var g,P=s().utcOffset(),y=function(d,T,D){D===void 0&&(D={});var I=new Date(d);return function(p,l){l===void 0&&(l={});var a=l.timeZoneName||"short",v=p+"|"+a,w=e[v];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:a}),e[v]=w),w}(T,D).formatToParts(I)},O=function(d,T){for(var D=y(d,T),I=[],p=0;p<D.length;p+=1){var l=D[p],a=l.type,v=l.value,w=E[a];w>=0&&(I[w]=parseInt(v,10))}var M=I[3],C=M===24?0:M,L=I[0]+"-"+I[1]+"-"+I[2]+" "+C+":"+I[4]+":"+I[5]+":000",S=+d;return(s.utc(L).valueOf()-(S-=S%1e3))/6e4},c=u.prototype;c.tz=function(d,T){d===void 0&&(d=g);var D=this.utcOffset(),I=this.toDate().toLocaleString("en-US",{timeZone:d}),p=Math.round((this.toDate()-new Date(I))/1e3/60),l=s(I).$set("millisecond",this.$ms).utcOffset(P-p,!0);if(T){var a=l.utcOffset();l=l.add(D-a,"minute")}return l.$x.$timezone=d,l},c.offsetName=function(d){var T=this.$x.$timezone||s.tz.guess(),D=y(this.valueOf(),T,{timeZoneName:d}).find(function(I){return I.type.toLowerCase()==="timezonename"});return D&&D.value};var f=c.startOf;c.startOf=function(d,T){if(!this.$x||!this.$x.$timezone)return f.call(this,d,T);var D=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return f.call(D,d,T).tz(this.$x.$timezone,!0)},s.tz=function(d,T,D){var I=D&&T,p=D||T||g,l=O(+s(),p);if(typeof d!="string")return s(d).tz(p);var a=function(C,L,S){var N=C-60*L*1e3,R=O(N,S);if(L===R)return[N,L];var U=O(N-=60*(R-L)*1e3,S);return R===U?[N,R]:[C-60*Math.min(R,U)*1e3,Math.max(R,U)]}(s.utc(d,I).valueOf(),l,p),v=a[0],w=a[1],M=s(v).utcOffset(w);return M.$x.$timezone=p,M},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(d){g=d}}})},70178:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var u=e.prototype;t.utc=function(f){return new e({date:f,utc:!0,args:arguments})},u.utc=function(f){var d=t(this.toDate(),{locale:this.$L,utc:!0});return f?d.add(this.utcOffset(),"minute"):d},u.local=function(){return t(this.toDate(),{locale:this.$L,utc:!1})};var s=u.parse;u.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),s.call(this,f)};var g=u.init;u.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else g.call(this)};var P=u.utcOffset;u.utcOffset=function(f,d){var T=this.$utils().u;if(T(f))return this.$u?0:T(this.$offset)?P.call(this):this.$offset;var D=Math.abs(f)<=16?60*f:f,I=this;if(d)return I.$offset=D,I.$u=f===0,I;if(f!==0){var p=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(D+p,"minute")).$offset=D,I.$x.$localOffset=p}else I=this.utc();return I};var y=u.format;u.format=function(f){var d=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,d)},u.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*f},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var O=u.toDate;u.toDate=function(f){return f==="s"&&this.$offset?t(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():O.call(this)};var c=u.diff;u.diff=function(f,d,T){if(f&&this.$u===f.$u)return c.call(this,f,d,T);var D=this.local(),I=t(f).local();return c.call(D,I,d,T)}}})},55183:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E="week",e="year";return function(t,u,s){var g=u.prototype;g.week=function(P){if(P===void 0&&(P=null),P!==null)return this.add(7*(P-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var O=s(this).startOf(e).add(1,e).date(y),c=s(this).endOf(E);if(O.isBefore(c))return 1}var f=s(this).startOf(e).date(y).startOf(E).subtract(1,"millisecond"),d=this.diff(f,E,!0);return d<0?s(this).startOf("week").week():Math.ceil(d)},g.weeks=function(P){return P===void 0&&(P=null),this.week(P)}}})},6833:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.weekday=function(t){var u=this.$locale().weekStart||0,s=this.$W,g=(s<u?s+7:s)-u;return this.$utils().u(t)?g:this.subtract(g,"day").add(t,"day")}}})},10251:(H,E,e)=>{var t=Array.prototype.slice,u=e(41705),s=e(45539),g=H.exports=function(c,f,d){return d||(d={}),c===f?!0:c instanceof Date&&f instanceof Date?c.getTime()===f.getTime():!c||!f||typeof c!="object"&&typeof f!="object"?d.strict?c===f:c==f:O(c,f,d)};function P(c){return c==null}function y(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function O(c,f,d){var T,D;if(P(c)||P(f)||c.prototype!==f.prototype)return!1;if(s(c))return s(f)?(c=t.call(c),f=t.call(f),g(c,f,d)):!1;if(y(c)){if(!y(f)||c.length!==f.length)return!1;for(T=0;T<c.length;T++)if(c[T]!==f[T])return!1;return!0}try{var I=u(c),p=u(f)}catch(l){return!1}if(I.length!=p.length)return!1;for(I.sort(),p.sort(),T=I.length-1;T>=0;T--)if(I[T]!=p[T])return!1;for(T=I.length-1;T>=0;T--)if(D=I[T],!g(c[D],f[D],d))return!1;return typeof c==typeof f}},45539:(H,E)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";E=H.exports=e?t:u,E.supported=t;function t(s){return Object.prototype.toString.call(s)=="[object Arguments]"}E.unsupported=u;function u(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},41705:(H,E)=>{E=H.exports=typeof Object.keys=="function"?Object.keys:e,E.shim=e;function e(t){var u=[];for(var s in t)u.push(s);return u}},9996:H=>{"use strict";var E=function(v){return e(v)&&!t(v)};function e(a){return!!a&&typeof a=="object"}function t(a){var v=Object.prototype.toString.call(a);return v==="[object RegExp]"||v==="[object Date]"||g(a)}var u=typeof Symbol=="function"&&Symbol.for,s=u?Symbol.for("react.element"):60103;function g(a){return a.$$typeof===s}function P(a){return Array.isArray(a)?[]:{}}function y(a,v){return v.clone!==!1&&v.isMergeableObject(a)?p(P(a),a,v):a}function O(a,v,w){return a.concat(v).map(function(M){return y(M,w)})}function c(a,v){if(!v.customMerge)return p;var w=v.customMerge(a);return typeof w=="function"?w:p}function f(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(v){return a.propertyIsEnumerable(v)}):[]}function d(a){return Object.keys(a).concat(f(a))}function T(a,v){try{return v in a}catch(w){return!1}}function D(a,v){return T(a,v)&&!(Object.hasOwnProperty.call(a,v)&&Object.propertyIsEnumerable.call(a,v))}function I(a,v,w){var M={};return w.isMergeableObject(a)&&d(a).forEach(function(C){M[C]=y(a[C],w)}),d(v).forEach(function(C){D(a,C)||(T(a,C)&&w.isMergeableObject(v[C])?M[C]=c(C,w)(a[C],v[C],w):M[C]=y(v[C],w))}),M}function p(a,v,w){w=w||{},w.arrayMerge=w.arrayMerge||O,w.isMergeableObject=w.isMergeableObject||E,w.cloneUnlessOtherwiseSpecified=y;var M=Array.isArray(v),C=Array.isArray(a),L=M===C;return L?M?w.arrayMerge(a,v,w):I(a,v,w):y(v,w)}p.all=function(v,w){if(!Array.isArray(v))throw new Error("first argument should be an array");return v.reduce(function(M,C){return p(M,C,w)},{})};var l=p;H.exports=l},65987:H=>{"use strict";var E={single_source_shortest_paths:function(e,t,u){var s={},g={};g[t]=0;var P=E.PriorityQueue.make();P.push(t,0);for(var y,O,c,f,d,T,D,I,p;!P.empty();){y=P.pop(),O=y.value,f=y.cost,d=e[O]||{};for(c in d)d.hasOwnProperty(c)&&(T=d[c],D=f+T,I=g[c],p=typeof g[c]=="undefined",(p||I>D)&&(g[c]=D,P.push(c,D),s[c]=O))}if(typeof u!="undefined"&&typeof g[u]=="undefined"){var l=["Could not find a path from ",t," to ",u,"."].join("");throw new Error(l)}return s},extract_shortest_path_from_predecessor_list:function(e,t){for(var u=[],s=t,g;s;)u.push(s),g=e[s],s=e[s];return u.reverse(),u},find_path:function(e,t,u){var s=E.single_source_shortest_paths(e,t,u);return E.extract_shortest_path_from_predecessor_list(s,u)},PriorityQueue:{make:function(e){var t=E.PriorityQueue,u={},s;e=e||{};for(s in t)t.hasOwnProperty(s)&&(u[s]=t[s]);return u.queue=[],u.sorter=e.sorter||t.default_sorter,u},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var u={value:e,cost:t};this.queue.push(u),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};H.exports=E},17837:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.attributeNames=E.elementNames=void 0,E.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),E.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(H,E,e){"use strict";var t=this&&this.__assign||function(){return t=Object.assign||function(C){for(var L,S=1,N=arguments.length;S<N;S++){L=arguments[S];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(C[R]=L[R])}return C},t.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(C,L,S,N){N===void 0&&(N=S),Object.defineProperty(C,N,{enumerable:!0,get:function(){return L[S]}})}:function(C,L,S,N){N===void 0&&(N=S),C[N]=L[S]}),s=this&&this.__setModuleDefault||(Object.create?function(C,L){Object.defineProperty(C,"default",{enumerable:!0,value:L})}:function(C,L){C.default=L}),g=this&&this.__importStar||function(C){if(C&&C.__esModule)return C;var L={};if(C!=null)for(var S in C)S!=="default"&&Object.prototype.hasOwnProperty.call(C,S)&&u(L,C,S);return s(L,C),L};Object.defineProperty(E,"__esModule",{value:!0});var P=g(e(99960)),y=e(45863),O=e(17837),c=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(C,L){if(C)return Object.keys(C).map(function(S){var N,R,U=(N=C[S])!==null&&N!==void 0?N:"";return L.xmlMode==="foreign"&&(S=(R=O.attributeNames.get(S))!==null&&R!==void 0?R:S),!L.emptyAttrs&&!L.xmlMode&&U===""?S:S+'="'+(L.decodeEntities!==!1?y.encodeXML(U):U.replace(/"/g,"&quot;"))+'"'}).join(" ")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function T(C,L){L===void 0&&(L={});for(var S=("length"in C)?C:[C],N="",R=0;R<S.length;R++)N+=D(S[R],L);return N}E.default=T;function D(C,L){switch(C.type){case P.Root:return T(C.children,L);case P.Directive:case P.Doctype:return a(C);case P.Comment:return M(C);case P.CDATA:return w(C);case P.Script:case P.Style:case P.Tag:return l(C,L);case P.Text:return v(C,L)}}var I=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function l(C,L){var S;L.xmlMode==="foreign"&&(C.name=(S=O.elementNames.get(C.name))!==null&&S!==void 0?S:C.name,C.parent&&I.has(C.parent.name)&&(L=t(t({},L),{xmlMode:!1}))),!L.xmlMode&&p.has(C.name)&&(L=t(t({},L),{xmlMode:"foreign"}));var N="<"+C.name,R=f(C.attribs,L);return R&&(N+=" "+R),C.children.length===0&&(L.xmlMode?L.selfClosingTags!==!1:L.selfClosingTags&&d.has(C.name))?(L.xmlMode||(N+=" "),N+="/>"):(N+=">",C.children.length>0&&(N+=T(C.children,L)),(L.xmlMode||!d.has(C.name))&&(N+="</"+C.name+">")),N}function a(C){return"<"+C.data+">"}function v(C,L){var S=C.data||"";return L.decodeEntities!==!1&&!(!L.xmlMode&&C.parent&&c.has(C.parent.name))&&(S=y.encodeXML(S)),S}function w(C){return"<![CDATA["+C.children[0].data+"]]>"}function M(C){return"<!--"+C.data+"-->"}},99960:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Doctype=E.CDATA=E.Tag=E.Style=E.Script=E.Comment=E.Directive=E.Text=E.Root=E.isTag=E.ElementType=void 0;var e;(function(u){u.Root="root",u.Text="text",u.Directive="directive",u.Comment="comment",u.Script="script",u.Style="style",u.Tag="tag",u.CDATA="cdata",u.Doctype="doctype"})(e=E.ElementType||(E.ElementType={}));function t(u){return u.type===e.Tag||u.type===e.Script||u.type===e.Style}E.isTag=t,E.Root=e.Root,E.Text=e.Text,E.Directive=e.Directive,E.Comment=e.Comment,E.Script=e.Script,E.Style=e.Style,E.Tag=e.Tag,E.CDATA=e.CDATA,E.Doctype=e.Doctype},47915:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(O,c,f,d){d===void 0&&(d=f),Object.defineProperty(O,d,{enumerable:!0,get:function(){return c[f]}})}:function(O,c,f,d){d===void 0&&(d=f),O[d]=c[f]}),u=this&&this.__exportStar||function(O,c){for(var f in O)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&t(c,O,f)};Object.defineProperty(E,"__esModule",{value:!0}),E.DomHandler=void 0;var s=e(97790);u(e(97790),E);var g=/\s+/g,P={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},y=function(){function O(c,f,d){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof f=="function"&&(d=f,f=P),typeof c=="object"&&(f=c,c=void 0),this._callback=c!=null?c:null,this._options=f!=null?f:P,this._elementCB=d!=null?d:null}return O.prototype.onparserinit=function(c){this._parser=c},O.prototype.onreset=function(){var c;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(c=this._parser)!==null&&c!==void 0?c:null},O.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},O.prototype.onerror=function(c){this.handleCallback(c)},O.prototype.onclosetag=function(){this._lastNode=null;var c=this._tagStack.pop();!c||!this._parser||(this._options.withEndIndices&&(c.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(c))},O.prototype.onopentag=function(c,f){var d=new s.Element(c,f);this.addNode(d),this._tagStack.push(d)},O.prototype.ontext=function(c){var f=this._options.normalizeWhitespace,d=this._lastNode;if(d&&d.type==="text")f?d.data=(d.data+c).replace(g," "):d.data+=c;else{f&&(c=c.replace(g," "));var T=new s.Text(c);this.addNode(T),this._lastNode=T}},O.prototype.oncomment=function(c){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=c;return}var f=new s.Comment(c);this.addNode(f),this._lastNode=f},O.prototype.oncommentend=function(){this._lastNode=null},O.prototype.oncdatastart=function(){var c=new s.Text(""),f=new s.NodeWithChildren("cdata",[c]);this.addNode(f),c.parent=f,this._lastNode=c},O.prototype.oncdataend=function(){this._lastNode=null},O.prototype.onprocessinginstruction=function(c,f){var d=new s.ProcessingInstruction(c,f);this.addNode(d)},O.prototype.handleCallback=function(c){if(typeof this._callback=="function")this._callback(c,this.dom);else if(c)throw c},O.prototype.addNode=function(c){var f=this._tagStack[this._tagStack.length-1],d=f?f.children:this.dom,T=d[d.length-1];this._parser&&(this._options.withStartIndices&&(c.startIndex=this._parser.startIndex),this._options.withEndIndices&&(c.endIndex=this._parser.endIndex)),d.push(c),T&&(c.prev=T,T.next=c),f&&(c.parent=f),this._lastNode=null},O.prototype.addDataNode=function(c){this.addNode(c),this._lastNode=c},O}();E.DomHandler=y,E.default=y},97790:function(H,E){"use strict";var e=this&&this.__extends||function(){var D=function(I,p){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(l[v]=a[v])},D(I,p)};return function(I,p){D(I,p);function l(){this.constructor=I}I.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)}}(),t=this&&this.__assign||function(){return t=Object.assign||function(D){for(var I,p=1,l=arguments.length;p<l;p++){I=arguments[p];for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&(D[a]=I[a])}return D},t.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.cloneNode=E.Element=E.NodeWithChildren=E.ProcessingInstruction=E.Comment=E.Text=E.DataNode=E.Node=void 0;var u=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),s=function(){function D(I){this.type=I,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"nodeType",{get:function(){var I;return(I=u.get(this.type))!==null&&I!==void 0?I:1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(I){return I===void 0&&(I=!1),d(this,I)},D}();E.Node=s;var g=function(D){e(I,D);function I(p,l){var a=D.call(this,p)||this;return a.data=l,a}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(p){this.data=p},enumerable:!1,configurable:!0}),I}(s);E.DataNode=g;var P=function(D){e(I,D);function I(p){return D.call(this,"text",p)||this}return I}(g);E.Text=P;var y=function(D){e(I,D);function I(p){return D.call(this,"comment",p)||this}return I}(g);E.Comment=y;var O=function(D){e(I,D);function I(p,l){var a=D.call(this,"directive",l)||this;return a.name=p,a}return I}(g);E.ProcessingInstruction=O;var c=function(D){e(I,D);function I(p,l){var a=D.call(this,p)||this;return a.children=l,a}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var p;return(p=this.children[0])!==null&&p!==void 0?p:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(p){this.children=p},enumerable:!1,configurable:!0}),I}(s);E.NodeWithChildren=c;var f=function(D){e(I,D);function I(p,l,a){a===void 0&&(a=[]);var v=D.call(this,p==="script"?"script":p==="style"?"style":"tag",a)||this;return v.name=p,v.attribs=l,v.attribs=l,v}return Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(p){this.name=p},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var p=this;return Object.keys(this.attribs).map(function(l){return{name:l,value:p.attribs[l]}})},enumerable:!1,configurable:!0}),I}(c);E.Element=f;function d(D,I){switch(I===void 0&&(I=!1),D.type){case"text":return new P(D.data);case"directive":{var p=D;return new O(p.name,p.data)}case"comment":return new y(D.data);case"tag":case"script":case"style":{var l=D,a=I?T(l.children):[],v=new f(l.name,t({},l.attribs),a);return a.forEach(function(C){return C.parent=v}),v}case"cdata":{var w=D,a=I?T(w.children):[],M=new c("cdata",a);return a.forEach(function(L){return L.parent=M}),M}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}E.cloneNode=d;function T(D){for(var I=D.map(function(l){return d(l,!0)}),p=1;p<I.length;p++)I[p].prev=I[p-1],I[p-1].next=I[p];return I}},16996:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getFeed=void 0;var t=e(43346),u=e(23905);function s(I){var p=f(D,I);return p?p.name==="feed"?g(p):P(p):null}E.getFeed=s;function g(I){var p,l=I.children,a={type:"atom",items:(0,u.getElementsByTagName)("entry",l).map(function(M){var C,L=M.children,S={media:c(L)};T(S,"id","id",L),T(S,"title","title",L);var N=(C=f("link",L))===null||C===void 0?void 0:C.attribs.href;N&&(S.link=N);var R=d("summary",L)||d("content",L);R&&(S.description=R);var U=d("updated",L);return U&&(S.pubDate=new Date(U)),S})};T(a,"id","id",l),T(a,"title","title",l);var v=(p=f("link",l))===null||p===void 0?void 0:p.attribs.href;v&&(a.link=v),T(a,"description","subtitle",l);var w=d("updated",l);return w&&(a.updated=new Date(w)),T(a,"author","email",l,!0),a}function P(I){var p,l,a=(l=(p=f("channel",I.children))===null||p===void 0?void 0:p.children)!==null&&l!==void 0?l:[],v={type:I.name.substr(0,3),id:"",items:(0,u.getElementsByTagName)("item",I.children).map(function(M){var C=M.children,L={media:c(C)};T(L,"id","guid",C),T(L,"title","title",C),T(L,"link","link",C),T(L,"description","description",C);var S=d("pubDate",C);return S&&(L.pubDate=new Date(S)),L})};T(v,"title","title",a),T(v,"link","link",a),T(v,"description","description",a);var w=d("lastBuildDate",a);return w&&(v.updated=new Date(w)),T(v,"author","managingEditor",a,!0),v}var y=["url","type","lang"],O=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function c(I){return(0,u.getElementsByTagName)("media:content",I).map(function(p){for(var l=p.attribs,a={medium:l.medium,isDefault:!!l.isDefault},v=0,w=y;v<w.length;v++){var M=w[v];l[M]&&(a[M]=l[M])}for(var C=0,L=O;C<L.length;C++){var M=L[C];l[M]&&(a[M]=parseInt(l[M],10))}return l.expression&&(a.expression=l.expression),a})}function f(I,p){return(0,u.getElementsByTagName)(I,p,!0,1)[0]}function d(I,p,l){return l===void 0&&(l=!1),(0,t.textContent)((0,u.getElementsByTagName)(I,p,l,1)).trim()}function T(I,p,l,a,v){v===void 0&&(v=!1);var w=d(l,a,v);w&&(I[p]=w)}function D(I){return I==="rss"||I==="feed"||I==="rdf:RDF"}},74975:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.uniqueSort=E.compareDocumentPosition=E.removeSubsets=void 0;var t=e(63317);function u(P){for(var y=P.length;--y>=0;){var O=P[y];if(y>0&&P.lastIndexOf(O,y-1)>=0){P.splice(y,1);continue}for(var c=O.parent;c;c=c.parent)if(P.includes(c)){P.splice(y,1);break}}return P}E.removeSubsets=u;function s(P,y){var O=[],c=[];if(P===y)return 0;for(var f=(0,t.hasChildren)(P)?P:P.parent;f;)O.unshift(f),f=f.parent;for(f=(0,t.hasChildren)(y)?y:y.parent;f;)c.unshift(f),f=f.parent;for(var d=Math.min(O.length,c.length),T=0;T<d&&O[T]===c[T];)T++;if(T===0)return 1;var D=O[T-1],I=D.children,p=O[T],l=c[T];return I.indexOf(p)>I.indexOf(l)?D===y?20:4:D===P?10:2}E.compareDocumentPosition=s;function g(P){return P=P.filter(function(y,O,c){return!c.includes(y,O+1)}),P.sort(function(y,O){var c=s(y,O);return c&2?-1:c&4?1:0}),P}E.uniqueSort=g},89432:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(g,P,y,O){O===void 0&&(O=y),Object.defineProperty(g,O,{enumerable:!0,get:function(){return P[y]}})}:function(g,P,y,O){O===void 0&&(O=y),g[O]=P[y]}),u=this&&this.__exportStar||function(g,P){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(P,y)&&t(P,g,y)};Object.defineProperty(E,"__esModule",{value:!0}),E.hasChildren=E.isDocument=E.isComment=E.isText=E.isCDATA=E.isTag=void 0,u(e(43346),E),u(e(85010),E),u(e(26765),E),u(e(98043),E),u(e(23905),E),u(e(74975),E),u(e(16996),E);var s=e(63317);Object.defineProperty(E,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(E,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(E,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(E,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(E,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(E,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})},23905:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getElementsByTagType=E.getElementsByTagName=E.getElementById=E.getElements=E.testElement=void 0;var t=e(63317),u=e(98043),s={tag_name:function(D){return typeof D=="function"?function(I){return(0,t.isTag)(I)&&D(I.name)}:D==="*"?t.isTag:function(I){return(0,t.isTag)(I)&&I.name===D}},tag_type:function(D){return typeof D=="function"?function(I){return D(I.type)}:function(I){return I.type===D}},tag_contains:function(D){return typeof D=="function"?function(I){return(0,t.isText)(I)&&D(I.data)}:function(I){return(0,t.isText)(I)&&I.data===D}}};function g(D,I){return typeof I=="function"?function(p){return(0,t.isTag)(p)&&I(p.attribs[D])}:function(p){return(0,t.isTag)(p)&&p.attribs[D]===I}}function P(D,I){return function(p){return D(p)||I(p)}}function y(D){var I=Object.keys(D).map(function(p){var l=D[p];return Object.prototype.hasOwnProperty.call(s,p)?s[p](l):g(p,l)});return I.length===0?null:I.reduce(P)}function O(D,I){var p=y(D);return p?p(I):!0}E.testElement=O;function c(D,I,p,l){l===void 0&&(l=1/0);var a=y(D);return a?(0,u.filter)(a,I,p,l):[]}E.getElements=c;function f(D,I,p){return p===void 0&&(p=!0),Array.isArray(I)||(I=[I]),(0,u.findOne)(g("id",D),I,p)}E.getElementById=f;function d(D,I,p,l){return p===void 0&&(p=!0),l===void 0&&(l=1/0),(0,u.filter)(s.tag_name(D),I,p,l)}E.getElementsByTagName=d;function T(D,I,p,l){return p===void 0&&(p=!0),l===void 0&&(l=1/0),(0,u.filter)(s.tag_type(D),I,p,l)}E.getElementsByTagType=T},26765:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.prepend=E.prependChild=E.append=E.appendChild=E.replaceElement=E.removeElement=void 0;function e(y){if(y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),y.parent){var O=y.parent.children;O.splice(O.lastIndexOf(y),1)}}E.removeElement=e;function t(y,O){var c=O.prev=y.prev;c&&(c.next=O);var f=O.next=y.next;f&&(f.prev=O);var d=O.parent=y.parent;if(d){var T=d.children;T[T.lastIndexOf(y)]=O}}E.replaceElement=t;function u(y,O){if(e(O),O.next=null,O.parent=y,y.children.push(O)>1){var c=y.children[y.children.length-2];c.next=O,O.prev=c}else O.prev=null}E.appendChild=u;function s(y,O){e(O);var c=y.parent,f=y.next;if(O.next=f,O.prev=y,y.next=O,O.parent=c,f){if(f.prev=O,c){var d=c.children;d.splice(d.lastIndexOf(f),0,O)}}else c&&c.children.push(O)}E.append=s;function g(y,O){if(e(O),O.parent=y,O.prev=null,y.children.unshift(O)!==1){var c=y.children[1];c.prev=O,O.next=c}else O.next=null}E.prependChild=g;function P(y,O){e(O);var c=y.parent;if(c){var f=c.children;f.splice(f.indexOf(y),0,O)}y.prev&&(y.prev.next=O),O.parent=c,O.prev=y.prev,O.next=y,y.prev=O}E.prepend=P},98043:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.findAll=E.existsOne=E.findOne=E.findOneChild=E.find=E.filter=void 0;var t=e(63317);function u(c,f,d,T){return d===void 0&&(d=!0),T===void 0&&(T=1/0),Array.isArray(f)||(f=[f]),s(c,f,d,T)}E.filter=u;function s(c,f,d,T){for(var D=[],I=0,p=f;I<p.length;I++){var l=p[I];if(c(l)&&(D.push(l),--T<=0))break;if(d&&(0,t.hasChildren)(l)&&l.children.length>0){var a=s(c,l.children,d,T);if(D.push.apply(D,a),T-=a.length,T<=0)break}}return D}E.find=s;function g(c,f){return f.find(c)}E.findOneChild=g;function P(c,f,d){d===void 0&&(d=!0);for(var T=null,D=0;D<f.length&&!T;D++){var I=f[D];if((0,t.isTag)(I))c(I)?T=I:d&&I.children.length>0&&(T=P(c,I.children));else continue}return T}E.findOne=P;function y(c,f){return f.some(function(d){return(0,t.isTag)(d)&&(c(d)||d.children.length>0&&y(c,d.children))})}E.existsOne=y;function O(c,f){for(var d,T=[],D=f.filter(t.isTag),I;I=D.shift();){var p=(d=I.children)===null||d===void 0?void 0:d.filter(t.isTag);p&&p.length>0&&D.unshift.apply(D,p),c(I)&&T.push(I)}return T}E.findAll=O},43346:function(H,E,e){"use strict";var t=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(E,"__esModule",{value:!0}),E.innerText=E.textContent=E.getText=E.getInnerHTML=E.getOuterHTML=void 0;var u=e(63317),s=t(e(97220)),g=e(99960);function P(d,T){return(0,s.default)(d,T)}E.getOuterHTML=P;function y(d,T){return(0,u.hasChildren)(d)?d.children.map(function(D){return P(D,T)}).join(""):""}E.getInnerHTML=y;function O(d){return Array.isArray(d)?d.map(O).join(""):(0,u.isTag)(d)?d.name==="br"?`
`:O(d.children):(0,u.isCDATA)(d)?O(d.children):(0,u.isText)(d)?d.data:""}E.getText=O;function c(d){return Array.isArray(d)?d.map(c).join(""):(0,u.hasChildren)(d)&&!(0,u.isComment)(d)?c(d.children):(0,u.isText)(d)?d.data:""}E.textContent=c;function f(d){return Array.isArray(d)?d.map(f).join(""):(0,u.hasChildren)(d)&&(d.type===g.ElementType.Tag||(0,u.isCDATA)(d))?f(d.children):(0,u.isText)(d)?d.data:""}E.innerText=f},85010:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.prevElementSibling=E.nextElementSibling=E.getName=E.hasAttrib=E.getAttributeValue=E.getSiblings=E.getParent=E.getChildren=void 0;var t=e(63317),u=[];function s(T){var D;return(D=T.children)!==null&&D!==void 0?D:u}E.getChildren=s;function g(T){return T.parent||null}E.getParent=g;function P(T){var D,I,p=g(T);if(p!=null)return s(p);for(var l=[T],a=T.prev,v=T.next;a!=null;)l.unshift(a),D=a,a=D.prev;for(;v!=null;)l.push(v),I=v,v=I.next;return l}E.getSiblings=P;function y(T,D){var I;return(I=T.attribs)===null||I===void 0?void 0:I[D]}E.getAttributeValue=y;function O(T,D){return T.attribs!=null&&Object.prototype.hasOwnProperty.call(T.attribs,D)&&T.attribs[D]!=null}E.hasAttrib=O;function c(T){return T.name}E.getName=c;function f(T){for(var D,I=T.next;I!==null&&!(0,t.isTag)(I);)D=I,I=D.next;return I}E.nextElementSibling=f;function d(T){for(var D,I=T.prev;I!==null&&!(0,t.isTag)(I);)D=I,I=D.prev;return I}E.prevElementSibling=d},63317:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(c,f,d,T){T===void 0&&(T=d);var D=Object.getOwnPropertyDescriptor(f,d);(!D||("get"in D?!f.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,T,D)}:function(c,f,d,T){T===void 0&&(T=d),c[T]=f[d]}),u=this&&this.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)};Object.defineProperty(E,"__esModule",{value:!0}),E.DomHandler=void 0;var s=e(99960),g=e(50943);u(e(50943),E);var P=/\s+/g,y={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},O=function(){function c(f,d,T){this.dom=[],this.root=new g.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(T=d,d=y),typeof f=="object"&&(d=f,f=void 0),this.callback=f!=null?f:null,this.options=d!=null?d:y,this.elementCB=T!=null?T:null}return c.prototype.onparserinit=function(f){this.parser=f},c.prototype.onreset=function(){this.dom=[],this.root=new g.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(f){this.handleCallback(f)},c.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},c.prototype.onopentag=function(f,d){var T=this.options.xmlMode?s.ElementType.Tag:void 0,D=new g.Element(f,d,void 0,T);this.addNode(D),this.tagStack.push(D)},c.prototype.ontext=function(f){var d=this.options.normalizeWhitespace,T=this.lastNode;if(T&&T.type===s.ElementType.Text)d?T.data=(T.data+f).replace(P," "):T.data+=f,this.options.withEndIndices&&(T.endIndex=this.parser.endIndex);else{d&&(f=f.replace(P," "));var D=new g.Text(f);this.addNode(D),this.lastNode=D}},c.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment){this.lastNode.data+=f;return}var d=new g.Comment(f);this.addNode(d),this.lastNode=d},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var f=new g.Text(""),d=new g.NodeWithChildren(s.ElementType.CDATA,[f]);this.addNode(d),f.parent=d,this.lastNode=f},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(f,d){var T=new g.ProcessingInstruction(f,d);this.addNode(T)},c.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},c.prototype.addNode=function(f){var d=this.tagStack[this.tagStack.length-1],T=d.children[d.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),d.children.push(f),T&&(f.prev=T,T.next=f),f.parent=d,this.lastNode=null},c}();E.DomHandler=O,E.default=O},50943:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var S=function(N,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,F){U.__proto__=F}||function(U,F){for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(U[$]=F[$])},S(N,R)};return function(N,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");S(N,R);function U(){this.constructor=N}N.prototype=R===null?Object.create(R):(U.prototype=R.prototype,new U)}}(),u=this&&this.__assign||function(){return u=Object.assign||function(S){for(var N,R=1,U=arguments.length;R<U;R++){N=arguments[R];for(var F in N)Object.prototype.hasOwnProperty.call(N,F)&&(S[F]=N[F])}return S},u.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.cloneNode=E.hasChildren=E.isDocument=E.isDirective=E.isComment=E.isText=E.isCDATA=E.isTag=E.Element=E.Document=E.NodeWithChildren=E.ProcessingInstruction=E.Comment=E.Text=E.DataNode=E.Node=void 0;var s=e(99960),g=new Map([[s.ElementType.Tag,1],[s.ElementType.Script,1],[s.ElementType.Style,1],[s.ElementType.Directive,1],[s.ElementType.Text,3],[s.ElementType.CDATA,4],[s.ElementType.Comment,8],[s.ElementType.Root,9]]),P=function(){function S(N){this.type=N,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"nodeType",{get:function(){var N;return(N=g.get(this.type))!==null&&N!==void 0?N:1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(N){this.parent=N},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(N){this.prev=N},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(N){this.next=N},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(N){return N===void 0&&(N=!1),C(this,N)},S}();E.Node=P;var y=function(S){t(N,S);function N(R,U){var F=S.call(this,R)||this;return F.data=U,F}return Object.defineProperty(N.prototype,"nodeValue",{get:function(){return this.data},set:function(R){this.data=R},enumerable:!1,configurable:!0}),N}(P);E.DataNode=y;var O=function(S){t(N,S);function N(R){return S.call(this,s.ElementType.Text,R)||this}return N}(y);E.Text=O;var c=function(S){t(N,S);function N(R){return S.call(this,s.ElementType.Comment,R)||this}return N}(y);E.Comment=c;var f=function(S){t(N,S);function N(R,U){var F=S.call(this,s.ElementType.Directive,U)||this;return F.name=R,F}return N}(y);E.ProcessingInstruction=f;var d=function(S){t(N,S);function N(R,U){var F=S.call(this,R)||this;return F.children=U,F}return Object.defineProperty(N.prototype,"firstChild",{get:function(){var R;return(R=this.children[0])!==null&&R!==void 0?R:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"childNodes",{get:function(){return this.children},set:function(R){this.children=R},enumerable:!1,configurable:!0}),N}(P);E.NodeWithChildren=d;var T=function(S){t(N,S);function N(R){return S.call(this,s.ElementType.Root,R)||this}return N}(d);E.Document=T;var D=function(S){t(N,S);function N(R,U,F,$){F===void 0&&(F=[]),$===void 0&&($=R==="script"?s.ElementType.Script:R==="style"?s.ElementType.Style:s.ElementType.Tag);var G=S.call(this,$,F)||this;return G.name=R,G.attribs=U,G}return Object.defineProperty(N.prototype,"tagName",{get:function(){return this.name},set:function(R){this.name=R},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"attributes",{get:function(){var R=this;return Object.keys(this.attribs).map(function(U){var F,$;return{name:U,value:R.attribs[U],namespace:(F=R["x-attribsNamespace"])===null||F===void 0?void 0:F[U],prefix:($=R["x-attribsPrefix"])===null||$===void 0?void 0:$[U]}})},enumerable:!1,configurable:!0}),N}(d);E.Element=D;function I(S){return(0,s.isTag)(S)}E.isTag=I;function p(S){return S.type===s.ElementType.CDATA}E.isCDATA=p;function l(S){return S.type===s.ElementType.Text}E.isText=l;function a(S){return S.type===s.ElementType.Comment}E.isComment=a;function v(S){return S.type===s.ElementType.Directive}E.isDirective=v;function w(S){return S.type===s.ElementType.Root}E.isDocument=w;function M(S){return Object.prototype.hasOwnProperty.call(S,"children")}E.hasChildren=M;function C(S,N){N===void 0&&(N=!1);var R;if(l(S))R=new O(S.data);else if(a(S))R=new c(S.data);else if(I(S)){var U=N?L(S.children):[],F=new D(S.name,u({},S.attribs),U);U.forEach(function(K){return K.parent=F}),S.namespace!=null&&(F.namespace=S.namespace),S["x-attribsNamespace"]&&(F["x-attribsNamespace"]=u({},S["x-attribsNamespace"])),S["x-attribsPrefix"]&&(F["x-attribsPrefix"]=u({},S["x-attribsPrefix"])),R=F}else if(p(S)){var U=N?L(S.children):[],$=new d(s.ElementType.CDATA,U);U.forEach(function(W){return W.parent=$}),R=$}else if(w(S)){var U=N?L(S.children):[],G=new T(U);U.forEach(function(W){return W.parent=G}),S["x-mode"]&&(G["x-mode"]=S["x-mode"]),R=G}else if(v(S)){var Q=new f(S.name,S.data);S["x-name"]!=null&&(Q["x-name"]=S["x-name"],Q["x-publicId"]=S["x-publicId"],Q["x-systemId"]=S["x-systemId"]),R=Q}else throw new Error("Not implemented yet: ".concat(S.type));return R.startIndex=S.startIndex,R.endIndex=S.endIndex,S.sourceCodeLocation!=null&&(R.sourceCodeLocation=S.sourceCodeLocation),R}E.cloneNode=C;function L(S){for(var N=S.map(function(U){return C(U,!0)}),R=1;R<N.length;R++)N[R].prev=N[R-1],N[R-1].next=N[R];return N}},62378:H=>{"use strict";H.exports=function(e){for(var t=[],u=e.length,s=0;s<u;s++){var g=e.charCodeAt(s);if(g>=55296&&g<=56319&&u>s+1){var P=e.charCodeAt(s+1);P>=56320&&P<=57343&&(g=(g-55296)*1024+P-56320+65536,s+=1)}if(g<128){t.push(g);continue}if(g<2048){t.push(g>>6|192),t.push(g&63|128);continue}if(g<55296||g>=57344&&g<65536){t.push(g>>12|224),t.push(g>>6&63|128),t.push(g&63|128);continue}if(g>=65536&&g<=1114111){t.push(g>>18|240),t.push(g>>12&63|128),t.push(g>>6&63|128),t.push(g&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}},44076:function(H,E,e){"use strict";var t=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(E,"__esModule",{value:!0}),E.decodeHTML=E.decodeHTMLStrict=E.decodeXML=void 0;var u=t(e(59323)),s=t(e(29591)),g=t(e(2586)),P=t(e(26)),y=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;E.decodeXML=O(g.default),E.decodeHTMLStrict=O(u.default);function O(d){var T=f(d);return function(D){return String(D).replace(y,T)}}var c=function(d,T){return d<T?1:-1};E.decodeHTML=function(){for(var d=Object.keys(s.default).sort(c),T=Object.keys(u.default).sort(c),D=0,I=0;D<T.length;D++)d[I]===T[D]?(T[D]+=";?",I++):T[D]+=";";var p=new RegExp("&(?:"+T.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),l=f(u.default);function a(v){return v.substr(-1)!==";"&&(v+=";"),l(v)}return function(v){return String(v).replace(p,a)}}();function f(d){return function(D){if(D.charAt(1)==="#"){var I=D.charAt(2);return I==="X"||I==="x"?P.default(parseInt(D.substr(3),16)):P.default(parseInt(D.substr(2),10))}return d[D.slice(1,-1)]||D}}},26:function(H,E,e){"use strict";var t=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(E,"__esModule",{value:!0});var u=t(e(33600)),s=String.fromCodePoint||function(P){var y="";return P>65535&&(P-=65536,y+=String.fromCharCode(P>>>10&1023|55296),P=56320|P&1023),y+=String.fromCharCode(P),y};function g(P){return P>=55296&&P<=57343||P>1114111?"\uFFFD":(P in u.default&&(P=u.default[P]),s(P))}E.default=g},87322:function(H,E,e){"use strict";var t=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(E,"__esModule",{value:!0}),E.escapeUTF8=E.escape=E.encodeNonAsciiHTML=E.encodeHTML=E.encodeXML=void 0;var u=t(e(2586)),s=c(u.default),g=f(s);E.encodeXML=v(s);var P=t(e(59323)),y=c(P.default),O=f(y);E.encodeHTML=I(y,O),E.encodeNonAsciiHTML=v(y);function c(w){return Object.keys(w).sort().reduce(function(M,C){return M[w[C]]="&"+C+";",M},{})}function f(w){for(var M=[],C=[],L=0,S=Object.keys(w);L<S.length;L++){var N=S[L];N.length===1?M.push("\\"+N):C.push(N)}M.sort();for(var R=0;R<M.length-1;R++){for(var U=R;U<M.length-1&&M[U].charCodeAt(1)+1===M[U+1].charCodeAt(1);)U+=1;var F=1+U-R;F<3||M.splice(R,F,M[R]+"-"+M[U])}return C.unshift("["+M.join("")+"]"),new RegExp(C.join("|"),"g")}var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,T=String.prototype.codePointAt!=null?function(w){return w.codePointAt(0)}:function(w){return(w.charCodeAt(0)-55296)*1024+w.charCodeAt(1)-56320+65536};function D(w){return"&#x"+(w.length>1?T(w):w.charCodeAt(0)).toString(16).toUpperCase()+";"}function I(w,M){return function(C){return C.replace(M,function(L){return w[L]}).replace(d,D)}}var p=new RegExp(g.source+"|"+d.source,"g");function l(w){return w.replace(p,D)}E.escape=l;function a(w){return w.replace(g,D)}E.escapeUTF8=a;function v(w){return function(M){return M.replace(p,function(C){return w[C]||D(C)})}}},45863:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.decodeXMLStrict=E.decodeHTML5Strict=E.decodeHTML4Strict=E.decodeHTML5=E.decodeHTML4=E.decodeHTMLStrict=E.decodeHTML=E.decodeXML=E.encodeHTML5=E.encodeHTML4=E.escapeUTF8=E.escape=E.encodeNonAsciiHTML=E.encodeHTML=E.encodeXML=E.encode=E.decodeStrict=E.decode=void 0;var t=e(44076),u=e(87322);function s(c,f){return(!f||f<=0?t.decodeXML:t.decodeHTML)(c)}E.decode=s;function g(c,f){return(!f||f<=0?t.decodeXML:t.decodeHTMLStrict)(c)}E.decodeStrict=g;function P(c,f){return(!f||f<=0?u.encodeXML:u.encodeHTML)(c)}E.encode=P;var y=e(87322);Object.defineProperty(E,"encodeXML",{enumerable:!0,get:function(){return y.encodeXML}}),Object.defineProperty(E,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(E,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(E,"escape",{enumerable:!0,get:function(){return y.escape}}),Object.defineProperty(E,"escapeUTF8",{enumerable:!0,get:function(){return y.escapeUTF8}}),Object.defineProperty(E,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(E,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var O=e(44076);Object.defineProperty(E,"decodeXML",{enumerable:!0,get:function(){return O.decodeXML}}),Object.defineProperty(E,"decodeHTML",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(E,"decodeHTMLStrict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(E,"decodeHTML4",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(E,"decodeHTML5",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(E,"decodeHTML4Strict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(E,"decodeHTML5Strict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(E,"decodeXMLStrict",{enumerable:!0,get:function(){return O.decodeXML}})},14531:(H,E,e)=>{"use strict";e.d(E,{A:()=>t});const t={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(H,E,e)=>{"use strict";e.d(E,{Substitutions:()=>t});const t={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",SUBSCRIBE_URL:"%%subscribe_url%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACTIVITY_PAGE_URL:"%%activity_page_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",SURVEY_TOKEN:"%%survey_token%%",SURVEY_URL_PREFIX:"%%survey_url_prefix%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(H,E,e)=>{"use strict";e.d(E,{B8:()=>Q,BZ:()=>$,I:()=>M,O1:()=>K,Po:()=>G,Ui:()=>U,Vn:()=>R,WZ:()=>F,Wn:()=>C,b6:()=>N,lc:()=>L,sn:()=>S});var t=e(86575),u=e(3258),s=e(90304),g=e(17025),P=e.n(g),y=e(52743),O=e(70444),c=e(83322),f=e(59009),d=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(W,Y,ne)=>Y in W?d(W,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):W[Y]=ne,v=(W,Y)=>{for(var ne in Y||(Y={}))p.call(Y,ne)&&a(W,ne,Y[ne]);if(I)for(var ne of I(Y))l.call(Y,ne)&&a(W,ne,Y[ne]);return W},w=(W,Y)=>T(W,D(Y));function M(W,Y,ne){const{shareUrl:V,post:j,pub:te,selectionId:ie,utm_campaign:ue,utm_medium:he,event:Z=u.EVENTS.SHARE_LINK_CLICKED}=ne;(0,u.track)(Z,w(v({name:W,post_id:j?j.id:null},ie?{selection_id:ie}:{}),{source:ue,utm_medium:he}));const J=Y(V);J&&typeof J=="string"&&(J.startsWith("http")?window.open(J,"_blank"):document.location.href=J),(0,s.ex)(`${te==null?void 0:te.subdomain} shared`,!0)}function C(W){const{pub:Y,post:ne,sharingSelfPub:V,shareName:j}=W,te=(Y==null?void 0:Y.twitter_screen_name)||Y&&c.twitterScreenNames[Y.subdomain];let ie=j;Y&&V?ie="I just started a Substack! You can subscribe to it here":(Y&&!ne&&(ie=`Subscribe to ${ie}`),te&&(!ne||Y&&(!ne.publishedBylines.length||ne.publishedBylines.some(ue=>ue.id===Y.author_id)))&&(ie+=`, by @${te}`)),M("twitter",ue=>(0,y.getTwitterShareUrl)({url:ue,text:ie}),W)}function L(W){M("linkedin",Y=>(0,y.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Y}),W)}function S(W){M("reddit",Y=>(0,y.pathWithQuery)("https://www.reddit.com/submit/",{url:Y,title:W.shareName}),W)}function N(W){M("hackernews",Y=>(0,y.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:Y,title:W.shareName}),W)}function R(W){M("pinterest",Y=>(0,y.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:Y,description:W.shareName}),W)}function U(W){var Y;const{iString:ne}=I18N.i(((Y=W.pub)==null?void 0:Y.language)||"en");M("copy",V=>((0,g.copyToClipboard)(V),!1),W),W.skipToast||(0,t.ZP)(ne("Link copied to clipboard"))}function F(W){M("email",Y=>(0,y.pathWithQuery)("mailto:",{subject:W.shareName,body:Y}),W)}function $(W){M("notes",Y=>(0,y.pathWithQuery)((0,O.TK)({message:Y})),W)}function G(W){M("facebook",Y=>(0,y.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Y}),W)}function Q(W={}){const{post:Y,pub:ne,profile:V}=W;return Y?Y.title:ne?ne.name:V?`${V.name} on Substack`:document.title}function K(W,Y={}){const{pub:ne,post:V,clip:j,comments:te,commentId:ie,selectionId:ue,profile:he,user:Z,utm_campaign:J,medium:ae,referral_token:le,useCustomDomainOverOpen:oe,params:ee}=Y,z=v(v(v({r:Z!=null&&Z.id?(0,c.userReferralKey)(Z):le,selection:ue,utm_campaign:J||(V?"post":he?"profile":ne?"pub":j?"clip":"unknown"),utm_medium:ae||f.UTM_MEDIUM.web,utm_source:W},{comments:te!=null&&te.length?!0:void 0,commentId:ie}),j?{clipId:j.id}:{}),ee);return ne!=null&&ne.subdomain&&(V!=null&&V.slug)&&!j?(0,y.getPostAppLinkUrl)(ne.subdomain,V.slug,{params:z,hostOverride:oe&&ne.custom_domain?(0,y.getBaseUrl)(ne):null}):(0,y.pathWithQuery)(`${V?(0,y.getPostUrl)(ne,V,{comments:!!(te!=null&&te.length),commentId:ie,clipId:j==null?void 0:j.id}):ne?`${ne.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,z)}},35570:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(30396);const u=({root:s=null,threshold:g=0,rootMargin:P}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[y,O]=(0,t.eJ)(null),[c,f]=(0,t.eJ)(null),d=(0,t.sO)(new IntersectionObserver(([T])=>O(T),{root:s,threshold:g,rootMargin:P}));return(0,t.d4)(()=>{var T;const D=(T=c==null?void 0:c.base)!=null&&T.addEventListener?c.base:c!=null&&c.addEventListener?c:null,{current:I}=d;return I.disconnect(),D&&I.observe(D),()=>I.disconnect()},[c]),[f,y]}},36487:(H,E,e)=>{"use strict";e.d(E,{u:()=>u});var t=e(83322);function u(s){let g;try{g=new URL(s)}catch(O){return console.error("Failed to parse URL",s,O),s}g.hostname=g.hostname.replace(/^www\./,""),g.pathname=g.pathname.replace(/\/+$/,""),g.hash="";const P=[];g.hostname.includes("youtube")&&P.push("v"),g.searchParams.forEach((O,c)=>{P.includes(c)||g.searchParams.delete(c)});const y=g.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return y?(0,t.truncateText)(y,40):s}},55687:(H,E,e)=>{"use strict";e.d(E,{u:()=>u});const t=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function u(P){return t.format(P)}const s=new Intl.NumberFormat(void 0,{maximumSignificantDigits:3,notation:"compact"});function g(P){return s.format(P)}},80076:(H,E,e)=>{"use strict";e.d(E,{d:()=>t});function t(u){return Array.from(u.items).filter(s=>s.kind==="file"&&s.type.startsWith("image/")).length>0}},62952:(H,E,e)=>{"use strict";e.d(E,{h:()=>s});var t=e(30396),u=e(80076);function s({onAddFiles:g}){const P=(0,t.sO)(),y=(0,t.sO)(),[O,c]=(0,t.eJ)(!1),f=I=>{I instanceof DragEvent&&!I.defaultPrevented&&I.dataTransfer&&(0,u.d)(I.dataTransfer)&&(I.preventDefault(),g(Array.from(I.dataTransfer.files)),c(!1))},d=I=>{const{current:p}=P,{target:l}=I;!O&&p&&l&&l instanceof HTMLElement&&(p===l||p.contains(l))&&I.dataTransfer&&(0,u.d)(I.dataTransfer)&&(I.preventDefault(),y.current=l,c(!0))},T=I=>{y.current&&I.preventDefault()},D=I=>{const{current:p}=y,{relatedTarget:l}=I,a=P.current;p&&I.relatedTarget!==p&&!(l instanceof Node&&(a!=null&&a.contains(l)))&&(y.current=void 0,c(!1))};return{isDragging:O,props:{onDragEnter:d,onDragOver:T,onDragLeave:D,onDragEnd:D,onDrop:f,ref:P}}}},95406:(H,E,e)=>{"use strict";e.d(E,{Z:()=>Y});var t=e(30396),u=e(45895);const s=["listItem","codeBlock","heading","paragraph"];function g(j){var te,ie;let ue=0;if(j)if(j.content&&j.content.length>0)for(const he of j.content)ue+=g(he);else ue+=(ie=(te=j.text)==null?void 0:te.length)!=null?ie:0;return ue}function P(j){let te=0;return(0,u.forEachNode)(j,ie=>{s.includes(ie.type)&&(ie.type==="codeBlock"&&ie.content?ie.content.forEach(ue=>{var he,Z;ue.type==="text"&&(te+=((Z=((he=ue.text)!=null?he:"").match(/\n/g))!=null?Z:[]).length+1)}):te++)}),te}var y=e(83322),O=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(j,te,ie)=>te in j?O(j,te,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[te]=ie,p=(j,te)=>{for(var ie in te||(te={}))T.call(te,ie)&&I(j,ie,te[ie]);if(d)for(var ie of d(te))D.call(te,ie)&&I(j,ie,te[ie]);return j},l=(j,te)=>c(j,f(te));function a(j,{limit:te=420}={}){var ie,ue,he,Z;let J=null,ae=0,le=!1;if(j)if(te<=0)le=!0;else if(j.content&&j.content.length>0){J=l(p({},j),{content:[]});for(const oe of j.content){const ee=a(oe,{limit:te-ae});if(ee.doc){if((ie=J.content)==null||ie.push(ee.doc),ae+=ee.length,ee.isTruncated){le=!0;break}}else{le=!0;break}}}else J=l(p({},j),{text:(ue=(0,y.truncateText)(j.text,te))!=null?ue:void 0}),ae+=(Z=(he=J.text)==null?void 0:he.length)!=null?Z:0,j.text!==J.text&&(le=!0);return{doc:J,length:ae,isTruncated:le}}function v(j,te){var ie;const ue=[];let he=!1,Z=0;for(const ae of(ie=j.content)!=null?ie:[]){if(ae.type&&s.includes(ae.type)){if(Z++,Z===te){he=!0,ue.push(ae);break}}else if(ae.content){const le=v(ae,te-Z);if(Z+=le.blockCount,le.isTruncated){ue.push(le.doc),he=!0;break}}ue.push(ae)}const J=l(p({},j),{content:ue});return j.text&&(J.text=j.text.split(/\n/g).slice(0,te).join(`
`)),{doc:J,blockCount:Z,isTruncated:he}}var w=e(36487),M=Object.defineProperty,C=Object.defineProperties,L=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(j,te,ie)=>te in j?M(j,te,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[te]=ie,F=(j,te)=>{for(var ie in te||(te={}))N.call(te,ie)&&U(j,ie,te[ie]);if(S)for(var ie of S(te))R.call(te,ie)&&U(j,ie,te[ie]);return j},$=(j,te)=>C(j,L(te));const G=420,Q=380,K=9,W=12;function Y(j,{characterTruncationLimit:te=G,characterTruncationThreshold:ie=Q,lineTruncationLimit:ue=K,lineTruncationThreshold:he=W}={}){return(0,t.Ye)(()=>{var Z;const J=(Z=j==null?void 0:j.body_json)!=null?Z:j!=null&&j.body?ne(j.body):null,ae=V(J),le=g(ae)>ie,oe=P(ae)>he;if(!ae||!(le||oe))return{bodyJson:ae,truncatedBodyJson:ae,isTruncated:!1};let ee=ae,z=!1;if(le){const se=a(ee,{limit:te});ee=se.doc,z=se.isTruncated}let re=!1;if(oe&&ee){const se=v(ee,ue);ee=se.doc,re=se.isTruncated}return{bodyJson:ae,truncatedBodyJson:ee,isTruncated:z||re}},[j==null?void 0:j.body,j==null?void 0:j.body_json])}function ne(j){return{type:"doc",attrs:{schemaVersion:"v1"},content:j.split(`

`).map(te=>({type:"paragraph",content:[{type:"text",text:te}]}))}}function V(j){var te,ie;let ue=null;if(j)if(ue=$(F({},j),{content:void 0,text:void 0}),j!=null&&j.content){ue.content=[];for(const he of j.content){const Z=V(he);Z&&ue.content.push(Z)}}else{const he=(te=j.marks)==null?void 0:te.find(Z=>Z.type==="link");(ie=he==null?void 0:he.attrs)!=null&&ie.href?ue.text=(0,w.u)(he.attrs.href):ue.text=j.text}return ue}},41487:(H,E,e)=>{"use strict";e.d(E,{Q:()=>O});var t=e(30396),u=e(8479),s=e(76193),g=e(17025),P=e.n(g),y=(c,f,d)=>new Promise((T,D)=>{var I=a=>{try{l(d.next(a))}catch(v){D(v)}},p=a=>{try{l(d.throw(a))}catch(v){D(v)}},l=a=>a.done?T(a.value):Promise.resolve(a.value).then(I,p);l((d=d.apply(c,f)).next())});function O(c){const[f,d]=(0,t.eJ)(""),[T,D]=(0,t.eJ)(""),[I,p]=(0,t.eJ)({}),[l,a]=(0,t.eJ)(!1);(0,t.d4)(()=>{(0,s.isMobile)()&&navigator.share&&navigator.canShare(I)&&a(!0)},[I]),(0,t.d4)(()=>{function M(){return y(this,null,function*(){var C;d("");const L=c.imageUrl;if((0,g.preloadImage)(c.imageUrl,()=>{d(L),D(c.imageDownloadUrl)}),(0,s.isMobile)()){const S=yield fetch(c.imageUrlSameOrigin||L),N=["instagram","instagram-stories"].includes((C=c.shareApp)!=null?C:"");p({title:N?void 0:c.shareTitle,text:N?void 0:c.shareText,files:[new File([yield S.blob()],"image.png",{type:"image/png"})],url:N?void 0:c.shareUrl})}})}M()},[c.imageDownloadUrl,c.imageUrl,c.shareApp,c.shareText,c.shareTitle,c.shareUrl]);const{refetch:v}=(0,u.Q1)({method:"post",pathname:"/api/v1/press_kit/notification",body:{title:c.shareText,imageUrl:c.imageUrl,shareApp:c.shareApp},deps:[c.shareText,c.imageUrl,c.shareApp]}),w=(0,t.I4)(()=>y(this,null,function*(){const M=yield v();return M instanceof Error?!1:M.success}),[v]);return{img:f,imgDownload:T,sendPushNotification:w,shareData:I,useNativeShare:l}}},95582:(H,E,e)=>{"use strict";e.d(E,{L:()=>s});var t=e(30396),u=(g,P,y)=>new Promise((O,c)=>{var f=D=>{try{T(y.next(D))}catch(I){c(I)}},d=D=>{try{T(y.throw(D))}catch(I){c(I)}},T=D=>D.done?O(D.value):Promise.resolve(D.value).then(f,d);T((y=y.apply(g,P)).next())});function s(g,P,y){const[O,c]=(0,t._Y)(g,P,y),f=(0,t.sO)(O);f.current=O;const d=(0,t.Ye)(()=>T=>u(this,null,function*(){if(typeof T=="function")return yield T(d,()=>f.current);c(T)}),[]);return[O,d]}},20964:(H,E,e)=>{"use strict";e.d(E,{M:()=>s});var t=e(26686);function u(){return(0,t._)("/api/v1/user-settings")}function s(){var g,P;const{data:y}=u();return(P=y==null?void 0:y.userSettings.some(O=>O.type==="explicit_content_enabled"&&O.value_bool))!=null?P:typeof window!="undefined"?(g=window._preloads)==null?void 0:g.userSettings.explicitContentEnabled:!1}},92298:(H,E,e)=>{"use strict";e.d(E,{j:()=>c,l:()=>f});var t=Object.defineProperty,u=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(d,T,D)=>T in d?t(d,T,{enumerable:!0,configurable:!0,writable:!0,value:D}):d[T]=D,y=(d,T)=>{for(var D in T||(T={}))s.call(T,D)&&P(d,D,T[D]);if(u)for(var D of u(T))g.call(T,D)&&P(d,D,T[D]);return d};let O={};function c(d){O=y({},d)}function f(){return y({},O)}},8461:(H,E,e)=>{"use strict";e.d(E,{IU:()=>O});var t=e(52743),u=e(83322),s=e(86405),g=e(28876),P=e(32081);function y(T,D,{quantity:I=1,plan:p,isSubscription:l,coupon:a}){var v;const w=(T/100).toFixed(2),M=(T/I/100).toFixed(2);D=D.toUpperCase(),O();const C=getConfig(),L=getPublicationFbPixelId();L&&(new Image().src=`https://www.facebook.com/tr?id=${L}&ev=Purchase&cd[value]=${w}&cd[currency]=${D}`),L&&l&&(new Image().src=`https://www.facebook.com/tr?id=${L}&ev=Subscribe&cd[value]=${w}&cd[currency]=${D}`),recordTwitterEvent("purchase",{price:Number(M),quantity:I});const S=randomString(),N=((v=p.amount)!=null?v:0)*I;let R;a&&a.percent_off?R=Math.round(N*((a.percent_off_precise||a.percent_off)/100)):a&&a.amount_off&&(R=Math.max(0,a.amount_off));const U=p.name;sendPublisherGa4Event("purchase",{transaction_id:S,value:w,currency:D,coupon:(a==null?void 0:a.name)||(a==null?void 0:a.id),items:[{item_id:p&&p.id,item_name:p&&(U||p.nickname||p.id)||"subscription",coupon:(a==null?void 0:a.name)||(a==null?void 0:a.id),discount:R,index:0,price:M,quantity:I}]}),sendPublisherGaEvent("transaction",{ti:S,tr:w,cu:D}),sendPublisherGaEvent("item",{ti:S,in:p&&(U||p.nickname||p.id)||"subscription",ip:M,iq:I,ic:p&&p.id,cu:D});const F="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",C!=null&&C.adwordsAccountId&&(C!=null&&C.adwordsEventSendTo)?{send_to:`${C.adwordsAccountId}/${F}`}:{});const $=f();if($){const{id:G,label:Q}=$;new Image().src=`//www.googleadservices.com/pagead/conversion/${G}/?value=${w}&currency_code=${D}&label=${Q}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${p&&(U||p.nickname||p.id)||""} Subscription`),d()==="bankless"){const G=p?`paid_${p.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:G})),page()}}function O(){const T=(0,g.iE)();if(T.properties.is_free_subscribed)return;T.properties.is_free_subscribed=!0,(0,g.Hx)("sign_up"),(0,g.XY)("event",{ec:"Signup",ea:"Signup Success"});const D="Yo9oCMOM1MYDEKuN5pYB";(0,g.NA)("conversion",T!=null&&T.adwordsAccountId&&(T!=null&&T.adwordsEventSendTo)?{send_to:`${T.adwordsAccountId}/${D}`}:{});const I=(0,g.xL)();I&&(new Image().src=`https://www.facebook.com/tr?id=${I}&ev=CompleteRegistration`),(0,s.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),d()==="bankless"&&(window.history.replaceState({},document.title,(0,t.updateQuery)({plan:"free"})),(0,P.Md)())}function c(T={}){sendLocalGaEvent("Publication Created",T)}function f(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function d(){var T;const D=typeof window!="undefined"&&((T=window._preloads)==null?void 0:T.pub);return D==null?void 0:D.subdomain}},3258:(H,E,e)=>{"use strict";e.d(E,{EVENTS:()=>s.FP,getIframeVisitId:()=>s.A,initAnalytics:()=>g.S,notifyUrlChangeForAnalytics:()=>s.jA,sendPublisherGaEvent:()=>u.XY,signup:()=>t.IU,track:()=>s.j,trackPostBottomSeen:()=>s.xG,trackPostSeen:()=>s.jJ,trackPublicationVisit:()=>s.x6,triggerPostPagePingBacks:()=>s.K8});var t=e(8461),u=e(28876),s=e(32081),g=e(31256)},31256:(H,E,e)=>{"use strict";e.d(E,{S:()=>y});var t=e(17025),u=e.n(t),s=e(28876),g=e(32081);let P=null;function y(){var O;typeof window!="undefined"&&((O=window==null?void 0:window.navigator)!=null&&O.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,s.LH)(),(0,s.dl)(),(0,s.jP)(),(0,g.Md)(),(0,t.windowReady)(()=>{const c=P;P=null,c&&c.length>0&&(0,g.At)(c)})}},31032:(H,E,e)=>{"use strict";e.d(E,{W:()=>u});var t=e(83322);const u=(0,t.randomString)()},28876:(H,E,e)=>{"use strict";e.d(E,{Hx:()=>a,LH:()=>M,NA:()=>v,XY:()=>w,dl:()=>p,iE:()=>l,jP:()=>C,xL:()=>S});var t=e(52743),u=e(39776),s=e(17025),g=e.n(s),P=e(31032),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(N,R,U)=>R in N?y(N,R,{enumerable:!0,configurable:!0,writable:!0,value:U}):N[R]=U,T=(N,R)=>{for(var U in R||(R={}))c.call(R,U)&&d(N,U,R[U]);if(O)for(var U of O(R))f.call(R,U)&&d(N,U,R[U]);return N};function D(N,{toHead:R=!1}={}){(0,s.windowReady)(()=>{const U=document.createElement("script");if(U.async=!0,U.src=N,R)document.head.appendChild(U);else{const F=document.getElementsByTagName("script")[0];F.parentNode&&F.parentNode.insertBefore(U,F)}})}function I(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function p(){var N,R,U;if(typeof window=="undefined")return;const F=(R=(N=window==null?void 0:window._preloads)==null?void 0:N.pub)==null?void 0:R.google_tag_manager_token;if(!F)return;const $=I();if(F===$)return;window.dataLayer=window.dataLayer||[],(0,u.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const G=l();(U=G.user)!=null&&U.id&&window.dataLayer.push({userId:G.user.id.toString()}),D(`https://www.googletagmanager.com/gtm.js?id=${F}`,{toHead:!0})}function l(){let N;return typeof window!="undefined"&&(N=window._analyticsConfig),N||(N={}),N.properties||(N.properties={}),N.properties.browserSessionId=P.W,N}function a(N,R={}){var U;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const F=l();(U=F.user)!=null&&U.id&&(R.user_id=F.user.id.toString()),window.publisherGA4gtag("event",N,R)}function v(N,R){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",N,R)}function w(N,R={}){var U;const F=l(),$=L();if(!$)return;const G=(0,t.parseQuery)(window.location.href);R=Object.assign({v:1,t:N,tid:$,cid:F.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:G.utm_campaign,cs:G.utm_source,cm:G.utm_medium,ck:G.utm_term,cc:G.utm_content,ci:G.utm_id},R),(U=F.user)!=null&&U.id&&(R.uid=F.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,t.serializeQuery)(R)}`}function M(){var N;if(typeof window=="undefined")return;const R=I();if(!R)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var F;(F=window.GA4DataLayer)==null||F.push(arguments)},window.publisherGA4gtag("js",new Date);const U=l();window.publisherGA4gtag("config",R,T({send_page_view:!1},U.user&&{user_id:(N=U==null?void 0:U.user)==null?void 0:N.id.toString()}))}function C(){var N;if(typeof window=="undefined")return;const R=l();!R.localGaPixelId&&!R.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var U;(U=window==null?void 0:window.localGaDataLayer)==null||U.push(arguments)},window.gtag("js",new Date),R.localGaPixelId&&window.gtag("config",R.localGaPixelId),R.adwordsAccountId&&window.gtag("config",R.adwordsAccountId),(N=R.user)!=null&&N.id&&window.gtag("userId",R.user.id.toString()),D(`https://www.googletagmanager.com/gtag/js?id=${R.localGaPixelId||R.adwordsAccountId}&l=localGaDataLayer`))}function L(){const N=typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return N&&N.startsWith("UA-")?null:N}function S(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(H,E,e)=>{"use strict";e.d(E,{A:()=>R,At:()=>V,FP:()=>M,K8:()=>K,Md:()=>Y,j:()=>U,jA:()=>W,jJ:()=>$,x6:()=>F,xG:()=>Q});var t=e(85928),u=e.n(t),s=e(44043),g=e(52743),P=e(63830),y=e(86405),O=e(17025),c=e.n(O),f=e(92298),d=e(31032),T=e(28876),D=Object.defineProperty,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(te,ie,ue)=>ie in te?D(te,ie,{enumerable:!0,configurable:!0,writable:!0,value:ue}):te[ie]=ue,v=(te,ie)=>{for(var ue in ie||(ie={}))p.call(ie,ue)&&a(te,ue,ie[ue]);if(I)for(var ue of I(ie))l.call(ie,ue)&&a(te,ue,ie[ue]);return te},w;const M=s.F,C=10,L=typeof window!="undefined"&&window!=window.top&&(0,P.l)(O.uuidV4);let S="browser";typeof window!="undefined"&&(navigator.standalone||(w=window.matchMedia)!=null&&w.call(window,"(display-mode: standalone)").matches)&&(S="standalone");const N=null;function R(){return L}function U(te,ie={}){var ue;if(["development","test"].includes((ue="production")!=null?ue:"")&&!te)throw new Error("`undefined` event passed to FRONTEND track call");ne(te,Object.assign({},ie))}function F(te,ie,ue={}){U(M.PUBLICATION_VISITED,v({visited_publication_id:te.id,visited_publication_subdomain:te.subdomain,source:ie},ue))}function $({post:te,hasPaywall:ie,surface:ue,markRead:he}){U(M.POST_SEEN,{post_id:te.id,post_audience:te.audience,post_type:te.type,has_paywall:ie,post_age_minutes:te.post_date&&u()().diff(te.post_date,"minute"),surface:ue}),he&&G(te.id)}function G(te){return fetch(`/api/v1/posts/${te}/seen`,{method:"POST"})}function Q({post:te,hasPaywall:ie,surface:ue}){U(M.POST_BOTTOM_SEEN,{post_id:te.id,post_audience:te.audience,post_type:te.type,has_paywall:ie,surface:ue})}function K({post:te}){te!=null&&te.id&&(U(M.POST_PAGE_PINGBACK,{seconds:0,post_id:te.id}),setTimeout(()=>{U(M.POST_PAGE_PINGBACK,{seconds:10,post_id:te.id})},1e4))}function W({previous:te,url:ie}){te&&(ie.includes("_no_an=true")||Y())}function Y(te={}){var ie,ue;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((ue=(ie=window==null?void 0:window._preloads)==null?void 0:ie.pub)!=null&&ue.embed_tracking_disabled))return;ne(M.PAGES,Object.assign(j(),te));const he=(0,T.xL)();he&&(new Image().src=`https://www.facebook.com/tr?id=${he}&ev=PageView`),(0,y.g)("pageview"),(0,T.XY)("pageview"),(0,T.Hx)("page_view"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function ne(te,ie={}){var ue,he;if(typeof window=="undefined")return;const Z={event:te,properties:Object.assign({browserSessionId:d.W,iframeVisitId:L,r:(0,g.getQueryItem)("r")},ie),context:{client_type:"web",displayMode:S,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,f.l)()}},J=(0,O.base64encode)(JSON.stringify(Z));N&&N.length<C?N.push(J):new Image().src=(0,g.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:J}),(he=(ue=window==null?void 0:window._preloads)==null?void 0:ue.user)!=null&&he.is_global_admin&&console.log(`EVENT: ${te}`,ie)}function V(te){typeof window!="undefined"&&(new Image().src=(0,g.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:te.join(",")}))}function j(){const te={};if(typeof window!="undefined"){const ie=window._preloads&&window._preloads.post,ue=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);ue&&ie&&ue[1]===ie.slug&&(te.post_id=ie.id,te.post_audience=ie.audience,te.post_type=ie.type)}return te}},52032:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});function t(s,g){return s&&`rgba(${s.join(",")},${g})`}const u=({palette:s,withDefault:g=!0})=>{var P,y,O,c;if(!s&&!g)return null;const f=(y=t((P=s==null?void 0:s.Vibrant)==null?void 0:P.rgb,.66))!=null?y:"var(--color-bg-tertiary)",d=(c=t((O=s==null?void 0:s.DarkVibrant)==null?void 0:O.rgb,.66))!=null?c:"var(--color-bg-tertiary)";return{background:`linear-gradient(180deg, ${f}, ${d})`}}},66141:(H,E,e)=>{"use strict";e.d(E,{Z:()=>O});var t=e(30396),u=e(3258),s=e(85928),g=e.n(s),P=e(90304);const y=()=>{};function O(f,d=null,T=y){const[D,I]=(0,t.eJ)(f?c(f,d):!1);return(0,t.d4)(()=>{const a=()=>{I(!0)};return f&&document.addEventListener(`dismiss: ${f}`,a,!1),()=>{document.removeEventListener(`dismiss: ${f}`,a)}},[f]),f?[D,()=>{T(),(0,u.track)(u.EVENTS.DASHBOARD_ACTION_BOX_DISMISSED,{key:f});const a=new Date;(0,P.ex)(f,a.toString()),I(!0);const v=new Event(`dismiss: ${f}`);document.dispatchEvent(v)}]:[!0,y]}function c(f,d){let T;const D=typeof window=="undefined"?new Date().toString():(0,P.mM)(f);return D&&d?T=g()(D).add(d,"second").isAfterNow():T=!!D,T}},66219:(H,E,e)=>{"use strict";e.d(E,{z:()=>O});var t=e(30396),u=e(80569),s=e.n(u),g=e(17025),P=e.n(g),y=(c,f,d)=>new Promise((T,D)=>{var I=a=>{try{l(d.next(a))}catch(v){D(v)}},p=a=>{try{l(d.throw(a))}catch(v){D(v)}},l=a=>a.done?T(a.value):Promise.resolve(a.value).then(I,p);l((d=d.apply(c,f)).next())});const O=({mediaUploadId:c})=>{const[f,d]=(0,t.eJ)(null),[T,D]=(0,t.eJ)(!0),[I,p]=(0,t.eJ)(null);return(0,t.d4)(()=>{c?(()=>y(void 0,null,function*(){try{const a=yield s().get(`/api/v1/video/upload/${c}`);d(a.body),D(!1)}catch(a){console.error("Failed to load media upload:",a),p((0,g.getNetworkErrorMessage)(a)),D(!1)}}))():(d(null),D(!1))},[c,I]),{mediaUpload:f,loading:T,error:I}}},3313:(H,E,e)=>{"use strict";e.d(E,{VL:()=>g,lp:()=>D});var t=e(74806),u=e(83322);const s=new Set([138155578,137086721,135978166,138762631,138967817,140425637,140631625]);function g({pub:p}){return p.id===87281}function P({pub:p}){return p.id===228030}function y({pub:p}){return p.id===1711696}function O({pub:p}){return p.id===500230}function c({pub:p}){return p.id===2047147}function f({pub:p}){return O({pub:p})||c({pub:p})}function d({pub:p,sub:l}){return!p||!l||!T({pub:p})||!l.totalAmount||l.is_group_parent?null:g({pub:p})?!l.is_founding||!l.plan?null:l.totalAmount>=12e4?{numSeats:6,couponCode:"0af6dce7"}:l.totalAmount>=25e3?{numSeats:3,couponCode:"b2f6a20f"}:null:p.subdomain==="pinespayments"?l.totalAmount>=12e4?{numSeats:6,couponCode:"0371e499"}:l.totalAmount>=3e4?{numSeats:3,couponCode:"557e2314"}:null:null}function T({pub:p}){return g({pub:p})||p.subdomain==="pinespayments"}function D({post:p}){return p?(0,t.hasFreePodcastUrl)({post:p})?!0:s.has(p.id)&&!!p.podcast_preview_upload_id:!1}function I({pub:p,benefits:l,plan:a}){if(!g({pub:p})||!isFoundingPlan(a))return l;const v=[];return planFromPubIsClassicFounding({plan:a})?v.push({benefit:"Navigator memberships help to fuel our growth and ensure our longevity. ",checked:!0}):v.push({benefit:"Founding memberships help to keep The Bulwark available to the widest possible audience.",checked:!0}),v.push({benefit:"Unlimited access to our newsletters, ad-free and member-only podcasts, weekly livestreams and more\u2026",checked:!0}),planFromPubIsClassicFounding({plan:a})?v.push({benefit:"6 free gift memberships to give to friends and family",checked:!0}):v.push({benefit:"3 free gift memberships to give to friends and family",checked:!0}),v.push({benefit:"2 Bulwark virtual town hall meetings with Bulwark editors and staff and invites to informal meet-ups before Bulwark live shows.",checked:!0}),v}},63030:(H,E,e)=>{"use strict";e.r(E),e.d(E,{getInitialPodcast:()=>M,getNewPubPodcastSettings:()=>a,getNewSectionPodcastSettings:()=>p,getPodcastEpisodeImageUrl:()=>v,getPodcastsForDisplay:()=>w,getPubPodcastSettings:()=>l,getSectionPodcastSettings:()=>I});var t=e(52743),u=e(83322),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(C,L,S)=>L in C?s(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,d=(C,L)=>{for(var S in L||(L={}))O.call(L,S)&&f(C,S,L[S]);if(y)for(var S of y(L))c.call(L,S)&&f(C,S,L[S]);return C},T=(C,L)=>g(C,P(L));const D=C=>{if(!C)return[];const L=[];for(const S of C){if(L.length===2)break;const N=S.toLowerCase();for(const[R,U]of Object.entries(u.PODCAST_CATEGORIES)){if(L.length===2)break;if(R.toLowerCase()===N||R.toLowerCase().split(" & ").includes(N)){L.push({category:R});break}for(const F of U){if(L.length===2)break;if(F.toLowerCase()===N||F.toLowerCase().split(" & ").includes(N)){L.push({category:R,subcategory:F});break}}}}return L},I=({pub:C,section:L})=>{var S,N,R,U,F,$,G,Q;const K=L==null?void 0:L.podcastSettings,W=(N=(S=K==null?void 0:K.podcast_title)!=null?S:L==null?void 0:L.name)!=null?N:null,Y=(U=(R=K==null?void 0:K.podcast_description)!=null?R:L==null?void 0:L.description)!=null?U:null,ne=(F=K==null?void 0:K.itunes_podcast_primary_category)!=null?F:null,V=($=K==null?void 0:K.itunes_podcast_primary_subcategory)!=null?$:null,j=(G=K==null?void 0:K.itunes_podcast_secondary_category)!=null?G:null,te=(Q=K==null?void 0:K.itunes_podcast_secondary_subcategory)!=null?Q:null,ie=(K==null?void 0:K.itunes_explicit)||!1,ue=(K==null?void 0:K.podcast_art_url)||(0,t.getDefaultPodcastArtUrlCDN)(),he=(K==null?void 0:K.paid_podcast_episode_art_url)||null,Z=(K==null?void 0:K.podcast_byline)||C.podcast_byline||C.author_name||"",J=(K==null?void 0:K.language)||C.podcast_language||"",ae=!!K&&!!K.podcast_feed_url,le=ae?K.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:T(d({},C),{section:L})});return{title:W,description:Y,primaryCategory:ne,primarySubcategory:V,secondaryCategory:j,secondarySubcategory:te,isExplicit:ie,artUrl:ue,byline:Z,language:J,isRedirected:ae,podcastRssUrl:le,paidEpisodeArtUrl:he}},p=({pub:C,section:L})=>{var S,N;const R=(S=L==null?void 0:L.name)!=null?S:null,U=(N=L==null?void 0:L.description)!=null?N:null,F=null,$=null,G=null,Q=null,K=!1,W=(0,t.getDefaultPodcastArtUrlCDN)(),Y=C.podcast_byline||C.author_name||"",ne=C.podcast_language||"";return{title:R,description:U,primaryCategory:F,primarySubcategory:$,secondaryCategory:G,secondarySubcategory:Q,isExplicit:K,artUrl:W,byline:Y,language:ne,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},l=({pub:C})=>{var L,S;const N=C.podcast_title||C.name,R=C.podcast_description||C.hero_text,U=C.itunes_podcast_primary_category,F=C.itunes_podcast_primary_subcategory,$=C.itunes_podcast_secondary_category,G=C.itunes_podcast_secondary_subcategory,Q=(L=C.itunes_explicit)!=null?L:!1,K=C.podcast_art_url||(0,t.getDefaultPodcastArtUrlCDN)(),W=C.podcast_byline||C.author_name,Y=C.podcast_language||"",ne=!!C.show_pub_podcast_tab,V=!!C.podcast_feed_url,j=d({},C);delete j.section;const te=V?C.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:j});return{title:N,description:R,primaryCategory:U,primarySubcategory:F,secondaryCategory:$,secondarySubcategory:G,isExplicit:Q,artUrl:K,byline:W,language:Y,isRedirected:V,podcastRssUrl:te,showPodcastTab:ne,paidEpisodeArtUrl:(S=C.paid_podcast_episode_art_url)!=null?S:null}},a=({pub:C,publication:L})=>{var S,N,R;const[U,F]=D(L.tags.map(({canonical_name:ue})=>ue)),$=`${C.name} Podcast`,G=C.hero_text,Q=U==null?void 0:U.category,K=(S=U==null?void 0:U.subcategory)!=null?S:null,W=F==null?void 0:F.category,Y=(N=F==null?void 0:F.subcategory)!=null?N:null,ne=C.explicit||!1,V=(0,t.getDefaultPodcastArtUrlCDN)(),j=C.author_name;return{title:$,description:G,primaryCategory:Q,primarySubcategory:K,secondaryCategory:W,secondarySubcategory:Y,isExplicit:ne,artUrl:V,byline:j,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(R=C.paid_podcast_episode_art_url)!=null?R:null}};function v(C,L){return(L==null?void 0:L.cover_image)||(L==null?void 0:L.podcast_art_url)||(C==null?void 0:C.podcast_art_url)}const w=C=>{var L,S;const N=(S=(L=C.sections)==null?void 0:L.filter(({is_podcast:R})=>R).map(R=>{var U;const F=I({pub:C,section:R});return{slug:R.slug,podcastTitle:(U=F.title)!=null?U:"",sectionId:R.id}}))!=null?S:[];return[...C.podcast_enabled?[{podcastTitle:C.podcast_title||C.name,slug:C.subdomain,sectionId:null}]:[],...N]},M=({podcasts:C,urlSlug:L,isSection:S,defaultPodcastSlug:N})=>{if(!C.length)return null;if(L){const R=C.find(({sectionId:U,slug:F})=>F===L&&S===!!U);if(R)return R;typeof window!="undefined"&&window.alert("No podcast was found at that URL")}return N&&C.find(({slug:R})=>R==N)||C[0]}},69229:(H,E,e)=>{"use strict";e.d(E,{b:()=>g});var t=e(85928),u=e.n(t);function s(P){var y;return`${[P.is_primary,((y=P.publication)==null?void 0:y.author_id)===P.user_id,P.role==="admin",P.role==="contributor"].map(c=>c?"0":"1").join("")}-${u()(P.created_at).valueOf()}`}function g(P){return P.slice(0).sort((y,O)=>s(y)>s(O)?1:-1)}},16527:(H,E,e)=>{"use strict";e.d(E,{Q:()=>u});var t=e(20042);function u(s,g,{native:P=!1,newTab:y=!1,replace:O,state:c}={}){s.defaultPrevented||(s.preventDefault(),P?y||s.metaKey||s.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:g}).click():window.location.assign(g):((0,t.route)(g,O),c!==void 0&&history.replaceState(c,"")))}},90304:(H,E,e)=>{"use strict";e.d(E,{ex:()=>g,mM:()=>s});var t=e(79546),u=e.n(t);const s=(y,O=null)=>typeof window!="undefined"?u().get(y,O):O,g=(y,O)=>{if(typeof window!="undefined")return u().set(y,O)},P=y=>{if(typeof window!="undefined")return store.remove(y)}},86405:(H,E,e)=>{"use strict";e.d(E,{g:()=>O});var t=e(20501);const u=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,s=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,g=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,P=(c,f=null)=>{const d=u();if(!d)return;const T={p_id:"Twitter",p_user_id:0,txn_id:d,events:JSON.stringify([[c,f]]),tw_sale_amount:(f==null?void 0:f.value)||0,tw_order_quantity:(f==null?void 0:f.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};y(T)},y=c=>{new Image().src=`https://t.co/i/adsct?${(0,t.serializeQuery)(c)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,t.serializeQuery)(c)}`},O=(c,{quantity:f,price:d}={})=>{if(c==="purchase"){const T=g();T&&typeof window.twq=="function"&&window.twq("event",T),P("purchase",{num_items:f,value:d})}else if(c==="signup"){const T=s();T&&typeof window.twq=="function"&&window.twq("event",T),P("signup")}else P("pageview")}},8479:(H,E,e)=>{"use strict";e.d(E,{Kt:()=>Y,NL:()=>G,Q1:()=>U,Wf:()=>S,do:()=>L,i:()=>W,ib:()=>$,kp:()=>K,rd:()=>Q,x8:()=>N});var t=e(30396),u=e(28599),s=e.n(u),g=e(73955),P=e.n(g),y=e(80569),O=e.n(y),c=e(17025),f=e.n(c),d=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(ne,V,j)=>V in ne?d(ne,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):ne[V]=j,v=(ne,V)=>{for(var j in V||(V={}))p.call(V,j)&&a(ne,j,V[j]);if(I)for(var j of I(V))l.call(V,j)&&a(ne,j,V[j]);return ne},w=(ne,V)=>T(ne,D(V)),M=(ne,V)=>{var j={};for(var te in ne)p.call(ne,te)&&V.indexOf(te)<0&&(j[te]=ne[te]);if(ne!=null&&I)for(var te of I(ne))V.indexOf(te)<0&&l.call(ne,te)&&(j[te]=ne[te]);return j},C=(ne,V,j)=>new Promise((te,ie)=>{var ue=J=>{try{Z(j.next(J))}catch(ae){ie(ae)}},he=J=>{try{Z(j.throw(J))}catch(ae){ie(ae)}},Z=J=>J.done?te(J.value):Promise.resolve(J.value).then(ue,he);Z((j=j.apply(ne,V)).next())});const L={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function S(ne,V,{auto:j,initialResult:te}={}){const[ie,ue]=(0,t.eJ)({result:te||null,isLoading:!!j,hasLoadedOnce:!1,error:null,promise:null}),he=()=>{ue(w(v({},ie),{error:null}))},Z=(ae={})=>{var le=ae,{abortController:oe=new(s())}=le,ee=M(le,["abortController"]);const z=ne(w(v({},ee),{signal:oe.signal})).then(re=>{if(!oe.signal.aborted)return ue({isLoading:!1,hasLoadedOnce:!0,error:null,result:re,promise:null}),re},re=>{if(!oe.signal.aborted)return console.error("There was an error fetching resource",re),ue(se=>w(v({},se),{isLoading:!1,error:re,result:null,promise:null})),re});return ue(re=>w(v({},re),{isLoading:!0,error:null,promise:z})),z},J=ae=>{ue(le=>w(v({},le),{error:null,result:ae,isLoading:!1,promise:null}))};return(0,t.d4)(()=>{if(j){const ae=new(s());return Z({abortController:ae}),()=>{ae.abort()}}},V||[]),w(v({},ie),{refetch:Z,setResult:J,clearError:he})}function N(ne,V){switch(V.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const j=ne.slice(),{page:te,id:ie}=V.payload;return j[te]={result:null,id:ie,isLoading:!0,error:null},j}case"page_load":{const{id:j,result:te}=V.payload;return ne.map(ie=>ie.id===j?w(v({},ie),{isLoading:!1,result:te,error:null}):ie)}case"page_error":{const{id:j,error:te}=V.payload;return ne.map(ie=>ie.id===j?w(v({},ie),{isLoading:!1,result:null,error:te}):ie)}}return ne}function R(ne,V,{auto:j,initialResult:te,pages:ie,dispatch:ue}={}){var he;const[Z,J]=(0,t._Y)(N,[{result:te||null,isLoading:!!j,error:null}]),ae=ie!=null?ie:Z,le=ue!=null?ue:J,oe=(fe={})=>{var Ee=fe,{abortController:ge=new(s()),page:be=ae.length}=Ee,me=M(Ee,["abortController","page"]);const pe=ae[be-1],Le=P()();return le({type:"page_start",payload:{page:be,id:Le}}),ne({options:me,signal:ge.signal,page:be,lastPage:pe}).then(je=>{if(!ge.signal.aborted)return le({type:"page_load",payload:{page:be,id:Le,result:je}}),je},je=>{if(!ge.signal.aborted)return le({type:"page_error",payload:{page:be,id:Le,error:je}}),je})},ee=fe=>(le({type:"page_reset"}),oe(w(v({},fe),{page:0})));(0,t.d4)(()=>{if(j){const fe=new(s());return ee({abortController:fe}),()=>{fe.abort()}}},V||[]);let z=!1;const re=()=>C(this,null,function*(){if(!z){const fe=ae[ae.length-1];if(!fe.isLoading&&!fe.error)return z=!0,yield oe()}}),se=ae[ae.length-1];return{pages:ae,page:ae.length,lastPage:se,fetchMore:re,canFetchMore:se&&!se.isLoading&&!se.error,fetchFirstPage:ee,hasLoadedOnce:!!((he=ae[0])!=null&&he.result)}}function U(ne){var V=ne,{auto:j,initialResult:te,deps:ie}=V,ue=M(V,["auto","initialResult","deps"]);return S(he=>C(this,null,function*(){var Z=he,{signal:J}=Z,ae=M(Z,["signal"]);const{pathname:le="",query:oe,body:ee,method:z="get"}=v(v({},ue),ae),re=O()(z.toUpperCase(),le);oe&&re.query(oe),ee&&re.send(ee),J.addEventListener("abort",()=>{re.abort()});const se=yield re;if(J.aborted)return;const fe=se.error;if(fe)throw fe;return se.body}),ie||[],{auto:j,initialResult:te})}const F=new Map;function $(ne){var V=ne,{pathname:j,auto:te,initialResult:ie,deps:ue,cacheTtl:he}=V,Z=M(V,["pathname","auto","initialResult","deps","cacheTtl"]);const J=S(le=>{var oe=le,{pathname:ee}=oe,z=M(oe,["pathname"]);if(!j)throw new Error("useFetch requires a pathname");if(he){const se=F.get(j);if(se){const{ts:fe,ttl:Ee,promise:ge}=se;if(fe+Ee>Date.now())return ge}}const re=Q(ee!=null?ee:j,v(v({},Z),z));return he&&F.set(j,{ts:Date.now(),ttl:he,promise:re}),re},ue||[],{auto:te,initialResult:ie}),ae=le=>{j&&he&&F.set(j,{ts:Date.now(),ttl:he,promise:Promise.resolve(le)}),J.setResult(le)};return w(v({},J),{setResult:ae})}function G(ne){var V=ne,{pathname:j,auto:te,initialResult:ie,deps:ue,getPageInit:he,pages:Z,dispatch:J}=V,ae=M(V,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return R(({page:le,lastPage:oe,options:ee})=>{if(!j)throw new Error("useFetch requires a pathname");const z=he({init:v(v({},ae),ee),page:le,lastPage:oe});return Q(j,z)},ue||[],{auto:te,initialResult:ie,pages:Z,dispatch:J})}function Q(ne){return C(this,arguments,function*(V,j={}){var te;const ue=v({cache:"no-cache"},j),{query:he,json:Z}=ue,J=M(ue,["query","json"]);let ae=V;if(he){let oe;he instanceof URLSearchParams?oe=he:oe=new URLSearchParams(Object.entries(he).reduce((z,[re,se])=>(se!==void 0&&(Array.isArray(se)?se.forEach(fe=>{fe!==void 0&&z.push([`${re}[]`,fe])}):z.push([re,se])),z),[]));const ee=oe.toString();ee&&(V.indexOf("?")!==-1?ae+=`&${ee}`:ae+=`?${ee}`)}Z&&(J.body=JSON.stringify(Z),J.headers instanceof Headers||(J.headers=new Headers(J.headers)),J.headers.set("Content-Type","application/json"));const le=yield fetch(ae,J);if(!le.ok){let oe;try{oe=yield le.json()}catch(ee){oe={}}throw new K(le,oe)}return(te=le.headers.get("Content-Type"))!=null&&te.startsWith("application/json")?le.json():le.text()})}class K extends Error{constructor(V,j){super(),this.response=V,this.body=j}getMessage(V){return(0,c.getNetworkErrorMessageFromResponse)(this.body,V)}}function W(ne,V="Something went wrong."){return ne instanceof K?ne.getMessage():V}function Y(ne,V,j){const[te,ie]=(0,t.eJ)(null);return(0,t.I4)((...ue)=>{clearTimeout(te),ie(null),ie(setTimeout(()=>ne(...ue),V))},[te,...j])}},11533:(H,E,e)=>{"use strict";e.d(E,{js:()=>s,tv:()=>g});var t=e(30396),u=e(20042);function s(y,O){(0,t.d4)(()=>{const c=f=>{y(f)};return u.subscribers.push(c),()=>{u.subscribers.splice(u.subscribers.indexOf(c)>>>0,1)}},O)}function g({path:y}={}){const[O,c]=(0,t.eJ)({}),f=(0,t.sO)(null);s(D=>{f.current=D,c({})},[]);const d=f.current||(0,u.getCurrentUrl)(),T=d.replace(/\?.+$/,"");return f.current=null,[{url:d,path:T,matches:y&&(0,u.exec)(T,y,{})||null},u.route]}function P(){return history.state}},26686:(H,E,e)=>{"use strict";e.d(E,{_:()=>c});var t=e(95591),u=e(8479),s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(f,d)=>{var T={};for(var D in f)g.call(f,D)&&d.indexOf(D)<0&&(T[D]=f[D]);if(f!=null&&s)for(var D of s(f))d.indexOf(D)<0&&P.call(f,D)&&(T[D]=f[D]);return T},O=(f,d,T)=>new Promise((D,I)=>{var p=v=>{try{a(T.next(v))}catch(w){I(w)}},l=v=>{try{a(T.throw(v))}catch(w){I(w)}},a=v=>v.done?D(v.value):Promise.resolve(v.value).then(p,l);a((T=T.apply(f,d)).next())});function c(f,d={},T){var D=d,{deps:I,auto:p=!0,massage:l=v=>O(this,null,function*(){return v})}=D,a=y(D,["deps","auto","massage"]);return(0,t.ZP)(p?I?[...I,f]:f:null,()=>(0,u.rd)(f,a).then(l),T)}},6742:(H,E,e)=>{"use strict";e.d(E,{UM:()=>P,th:()=>y});var t=e(30396),u=e(17025),s=e.n(u);function g(O,c,{root:f,threshold:d=0,rootMargin:T,disabled:D=!1}={}){(0,t.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!O.current||D)return;const I=new IntersectionObserver(l=>{c(l.some(a=>a.isIntersecting))},{root:f,threshold:d,rootMargin:T});I.observe(O.current);function p(){I.disconnect()}return p},[O,c,f,d,T,D])}function P(O,c,{root:f,threshold:d=0,rootMargin:T,disabled:D=!1}={}){const I=(0,t.sO)(!1),p=(0,t.I4)(l=>{l&&!I.current&&(I.current=!0,c())},[c,I]);g(O,p,{root:f,threshold:d,rootMargin:T,disabled:D||I.current})}function y(O){const[c,f]=(0,t.eJ)(!1);return(0,t.d4)(()=>{const d=()=>{const T=(0,u.isWindowVisible)();f(T),O==null||O(T)};return(0,u.onWindowVisibilityChange)(d),()=>{(0,u.offWindowVisibilityChange)(d)}},[O]),c}},36868:(H,E,e)=>{"use strict";e.d(E,{P:()=>t});const t=(u,s)=>s.payments_state==="enabled"?u.is_subscribed:u.is_free_subscribed},25018:(H,E,e)=>{"use strict";e.d(E,{qU:()=>C,uj:()=>S,v9:()=>M});var t=e(30396),u=e(18446),s=e.n(u),g=e(1852),P=e.n(g),y=e(80569),O=e.n(y),c=e(76193),f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(R,U,F)=>U in R?f(R,U,{enumerable:!0,configurable:!0,writable:!0,value:F}):R[U]=F,a=(R,U)=>{for(var F in U||(U={}))I.call(U,F)&&l(R,F,U[F]);if(D)for(var F of D(U))p.call(U,F)&&l(R,F,U[F]);return R},v=(R,U)=>d(R,T(U)),w=(R,U,F)=>new Promise(($,G)=>{var Q=Y=>{try{W(F.next(Y))}catch(ne){G(ne)}},K=Y=>{try{W(F.throw(Y))}catch(ne){G(ne)}},W=Y=>Y.done?$(Y.value):Promise.resolve(Y.value).then(Q,K);W((F=F.apply(R,U)).next())});const M=()=>{const R=(0,g.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),U=(0,g.useMediaQuery)({query:"only screen and (max-width: 768px)"});let F;return typeof window=="undefined"?F=(0,c.isMobile)()?"mobile":"desktop":F=U?"mobile":R?"tablet":"desktop",{breakpoint:F,isMobile:F==="mobile",isTablet:F==="tablet",isDesktop:F==="desktop"}},C=({pubId:R,preloads:U={}})=>{var F,$,G,Q,K,W,Y,ne,V,j,te,ie,ue;const[he,Z]=(0,t.eJ)((F=U.contentBlocks)!=null?F:[]),[J,ae]=(0,t.eJ)(($=U.contributors)!=null?$:[]),[le,oe]=(0,t.eJ)((G=U.latestPodcastPosts)!=null?G:null),[ee,z]=(0,t.eJ)((Q=U.latestPostByContributorId)!=null?Q:{}),[re,se]=(0,t.eJ)((K=U.homepageLinks)!=null?K:[]),[fe,Ee]=(0,t.eJ)((W=U.newPosts)!=null?W:[]),[ge,be]=(0,t.eJ)((Y=U.pinnedPosts)!=null?Y:[]),[me,pe]=(0,t.eJ)((ne=U.recommendations)!=null?ne:[]),[Le,je]=(0,t.eJ)((V=U.topPosts)!=null?V:[]),[xe,ye]=(0,t.eJ)(!!U.newPosts),[Me,We]=(0,t.eJ)((j=U.postsBySectionId)!=null?j:{}),[De,Ge]=(0,t.eJ)((te=U.postsByTagId)!=null?te:{}),[pt,wt]=(0,t.eJ)((ie=U.postTagsById)!=null?ie:{}),[Ht,nt]=(0,t.eJ)((ue=U.sectionsById)!=null?ue:{});return(0,t.d4)(()=>{var Ze;U.homepageLinks?((Ze=U.homepageLinks)==null?void 0:Ze.length)>re.length&&se(U.homepageLinks):O().get("/api/v1/homepage_links").then(({body:st})=>se(st))},[R,U.homepageLinks]),(0,t.d4)(()=>{var Ze;U.newPosts?((Ze=U.newPosts)==null?void 0:Ze.length)>fe.length&&Ee(U.newPosts):O().get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:st})=>{Ee(st),ye(!0)})},[R,U.newPosts]),(0,t.d4)(()=>{var Ze;U.pinnedPosts?((Ze=U.pinnedPosts)==null?void 0:Ze.length)>ge.length&&be(U.pinnedPosts):O().get("/api/v1/archive").query({sort:"pinned"}).then(({body:st})=>be(st))},[R,U.pinnedPosts]),(0,t.d4)(()=>{var Ze;U.recommendations?((Ze=U.recommendations)==null?void 0:Ze.length)>me.length&&pe(U.recommendations):O().get(`/api/v1/recommendations/from/${R}`).query({limit:5}).then(st=>{pe(st.body)})},[R,U.recommendations]),(0,t.d4)(()=>{var Ze;U.topPosts?((Ze=U.topPosts)==null?void 0:Ze.length)>Le.length&&je(U.topPosts):O().get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:st})=>je(st))},[R,U.topPosts]),(0,t.d4)(()=>{var Ze;(!U.postsBySectionId||!U.postsByTagId||!U.contributors)&&O().get("/api/v1/homepage_data").then(st=>{We(st.body.postsBySectionId),Ge(st.body.postsByTagId),ae(st.body.contributors),oe(st.body.latestPodcastPosts),z(st.body.latestPostByContributorId),Z(st.body.contentBlocks),wt(st.body.postTagsById),nt(st.body.sectionsById)}),U.contributors&&((Ze=U.contributors)==null?void 0:Ze.length)>J.length&&ae(U.contributors),U.postsBySectionId&&!s()(U.postsBySectionId,Me)&&We(U.postsBySectionId),U.postsByTagId&&!s()(U.postsByTagId,De)&&Ge(U.postsByTagId),U.contentBlocks&&!s()(U.contentBlocks,he)&&Z(U.contentBlocks),U.postTagsById&&!s()(U.postTagsById,pt)&&wt(U.postTagsById),U.sectionsById&&!s()(U.sectionsById,Ht)&&nt(U.sectionsById)},[R,U.contributors,U.postsBySectionId,U.postsByTagId,U.contentBlocks,U.sectionsById,U.postTagsById]),(0,t.Ye)(()=>({contentBlocks:he,contributors:J,latestPodcastPosts:le,latestPostByContributorId:ee,homepageLinks:re,newPosts:fe,pinnedPosts:ge,postsLoaded:xe,recommendations:me,topPosts:Le,postsBySectionId:Me,postsByTagId:De,postTagsById:pt,sectionsById:Ht}),[he,le,ee,J,re,fe,ge,Me,De,xe,me,Le,pt,Ht])},L=()=>{const[R,U]=useState([]),[F,$]=useState({}),[G,Q]=useState({});return useEffect(()=>{(()=>w(void 0,null,function*(){for(const W of R){if(W.post_source==="section"&&W.section_id&&!F[W.section_id]){const{body:Y}=yield request.get("/api/v1/archive").query({section_id:W.section_id,sort:"new",limit:13});$(ne=>v(a({},ne),{[String(W.section_id)]:Y}))}if(W.post_source==="tag"&&W.post_tag_id&&!G[W.post_tag_id]){const{body:Y}=yield request.get("/api/v1/archive").query({post_tag_id:W.post_tag_id,sort:"new",limit:13});Q(ne=>v(a({},ne),{[String(W.post_tag_id)]:Y}))}}}))()},[R,F,G]),{contentBlocks:R,onChangeContentBlocks:U,postsBySectionId:F,postsByTagId:G}},S=R=>{const[U,F]=(0,t.eJ)(R.newPosts),[$,G]=(0,t.eJ)(R.pinnedPosts),[Q,K]=(0,t.eJ)(R.topPosts),[W,Y]=(0,t.eJ)(R.postsLoaded),ne=new Set(($||[]).map(te=>te.id)),V=($||[]).concat((U||[]).filter(te=>!ne.has(te.id)));(0,t.d4)(()=>{var te,ie;((te=R.newPosts)==null?void 0:te.length)!==U.length&&F(R.newPosts),((ie=R.pinnedPosts)==null?void 0:ie.length)!==$.length&&G(R.pinnedPosts),(R.topPosts||[]).length!==(Q||[]).length&&K(R.topPosts),R.postsLoaded&&Y(!0)},[R.newPosts,R.pinnedPosts,R.topPosts,U.length,$.length,Q,R.postsLoaded]);const j=(0,t.I4)(({post:te})=>{if(!te)return;const ie=[{list:Q,setter:K},{list:$,setter:G},{list:U,setter:F}];for(const ue of ie){if(!ue.list)return;const he=ue.list.findIndex(Z=>Z.id===te.id);if(he!==-1){const Z=[...ue.list];Z.splice(he,1,te),ue.setter(Z)}}},[U,$,Q]);return{posts:V,topPosts:Q||[],onChange:j,postsLoaded:W}},N=({bodyId:R})=>{const[U,F]=useState(null),[$,G]=useState(null);return useEffect(()=>{R==="grid-groups"&&($||w(void 0,null,function*(){try{const K=yield request.get("/api/v1/publication/sections");G(K.body)}catch(K){console.error(K)}}),U||w(void 0,null,function*(){try{const K=yield request.get("/api/v1/publication/post-tag");F(K.body)}catch(K){console.error(K)}}))},[R,U,$]),{postTags:U,sections:$}}},62246:(H,E,e)=>{"use strict";e.d(E,{fe:()=>u.f,mz:()=>s.m,r6:()=>t.r,u_:()=>u.u,xB:()=>t.x});var t=e(28079),u=e(53940),s=e(29354)},21958:(H,E,e)=>{"use strict";e.d(E,{L:()=>p});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(l,a,v)=>a in l?P(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,D=(l,a)=>{for(var v in a||(a={}))f.call(a,v)&&T(l,v,a[v]);if(c)for(var v of c(a))d.call(a,v)&&T(l,v,a[v]);return l},I=(l,a)=>y(l,O(a));function p(l,a="div",v){return(0,u.forwardRef)((w,M)=>(0,t.createElement)(a,I(D(D({},v),w),{ref:M,className:g()(l,w==null?void 0:w.className)})))}},13045:(H,E,e)=>{"use strict";e.d(E,{HZ:()=>u.H,xu:()=>P.xu,zx:()=>s.zx,hE:()=>g.h,XZ:()=>w.X,ji:()=>C,iz:()=>O.i,o6:()=>s.o6,hs:()=>c.hs,tu:()=>c.tu,gq:()=>c.gq,hU:()=>s.hU,aN:()=>d.a,Tz:()=>y.Tz,v2:()=>D.v2,sN:()=>D.sN,u_:()=>T.u_,fe:()=>T.fe,mz:()=>T.mz,xB:()=>T.xB,gu:()=>U.g,rs:()=>p.r,xv:()=>l.xv,oi:()=>Q.o,gx:()=>W.g,FN:()=>v.FN,u:()=>a.u,kG:()=>s.kG,E7:()=>P.E7,oB:()=>P.oB,yK:()=>P.yK,pm:()=>v.pm,dd:()=>v.dd});var t=e(11059),u=e(83787),s=e(84040),g=e(91041),P=e(4508),y=e(15187),O=e(48960),c=e(51126),f=e(94016),d=e(56288),T=e(62246),D=e(43028),I=e(92106),p=e(65414),l=e(43887),a=e(92630),v=e(75425),w=e(53570),M=e(6400);const C=({contentBelow:ne,details:V,disabled:j,label:te,name:ie,paddingBottom:ue,paddingTop:he,testid:Z,track:J,value:ae,onChange:le,usePublicationTheme:oe})=>(0,M.h)(c.gq,{as:"label",gap:8,paddingBottom:ue,paddingTop:he},(0,M.h)(w.X,{as:"div",checked:ae,name:ie!=null?ie:Z,"data-track-input":J,disabled:j,size:"small",onChange:le}),(0,M.h)(c.tu,{flex:"grow"},(0,M.h)(l.xv.B4,{as:"span",color:j?oe?"secondary-theme":"secondary":oe?"primary-theme":"primary"},te),V&&(0,M.h)(l.xv.Detail,{color:oe?"secondary-theme":"secondary"},V),ne));var L=e(72657),S=e(75328);const N={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},R=({children:ne,label:V})=>h(FlexColumn,null,V&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},V),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},ne));var U=e(2019),F=e(96427);const $=({details:ne,helpText:V,label:j,name:te,options:ie,paddingBottom:ue,paddingTop:he,value:Z,onChange:J})=>h(Field,{label:j,details:ne,helpText:V,paddingTop:he,paddingBottom:ue,wrapWithLabel:!0},h(Select,{name:te,value:Z,onChange:J},ie.map(ae=>h("option",{value:ae.value},ae.label))));var G=e(30396),Q=e(34394);const K=({details:ne,disabled:V,errors:j,helpText:te,inputRef:ie,label:ue,name:he,paddingBottom:Z,paddingTop:J,value:ae,onChange:le})=>{const oe=useCallback(ee=>{le(ee.target.value)},[le]);return h(Field,{label:ue,details:ne,errors:j,helpText:te,paddingTop:J,paddingBottom:Z,wrapWithLabel:!0},h(TextInput,{ref:ie,error:!!(j!=null&&j.length),disabled:V,name:he,value:ae,onChange:oe}))};var W=e(27885);const Y=({details:ne,disabled:V,helpText:j,label:te,paddingBottom:ie,paddingTop:ue,value:he,onChange:Z})=>{const J=useCallback(ae=>{Z(ae.target.value)},[Z]);return h(Field,{details:ne,helpText:j,label:te,paddingBottom:ie,paddingTop:ue,wrapWithLabel:!0},h(Textarea,{disabled:V,value:he,onChange:J}))}},53150:(H,E,e)=>{"use strict";e.d(E,{V:()=>P});var t=e(85928),u=e.n(t),s=e(18349);const g=(y,O)=>{var c,f,d,T,D;let I=dayjs((c=y==null?void 0:y.postSchedule)==null?void 0:c.trigger_at).diff(dayjs(),"day");const{iString:p,iPlural:l}=I18N.i(O);if(I>0)switch((f=y==null?void 0:y.postSchedule)==null?void 0:f.post_audience){case"founding":return l("Your founding list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your founding list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",I);case"only_paid":return l("Your paid list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your paid list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",I);case"only_free":return l("Your free list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your free list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",I);default:return l("Your whole list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your whole list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",I)}else if(I=dayjs((d=y==null?void 0:y.postSchedule)==null?void 0:d.trigger_at).diff(dayjs(),"hour"),I>0)switch((T=y==null?void 0:y.postSchedule)==null?void 0:T.post_audience){case"founding":return l("Your founding list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your founding list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",I);case"only_paid":return l("Your paid list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your paid list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",I);case"only_free":return l("Your free list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your free list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",I);default:return l("Your whole list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your whole list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",I)}else switch((D=y==null?void 0:y.postSchedule)==null?void 0:D.post_audience){case"founding":return p("Your founding list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");case"only_paid":return p("Your paid list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");case"only_free":return p("Your free list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");default:return p("Your whole list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!")}},P=(y,O)=>{const{iString:c}=s.I18N.i(O);switch(y){case"square":return c("Square");case"instagram":return"instagram";case"stories":return c("stories")}}},50292:(H,E,e)=>{"use strict";e.d(E,{SJ:()=>P});var t=e(6400),u=e(30396);const s=(0,t.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function g(y,{shouldShowGetAppPill:O=!0,style:c,alwaysPinTitle:f,backAction:d,onRefresh:T}={}){const D=P();return useLayoutEffect(()=>{D.setChildOptions({title:y,style:c,alwaysPinTitle:f,backAction:d,shouldShowGetAppPill:O,onRefresh:T})},[D,y,c,d,O,T]),useLayoutEffect(()=>{D.setPinTitle(!1)},[]),D}function P(){return(0,u.qp)(s)}},56472:(H,E,e)=>{"use strict";e.d(E,{I0:()=>P});var t=e(6400),u=e(30396);const s={user:null,inbox:{threads:[],isLoading:!0,filter:"all"},users:new Map,communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map,conversations:new Map},g=(0,t.createContext)(()=>Promise.resolve());function P(){return(0,u.qp)(g)}const y=(0,t.createContext)(s);function O(){return useContext(y)}},19696:(H,E,e)=>{"use strict";e.d(E,{L:()=>t.L});var t=e(21958)},41474:(H,E,e)=>{"use strict";e.d(E,{CD:()=>L,Gv:()=>F,Kr:()=>U,MJ:()=>C,iI:()=>a,qG:()=>M,rw:()=>I,zi:()=>D});var t=e(69371),u=e(3258),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=($,G,Q)=>G in $?s($,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):$[G]=Q,d=($,G)=>{for(var Q in G||(G={}))O.call(G,Q)&&f($,Q,G[Q]);if(y)for(var Q of y(G))c.call(G,Q)&&f($,Q,G[Q]);return $},T=($,G)=>g($,P(G));function D($,G,{extraEventProps:Q={},tabId:K,primaryItem:W}={}){w("seen",$,G,{extraEventProps:Q,tabId:K,primaryItem:W})}function I($,G,Q,{extraEventProps:K={},tabId:W,primaryItem:Y}={}){w("clicked",$,G,{extraEventProps:T(d({clicked_element:Q},K),{tabId:W,primaryItem:Y})})}function p($,G,{primaryItem:Q}={}){var K,W,Y,ne,V,j,te;return{item_primary_entity_key:Q&&"entity_key"in Q?Q.entity_key:"entity_key"in $?$.entity_key:"",item_entity_key:"entity_key"in $?$.entity_key:"",item_type:$.type,item_context_type:"context"in $?$.context.type:"",item_context_type_bucket:"context"in $&&(K=$.context.typeBucket)!=null?K:"",item_context_timestamp:new Date("context"in $?$.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in $?(W=$.context.users[0])==null?void 0:W.id:void 0,item_context_user_ids:"context"in $&&((ne=(Y=$.context.users)==null?void 0:Y.length)!=null?ne:0)>0?$.context.users.map(({id:ie})=>ie):[],item_publication_id:"publication"in $?(V=$.publication)==null?void 0:V.id:void 0,item_post_id:(j=$.post)==null?void 0:j.id,item_comment_id:(te=$.comment)==null?void 0:te.id,item_can_reply:"canReply"in $?$.canReply:!0,tab_id:G!=null?G:void 0,item_module_id:"id"in $?$.id:void 0}}function l($,G,{primaryItem:Q}={}){return $.type==="comment"||$.type==="post"||$.type==="featuredCollection"||$.type==="featuredPublication"||$.type==="postLeaderboard"||$.type==="recommendedPosts"?$.trackingParameters:p($,G,{primaryItem:Q})}function a($,{primaryItem:G}={}){return T(d({},$),{trackingParameters:p($,null,{primaryItem:G})})}const v=new Map([["postLeaderboard","leaderboard"],["recommendedPosts","recommended"],["featuredCollection","featured_collection"],["featuredPublication","featured_publication"]]);function w($,G,Q,{extraEventProps:K={},tabId:W,primaryItem:Y}={}){const ne=l(G,W!=null?W:null,{primaryItem:Y}),V=v.get(G.type);(0,u.track)($==="seen"?u.EVENTS.FEED_ITEM_SEEN:u.EVENTS.FEED_ITEM_CLICKED,d(d({surface:Q,tabId:W,module:V},ne),K))}function M($,G,Q,{extraEventProps:K={},tabId:W,primaryItem:Y}={}){const ne=l(G,W!=null?W:null,{primaryItem:Y}),V=v.get(G.type);(0,u.track)($==="seen"?u.EVENTS.FEED_MODULE_ITEM_SEEN:u.EVENTS.FEED_MODULE_ITEM_CLICKED,d(d({surface:Q,tabId:W,module:V},ne),K))}function C($,G,{extraEventProps:Q={}}={}){S("seen",$,G,{extraEventProps:Q})}function L($,G,Q,{extraEventProps:K={}}={}){S("clicked",$,G,{extraEventProps:d({clicked_element:Q},K)})}function S($,G,Q,{extraEventProps:K={}}={}){var W,Y,ne,V;(0,u.track)($==="seen"?u.EVENTS.FEED_USER_SUGGESTION_SEEN:u.EVENTS.FEED_USER_SUGGESTION_CLICKED,d({suggested_user_id:G.user.id,suggested_publication_id:(Y=(W=G.publication)==null?void 0:W.id)!=null?Y:null,suggestion_source:(ne=G.source)!=null?ne:null,suggestion_id:(V=G.id)!=null?V:null,surface:Q},K))}function N($,{utm_source:G}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:G,tab_id:$})}function R($,{utm_source:G}={}){const Q=l($,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,d({utm_source:G},Q))}function U($,G,{tabId:Q,noteId:K}={}){(0,u.track)(u.EVENTS.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:$,reason:G,tabId:Q,noteId:K})}function F($,{props:G,isModuleItem:Q}={}){const K=(0,t.rI)(),W=Q?M:w;return Y=>{W("clicked",$,K,{extraEventProps:d({clicked_element:Y},G)})}}},91870:(H,E,e)=>{"use strict";e.d(E,{I0:()=>C,RR:()=>M,d6:()=>N,ev:()=>S,kc:()=>R});var t=e(6400),u=e(30396),s=e(70444),g=e(20501),P=e(95582),y=e(8479),O=e(17025),c=e.n(O),f=e(41474),d=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(V,j,te)=>j in V?d(V,j,{enumerable:!0,configurable:!0,writable:!0,value:te}):V[j]=te,v=(V,j)=>{for(var te in j||(j={}))p.call(j,te)&&a(V,te,j[te]);if(I)for(var te of I(j))l.call(j,te)&&a(V,te,j[te]);return V},w=(V,j)=>T(V,D(j));const M=(0,t.createContext)({dispatch:()=>Promise.resolve()});function C(){return(0,u.qp)(M).dispatch}const L={isSigningIn:!1,signInNoExit:!1,pages:[],readingQueue:[],posts:new Map,publications:new Map,comments:new Map,inboxItems:new Map},S=(0,t.createContext)(L);function N({initialData:V={}}={}){return(0,P.L)(U,V,({feedItem:j,readingQueue:te})=>{let ie=L;return j&&(ie=$(ie,j)),te&&(ie=Y(ie,te)),ie})}function R(){return(0,u.qp)(S)}function U(V,j){var te,ie,ue,he;switch(j.type){case"sign_in":return w(v({},V),{lastDispatchType:j.type,isSigningIn:j.payload.isSigningIn,signInNoExit:(te=j.payload.signInNoExit)!=null?te:!1});case"page_load":{const{result:Z}=j.payload;return w(v({},F(V,Z.items)),{lastDispatchType:j.type,pages:(0,y.x8)(V.pages,j)})}case"post_load":{const{post:Z,publication:J}=j.payload;return W(V,{posts:[Z],publications:[J]})}case"post_like":{const{postId:Z,isLiked:J}=j.payload,ae=V.posts.get(Z);return G(V,j.type,Z,Q(ae,J))}case"post_restack":{const{postId:Z,isRestacked:J}=j.payload,ae=V.posts.get(Z);return ae?G(V,j.type,Z,K(ae,J)):V}case"post_delete":{const{publication:Z,post:J}=j.payload,ae=new Map(V.posts);ae.delete(J.id);const le=new Map([...V.comments].filter(([oe,ee])=>ee.post_id!==J.id));return[(0,g.getFeedPostUrl)(J.id,{noBase:!0}),(0,g.getFeedShortPostUrl)(Z,J,{noBase:!0})].includes(window.location.pathname)&&(0,O.redirect)(s.Ds,{replace:!0}),w(v({},V),{lastDispatchType:j.type,posts:ae,comments:le,pages:V.pages.map(oe=>w(v({},oe),{result:oe.result?w(v({},oe.result),{items:oe.result.items.filter(ee=>{var z;return((z=ee.post)==null?void 0:z.id)!==J.id})}):oe.result}))})}case"post_save":{const{postId:Z,isSaved:J}=j.payload;return V.posts.get(Z)?G(V,j.type,Z,{is_saved:J}):V}case"comment_like":{const{commentId:Z,isLiked:J}=j.payload,ae=V.comments.get(Z);return w(v({},V),{lastDispatchType:j.type,comments:ne(V.comments,Z,w(v({},ae),{reaction:J?"\u2764":void 0,reactions:w(v({},ae.reactions),{"\u2764":(((ie=ae.reactions)==null?void 0:ie["\u2764"])||0)+(J?1:-1)}),reaction_count:(ae.reaction_count||0)+(J?1:-1)}))})}case"comment_restack":{const{commentId:Z,isRestacked:J}=j.payload,ae=V.comments.get(Z);return w(v({},V),{lastDispatchType:j.type,comments:ae?ne(V.comments,Z,w(v({},ae),{restacked:J,restacks:(ae.restacks||0)+(J?1:-1)})):V.comments})}case"comment_delete":{const{comment:Z}=j.payload,J=new Map(V.posts),ae=new Map([...V.comments].filter(([ee,z])=>z.id!==Z.id&&!new RegExp(`(^|.)${Z.id}(.|$)`).test(z.ancestor_path))),le=J.get(Z.post_id),oe=Z.ancestor_path&&ae.get(Number(Z.ancestor_path.split(".").pop()));return oe?ae.set(oe.id,w(v({},oe),{children_count:(oe.children_count||1)-1,children:(oe.children||[]).filter(ee=>ee.id!==Z.id)})):le&&J.set(le.id,w(v({},le),{child_comment_count:(le.child_comment_count||1)-1})),[(0,g.getFeedCommentUrl)(Z,{noBase:!0})].includes(window.location.pathname)&&(0,O.redirect)(s.Ds,{replace:!0}),w(v({},V),{lastDispatchType:j.type,posts:J,comments:ae,pages:V.pages.map(ee=>w(v({},ee),{result:ee.result?w(v({},ee.result),{items:ee.result.items.filter(z=>{var re;return((re=z.comment)==null?void 0:re.id)!==Z.id&&!(z.parentComments||[]).filter(Boolean).map(se=>se.id).includes(Z.id)})}):ee.result}))})}case"new_post":return w(v({},V),{lastDispatchType:j.type,publications:new Map([...V.publications].concat([[j.payload.publication.id,j.payload.publication]])),posts:new Map([...V.posts].concat([[j.payload.post.id,j.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,s.vy)(j.payload.post.id),publication:j.payload.publication,post:j.payload.post,context:j.payload.context||{}}]}},...V.pages]});case"new_comment":{const{comment:Z}=j.payload,J=new Map(V.posts),ae=J.get(Z.post_id);ae&&J.set(ae.id,w(v({},ae),{child_comment_count:(ae.child_comment_count||0)+1}));const le=new Map(V.comments);le.set(Z.id,Z);const oe=(((ue=Z.ancestor_path)==null?void 0:ue.split("."))||[]).map(Number).filter(Boolean).map(se=>le.get(se)||null),ee=(he=oe[oe.length-1])!=null?he:null;ee&&le.set(ee.id,w(v({},ee),{children_count:(ee.children_count||0)+1,children:[Z].concat(ee.children||[])}));const re=[{error:null,isLoading:!1,result:{items:[(0,f.iI)({type:"comment",entity_key:(0,s.It)(Z.id),comment:Z,parentComments:oe,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}})]}},...V.pages];return w(v({},V),{lastDispatchType:j.type,posts:J,comments:le,pages:re})}case"edit_comment":{const{comment:Z}=j.payload,J=new Map(V.comments);return J.set(Z.id,Z),w(v({},V),{lastDispatchType:j.type,comments:J})}case"comments_load":{const{comments:Z}=j.payload,J=[],ae=Z.slice();for(;ae.length>0;){const le=ae.pop();J.push(le),ae.push(...le.children||[])}return w(v({},V),{lastDispatchType:j.type,comments:new Map([...V.comments].concat(J.map(le=>[le.id,le])))})}case"item_load":{const{item:Z}=j.payload;return w(v({},$(V,Z)),{lastDispatchType:j.type})}case"items_load":{const{items:Z}=j.payload;return w(v({},F(V,Z)),{lastDispatchType:j.type})}case"new_feed_items":{const Z=[...V.pages];if(j.payload.insertLocation){const J={error:null,isLoading:!1,result:{items:j.payload.feedItems}};j.payload.insertLocation==="prepend"?Z.unshift(J):j.payload.insertLocation==="append"&&Z.push(J)}return w(v({},F(V,j.payload.feedItems)),{lastDispatchType:j.type,pages:Z})}case"inbox_load":return Y(V,j.payload);case"inbox_item_archive":{const{contentKey:Z}=j.payload,J=V.inboxItems.get(Z);return w(v({},V),{inboxItems:ne(V.inboxItems,Z,w(v({},J),{archived_at:new Date().toISOString()}))})}}return w(v({},V),{lastDispatchType:j.type,pages:(0,y.x8)(V.pages,j)})}function F(V,j){const te=new Map(V.publications),ie=new Map(V.posts),ue=new Map(V.comments);for(const he of j){if("publication"in he&&he.publication&&te.set(he.publication.id,he.publication),"post"in he){const{post:Z}=he;Z&&ie.set(Z.id,Z)}if("comment"in he){const{comment:Z}=he;if(Z&&(ue.set(Z.id,Z),Z.attachments))for(const J of Z.attachments)J.type==="post"&&(ie.set(J.post.id,J.post),te.set(J.publication.id,J.publication))}if("parentComments"in he)for(const Z of he.parentComments)Z&&ue.set(Z.id,Z)}return w(v({},V),{publications:te,posts:ie,comments:ue})}function $(V,j){var te;return w(v({},V),{posts:j.post?ne(V.posts,j.post.id,j.post):V.posts,publications:j.publication?ne(V.publications,j.publication.id,j.publication):V.publications,comments:new Map([...V.comments].concat([j.comment,...(te=j.parentComments)!=null?te:[]].filter(Boolean).map(ie=>[ie.id,ie])))})}function G(V,j,te,ie){const ue=new Map(V.posts),he=ue.get(te);return he&&ue.set(he.id,v(v({},he),ie)),w(v({},V),{lastDispatchType:j,posts:ue})}function Q(V,j){var te;const ie=j!=null?j:!V.reaction,ue="\u2764";return{reaction:ie,reactions:{[ue]:(((te=V.reactions)==null?void 0:te[ue])||0)+(j?1:-1)}}}function K(V,j){return{restacked:j,restacks:(V.restacks||0)+(j?1:-1)}}function W(V,{posts:j,publications:te}){const ie=new Map(V.posts);for(const he of j)ie.set(he.id,v(v({},ie.get(he.id)),he));const ue=new Map(V.publications);for(const he of te)ue.set(he.id,v(v({},ue.get(he.id)),he));return w(v({},V),{posts:ie,publications:ue})}function Y(V,j){return w(v({},W(V,j)),{readingQueue:j.inboxItems.map(te=>te.content_key),inboxItems:new Map([...V.inboxItems].concat(j.inboxItems.map(te=>[te.content_key,te])))})}function ne(V,j,te){const ie=new Map(V);return ie.set(j,te),ie}},73413:(H,E,e)=>{"use strict";e.d(E,{L:()=>u});var t=e(30123);const u=document.location.origin===t.tE},15337:(H,E,e)=>{"use strict";e.d(E,{i:()=>g});var t=e(67963),u=e(3258),s=e(50292);function g(P){const y=(0,t.aF)(),{onboardingModalRef:O}=(0,s.SJ)();return(c,f)=>d=>{var T,D;if(!y){if(!O.current)return;d.preventDefault(),f?(T=O.current)==null||T.openForPub(c,f):(D=O.current)==null||D.openToPubSignup(c);return}(0,u.trackPublicationVisit)(c,P)}}},44396:(H,E,e)=>{"use strict";e.d(E,{XA:()=>y});var t=e(30396),u=e(1852),s=e.n(u),g=e(17025),P=e.n(g);function y(){return(0,u.useMediaQuery)({maxWidth:650})}function O(){return useMediaQuery({maxWidth:1400})}function c(){const[f,d]=useState(!1);return useLayoutEffect(()=>{d(isIOs())},[]),f}},72307:(H,E,e)=>{"use strict";e.d(E,{Th:()=>l,Y0:()=>v,_V:()=>M,e:()=>p,lV:()=>I});var t=e(6400),u=e(30396),s=e(8479),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(C,L,S)=>L in C?g(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,T=(C,L)=>{for(var S in L||(L={}))c.call(L,S)&&d(C,S,L[S]);if(O)for(var S of O(L))f.call(L,S)&&d(C,S,L[S]);return C},D=(C,L)=>P(C,y(L));function I(C){const L=(0,s.ib)({pathname:"/api/v1/subscriptions",auto:C,deps:[]});return(0,u.Ye)(()=>D(T({},L),{result:L.result?D(T({},L.result),{publicationMap:new Map(L.result.publications.map(N=>[N.id,N])),subscriptionMap:new Map(L.result.subscriptions.map(N=>[N.publication_id,N])),publicationUserMap:new Map(L.result.publicationUsers.map(N=>[N.publication_id,N]))}):null}),[L])}const p=(0,t.createContext)(s.do);function l(){return(0,u.qp)(p)}function a(C){var L;const{subscriptionMap:S,publicationUserMap:N,publicationsWithPledges:R}=(L=l().result)!=null?L:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},U=S.get(C),F=N.get(C);return{subscription:U,publicationUser:F,is_pledged:!!(R!=null&&R.includes(C))}}function v(C){const{subscription:L,publicationUser:S,is_pledged:N}=a(C),R=(L==null?void 0:L.membership_state)==="free_signup",U=(L==null?void 0:L.membership_state)==="subscribed",F=!!(L!=null&&L.is_founding),$=!!(S&&["contributor","admin"].includes(S.role));return{subscription:L,publicationUser:S,isFreeSubscribed:R,isPaid:U,isSubscribed:R||U,isAuthor:$,isFounding:F,isPledged:N}}function w(){var C,L,S;const{publicationUsers:N,publicationMap:R}=(C=l().result)!=null?C:{publicationMap:new Map,publicationUsers:[]},U=(S=(L=N.find(F=>F.is_primary))!=null?L:N.find(F=>F.role==="admin"))!=null?S:N.find(F=>F.role==="contributor");return U&&R.get(U.publication_id)}function M(C){var L,S;const{publicationUsers:N}=(L=l().result)!=null?L:{publicationUsers:[]};return(S=N.find(R=>R.publication_id===C))!=null?S:null}},42208:(H,E,e)=>{"use strict";e.d(E,{Mv:()=>L,U6:()=>U,a9:()=>Q,nK:()=>Y,ty:()=>W});var t=e(39693),u=e.n(t),s=e(24350),g=e.n(s),P=e(86575),y=e(3258),O=e(63030),c=e(17025),f=e.n(c),d=e(52743),T=e(20501),D=Object.defineProperty,I=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(ne,V,j)=>V in ne?D(ne,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):ne[V]=j,M=(ne,V)=>{for(var j in V||(V={}))a.call(V,j)&&w(ne,j,V[j]);if(l)for(var j of l(V))v.call(V,j)&&w(ne,j,V[j]);return ne},C=(ne,V)=>I(ne,p(V));const L=({pub:ne,podcastUpload:V,section:j,thumbnailInfo:te,useSection:ie})=>{if(ie){const oe=j?(0,T.getSectionUrl)(ne,{section:j}):(0,T.getBaseUrl)(ne);return j?{artUrl:j.logo_url,backgroundUrl:j.cover_photo_url,description:j.description,paidArtUrl:null,title:j.name,url:oe}:{artUrl:ne.logo_url,backgroundUrl:ne.cover_photo_url,description:null,paidArtUrl:null,title:ne.name,url:oe}}const{title:ue,description:he,artUrl:Z,paidEpisodeArtUrl:J}=j&&!ie?(0,O.getSectionPodcastSettings)({pub:ne,section:j}):(0,O.getPubPodcastSettings)({pub:ne}),ae=j?(0,T.getSectionUrl)(ne,{section:j}):(0,T.getBaseUrl)(ne);let le=Z;if(V&&te&&te.thumbnail_id>1){const oe=(0,d.getMediaUploadThumbnailUrlForPlayer)(C(M({},V),{id:te.media_upload_id,post_id:te.post_id,thumbnail_id:te.thumbnail_id}));oe&&(le=oe)}else if(V&&V.thumbnail_id>1){const oe=(0,d.getMediaUploadThumbnailUrlForPlayer)(V);oe&&(le=oe)}return{artUrl:Z,backgroundUrl:le,description:he,paidArtUrl:J!=null?J:null,title:ue,url:ae}},S=[{key:"apple_podcasts",label:"Apple Podcasts",fieldName:"apple_podcasts_url"},{key:"google_podcasts",label:"Google Podcasts",fieldName:"google_podcasts_url"},{key:"overcast",label:"Overcast",fieldName:"overcast_url"},{key:"pocket_casts",label:"Pocket Casts",fieldName:"pocket_casts_url"},{key:"spotify",label:"Spotify",fieldName:"spotify_url"},{key:"youtube",label:"YouTube",fieldName:"youtube_url"}],N=({platform:ne,feedUrl:V,isApple:j,isMobile:te})=>V?ne==="apple_podcasts"&&j?`podcast://${(0,d.stripProtocol)(V)}`:ne==="google_podcasts"&&te?`googlepodcasts://subscribe-by-rss-feed?feed=${btoa(V)}`:ne==="overcast"&&te?`overcast://x-callback-url/add?url=${encodeURIComponent(V)}`:ne==="pocket_casts"&&te?`pktc://subscribe/${(0,d.stripProtocol)(V)}`:null:null,R=({feedUrl:ne,isApple:V,isMobile:j,showLinks:te,isPaid:ie})=>{var ue;const he=[];for(const Z of S){let J;ie&&Z.key!=="youtube"?J=N({platform:Z.key,feedUrl:ne,isApple:V,isMobile:j}):J=(ue=te[Z.fieldName])!=null?ue:N({platform:Z.key,feedUrl:ne,isApple:V,isMobile:j}),J&&he.push({platform:Z.key,url:J})}return he},U=({feedUrl:ne,isApple:V,isMobile:j,render:te,showLinks:ie,user:ue,analyticsSource:he="shows_episode_page"})=>{const Z=g()(S,"key");return u()([...R({feedUrl:ne,isApple:V,isMobile:j,showLinks:ie,isPaid:!!(ue!=null&&ue.is_subscribed)}).map(J=>{const ae=Z[J.platform].label;return te({key:J.platform,label:ae,url:J.url,onClick:()=>{(0,y.track)(y.EVENTS.PODCAST_APP_LINK_CLICK,{appName:ae,feedUrl:ne,url:J.url,source:he}),window.open(J.url,"_blank")}})}),ne&&te({key:"rss",label:"RSS Feed",url:ne,onClick:()=>{(0,y.track)(y.EVENTS.PODCAST_FEED_URL_COPIED,{feedUrl:ne,source:he}),(0,P.ZP)("RSS feed URL copied"),(0,c.copyToClipboard)(ne)}})])},F={apple_podcasts:["https://podcasts.apple.com/","https://itunes.apple.com/"],google_podcasts:["https://podcasts.google.com/"],overcast:["https://overcast.fm/"],pocket_casts:["https://pca.st/"],spotify:["https://open.spotify.com/"],youtube:["https://youtube.com/"]},$=({platform:ne,url:V,language:j})=>{const{iString:te,iTemplate:ie}=I18N.i(j),ue=F[ne];return ue.every(he=>!V.startsWith(he))?{isValid:!1,message:ie`Invalid URL. URL should start with "${ue[0]}"`}:V.length>255?{isValid:!1,message:te("URL can't be longer than 255 characters")}:{isValid:!0,message:null}},G=({showLinks:ne,language:V="en"})=>{const j={};let te=!1;for(const ie of S){const ue=ne[ie.fieldName];if(!ue)continue;const{isValid:he,message:Z}=$({platform:ie.key,url:ue,language:V});!he&&Z&&(j[ie.fieldName]=Z,te=!0)}return te?j:null},Q=({pub:ne,section:V})=>K(V?V.showLinks:ne.show_links),K=ne=>{const V={apple_podcasts_url:null,google_podcasts_url:null,overcast_url:null,pocket_casts_url:null,spotify_url:null,youtube_url:null};if(!ne)return V;for(const j of ne){const te=`${j.platform}_url`;V[te]=j.url}return V},W="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",Y="comments-for-scroll"},82622:(H,E,e)=>{"use strict";e.d(E,{COMMENT_STATUS:()=>c,Hz:()=>P,Ng:()=>d,Sh:()=>y,Zu:()=>g,_N:()=>T,hO:()=>O});var t=e(85200),u=e(46131);const s=1e4,g=9999,P=({likesEnabled:l=!0,language:a="en"}={})=>{const{iString:v}=I18N.i(a),w=[];return w.push({key:"most_recent_first",text:v("New First"),description:v("Newest first (good for live events)")}),l&&w.push({key:"best_first",text:v("Top First"),description:v("Top ranked first")}),w.push({key:"oldest_first",text:v("Chronological"),description:v("Chronological order (oldest first)")}),w},y=(l,a)=>P({language:a}).find(v=>v.key===l).text,O=function(l,a){if(Symbol.iterator in Object(l)){for(const v of l)if(a(v)===!1||O(v.children||[],a)===!1)return!1}},c={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required",reported:"reported"},f=new Set([c.review_required,c.edit_review_required,c.published,c.moderator_approved,c.new_commenter_approval_required,c.reported]),d=l=>l.deleted?!1:f.has(l.status);function T(l,a){const{attachments:v}=l;if(v&&v.length>0){for(const w of v)if(w.type==="post"){for(const M of w.post.publishedBylines)if(M.id===a)return!0;if((0,t.wN)(w.publication,a))return!0}else if(w.type==="comment"){if(w.comment.user_id===a)return!0}else if(w.type==="publication"&&(0,t.wN)(w.publication,a))return!0}return D(l).has(a)}function D(l){var a,v,w;const M=[];if(l.body_json)for(const C of(0,u.Z)(l.body_json))C.type==="substack_mention"&&(((a=C.attrs)==null?void 0:a.mentionType)==="user"||!((v=C.attrs)!=null&&v.mentionType))&&M.push((w=C.attrs)==null?void 0:w.id);return new Set(M)}function I(l){var a,v;const w=[];if(l.body_json)for(const M of traverse(l.body_json))M.type==="substack_mention"&&((a=M.attrs)==null?void 0:a.mentionType)==="pub"&&w.push((v=M.attrs)==null?void 0:v.id);return new Set(w)}function p(l){return l!=null&&l.body_json?!isEmptyNode(l.body_json):!1}},44043:(H,E,e)=>{"use strict";e.d(E,{F:()=>t});const t={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_MEDIA_CLICKED:"Add Episode Media Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",APP_STORE_LINK_CLICKED:"App Store Link Clicked",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BESTSELLER_SURVEY_MODAL_CLOSED:"Bestseller Survey Modal Closed",BESTSELLER_SURVEY_MODAL_SEEN:"Bestseller Survey Modal Seen",BESTSELLER_SURVEY_MODAL_SUBMITTED:"Bestseller Survey Modal Submitted",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_CLICKED:"Comments Clicked",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_REFERRAL_VISIT:"Cover Page Referral Visit",COVER_PAGE_SHOWN:"Cover Page Shown",CREDIT_TOKEN_OPT_OUT_MODAL_CLOSED:"Credit Token Opt Out Modal Closed",CREDIT_TOKEN_OPT_OUT_MODAL_SEEN:"Credit Token Opt Out Modal Seen",CREDIT_TOKEN_READER_ONBOARDING_STARTED:"Credit Token Reader Onboarding Started",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_AWARENESS_UPDATED:"Editor Awareness Updated",EDITOR_CONVERSION_SURVEY_SUBMITTED:"Editor Conversion Survey Submitted",EDITOR_MEDIA_DOWNLOAD_CLICKED:"Editor Media Download Clicked",EDITOR_MEDIA_REMOVE_CLICKED:"Editor Media Remove Clicked",EDITOR_MEDIA_SET_THUMBNAIL_FROM_TIMELINE_CLICKED:"Editor Media Set Thumbnail From Timeline Clicked",EDITOR_MEDIA_SET_THUMBNAIL_UPLOAD_IMAGE_CLICKED:"Editor Media Set Thumbnail Upload Image Clicked",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_DISABLED_APP_UPSELL_DROPDOWN_OPENED:"Email Disabled App Upsell Dropdown Opened",EMAIL_DISABLED_APP_UPSELL_EXPERIMENT_MAYBE_SHOWN:"Email Disabled App Upsell Experiment Maybe Shown",EMAIL_DISABLED_PAGE_APP_UPSELL_CLICKED:"Email Disabled Page App Upsell Clicked",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURED_COLLECTION_ITEM_CLICKED:"Featured Collection Item Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_MODULE_ITEM_CLICKED:"Feed Module Item Clicked",FEED_MODULE_ITEM_SEEN:"Feed Module Item Seen",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOLLOW_REFERRER_PROMPT_CTA_CLICKED:"Follow Referrer Prompt Cta Clicked",FOLLOW_REFERRER_PROMPT_DISMISSED:"Follow Referrer Prompt Dismissed",FOLLOW_REFERRER_PROMPT_REDIRECTED:"Follow Referrer Prompt Redirected",FOLLOW_REFERRER_PROMPT_SHOWN:"Follow Referrer Prompt Shown",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED:"Free Preview Paywall Restart Button Clicked",FREE_PREVIEW_PAYWALL_SHOWN:"Free Preview Paywall Shown",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GOOGLE_SIGN_IN_STARTED:"Google Sign In Started",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",GROW_TAB_CTA_CLICKED:"Grow Tab Cta Clicked",GROW_TAB_SUGGESTION_SHOWN:"Grow Tab Suggestion Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMAGE_CONTEXT_MENU_CLICKED:"Image Context Menu Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR:"Import Publication Error",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_FILE_UPLOAD_ERROR:"Import Publication File Upload Error",IMPORT_PUBLICATION_FILE_UPLOAD_STARTED:"Import Publication File Upload Started",IMPORT_PUBLICATION_FILE_UPLOAD_SUCCEEDED:"Import Publication File Upload Succeeded",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_LAYOUT_CHANGED:"Inbox Layout Changed",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_TAB_CHANGED:"Inbox Tab Changed",INSTAGRAM_SHARE_MODAL_SEEN:"Instagram Share Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SEEN:"Internationalization Beta Optin Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SUBMITTED:"Internationalization Beta Optin Modal Submitted",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_CREDIT_SHARE_SCREEN_SHOWN:"Invite Friends Credit Share Screen Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",INVITE_FRIENDS_PAGE_SEEN:"Invite Friends Page Seen",INVITE_FRIENDS_SIGNIN_MODAL_SEEN:"Invite Friends Signin Modal Seen",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LIST_MANAGEMENT_MODAL_CLOSED:"List Management Modal Closed",LIST_MANAGEMENT_MODAL_ERROR:"List Management Modal Error",LIST_MANAGEMENT_MODAL_PUBLICATION_ADDED:"List Management Modal Publication Added",LIST_MANAGEMENT_MODAL_PUBLICATION_REMOVED:"List Management Modal Publication Removed",LIST_MANAGEMENT_MODAL_PUBLICATION_SEARCHED:"List Management Modal Publication Searched",LIST_MANAGEMENT_MODAL_PUBLICATION_SUGGESTION_ADDED:"List Management Modal Publication Suggestion Added",LIST_MANAGEMENT_MODAL_SEEN:"List Management Modal Seen",LIST_MANAGEMENT_MODAL_SUBMITTED:"List Management Modal Submitted",LIST_PAGE_EDIT_CLICKED:"List Page Edit Clicked",LIST_PAGE_POST_CLICKED:"List Page Post Clicked",LIST_PAGE_POST_SHOWN:"List Page Post Shown",LIST_PAGE_SEEN:"List Page Seen",LIST_PAGE_SHARE_CLICKED:"List Page Share Clicked",LIST_PAGE_SIDEBAR_PUBLICATIONS_CLICKED:"List Page Sidebar Publications Clicked",LIST_PAGE_SIDEBAR_PUBLICATIONS_SUBSCRIBE_CLICKED:"List Page Sidebar Publications Subscribe Clicked",LIST_PAGE_SUBSCRIBE_CLICKED:"List Page Subscribe Clicked",LIST_PAGE_SUBSCRIBE_MODAL_DISMISSED:"List Page Subscribe Modal Dismissed",LIST_PAGE_SUBSCRIBE_MODAL_ERROR:"List Page Subscribe Modal Error",LIST_PAGE_SUBSCRIBE_MODAL_PUBLICATION_CLICKED:"List Page Subscribe Modal Publication Clicked",LIST_PAGE_SUBSCRIBE_MODAL_SEEN:"List Page Subscribe Modal Seen",LIST_PAGE_SUBSCRIBE_MODAL_SUBMITTED:"List Page Subscribe Modal Submitted",LIST_PROFILE_TAB_LIST_CLICKED:"List Profile Tab List Clicked",LIST_PROFILE_TAB_SEEN:"List Profile Tab Seen",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Milestone Media Assets Image Downloaded",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",NOT_YOU_BANNER_DISMISSED:"Not You Banner Dismissed",NOT_YOU_BANNER_TAPPED:"Not You Banner Tapped",NOT_YOU_BANNER_VIEWED:"Not You Banner Viewed",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SKIPPED:"Payment Pledge Note Screen Skipped",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Pledge Note Media Assets Image Downloaded",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EDITOR_CTA_CLICKED:"Podcast Editor Cta Clicked",PODCAST_EDITOR_CTA_DISMISSED:"Podcast Editor Cta Dismissed",PODCAST_EDITOR_CTA_SEEN:"Podcast Editor Cta Seen",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAGE_VISIT_TRACKED:"Post Page Visit Tracked",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_STATS_ANNOUNCEMENT_CLICKED:"Post Stats Announcement Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFERRED_LANGUAGE_SET:"Preferred Language Set",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_MEDIA_CLICKED:"Processing Episode Media Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Publication Media Assets Image Downloaded",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_SHARE_BUTTON_CLICKED:"Publication Share Button Clicked",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLIC_LEADERBOARD_VIEWED:"Public Leaderboard Viewed",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_FLOATING_CTA_HOVERED:"Reader Floating Cta Hovered",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_INVITE_FRIENDS_PAID_REFERRAL_STEP_SHOWN:"Reader Onboarding Invite Friends Paid Referral Step Shown",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",READER_SURVEY_LINKED_IN_POST:"Reader Survey Linked In Post",READER_SURVEY_SEEN:"Reader Survey Seen",READER_SURVEY_SUGGESTED_QUESTION_ADDED:"Reader Survey Suggested Question Added",READING_QUEUE_ITEM_CLICKED:"Reading Queue Item Clicked",READING_QUEUE_ITEM_DISMISSED:"Reading Queue Item Dismissed",READING_QUEUE_ITEM_SEEN:"Reading Queue Item Seen",RECENT_EPISODE_ITEM_CLICKED:"Recent Episode Item Clicked",RECENT_EPISODE_ITEM_SEEN:"Recent Episode Item Seen",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REDIRECTED_PAYMENT_SCREEN_SHOWN:"Redirected Payment Screen Shown",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",RESTACK_SELECTION_CLICKED:"Restack Selection Clicked",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCHEDULED_POST_SEEN:"Scheduled Post Seen",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_DELETION_INITIATED:"Section Deletion Initiated",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SEND_NOTE_AS_EMAIL_CONFIRMATION_CONFIRMED:"Send Note As Email Confirmation Confirmed",SEND_NOTE_AS_EMAIL_CONFIRMATION_REJECTED:"Send Note As Email Confirmation Rejected",SEND_NOTE_AS_EMAIL_PUBLICATION_SELECTED:"Send Note As Email Publication Selected",SEND_NOTE_AS_EMAIL_TOGGLE_CLICKED:"Send Note As Email Toggle Clicked",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_CUSTOMIZE_ASSETS_MODAL_OPENED:"Share Center Customize Assets Modal Opened",SHARE_CENTER_CUSTOMIZE_ASSETS_PREVIEW_TEXT_TOGGLED:"Share Center Customize Assets Preview Text Toggled",SHARE_CENTER_DISPLAY_WELCOME_PAGE_SETTING_CLICKED:"Share Center Display Welcome Page Setting Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_CENTER_VIDEO_DOWNLOADED:"Share Center Video Downloaded",SHARE_CENTER_VIDEO_SELECT_QUOTE_CLICKED:"Share Center Video Select Quote Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SHARE_PUBLICATION_MODAL_OPENED:"Share Publication Modal Opened",SHARE_SELECTION_EDIT_MODAL_OPENED:"Share Selection Edit Modal Opened",SHARE_SELECTION_IMAGE_DOWNLOADED:"Share Selection Image Downloaded",SHARE_SELECTION_INSTAGRAM_MODAL_OPENED:"Share Selection Instagram Modal Opened",SHARE_SELECTION_MODAL_OPENED:"Share Selection Modal Opened",SHARE_SELECTION_RESTACK_CLICKED:"Share Selection Restack Clicked",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SKIPPED:"Subscribe Note Screen Skipped",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PAGE_REFERRAL_VISIT:"Subscribe Page Referral Visit",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_STEP_SHOWN:"Subscribe Screen Step Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Subscription Note Media Assets Image Downloaded",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TRANSCRIPTION_PAGE_VIEWED:"Transcription Page Viewed",TRANSCRIPTION_TOGGLED:"Transcription Toggled",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_INVITE_FRIENDS_CLICKED:"User Menu Invite Friends Clicked",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_CLIP_BUTTON_CLICKED:"Video Clip Button Clicked",VIDEO_CLIP_CREATE_BUTTON_CLICKED:"Video Clip Create Button Clicked",VIDEO_CLIP_CREATE_MODAL_CLOSED:"Video Clip Create Modal Closed",VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED:"Video Clip Download Button Clicked",VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN:"Video Clip Instagram Share Modal Seen",VIDEO_CLIP_LOOP_BUTTON_CLICKED:"Video Clip Loop Button Clicked",VIDEO_CLIP_MODAL_CLOSED:"Video Clip Modal Closed",VIDEO_CLIP_NUX_CLICKED:"Video Clip Nux Clicked",VIDEO_CLIP_NUX_DISMISSED:"Video Clip Nux Dismissed",VIDEO_CLIP_NUX_SEEN:"Video Clip Nux Seen",VIDEO_CLIP_SEEKED:"Video Clip Seeked",VIDEO_CLIP_SEEN:"Video Clip Seen",VIDEO_CLIP_SHARE_BUTTON_CLICKED:"Video Clip Share Button Clicked",VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED:"Video Clip Watch Full Episode Button Clicked",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_PLAY_BUTTON_CLICKED:"Video Play Button Clicked",VIDEO_QUOTE_TEXT_SELECTED:"Video Quote Text Selected",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WEB_PUSH_NOTIFICATIONS_PERMISSION_SET:"Web Push Notifications Permission Set",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},u={ANDROID_AUTO_CONNECTED:"Android Auto Connected",ANDROID_AUTO_DISCONNECTED:"Android Auto Disconnected",APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DEFAULT_TAB_CHANGED:"Default Tab Changed",DENIED_CONTACTS_ACCESS:"Denied Contacts Access",DIRECT_MESSAGE_CONVERSATION_VIEWED:"Direct Message Conversation Viewed",DIRECT_MESSAGE_REQUESTS_VIEWED:"Direct Message Requests Viewed",DIRECT_MESSAGE_SEARCH_VIEWED:"Direct Message Search Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",GRANTED_CONTACTS_ACCESS:"Granted Contacts Access",HIDDEN_PUBLICATIONS_VIEWED:"Hidden Publications Viewed",IAP_PAYMENT_PROCESSED:"Iap Payment Processed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_INTERESTS_VIEWED:"Manage Interests Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_MANAGE_SUBSCRIPTION_ITEM_TAPPED:"Mobile Manage Subscription Item Tapped",MOBILE_MANAGE_SUBSCRIPTION_SCREEN_VIEWED:"Mobile Manage Subscription Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",MOBILE_SUBSCRIBE_CTA_TAPPED:"Mobile Subscribe Cta Tapped",MOBILE_SUBSCRIBE_SCREEN_COMPLETED:"Mobile Subscribe Screen Completed",MOBILE_SUBSCRIBE_SCREEN_OPTION_SELECTED:"Mobile Subscribe Screen Option Selected",MOBILE_SUBSCRIBE_SCREEN_VIEWED:"Mobile Subscribe Screen Viewed",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PRIVACY_SETTINGS_SCREEN_VIEWED:"Privacy Settings Screen Viewed",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",REQUESTING_CONTACTS_ACCESS:"Requesting Contacts Access",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SHARE_HANDLE_TO_TWITTER_BUTTON_CLICKED:"Share Handle To Twitter Button Clicked",SHARE_HANDLE_TO_TWITTER_MODAL_DISMISSED:"Share Handle To Twitter Modal Dismissed",SHARE_HANDLE_TO_TWITTER_MODAL_OPENED:"Share Handle To Twitter Modal Opened",SHARE_PUBLICATION_EDIT_MODAL_OPENED:"Share Publication Edit Modal Opened",SHOW_EXPLICIT_CONTENT_TAPPED:"Show Explicit Content Tapped",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed",WIDGETS_INSTALLED:"Widgets Installed"}},18349:(H,E,e)=>{"use strict";e.r(E),e.d(E,{I18N:()=>U,I18N_EXPERIMENT_ROUTES:()=>v,I18N_MARKETING_PAGES:()=>a,I18N_MARKETING_REDIRECTS:()=>l,defaultTemplateTranslate:()=>C,getLanguage:()=>L,i:()=>S,l:()=>R,p:()=>N,serializeStringTemplate:()=>M,supportedLanguages:()=>I,supportedNonEnglishLanguages:()=>p});/*! gettext.js - Guillaume Potier - MIT Licensed */var t=function(F){F=F||{},this&&(this.__version="1.1.1");var $={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(J){return{nplurals:2,plural:J!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},G={isObject:function(J){var ae=typeof J;return ae==="function"||ae==="object"&&!!J},isArray:function(J){return toString.call(J)==="[object Array]"}},Q={},K=F.locale||$.locale,W=F.domain||$.domain,Y={},ne={},V=F.ctxt_delimiter||$.ctxt_delimiter;F.messages&&(Y[W]={},Y[W][K]=F.messages),F.plural_forms&&(ne[K]=F.plural_forms);var j=function(J){var ae=arguments;return J.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(le,oe){return ae[oe]}).replace(/%% /g,"%")},te=function(J){if(J.indexOf(V)!==-1){var ae=J.split(V);return ae[1]}return J},ie=function(J){for(var ae=[J],le=J.lastIndexOf("-");le>0;)J=J.slice(0,le),ae.push(J),le=J.lastIndexOf("-");return ae},ue=function(J){J=J.replace("_","-");var ae=J.search(/[.@]/);return ae!=-1&&(J=J.slice(0,ae)),J},he=function(J){var ae=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!ae.test(J))throw new Error(j('The plural form "%1" is not valid',J));return new Function("n","var plural, nplurals; "+J+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},Z=function(J,ae,le){if(!le.plural_form)return j.apply(this,[te(J[0])].concat(Array.prototype.slice.call(arguments,3)));var oe;return le.plural_func?oe=le.plural_func(ae):(Q[K]||(Q[K]=he(ne[K])),oe=Q[K](ae)),(typeof oe.plural=="undefined"||oe.plural>oe.nplurals||J.length<=oe.plural)&&(oe.plural=0),j.apply(this,[te(J[oe.plural]),ae].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:j,expand_locale:ie,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(J,ae,le,oe){if(!J||!ae||!le)throw new Error("You must provide a domain, a locale and messages");if(typeof J!="string"||typeof ae!="string"||!G.isObject(le))throw new Error("Invalid arguments");return ae=ue(ae),oe&&(ne[ae]=oe),Y[J]||(Y[J]={}),Y[J][ae]=le,this},loadJSON:function(J,ae){if(G.isObject(J)||(J=JSON.parse(J)),!J[""]||!J[""].language||!J[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var le=J[""];return delete J[""],this.setMessages(ae||$.domain,le.language,J,le["plural-forms"])},setLocale:function(J){return K=ue(J),this},getLocale:function(){return K},textdomain:function(J){return J?(W=J,this):W},gettext:function(J){return this.dcnpgettext.apply(this,[void 0,void 0,J,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(J,ae,le){return this.dcnpgettext.apply(this,[void 0,void 0,J,ae,le].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(J,ae){return this.dcnpgettext.apply(this,[void 0,J,ae,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(J,ae,le,oe,ee){if(J=J||W,typeof le!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',le));var z,re={plural_form:!1},se=ae?ae+V+le:le,fe,Ee,ge=ie(K);for(var be in ge)if(Ee=ge[be],fe=Y[J]&&Y[J][Ee]&&Y[J][Ee][se],oe?fe=fe&&typeof Y[J][Ee][se]!="string":fe=fe&&typeof Y[J][Ee][se]=="string",fe)break;return fe?z=Y[J][Ee][se]:(z=le,re.plural_func=$.plural_func),oe?(re.plural_form=!0,Z.apply(this,[fe?z:[le,oe],ee,re].concat(Array.prototype.slice.call(arguments,5)))):Z.apply(this,[[z],ee,re].concat(Array.prototype.slice.call(arguments,5)))}}};const u=t,s=u();s.setLocale("de");const g=u();g.setLocale("de");const P=u();P.setLocale("fr");const y=u();y.setLocale("es");const O=u();O.setLocale("pt");const c=u();c.setLocale("pt");const f=u();f.setLocale("it");const d=u();u().setLocale("en");const D="en",I=["en","de","es","fr","pt","pt-br","it","de-machine"],p=["de","es","fr","pt","pt-br","it","de-machine"],l={"/":"/home-i","/going-paid":"/going-paid-i","/about":"/about-i"},a=[...new Set([...Object.keys(l),...Object.values(l),"/signup","/get-started"])],v=["/subscribe","/"],w=F=>({de:s,es:y,fr:P,pt:O,"pt-br":c,it:f,"de-machine":g})[F]||d,M=F=>(Array.isArray(F)?(F[0]||"")+F.slice(1).map(($,G)=>`%${G+1}${$}`).join(""):F).toString(),C=(F,...$)=>{const G=M(F);return d.gettext(G,...$)},L=({pub:F,locale:$,forceLocale:G=!1}={})=>{let Q;switch($==null?void 0:$.language){case"de":Q="de";break;case"es":Q="es";break;case"fr":Q="fr";break;case"pt":Q="pt";break;case"pt-br":Q="pt-br";break;case"it":Q="it";break;case"de-machine":Q="de-machine";break;default:Q="en"}return G?Q:(F==null?void 0:F.language)||Q||D},S=(F=D)=>{const $=typeof F=="string"?F:F?L({pub:F.pub}):D,G=w($),Q=W=>W.replace(/%%([A-Za-z_]+)%($|\w){1}/g,"%%$1%% ");return{iString:(W,...Y)=>Q(G.gettext(W,...Y)),iPlural:(W,Y,ne,...V)=>Q(G.ngettext(W,Y,ne,...V)),iContext:(W,Y,...ne)=>Q(G.pgettext(W,Y,...ne)),iTemplate:(W,...Y)=>{const ne=M(W);return Q(G.gettext(ne,...Y))},iCombo:(W,Y,ne,V,...j)=>Q(G.dcnpgettext(null,W,Y,ne,V,...j))}},N=F=>[F,null],R=(F,$)=>{const G=w(F),Q=JSON.parse(JSON.stringify($));G.loadJSON(Q,"messages")},U={i:S,p:N,l:R};if(typeof window=="undefined"){const F=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-de.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("de",F);const $=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-de-machine.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("de-machine",$);const G=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-es.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("es",G);const Q=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-fr.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("fr",Q);const K=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-it.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("it",K);const W=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-pt.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("pt",W);const Y=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-pt-br.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("pt-br",Y)}typeof window!="undefined"?window.I18N=U:e.g.I18N=U},61782:(H,E,e)=>{"use strict";e.d(E,{L:()=>t});const t=1653592864},74806:(H,E,e)=>{"use strict";e.r(E),e.d(E,{canSubscribeToPubPodcast:()=>J,canSubscribeToSectionPodcast:()=>ae,canSyndicateVoiceoverDraft:()=>ne,feedUrlBelongsToSamePub:()=>ie,filterForPublicSections:()=>ee,getAspectRatioFromBucketeerUrl:()=>j,getCouponType:()=>re,getEmailSetting:()=>le,getFoundingTierMinimum:()=>G,getFoundingTierName:()=>Q,getFoundingTierPlan:()=>$,getLogo:()=>F,getMediaDuration:()=>L,getMediaFileSize:()=>S,getNewslettersForSubscribeFromPub:()=>z,getPaidOrFoundingTierNameForPost:()=>W,getPodcastFeedDestinations:()=>Z,getSectionPodcasts:()=>T,getSectionsForPost:()=>ge,hasCustomThemeContext:()=>be,hasFreePodcastUrl:()=>U,hasMultiplePodcasts:()=>O,hasOnePodcast:()=>d,hasPodcast:()=>f,hasPodcastPreview:()=>R,hasVoiceover:()=>Y,isSectionedPub:()=>y,mediaUploadHasProblem:()=>K,paymentsAreEnabled:()=>M,planFromPubIsClassicFounding:()=>fe,planIsFixedPriceFounding:()=>Ee,podcastPostIsFreePreview:()=>N,pubCouldHavePublicPodcastUrl:()=>I,sectionCouldHavePublicPodcastUrl:()=>p,subIsOnClassicFoundingPlan:()=>se,userCouldSeePublicPodcastUrls:()=>l,userCouldSubscribeToPodcast:()=>a,userIsFreeOnly:()=>v,userIsPaidSubscriber:()=>w});var t=e(3313),u=e(68842),s=e(83322),g=e(52743),P=e(20501);const y=me=>{var pe;return!!(me!=null&&me.sections)&&((pe=me.sections)==null?void 0:pe.length)>0},O=me=>me?c(me)>1:!1,c=me=>{if(!me)return 0;let pe=[];return y(me)&&(pe=T(me)),(me.podcast_enabled?1:0)+pe.length},f=me=>me?c(me)>0:!1,d=me=>c(me)===1,T=me=>!me||!y(me)?[]:me.sections.filter(pe=>pe.is_podcast),D=me=>!!me&&!me.includes("substack"),I=me=>D(me.podcast_feed_url),p=me=>{var pe;return D((pe=me.podcastSettings)==null?void 0:pe.podcast_feed_url)},l=me=>{if(!me)return!1;if(I(me))return!0;if(O(me)&&y(me)){const pe=T(me);for(const Le of pe)if(p(Le))return!0}return!1},a=(me,pe)=>!pe||!f(pe)||pe.hide_podcast_feed_link?!1:pe.has_free_podcast?!0:pe.has_subscriber_only_podcast?w(me):!1,v=me=>me?!!(me.is_free_subscribed&&!me.is_subscribed):!1,w=me=>me?!!me.is_subscribed:!1,M=me=>me?me.payments_state==="enabled":!1,C=(me,{usePreview:pe=!1,useDraft:Le=!1}={})=>{switch(me==null?void 0:me.type){case"newsletter":return Le?me.draftVoiceoverUpload:me.voiceoverUpload;case"podcast":return pe?Le?me.draftPodcastPreviewUpload:me.podcastPreviewUpload:Le?me.draftPodcastUpload:me.podcastUpload;case"video":return Le?me.draftVideoUpload:me.videoUpload;default:return null}},L=(me,{usePreview:pe=!1,useDraft:Le=!1}={})=>{var je;if(!me)return null;const xe=C(me,{usePreview:pe,useDraft:Le});if(xe)return(je=xe.duration)!=null?je:null;if((me==null?void 0:me.type)==="podcast"&&!pe){const ye=Le?me.draft_podcast_duration:me.podcast_duration;return ye!=null?ye:null}return null},S=(me,{usePreview:pe=!1,useDraft:Le=!1}={})=>{var je,xe;if(!me)return null;const ye=C(me,{usePreview:pe,useDraft:Le});return ye?(je=ye.primary_file_size)!=null?je:null:(me==null?void 0:me.type)==="podcast"&&!pe&&!Le&&(xe=me.legacy_podcast_file_size)!=null?xe:null},N=me=>!me||me.type!=="podcast"||!me.podcastUpload?!1:!!me.podcastUpload.is_free_preview,R=me=>!!me&&!!me.podcast_preview_upload_id,U=({post:me})=>{var pe;return!!me&&!!((pe=me.podcastFields)!=null&&pe.free_podcast_url)},F=me=>{var pe,Le;return me.is_www?(pe=me.logo_url)!=null?pe:void 0:me.logo_url||me.cover_photo_url||me.author_photo_url||((Le=me.author)==null?void 0:Le.photo_url)},$=me=>{var pe;return!me||!("plans"in me)||!Array.isArray(me==null?void 0:me.plans)?null:(pe=me.plans.find(Le=>fe({plan:Le})))!=null?pe:null},G=({pub:me,currency:pe})=>{const Le=$(me);if(!Le)return null;const je=Le;return(0,u.vq)(je,pe)},Q=me=>{var pe,Le;if((0,t.VL)({pub:me}))return"Founders";const je=$(me);return(Le=(pe=je==null?void 0:je.metadata)==null?void 0:pe.short_description)!=null?Le:null},K=me=>!me||!me.state?!1:me.state==="error"||me.state==="cancelled",W=(me,pe)=>(pe==null?void 0:pe.audience)==="founding"&&Q(me)||"paid",Y=me=>!!me&&!!me.voiceover_upload_id,ne=(me,pe)=>!me||!pe||!f(me)?!1:!!pe.draft_voiceover_upload_id,V=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i,j=me=>{const pe=me.match(V);return pe?parseInt(pe[1])/parseInt(pe[2]):null},te=({pub:me,url:pe})=>{var Le,je;if(!pe.includes("api.substack.com"))return null;if(pe.includes(`/feed/podcast/${me.id}.rss`))return me.podcast_title||me.name;if(pe.includes(`/feed/podcast/${me.id}/s/`)){const xe=(je=(Le=pe.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:Le.groups)==null?void 0:je.sectionId;if(!xe)return"Unknown section";const ye=me.sections.find(Me=>Me.id===parseInt(xe));return ye?ye.name:"Unknown Section"}return"another podcast"},ie=({pub:me,url:pe})=>pe.includes("api.substack.com")?pe.includes(`/feed/podcast/${me.id}/s/`)||pe.includes(`/feed/podcast/${me.id}.rss`):!1,ue=me=>{if(!me)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!me.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!me.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const pe=te({pub:me,url:me.podcast_feed_url});return pe?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${pe}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${me.podcast_feed_url}.`}},he=({pub:me,section:pe})=>{var Le;if(!pe.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const je=((Le=pe.podcastSettings)==null?void 0:Le.podcast_feed_url)||null;if(!je)return{can_syndicate:!0,hover_text:null};const xe=te({pub:me,url:je});return xe?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${xe}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${je}.`}},Z=({pub:me})=>{var pe;const Le=[];if(me.podcast_enabled||me.podcast_title){const je=ue(me);Le.push({name:me.podcast_title||me.name,description:me.podcast_description||"",can_publish_to:je.can_syndicate,hover_text:je.hover_text,publication_id:me.id,section_id:null})}for(const je of(pe=me.sections)!=null?pe:[]){if(!je.is_podcast)continue;const xe=he({pub:me,section:je});Le.push({name:je.name,description:je.description,can_publish_to:xe.can_syndicate,hover_text:xe.hover_text,publication_id:me.id,section_id:je.id})}return Le},J=me=>!me||!me.podcast_enabled?!1:me.podcast_feed_url?!ie({pub:me,url:me.podcast_feed_url}):!0,ae=({pub:me,section:pe})=>{var Le;if(!pe.is_podcast)return!1;const je=((Le=pe.podcastSettings)==null?void 0:Le.podcast_feed_url)||null;return je?!ie({pub:me,url:je}):!0},le=(me,pe=0)=>pe?oe(me,pe):me.email_disabled?"none":me.receive_podcast_emails?"all":"allButPodcasts",oe=(me,pe)=>{var Le;return!me.email_settings||!me.email_settings[pe]?null:me.email_settings[pe]==="disabled"?"none":(Le=me.section_podcasts_enabled)!=null&&Le.includes(pe)?"all":"allButPodcasts"},ee=me=>me.filter(pe=>pe.is_live),z=({pub:me,includeMainPub:pe,excludePodcasts:Le})=>{var je;if(!me)return[];const xe=[];return pe&&xe.push({name:me.name,description:me.hero_text,logoUrl:me.logo_url,sectionId:null,linkUrl:(0,g.getArchiveUrl)(me),defaultOn:!0}),(je=me.sections)==null||je.forEach(ye=>{Le&&ye.is_podcast&&!(0,s.sectionIsSpecificallyMarkedAsNewsletter)({section:ye,pub:me})||xe.push({name:ye.name,description:ye.description,logoUrl:ye.logo_url,sectionId:ye.id,linkUrl:(0,P.getSectionUrl)(me,{section:ye}),defaultOn:ye.is_default_on})}),xe},re=me=>me.trial_period_days>0?"FREE_TRIAL":me.extra_seats>0?"EXTRA_SEATS":"PERCENT_OFF";function se({sub:me}){return!me||!me.plan||!me.is_founding||!me.plan.metadata?!1:!me.plan.metadata.fixed_price}function fe({plan:me}){return me.metadata?!!me.metadata.founding&&!me.metadata.fixed_price:!1}function Ee({plan:me}){return!me||!me.metadata?!1:!!me.metadata.founding&&!!me.metadata.fixed_price}const ge=(me,pe)=>{if(y(me)){if(["newsletter","thread","podcast","video"].includes(pe))return me.sections}else return null;return null},be=me=>{var pe;return(typeof window!="undefined"?((pe=window._preloads)==null?void 0:pe.customPublicationThemeContext)||[]:[]).includes(me)}},22434:(H,E,e)=>{"use strict";e.d(E,{H:()=>t});function t({category:u}){switch(u){case"hate":return"Hate";case"private_information":return"Private information";case"plagiarism":return"Plagiarism";case"impersonation":return"Impersonation";case"illegal_activity":return"Illegal activity";case"spam":return"Spam";case"pornography":return"Pornography";case"other":return"Other";default:return console.error("unrecognized category",u),"Other"}}},48971:(H,E,e)=>{"use strict";e.r(E),e.d(E,{DEFAULT_MINIMUM_RATES:()=>s,MAX_MONTHLY_RATE:()=>g,MAX_YEARLY_RATE:()=>P,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>u,currencyFormattedPledgePriceString:()=>O,validatePledgePrices:()=>y});var t=e(83322);const u={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},s={month:5,year:50,founding:50},g=99999999,P=99999999,y=c=>{const{value:f,interval:d,is_founding:T,currency:D}=c,I=(u[D.toLowerCase()]||s)[T?"founding":d],p=d==="month"?g:P;return f<I?`${(0,t.toTitleCase)(d)}ly plan price must be at least ${O(I,D)}`:f>p?`${(0,t.toTitleCase)(d)}ly${c.is_founding?" founding":""} plan price must be less than ${O(p,D)}`:null},O=(c,f)=>(0,t.centsToPriceString)(c*((0,t.isZeroDecimalCurrency)(f)?1:100),f)},6385:(H,E,e)=>{"use strict";e.r(E),e.d(E,{getAllAudiences:()=>I,getAudiencesForPublicListing:()=>p,getCommentAuthor:()=>K,getCoverImageUrl:()=>W,getFoundingAudiences:()=>a,getFreePodcastUrl:()=>Y,getPaidAudiences:()=>l,getPostAuthor:()=>Q,isFoundingAudience:()=>w,isPaidAudience:()=>v,previewSubHasFullAccessToPost:()=>G,pubRoleHasFullAccessToPost:()=>F,pubRolesHaveFullAccessToPost:()=>$,shouldShowPaidPodcastArt:()=>ne,subHasFullAccessToPost:()=>N,subHasFullAccessToPostAudience:()=>R,userHasFullAccessToPost:()=>L});var t=e(74806),u=Object.defineProperty,s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(V,j,te)=>j in V?u(V,j,{enumerable:!0,configurable:!0,writable:!0,value:te}):V[j]=te,O=(V,j)=>{for(var te in j||(j={}))g.call(j,te)&&y(V,te,j[te]);if(s)for(var te of s(j))P.call(j,te)&&y(V,te,j[te]);return V},c=(V,j)=>{var te={};for(var ie in V)g.call(V,ie)&&j.indexOf(ie)<0&&(te[ie]=V[ie]);if(V!=null&&s)for(var ie of s(V))j.indexOf(ie)<0&&P.call(V,ie)&&(te[ie]=V[ie]);return te};const f=["founding","only_paid","everyone","only_free"],d=["founding","only_paid","everyone"],T=["founding","only_paid"],D=["founding"];function I(){return[...f]}function p(){return[...d]}function l(){return[...T]}function a(){return[...D]}function v(V){return l().includes(V)}function w(V){return a().includes(V)}function M(V,j){if(!j||(V==null?void 0:V.subscription_publication_id)===j){if(V!=null&&V.is_founding||V!=null&&V.is_contributor)return"founding";if(V!=null&&V.is_subscribed)return"paid"}return"free"}function C(V){switch(V){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${V}`)}}function L(V,j,te){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const ie=M(V,j.publication_id);return C(j.audience).includes(ie)}function S(V,j){if(!j||(V==null?void 0:V.publication_id)===j){if((V==null?void 0:V.membership_state)==="subscribed"&&(V!=null&&V.is_founding))return"founding";if((V==null?void 0:V.membership_state)==="subscribed")return"paid"}return"free"}function N(V,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const te=S(V,j.publication_id);return C(j.audience).includes(te)}function R(V,j){const te=S(V);return C(j).includes(te)}function U(V){return(V==null?void 0:V.role)==="admin"||(V==null?void 0:V.role)==="contributor"||(V==null?void 0:V.membership_state)==="subscribed"&&(V!=null&&V.is_founding)?"founding":(V==null?void 0:V.membership_state)==="subscribed"?"paid":"free"}function F(V,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const te=U(V);return C(j.audience).includes(te)}function $(V,j){return!!(j&&F(V==null?void 0:V[j.publication_id],j))}function G(V,j,{audienceOverride:te}){if(!j)return!1;if(!j.audience&&!te)throw new Error("Post has no audience");const ie=V;return C(te!=null?te:j.audience).includes(ie)}function Q(V,j){var te;const ie=(te=j==null?void 0:j.publishedBylines)==null?void 0:te[0];if(ie)return ie;const ue=V.contributors.find(Z=>Z.owner);if(ue){const Z=ue,{user_id:J}=Z,ae=c(Z,["user_id"]);return O({id:J},ae)}const he=V.contributors.find(Z=>["admin","contributor"].includes(Z.role));if(he){const Z=he,{user_id:J}=Z,ae=c(Z,["user_id"]);return O({id:J},ae)}return{id:V.author_id,name:V.author_name,photo_url:V.author_photo_url,bio:V.author_bio}}function K(V){var j,te,ie,ue,he,Z,J,ae,le,oe,ee,z,re,se,fe;return{id:(ie=(te=(j=V.user)==null?void 0:j.id)!=null?te:V.user_id)!=null?ie:-1,name:(Z=(he=(ue=V.user)==null?void 0:ue.name)!=null?he:V.name)!=null?Z:"",handle:(ae=(J=V.user)==null?void 0:J.handle)!=null?ae:V.handle,photo_url:(oe=(le=V.user)==null?void 0:le.photo_url)!=null?oe:V.photo_url,bestseller_tier:(re=(z=(ee=V.user)==null?void 0:ee.bestseller_tier)!=null?z:V.user_bestseller_tier)!=null?re:null,primary_publication:(fe=(se=V.user)==null?void 0:se.primary_publication)!=null?fe:V.user_primary_publication}}function W(V){return!V.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(V.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(V.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(V.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(V.cover_image)?null:V.cover_image}function Y({post:V}){var j,te;return(te=(j=V.podcastFields)==null?void 0:j.free_podcast_url)!=null?te:null}function ne({post:V,user:j}){return!V||!(j!=null&&j.is_subscribed)&&(0,t.hasFreePodcastUrl)({post:V})?!1:v(V.audience)}},85200:(H,E,e)=>{"use strict";e.d(E,{FV:()=>f,Im:()=>y,ab:()=>O,wN:()=>c});var t=e(39693),u=e.n(t),s=e(52743),g=e(83322);const P=function(d){const T=d.trim();return(0,g.endsWithPunctuation)(T)?T:`${T}.`},y=function(d,T=3){if(!(d!=null&&d.length)||!d[0].owner)return null;const D=d[0].name;if(d.length===1)return{owner:D,others:null};let I=d.slice(1);if(I.length>T&&(I=I.filter(p=>p.role==="admin")),I.length&&I.length<=T){const p=I.map(l=>l.name);return{owner:D,others:(0,g.oxfordComma)(p).toString()}}return{owner:D,others:null}},O=function(d,T,D,I,p){const l=d?P(d):"";let a;T&&!T.others?I.toLowerCase().includes(T.owner.toLowerCase())?a="":a=` by ${T.owner},`:a="";let v;return D?v=` a Substack publication with ${D}.`:p?v=` a Substack publication. ${p}.`:v=" a Substack publication.",P(`${l} Click to read ${I},${a}${v}`)};function c(d,T){if(d){if(d.author_id===T)return!0;for(const D of d.contributors)if(D.user_id===T)return!0}return!1}const f=d=>{const T=d.podcast_enabled?{title:d.podcast_title,subtitle:d.podcast_description,podcast_art_url:d.podcast_art_url,url:(0,s.getPodcastLandingUrl)({pub:d,section:null}),section_id:null}:null,D=d.sections.filter(I=>I.is_podcast).map(I=>{var p,l;return{title:I.name,subtitle:(p=I.podcastSettings)==null?void 0:p.podcast_description,podcast_art_url:(l=I.podcastSettings)==null?void 0:l.podcast_art_url,url:(0,s.getPodcastLandingUrl)({pub:d,section:I}),section_id:I.id}});return u()([T,...D])}},91613:(H,E,e)=>{"use strict";e.d(E,{x:()=>u});var t=e(6385);const u=(s,g,P,y,O)=>!(!O&&!(s!=null&&s.has_publication)||y.invite_only||(0,t.isPaidAudience)(P.audience)||!g.enable_restacking)},95788:(H,E,e)=>{"use strict";e.d(E,{H:()=>g});var t=e(71171),u=e.n(t);const s=(P,{softMax:y=32,hardMax:O=48,extension:c=!1,extensionSeparator:f="-"}={})=>{let d=g(P);if(d.length>y){const D=d.indexOf("-",y);D!==-1&&(d=d.substr(0,D))}d.length>O&&(d=d.substr(0,O));const T=c&&typeof c=="string"?c:uuid().substr(0,3);return d?c&&(d+=`${f}${T}`):d=T,d},g=(P,{hashIfEmpty:y=!1,allowUnicode:O=!1}={})=>{const c=(P||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(O?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return P&&typeof P=="string"&&!c&&y?Array.from(P).map(f=>f.codePointAt(0)).map(f=>{var d;return(d=f==null?void 0:f.toString(16))!=null?d:""}).join("").substring(0,12):c}},68842:(H,E,e)=>{"use strict";e.d(E,{vq:()=>d});var t=e(27484),u=e.n(t),s=e(18029),g=e.n(s),P=e(83322);const y={"This customer has no attached payment source":"Please enter payment details"},O=({amount:w,currency:M,interval:C,interval_count:L=1})=>{let S;return C==="month"&&L===3?S="quarter":C==="month"&&L===6&&(S="semiannual"),`${centsToPriceString(w,M)} ${S?`${S}ly`:`a ${C}`}`},c=w=>{const{source:M,payment_method_details:C}=w,L=M||(C==null?void 0:C.card);if(!L){const R=a(C==null?void 0:C.type),U=v(C);return R?`${R}${U?` (${U})`:""}`:"n/a"}const{brand:S,last4:N}=L;return`${S} (\u2013${N})`},f=(w,M)=>{var C;let L;if(!M||M===w.currency)L=w.object==="price"?w.unit_amount:w.amount;else{if(!((C=w.currency_options)!=null&&C[M]))return;L=w.currency_options[M].unit_amount}return L!=null?L:0},d=(w,M)=>{var C;return!M||M===w.currency?w.metadata.minimum:(C=w.metadata.minimum_local)==null?void 0:C[M]},T=w=>w.billing==="send_invoice",D=(w,M)=>{if(w==="open"&&dayjs(M).isBeforeNow())return"Overdue";switch(w){case"open":return"Unpaid";default:return startCase(w)}},I=(w,{language:M})=>{const{iString:C}=I18N.i(M!=null?M:"en");switch(w){case"active":return C("Active");case"canceled":return C("Canceled");case"incomplete":return C("Incomplete");case"incomplete_expired":return C("Incomplete Expired");case"past_due":return C("Past Due");case"trialing":return C("Trialing");case"unpaid":return C("Unpaid");default:return startCase(w)}},p=w=>y[w]?y[w]:w.includes("Set an `address` on the customer object and verify with the `tax[automatic_tax]` status.")?"Please enter your billing details and try again":null,l=(w,M)=>{if(M)return"Refunded";switch(w){case"succeeded":return"Paid";default:return startCase(w)}},a=w=>{switch(w){case"card":return"Card";case"bancontact":return"Bancontact";case"ideal":return"iDEAL";case"sofort":return"Sofort";case"sepa_debit":return"SEPA Direct Debit";default:return startCase(w)}},v=w=>{var M,C,L,S,N;return w!=null&&w.card?(M=w.card)==null?void 0:M.last4:w!=null&&w.ach_debit?(C=w.ach_debit)==null?void 0:C.last4:w!=null&&w.bancontact?(L=w.bancontact)==null?void 0:L.iban_last4:w!=null&&w.sepa_debit?(S=w.sepa_debit)==null?void 0:S.last4:w!=null&&w.us_bank_account?(N=w.us_bank_account)==null?void 0:N.last4:null}},86418:(H,E,e)=>{"use strict";e.d(E,{P:()=>s});const t=new Set(["subscribed","free_signup"]);function u(g){return t.has(g)}function s(g,P){if(!g)return!1;if(!P)return!0;const y=["unsubscribed","free_signup","subscribed"];return y.indexOf(g)>=y.indexOf(P)}},46131:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});function*t(u){if(yield u,u.content)for(const s of u.content)yield*t(s)}},85870:(H,E,e)=>{"use strict";e.d(E,{bP:()=>u,sC:()=>t});var t=(g=>(g.Removed="removed",g.Unavailable="unavailable",g.BlockedYou="blocked-you",g.YouBlocked="you-blocked",g.YouMuted="you-muted",g))(t||{});function u(g){return g.type==="missing"}const s=null},20501:(H,E,e)=>{"use strict";e.d(E,{CDN_URL:()=>s.L4,_getUrl:()=>s.JD,extractDimensionsFromImageUrl:()=>je,getBaseAppLinkUrl:()=>s.ZX,getBaseUrl:()=>s.SV,getCancelOrUncancelUrl:()=>or,getChatUrl:()=>jn,getCommunityCommentAppLinkUrl:()=>fe,getCommunityPostAppLinkUrl:()=>se,getConnectFacebookUrl:()=>Wt,getConnectTwitterUrl:()=>Pt,getDashboardHomeUrl:()=>V,getDonateSubscriptionUrl:()=>C,getEditPostUrlById:()=>P.AN,getFeedCommentUrl:()=>g.Sg,getFeedPostUrl:()=>g.rc,getFeedShortPostUrl:()=>g.mx,getFeedUrl:()=>g.E2,getGroupManagementUrl:()=>Y,getHostname:()=>s.Fo,getInviteFriendsCreditPageUrl:()=>Pn,getLeaderboardUrl:()=>Or,getLikelyLoggedInParam:()=>P._N,getLinkToVideo:()=>P.ws,getLinkableElementIdForVideo:()=>P.jn,getManageGroupSubscriptionUrl:()=>G,getMeetingOrderUrl:()=>ie,getMeetingsUrl:()=>ue,getMentionsUrl:()=>Ge,getNavigationBarItemUrl:()=>ze,getNoteCommentPreviewUrl:()=>g.IY,getPodcastArchiveUrl:()=>me,getPodcastRssUrlFromIds:()=>Ar,getPostDashboardUrl:()=>ne,getPostDetailsPageUrl:()=>gr,getPostDetailsShareCenterUrl:()=>Dr,getPostTagUrl:()=>wt,getPostUrl:()=>P.uR,getPostUrlBySlug:()=>P.Mo,getProfileUrlById:()=>y.GR,getPubAccountSettingsUrl:()=>P.mG,getPubConnectTwitterUrl:()=>vt,getPublicationAppLinkUrl:()=>z,getPublicationChatAppLinkUrl:()=>re,getPublishBaseUrl:()=>Q,getPublishSettingsUrl:()=>K,getReaderCollectionUrl:()=>En,getReaderPostUrl:()=>Ut,getReaderProfileUrl:()=>y.NN,getSectionUrl:()=>Ke,getSubscribeUrl:()=>v,getSubscriberDashboardUrl:()=>te,getSubstackUrl:()=>s.ZJ,getSubstackUrlWithDomain:()=>s.y,getWebChatUrl:()=>M,imginary:()=>pe,parseUrl:()=>De,pathWithQuery:()=>s.n1,serializeQuery:()=>s.Y$,stripeBaseUrl:()=>Ie,substackDomain:()=>s.T9,unimginary:()=>Le});var t=e(82626),u=e(95788),s=e(30123),g=e(70444),P=e(36250),y=e(2731),O=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(Xe,ot,Ue)=>ot in Xe?O(Xe,ot,{enumerable:!0,configurable:!0,writable:!0,value:Ue}):Xe[ot]=Ue,p=(Xe,ot)=>{for(var Ue in ot||(ot={}))T.call(ot,Ue)&&I(Xe,Ue,ot[Ue]);if(d)for(var Ue of d(ot))D.call(ot,Ue)&&I(Xe,Ue,ot[Ue]);return Xe},l=(Xe,ot)=>c(Xe,f(ot));const a=(Xe,ot={})=>{const Ue=p({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},ot),tt=getBaseUrl(Xe);return pathWithQuery(tt,p(p({},Ue),ot))};function v(Xe,{root:ot,user:Ue,addBase:tt,skipToken:ft=!1,params:Ct={}}={}){var yt;if(ot?/[&?]$/.test(ot)||(ot.includes("?")||ot.endsWith("%%")?ot+="&":ot+="?"):ot=tt?`${(0,s.SV)(Xe)}/subscribe?`:"/subscribe?",Ue!=null&&Ue.email)Ct.autoSubmit=!0,Ct.email=Ue==null?void 0:Ue.email;else if(!Ct.token&&!ft){const{getQueryItem:Te}=e(52743),Ye=typeof window!="undefined"&&((yt=window._preloads)!=null&&yt.original_url)?Te(window._preloads.original_url,"token"):null;Ct.token=Ye}return ot+(0,s.Y$)(Ct)}function w({pub:Xe,section:ot}){const Ue=`/s/${ot.slug}/welcome`;return`${getBaseUrl(Xe)}${Ue}`}function M({pubId:Xe,postId:ot,commentId:Ue,params:tt}){return(0,s.n1)(`${(0,s.ZJ)()}/chat${Xe?`/${Xe}`:""}${ot?`/post/${ot}`:""}${Ue?`/reply/${Ue}`:""}`,tt)}function C(Xe,{root:ot,addBase:Ue,params:tt={}}={}){return ot?/[&?]$/.test(ot)||(ot.includes("?")||ot.endsWith("%%")?ot+="&":ot+="?"):ot=Ue?`${(0,s.SV)(Xe)}/donate?`:"/donate?",ot+(0,s.Y$)(tt)}function L(Xe,{root:ot,user:Ue,addBase:tt,offerCode:ft,params:Ct={}}){return ot?/[&?]$/.test(ot)||(ot.includes("?")||ot.endsWith("%%")?ot+="&":ot+="?"):ot=tt?`${getBaseUrl(Xe)}/subscribe/offer/${ft}?`:`/subscribe/offer/${ft}?`,Ue!=null&&Ue.email&&(Ct.autoSubmit=!0,Ct.email=Ue==null?void 0:Ue.email),ot+serializeQuery(Ct)}function S(Xe,{utm_source:ot}={}){return pathWithQuery(`${getBaseUrl(Xe)}/account/billing?details`,{utm_source:ot})}function N(Xe,{utm_source:ot}={}){return pathWithQuery(`${getBaseUrl(Xe)}/account/receipts`,{utm_source:ot})}function R(Xe,{utm_source:ot}={}){return pathWithQuery(`${getBaseUrl(Xe)}/account/email-test`,{utm_source:ot})}function U({pub:Xe}){return`${getBaseUrl(Xe)}/account/gifts`}function F({utm_source:Xe}={}){return pathWithQuery(`${getSubstackUrl()}/account/email`,{utm_source:Xe})}function $(Xe){return`${getBaseUrl(Xe)}/account`}const G=(Xe,ot={})=>(0,s.n1)(`${(0,s.SV)(Xe)}/account/group`,ot);function Q(Xe,{addBase:ot,baseUrlOptions:Ue}={}){return`${ot?(0,s.SV)(Xe,Ue):""}/publish`}function K(Xe,{addBase:ot=!1,baseUrlOptions:Ue={},section:tt="",params:ft}={}){let Ct=(0,s.n1)(`${Q(Xe,{addBase:ot,baseUrlOptions:Ue})}/settings`,ft);return tt&&(Ct+=`#${tt}`),Ct}function W(Xe,{addBase:ot=!1,baseUrlOptions:Ue={},params:tt}={}){return pathWithQuery(`${Q(Xe,{addBase:ot,baseUrlOptions:Ue})}/settings/reader_referrals`,tt)}function Y(Xe,{addBase:ot=!1,baseUrlOptions:Ue={},params:tt}={}){return(0,s.n1)(`${Q(Xe,{addBase:ot,baseUrlOptions:Ue})}/groups`,tt)}function ne(Xe,{addBase:ot,params:Ue}={}){const ft=`${ot?(0,s.SV)(Xe):""}/publish`;return Ue?(0,s.n1)(ft,Ue):ft}function V(Xe,{addBase:ot,params:Ue}={}){const ft=`${ot?(0,s.SV)(Xe):""}/publish/home`;return Ue?(0,s.n1)(ft,Ue):ft}function j(Xe,ot="published",{addBase:Ue,params:tt}={}){const Ct=`${Ue?getBaseUrl(Xe):""}/publish/posts/${ot}`;return tt?pathWithQuery(Ct,tt):Ct}function te(Xe,{addBase:ot,params:Ue}={}){const ft=`${ot?(0,s.SV)(Xe):""}/publish/subscribers`;return Ue?(0,s.n1)(ft,Ue):ft}function ie(Xe,ot,{addBase:Ue,params:tt,referrer:ft}={}){const yt=`${Ue?(0,s.SV)(Xe):""}/meetings/book/${ot}`,Te=l(p({},tt),{referrer:ft});return tt||ft?(0,s.n1)(yt,Te):yt}function ue(Xe,{addBase:ot,params:Ue,referrer:tt}={}){const Ct=`${ot?(0,s.SV)(Xe):""}/meetings`,yt=l(p({},Ue),{referrer:tt});return Ue||tt?(0,s.n1)(Ct,yt):Ct}function he(Xe,{addBase:ot,params:Ue,filter:tt}={}){const Ct=`${ot?getBaseUrl(Xe):""}/publish/meetings/${tt!=null?tt:"upcoming"}`;return Ue?pathWithQuery(Ct,Ue):Ct}function Z({utm_source:Xe,utm_campaign:ot,redirect:Ue}){return pathWithQuery(`${getBaseAppLinkUrl()}/inbox`,{utm_source:Xe,utm_campaign:ot,redirect:Ue})}function J({user_id:Xe,user_name:ot,utm_source:Ue,utm_campaign:tt,redirect:ft}){let Ct=`${(0,s.ZX)()}/users/${Xe}`;const yt=(0,u.H)(ot,{hashIfEmpty:!0});return yt&&(Ct+=`-${yt}`),(0,s.n1)(Ct,{utm_source:Ue,utm_campaign:tt,redirect:ft})}function ae({utm_source:Xe,utm_campaign:ot}){return pathWithQuery(`${getBaseAppLinkUrl()}/chat`,{utm_source:Xe,utm_campaign:ot})}function le({utm_source:Xe,utm_campaign:ot,deepLink:Ue}){return pathWithQuery(`${getBaseAppLinkUrl()}/contact-sync`,{utm_source:Xe,utm_campaign:ot,deepLink:Ue})}function oe({utm_source:Xe,utm_campaign:ot}={}){return pathWithQuery("substack://contact-sync",{utm_source:Xe,utm_campaign:ot})}function ee({tab:Xe,utm_source:ot,utm_campaign:Ue,redirect:tt}){return pathWithQuery(`${getBaseAppLinkUrl()}/${Xe}`,{utm_source:ot,utm_campaign:Ue,redirect:tt})}function z({subdomain:Xe,utm_source:ot,utm_campaign:Ue,redirect:tt}){return(0,s.n1)(`${(0,s.ZX)()}/pub/${Xe}`,{utm_source:ot,utm_campaign:Ue,redirect:tt})}function re({pubKey:Xe,utm_source:ot,utm_campaign:Ue,r:tt,redirect:ft,modal:Ct}){return(0,s.n1)(`${(0,s.ZX)()}/pub/${Xe}/chat`,{utm_source:ot,utm_campaign:Ue,redirect:ft,modal:Ct,r:tt})}function se({postId:Xe,utm_source:ot,utm_campaign:Ue,redirect:tt,modal:ft}){return(0,s.n1)(`${(0,s.ZX)()}/chat/posts/${Xe}`,{utm_source:ot,utm_campaign:Ue,redirect:tt,modal:ft})}function fe({commentId:Xe,targetReplyId:ot,utm_source:Ue,utm_campaign:tt,redirect:ft,modal:Ct}){return(0,s.n1)(`${(0,s.ZX)()}/chat/replies/${Xe}`,{target_reply_id:ot,utm_source:Ue,utm_campaign:tt,redirect:ft,modal:Ct})}function Ee(Xe,{urlParams:ot}={}){return getFeedCommentUrl(Xe,{baseUrl:getBaseAppLinkUrl(),urlParams:ot})}function ge({pub:Xe,postId:ot,modal:Ue,query:tt}){return pathWithQuery(`${getBaseUrl(Xe)}/chat${ot?`/posts/${ot}`:""}`,p({modal:Ue},tt))}function be({pub:Xe,commentId:ot,targetReplyId:Ue,modal:tt,query:ft}){return pathWithQuery(`${getBaseUrl(Xe)}/chat${ot?`/replies/${ot}`:""}`,p({modal:tt,target_reply_id:Ue},ft))}function me({pub:Xe,params:ot,section:Ue}){return Ue?(0,s.n1)(`${(0,s.SV)(Xe)}/listen/${Ue.slug}/archive`,ot):(0,s.n1)(`${(0,s.SV)(Xe)}/podcast/archive`,ot)}function pe(Xe,ot,{quality:Ue="auto:good",format:tt="auto",crop:ft="limit",lossy:Ct=!1,attachment:yt=!1,filename:Te=null,gravity:Ye=null,height:dt=null,aspect:Nt=null,backgroundColor:Kt,version:_r=null,smartCrop:dr=!1,portraitCrop:pr=!1,skipDomainValidation:mr=!1,leadingSegments:Jr=[],trailingSegments:Xr=[]}={}){var Mr;if(!Xe)return Xe;Xe.startsWith("/")&&!Xe.startsWith("//")&&(Xe=(0,s.ZJ)()+Xe),Xe=Le(Xe);try{if(new URL(Xe).hostname.endsWith(".localhost"))return Xe}catch(gn){}if(typeof window!="undefined"&&((Mr=window==null?void 0:window.location)!=null&&Mr.hostname)&&["subwit.com","herokuapp.com"].reduce((gn,wn)=>gn||window.location.hostname.endsWith(wn),!1)&&(Xe=Xe.replace("//substack.com",`//${window.location.hostname}`)),Xe.startsWith("https://substackcdn.com")||Xe.startsWith(s.L4))return Xe;if(Xe.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return Xe.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,s.L4);if(Xe.startsWith("https://res.cloudinary.com"))return Xe.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,s.L4);if(!mr&&!Xe.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return Xe;if(dr&&ot&&dt){const gn=je(Xe);if(gn){const wn=ot/dt,hn=gn.width/gn.height;(wn<1&&hn>=1||wn>=1&&hn<1||wn===1&&hn>=1||wn===1&&hn<=1)&&Math.abs(wn-hn)>=.5&&(ft="fill",Ye=Ye!=null?Ye:"auto")}}if(dr&&(ft="fill",Ye=Ye!=null?Ye:"auto"),Nt&&ot&&dt==null){const[gn,wn]=Nt.split(":").map(Number);dt=Math.round(ot*wn/gn)}const sn=[ot&&`w_${ot}`,dt&&`h_${dt}`,ft&&(ot||dt)&&`c_${ft}`,tt&&`f_${tt}`,Ue&&`q_${Ue}`,`fl_${Ct?"lossy":"progressive:steep"}`,Ye&&`g_${Ye}`,yt&&`fl_attachment${Te?`:${Te}`:""}`,Kt&&`b_rgb:${Kt}`].filter(Boolean).join(","),zr=[ot&&`w_${ot}`,tt&&`f_${tt}`,Ue&&`q_${Ue}`,`fl_${Ct?"lossy":"progressive:steep"}`,yt&&`fl_attachment${Te?`:${Te}`:""}`,Kt&&`b_rgb:${Kt}`].filter(Boolean).join(","),On=[ft&&(ot||dt)&&`c_${ft}`,Ye&&`g_${Ye}`,Nt?`ar_${Nt}`:"ar_1"].filter(Boolean).join(","),zn=pr?[zr,"/if_ar_lt_1.0/",On,"/if_end"].join(""):[sn].filter(Boolean).join(",");return`${s.L4}/image/fetch/${Jr.concat([zn]).concat(Xr).join("/")}/${encodeURIComponent(Xe+(_r?`${Xe.indexOf("?")!==-1?"&":"?"}version=${_r}`:""))}`}function Le(Xe){if(!Xe)return Xe;const ot=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const Ue of ot){const tt=Ue.exec(Xe);if(tt)return decodeURIComponent(tt[1])}return Xe}function je(Xe){const ot=Xe.match(/(\d+)x(\d+)\.\w+$/);return ot?{width:+ot[1],height:+ot[2]}:null}function xe(Xe,ot){return`${getBaseUrl(Xe)}/api/v1/custom-publication-theme/${ot.id}/preview`}function ye(Xe){return`${getBaseUrl(Xe)}/api/v1/custom-publication-theme/disable-preview`}const Me="https://substack.link/chat-faq",We="https://substack.link/chat-examples";function De(Xe){const ot=Xe.trim();if(/\s/.test(ot))return null;try{const Ue=new URL(ot);return["http:","https:"].includes(Ue.protocol)?Ue:null}catch(Ue){return null}}const Ge=(Xe,ot,Ue,tt)=>{switch(Xe){case"user":default:return J({user_id:ot,user_name:Ue,utm_source:"mentions"});case"pub":return tt?(0,s.n1)(tt,{utm_source:"mentions"}):""}};function pt(Xe){var ot;const Ue=De(Xe);if(!Ue)return null;const tt=(ot=Ue.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:ot[1];if(!tt)return null;let ft,Ct;return Ue.hostname.endsWith(`.${substackUrl.hostname}`)?ft=Ue.hostname.split(".")[0]:Ct=Ue.hostname,{slug:tt,subdomain:ft,customDomain:Ct}}function wt(Xe,ot,{addBase:Ue=!1,query:tt={}}={}){return(0,s.n1)(`${Ue?(0,s.SV)(Xe):""}/t/${ot.slug}`,tt)}const Ht=({section:Xe})=>`/publish/settings/new_podcast/${Xe.id}`,nt=({section:Xe})=>Xe?`/publish/import/podcast/${Xe.id}`:"",Ze=({pub:Xe,addBase:ot})=>`${ot?getBaseUrl(Xe):""}/publish/settings/podcast/edit`,st=({pub:Xe,section:ot,addBase:Ue,referrer:tt})=>ot?`${Ue?getBaseUrl(Xe):""}/publish/settings/podcast/${ot.id}${tt?`?referrer=${tt}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Ie="https://dashboard.stripe.com",Pe=(Xe,ot)=>`${Ie}/${Xe.stripe_user_id}/prices/${ot}`,Ce=(Xe,ot)=>`${Ie}/${Xe.stripe_user_id}/invoices/${ot}`;function Be(Xe){const ot=Xe.html.map(Ue=>{var tt;const ft=(tt=Ue.match(/href="([^"]+)"/))==null?void 0:tt[1];return ft?Ue.replace(ft,pe(ft)):Ue});return l(p({},Xe),{html:ot})}function Ve(Xe){return Xe?Xe.startsWith("https://images.unsplash.com/"):!1}function $e(Xe){if(Xe){if(Xe.startsWith(CDN_URL)||Xe.startsWith("https://res.cloudinary.com")||Xe.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:ot}=e(83322),Ue=`https://${ot()}.s3.amazonaws.com`;if(Xe.startsWith(Ue))return!0}return!1}function Qe(Xe){if(!Xe)return!1;let ot;try{ot=new URL(Xe)}catch(ft){return!1}const{hostname:Ue,pathname:tt}=ot;return Ue.startsWith("open.substack.com")?tt.startsWith("/pub/")&&tt.includes("/p/"):!1}function ze(Xe,ot,{addBase:Ue}={}){var tt,ft;return ot.section?Ke(Xe,{addBase:Ue,section:ot.section}):ot.post?(0,P.uR)(Xe,ot.post,{noBase:!Ue}):ot.postTag?wt(Xe,ot.postTag,{addBase:Ue}):Ue&&/^\/[^/]/.test((tt=ot.link_url)!=null?tt:"")?`${(0,s.SV)(Xe)}${ot.link_url}`:(ft=ot.link_url)!=null?ft:""}function Ke(Xe,{addBase:ot,section:Ue}={}){if(Ue=Ue||(Xe==null?void 0:Xe.section),!Ue)throw new Error("Section not found");return`${ot?(0,s.SV)(Xe):""}/s/${Ue.slug||Ue.id}`}function lt(Xe,{addBase:ot,section:Ue}={}){if(Ue=Ue||(Xe==null?void 0:Xe.section),!Ue)throw new Error("Section not found");const tt=ot?getBaseUrl(Xe):"";return pathWithQuery(`${tt}/publish/settings/preamble`,{section:Ue.id})}const vt=(Xe,{addBase:ot,params:Ue}={})=>{const tt=ot&&Xe?ef.getBaseUrl(Xe):"";return Pt(p({base:tt},Ue))},Pt=Xe=>{var ot;const Ue=`${(ot=Xe==null?void 0:Xe.base)!=null?ot:""}/api/v1/twitter/authorize`;return Xe?(0,s.n1)(Ue,Xe):Ue},Wt=Xe=>{var ot;const Ue=`${(ot=Xe==null?void 0:Xe.base)!=null?ot:""}/api/v1/fb/auth`;return Xe?(0,s.n1)(Ue,Xe):Ue};function Ut(Xe,ot){return(0,s.n1)(`${(0,s.SV)()}/inbox/post/${Xe}`,ot)}function jt(Xe){const ot=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,Ue=/^https?:\/\/([^\.]+)\.substack\.com/;let tt=Xe.match(ot);return!tt&&(tt=Xe.match(Ue),!tt)?null:tt[1]}function Vt(Xe){Xe=(Xe||"").toLowerCase();const ot=Xe.match(/^\s*(\w+)\s*$/);if(ot)return ot[1];const Ue=Xe.match(/\w+(\.\w+)+/);if(Ue){let tt=Ue[0];return tt.includes("substack")&&(tt=tt.split(".")[0]),tt}}function lr({url:Xe,currentSubdomain:ot,currentCustomDomain:Ue}){return Qe(Xe)?ot===jt(Xe):Ue?Ue===Vt(Xe):ot===jt(Xe)}function Jt(Xe){return`${getSubstackUrl()}/profile/${Xe}/hc-violation-form`}const or=(Xe,{addBase:ot,params:Ue}={})=>{const tt=ot?(0,s.SV)(Xe):"";return(0,s.n1)(`${tt}/account/cancel`,Ue)},Et=(Xe,ot,Ue)=>`${getBaseUrl(Xe)}/api/v1/streak.jpg?n=${ot}&pct=${Ue}`,gr=(Xe,ot,{addBase:Ue,referrer:tt,params:ft}={})=>{const yt=`${Ue?(0,s.SV)(Xe):""}/publish/posts/detail/${ot}`,Te=l(p({},ft),{referrer:tt});return ft||tt?(0,s.n1)(yt,Te):yt},Dr=(Xe,ot,{addBase:Ue,referrer:tt,params:ft,selectionForQuote:Ct}={})=>{const Te=`${Ue?(0,s.SV)(Xe):""}/publish/posts/detail/${ot}/share-center`,Ye=l(p({},ft),{referrer:tt,selectionForQuote:Ct});return ft||tt||Ct?(0,s.n1)(Te,Ye):Te},Or=(Xe,ot,{addBase:Ue,params:tt}={})=>{if(!(Xe!=null&&Xe.id))return"";const ft=Ue?(0,s.SV)(Xe):"";return(0,s.n1)(`${ft}/leaderboard?`,p(p({},tt),(ot==null?void 0:ot.id)&&{referrer_token:ot.id.toString(36)}))},wr=(Xe,ot)=>{if(!(Xe!=null&&Xe.id))return"";const Ue=getBaseUrl(Xe);return`${Substitutions.SURVEY_URL_PREFIX}${Ue}/survey/${ot}?token=${Substitutions.SURVEY_TOKEN}`},br=(Xe,ot,{popup:Ue})=>{const tt=getBaseUrl(Xe);return pathWithQuery(`${tt}/publish/stats/reader-surveys-editor/${ot}${Ue?"?popup=true":""}`)};function Ar({pubId:Xe,sectionId:ot,token:Ue}){if(ot){let ft=`${(0,s.SV)({subdomain:"api"})}/feed/podcast/${Xe}/s/`;return Ue?ft+=`${ot}/private/${Ue}.rss`:ft+=`${ot}.rss`,ft}let tt=`${(0,s.SV)({subdomain:"api"})}/feed/podcast/${Xe}`;return Ue?tt+=`/private/${Ue}.rss`:tt+=".rss",tt}function jr({subdomain:Xe,sectionId:ot}){return pathWithQuery(`https://${Xe}.substack.com/feed`,{sectionId:ot!=null?ot:void 0})}const Ur=({pub:Xe,postId:ot,params:Ue={type:"newsletter",mediaType:"video"},addBase:tt})=>{const ft=`${tt?getBaseUrl(Xe):""}/publish/collab`;return pathWithQuery(ot?`${ft}/${ot}`:ft,Ue)},Er=(Xe,{addBase:ot,baseUrlOptions:Ue,params:tt}={})=>{const ft=ot?getBaseUrl(Xe,Ue):"";return pathWithQuery(`${ft}/publish/stats/pledges`,tt)},Ir=(Xe,{addBase:ot,baseUrlOptions:Ue,params:tt}={})=>{const ft=ot?getBaseUrl(Xe,Ue):"";return pathWithQuery(`${ft}/publish/stats/notes`,tt)};function Kr(Xe){return`${getSubstackUrl()}/browse/${Xe}`}function rn(){return`${getSubstackUrl()}/browse/recommendations`}function En(Xe,ot){return(0,s.Q2)(`/collection/${Xe}`,ot)}function Pn(Xe={}){return(0,s.n1)(`${(0,s.ZJ)()}/invite-friends`,Xe)}function an(Xe={}){return pathWithQuery(`${getSubstackUrl()}/credit-invite-accepted`,Xe)}function Fn(Xe,ot={}){return pathWithQuery(`${getSubstackUrl()}/reader-onboarding?credit_token_referring_user=${Xe}`,ot)}function In(Xe,ot={}){return pathWithQuery(`${getSubstackUrl()}/accept-pub-credit?credit_token_referring_user=${Xe}`,ot)}function _n(Xe,ot={}){return pathWithQuery(`${getSubstackUrl()}/accept-pub-credit-signup?credit_token_referring_user=${Xe}`,ot)}function jn(Xe){return(0,s.Q2)("/chat",Xe)}function xt(Xe){return`${getSubstackUrl()}/api/v1/list/cover_image/${Xe.id}.jpg`}function Rt(Xe){return`${getSubstackUrl()}/list/${Xe.slug}`}function Zt(Xe){return`${getSubstackUrl()}/img/publication_placeholders/pub_placeholder_${Xe%5}.png`}},52743:(H,E,e)=>{"use strict";e.r(E),e.d(E,{DEFAULT_PHOTO_URL:()=>f.zU,DIRECT_APPLE_APP_STORE_URL:()=>ir,DIRECT_GOOGLE_PLAY_STORE_URL:()=>vr,EMAIL_CONTENT_WIDTH:()=>Wo,IMPORT_FILE_TOO_LARGE_URL:()=>$,LARGE_IMAGE_WIDTH:()=>ka,MAX_GIF_WIDTH:()=>so,MAX_REASONABLE_SCREEN_WIDTH:()=>ci,MIN_GIF_WIDTH:()=>da,TWITTER_CARD_HEIGHT:()=>R,TWITTER_CARD_LOGO_SIZE:()=>U,TWITTER_CARD_WIDTH:()=>N,USER_BAN_APPEAL_URL:()=>F,WEB_CONTENT_WIDTH:()=>Ua,WEB_CONTENT_WIDTH_MOBILE:()=>ca,WEB_RESPONSIVE_IMAGE_WIDTHS:()=>Ba,addClaritasPrefix:()=>or,addGumballPrefix:()=>gr,addPodscribePrefix:()=>Et,addSpotifyAnalyticsPrefix:()=>Jt,cdnSvg:()=>V,extractDimensionsFromImageUrl:()=>d.extractDimensionsFromImageUrl,getAboutUrl:()=>be,getAddSubscriberUrl:()=>We,getAllMilestoneAssetUrl:()=>Eo,getAppMarketingUrl:()=>sr,getAppStoreRedirectUrl:()=>Cr,getAppStoreUrl:()=>Yr,getAppWriterFaqUrl:()=>Sr,getArchiveUrl:()=>Ee,getAsChartableUrl:()=>lr,getBaseAppLinkUrl:()=>d.getBaseAppLinkUrl,getBaseArchiveUrl:()=>ge,getBaseReaderUrl:()=>he,getBaseUrl:()=>d.getBaseUrl,getBestsellerAssetUrl:()=>ua,getBestsellerShareCardUrl:()=>Oa,getBrowseCategoryUrl:()=>In,getCallbackUrl:()=>Y,getCancelOrUncancelUrl:()=>d.getCancelOrUncancelUrl,getCdnUrl:()=>jt,getCdnUrlForAudio:()=>Dr,getCheckoutUrl:()=>Pe,getClientReadyPodcastUrl:()=>Or,getConnectTwitterUrl:()=>d.getConnectTwitterUrl,getCreateMarketingPostUrl:()=>ye,getCreatePostUrl:()=>xe,getCurrentUrlForLoginRedirect:()=>br,getDashboardHomeUrl:()=>d.getDashboardHomeUrl,getDashboardUrlForSubdomain:()=>pe,getDefaultPodcastArtPalette:()=>nn,getDefaultPodcastArtUrl:()=>Vr,getDefaultPodcastArtUrlCDN:()=>vn,getDefaultUserPhotoById:()=>f.I4,getDeprecatedPostAppLinkUrl:()=>ee,getDiscoverSearchUrl:()=>_n,getDomainApexConfigUrl:()=>wt,getDomainConfigUrl:()=>pt,getDomainMigrateUrl:()=>Ht,getDomainStatusUrl:()=>nt,getDonateSubscriptionUrl:()=>d.getDonateSubscriptionUrl,getEditPostUrlById:()=>d.getEditPostUrlById,getEditProfileUrl:()=>an,getEditSectionUrl:()=>fe,getFeedUrl:()=>y.E2,getFindTwitterPubsUrl:()=>Le,getFoundingCheckoutUrl:()=>Ce,getGlobalAccountRedirectForPub:()=>$e,getGlobalAccountSettingsUrl:()=>Ke,getGlobalNotificationSettingsUrl:()=>lt,getGoingPaidUrl:()=>Er,getGroupDetailsUrl:()=>st,getGroupManagementUrl:()=>d.getGroupManagementUrl,getHomeUrl:()=>Kr,getHostname:()=>d.getHostname,getIgnoreImportDoubleOptinUrl:()=>Ge,getImportUrl:()=>Xe,getInfoCollectionUrl:()=>Ir,getInstagramAccountUrl:()=>zn,getInviteUrl:()=>dt,getLatexImageUrl:()=>Zo,getLatexUrl:()=>ko,getLegalUrls:()=>Pn,getLibraryUrl:()=>le,getLikelyLoggedInParam:()=>d.getLikelyLoggedInParam,getLinkRedirectUrl:()=>mt,getLoginChallengeDeepUrl:()=>Yt,getLoginUrl:()=>Be,getManageBlurbsUrl:()=>Ct,getManageGroupSubscriptionUrl:()=>d.getManageGroupSubscriptionUrl,getManageGroupsUrl:()=>Ie,getManageReaderReferralSettingsUrl:()=>yt,getManageSubscriptionsUrl:()=>vt,getMediaUploadThumbnailUrl:()=>ta,getMediaUploadThumbnailUrlForPlayer:()=>at,getMfaUrl:()=>Ve,getMigrateFromTwitterUrl:()=>Zt,getMilestoneAssetImageUrl:()=>Yn,getMilestoneAssetUrl:()=>mo,getNotificationsUrl:()=>ae,getPlayStoreUrl:()=>Gr,getPledgeNoteAssetImageUrl:()=>zo,getPledgeNoteAssetUrl:()=>go,getPodcastLandingUrl:()=>se,getPodcastOnboardingUrl:()=>to,getPodcastRssUrl:()=>_r,getPodcastRssUrlFromIds:()=>d.getPodcastRssUrlFromIds,getPodcastingUrl:()=>je,getPodcatcherSetupUrl:()=>Ut,getPodcatcherSetupUrlForAllPodcasts:()=>Wt,getPostAppLinkUrl:()=>z,getPostCommentInContextUrl:()=>re,getPostCommentsUrl:()=>O.tk,getPostDashboardUrl:()=>d.getPostDashboardUrl,getPostDetailsShareCenterUrl:()=>d.getPostDetailsShareCenterUrl,getPostSelectionMediaImageUrl:()=>zr,getPostSelectionMediaUrl:()=>sn,getPostSelectionPreviewImageUrl:()=>Jr,getPostSelectionPreviewUrl:()=>mr,getPostSlug:()=>Qn,getPostUrl:()=>d.getPostUrl,getPostUrlBySlug:()=>d.getPostUrlBySlug,getPressKitDownloadUrl:()=>Bo,getPressKitImageUrl:()=>pn,getPressKitUrl:()=>Hr,getPreviewInAppUrl:()=>ct,getProfileSetupUrl:()=>c.Nh,getProfileSlug:()=>Nt,getProfileUrl:()=>Kt,getProfileUrlById:()=>d.getProfileUrlById,getPubAccountSettingsUrl:()=>d.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>d.getPubConnectTwitterUrl,getPubUrl:()=>W,getPublicationAssetImageUrl:()=>So,getPublicationAssetUrl:()=>Uo,getPublicationPodcastUrl:()=>Ye,getPublishBaseUrl:()=>d.getPublishBaseUrl,getPublishModerationUrl:()=>Te,getPublishSettingsRecommendationsUrl:()=>tt,getPublishSettingsUrl:()=>d.getPublishSettingsUrl,getPublishStatsRecommendationsUrl:()=>ft,getPublishStatsUrl:()=>Ue,getPublishStripeAccountImportUrl:()=>ot,getPublisherPrivacyUrl:()=>En,getPublisherTermsUrl:()=>Ur,getQueryItem:()=>K,getReaderOnboardingUrl:()=>Fn,getReaderProfileUrl:()=>d.getReaderProfileUrl,getReaderSignupUrl:()=>Z,getReaderUrl:()=>J,getRecommendationsPageUrl:()=>xt,getSavedPostsUrl:()=>oe,getSharePubUrl:()=>Pt,getSigninUrl:()=>Ar,getSignoutUrl:()=>Wn,getSitemapUrl:()=>me,getStartPublishingUrl:()=>Rt,getStockLandingUrl:()=>ie,getSubscribeUrl:()=>jn,getSubscriberDashboardUrl:()=>d.getSubscriberDashboardUrl,getSubscriberDetailsUrl:()=>Ze,getSubscriberStatsUrl:()=>Me,getSubscriptionNoteAssetImageUrl:()=>eo,getSubscriptionNoteAssetUrl:()=>_o,getSubstackMarketingUrl:()=>Pr,getSubstackPrivacyUrl:()=>rn,getSubstackTermsUrl:()=>jr,getSubstackUrl:()=>d.getSubstackUrl,getSubstackUrlWithDomain:()=>d.getSubstackUrlWithDomain,getSupportEmail:()=>dr,getSupportUrl:()=>pr,getThreadDeepLinkUrl:()=>wa,getTiktokAccountUrl:()=>gn,getTld:()=>ne,getTwitterAccountUrl:()=>On,getTwitterPreviewImageUrl:()=>Mr,getTwitterPreviewUrl:()=>Xr,getTwitterShareUrl:()=>Hn,getTwitterSubscribeCardSvgUrl:()=>Zn,getTwitterSubscribeCardUrl:()=>hn,getUndergroundUrl:()=>te,getUrlExtension:()=>Vn,getUserPhotoUrl:()=>f.SM,getUserUndergroundUrl:()=>ue,getVerifyImportDoubleOptinUrl:()=>De,getWriterReferralSettingsUrl:()=>ze,getWriterReferralUrl:()=>Qe,getYoutubeAccountUrl:()=>wn,imginary:()=>d.imginary,isPublishPath:()=>Sa,looksLikePostCommentsUrl:()=>Co,looksLikePostUrl:()=>Fo,parseQuery:()=>Q,parseUrl:()=>d.parseUrl,pathWithQuery:()=>d.pathWithQuery,serializeQuery:()=>d.serializeQuery,stripProtocol:()=>j,stripeBaseUrl:()=>d.stripeBaseUrl,unimginary:()=>d.unimginary,updateQuery:()=>G,urlIsRegularlyShownInIframe:()=>wr});var t=e(14293),u=e.n(t),s=e(22850),g=e(57397),P=e(95788),y=e(70444),O=e(36250),c=e(2731),f=e(96702),d=e(20501),T=e(59009),D=Object.defineProperty,I=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(Ne,Je,ht)=>Je in Ne?D(Ne,Je,{enumerable:!0,configurable:!0,writable:!0,value:ht}):Ne[Je]=ht,M=(Ne,Je)=>{for(var ht in Je||(Je={}))a.call(Je,ht)&&w(Ne,ht,Je[ht]);if(l)for(var ht of l(Je))v.call(Je,ht)&&w(Ne,ht,Je[ht]);return Ne},C=(Ne,Je)=>I(Ne,p(Je)),L=(Ne,Je)=>{var ht={};for(var Bt in Ne)a.call(Ne,Bt)&&Je.indexOf(Bt)<0&&(ht[Bt]=Ne[Bt]);if(Ne!=null&&l)for(var Bt of l(Ne))Je.indexOf(Bt)<0&&v.call(Ne,Bt)&&(ht[Bt]=Ne[Bt]);return ht};const S=[/\/embed\/podcast\//],N=504,R=264,U=70,F="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",$="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_";function G(Ne,Je,{skipHash:ht=!1}={}){typeof Ne=="object"&&(Je=Ne,Ne=document.location.pathname+document.location.search+document.location.hash);let Bt=(0,d.pathWithQuery)(Ne.split("?")[0].split("#")[0],Object.assign(Q(Ne),Je));return Ne.indexOf("#")!==-1&&!ht&&(Bt+=Ne.substr(Ne.indexOf("#"))),Bt}function Q(Ne){const Je={},ht=((Ne==null?void 0:Ne.split("?")[1])||"").split("#")[0].trim();if(ht){const Bt=ht.split("&");for(let ur=0;ur<Bt.length;ur++){const Nr=Bt[ur].split("=");Je[decodeURIComponent(Nr[0])]=decodeURIComponent(Nr.slice(1).join("="))}}return Je}const K=(Ne,Je)=>{if(typeof Je!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;Je=Ne,Ne=window.location.href}const ht=Q(Ne);if(String(Je)in ht)return ht[String(Je)]},W=(Ne,{params:Je={},signedIn:ht=!1}={})=>{const Bt=(0,d.getLikelyLoggedInParam)(ht,Ne);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/`,M({lli:Bt},Je))},Y=Ne=>`${(0,d.getBaseUrl)({subdomain:"callback"})}${Ne}`,ne=Ne=>{if(u()(Ne))return null;try{return new URL(Ne).hostname.split(".").slice(-2).join(".")}catch(Je){return null}},V=Ne=>!Ne||!Ne.startsWith("/")||Ne.startsWith("//")||!/\.svg(\?|#|$)/.test(Ne)?Ne:`${d.CDN_URL}/${Ne}`,j=Ne=>(Ne||"").replace(/^(\w+:)?\/\//g,""),te=Ne=>{const Je=d.substackDomain,ht=(0,d._getUrl)(`admin.${Je}`);return Ne?`${ht}/publications/${Ne}`:ht},ie=Ne=>{const Je=d.substackDomain;return`${(0,d._getUrl)(`${Je}`)}/discover/stocks/${Ne}`},ue=Ne=>{const Je=d.substackDomain,ht=(0,d._getUrl)(`admin.${Je}`);return Ne?`${ht}/users/${Ne}`:ht},he=({utm_source:Ne}={})=>{const Je=d.substackDomain,ht="reader";return(0,d.pathWithQuery)((0,d._getUrl)(`${ht}.${Je}`),{utm_source:Ne})},Z=Ne=>(0,d.pathWithQuery)(`${(0,d._getUrl)(d.substackDomain)}/browse/staff-picks`,C(M({},Ne),{action:"signup"})),J=(Ne,{query:Je}={})=>{const ht=d.substackDomain;return(0,d.pathWithQuery)(`${(0,d._getUrl)(ht)}${Ne}`,Je)},ae=Ne=>J("/activity",{query:Ne}),le=Ne=>J("/library",{query:Ne}),oe=Ne=>J("/saved",Ne),ee=(Ne,Je,{params:ht={},redirect:Bt=null,source:ur=null,postUuid:Nr=null}={})=>{const fn=Nr?`${(0,d.getSubstackUrl)()}/app-link/publications/${Ne}/drafts/${Nr}`:`${(0,d.getSubstackUrl)()}/app-link/post`,Sn=M({publication_id:Ne,post_id:Je,utm_source:ur,redirect:Bt},ht);return(0,d.pathWithQuery)(fn,Sn)},z=(Ne,Je,{params:ht={},redirect:Bt=null,source:ur=null,postUuid:Nr=null,inbox:fn=null,hostOverride:Sn=null}={})=>{if(!Ne||!Je)return"";const mn=Sn?Nr?`${Sn}/p/${Nr}`:`${Sn}/p/${Je}`:Nr?`${(0,d.getBaseAppLinkUrl)()}/pub/${Ne}/drafts/${Nr}`:`${(0,d.getBaseAppLinkUrl)()}/pub/${Ne}/p/${Je}`,Mn=M({utm_source:ur,redirect:Bt,inbox:fn},ht);return(0,d.pathWithQuery)(mn,Mn)};function re(Ne,Je,ht,Bt=3){if(!ht||!ht.ancestor_path)return(0,O.tk)(Ne,Je,ht);const ur=ht.ancestor_path.split("."),Nr=ur.length<Bt?0:ur.length-Bt;return(0,d.getPostUrl)(Ne,Je,{comments:!0,commentId:ht.id,commentContextId:ur[Nr]})}const se=({pub:Ne,section:Je,addBase:ht=!0})=>{var Bt;Je=(Bt=Je!=null?Je:Ne.section)!=null?Bt:null;const ur=ht?(0,d.getBaseUrl)(Ne):"";return Je?`${ur}/listen/${Je.slug||Je.id}`:`${ur}/podcast`},fe=(Ne,{addBase:Je,type:ht,id:Bt}={})=>`${Je?(0,d.getBaseUrl)(Ne):""}/publish/settings/${ht}/${Bt}`,Ee=(Ne,{params:Je}={})=>{const ht=Ne.section?`/s/${Ne.section.slug||Ne.section.id}`:"";return(0,d.pathWithQuery)(`${ht}/archive`,Je)},ge=(Ne,{addBase:Je,params:ht}={})=>{const Bt=Je?(0,d.getBaseUrl)(Ne):"";return(0,d.pathWithQuery)(`${Bt}/archive`,ht)},be=(Ne,{addBase:Je,params:ht}={})=>{const Bt=Je?(0,d.getBaseUrl)(Ne):"";return(0,d.pathWithQuery)(`${Bt}/about`,ht)},me=(Ne,{addBase:Je,params:ht}={})=>{const Bt=Je?(0,d.getBaseUrl)(Ne):"";return(0,d.pathWithQuery)(`${Bt}/sitemap`,ht)},pe=(Ne,{params:Je}={})=>{const ht=`${(0,d.getBaseUrl)({subdomain:Ne})}/publish/home`;return(0,d.pathWithQuery)(ht,Je)},Le=Ne=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/twitter/find-pubs`,Ne),je=(Ne,{addBase:Je,params:ht,slug:Bt,isSection:ur}={})=>{let fn=`${Je?(0,d.getBaseUrl)(Ne):""}/publish/podcasting`;return Bt&&(ur?fn=`${fn}/s/${Bt}`:fn=`${fn}/${Bt}`),ht?(0,d.pathWithQuery)(fn,ht):fn},xe=(Ne,Je={})=>{var ht=Je,{baseUrl:Bt=null}=ht,ur=L(ht,["baseUrl"]);return(0,d.pathWithQuery)(`${Bt!=null?Bt:(0,d.getBaseUrl)(Ne)}/publish/post`,ur)},ye=(Ne,Je)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/publish/post/marketing`,Je),Me=(Ne,{addBase:Je,params:ht}={})=>{const Bt=Je?(0,d.getBaseUrl)(Ne):"";return(0,d.pathWithQuery)(`${Bt}/publish/subscribers`,ht)},We=Ne=>"/publish/subscribers/add",De=(Ne,Je)=>`${(0,d.getBaseUrl)(Ne)}/publish/subscribers/add?conditional_import_id=${Je}`,Ge=(Ne,Je)=>`${(0,d.getBaseUrl)(Ne)}/publish/subscribers/add?conditional_import_id=${Je}`,pt=(Ne,{payment:Je}={})=>`/publish/domain${Je?"/pay":""}`,wt=()=>"/publish/domain/apex",Ht=()=>"/publish/domain/migrate",nt=()=>"/publish/domain/status",Ze=(Ne,Je,{addBase:ht,tab:Bt}={})=>{const ur=ht?(0,d.getBaseUrl)(Ne):"";return(0,d.pathWithQuery)(`${ur}/publish/subscribers/legacy`,{email:Je,tab:Bt})},st=Ne=>`/publish/groups/${Ne}`,Ie=()=>"/publish/groups",Pe=function(Ne,Je={}){const ht=(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/subscribe`,Je);return ht.indexOf("?")===-1?`${ht}?`:ht},Ce=function(Ne){return`${(0,d.getBaseUrl)(Ne)}/subscribe?plan=founding&`},Be=(Ne={})=>(0,d.pathWithQuery)("/account/login",Ne),Ve=(Ne={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-in/mfa`,Ne),$e=(Ne,Je,ht)=>{const Bt=Ne==null?void 0:Ne.subdomain;return(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}${Je}`,{redirect:ht,for_pub:Bt})},Qe=(Ne,Je={})=>Ne?(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/refer/${Ne}`,Je):null,ze=({utm_source:Ne,utm_content:Je}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/referral`,{utm_source:Ne,utm_content:Je}),Ke=({utm_source:Ne,section:Je,highlightNotification:ht}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/settings`,{utm_source:Ne,section:Je,highlightNotification:ht}),lt=({highlight:Ne,utm_source:Je}={})=>Ke({section:"notifications",highlightNotification:Ne,utm_source:Je}),vt=({utm_source:Ne}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/settings/subscriptions`,{utm_source:Ne}),Pt=Ne=>`${(0,d.getBaseUrl)(Ne)}/?utm_source=${T.UTM_SOURCE.substack}&utm_medium=${T.UTM_MEDIUM.email}&utm_content=${T.UTM_CONTENT.share}&action=share`,Wt=(Ne,Je)=>{var ht=Je,{startAtSubscribeFlow:Bt}=ht,ur=L(ht,["startAtSubscribeFlow"]);let Nr=`${(0,d.getBaseUrl)(Ne)}/listen`;if(ur){const fn=(0,d.serializeQuery)(ur);fn&&(Nr+=`?${fn}`)}return Bt?jn(Ne,M({addBase:!0,next:Nr,skipPodcastSetupPage:!0},ur)):Nr},Ut=(Ne,{addBase:Je,params:ht,noSection:Bt,section:ur,user:Nr,startAtSubscribeFlow:fn}={})=>{var Sn;let mn="";if(Je&&(mn+=(0,d.getBaseUrl)(Ne)),ur=(Sn=ur!=null?ur:Ne==null?void 0:Ne.section)!=null?Sn:null,ur&&!Bt&&(mn+=`/s/${ur.slug||ur.id}`),mn+="/account/add-podcast",Nr&&Nr.email&&(ht=C(M({},ht),{email:Nr.email}),mn+="/email"),ht){const Mn=(0,d.serializeQuery)(ht);Mn&&(mn+=`?${Mn}`)}return fn?jn(Ne,M({addBase:!0,next:mn,skipPodcastSetupPage:!0},ht)):mn},jt=(Ne,{cdnUrl:Je=d.CDN_URL}={})=>{var ht;return(ht=Ne==null?void 0:Ne.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,Je))!=null?ht:"undefined"},Vt="https://",lr=(Ne,Je)=>Ne?`${Vt}chrt.fm/track/${encodeURIComponent(Ne)}/${j(Je)}`:Je,Jt=Ne=>`${Vt}prfx.byspotify.com/e/${j(Ne)}`;function or(Ne){return`${Vt}claritaspod.com/measure/${j(Ne)}`}const Et=Ne=>`${Vt}pscrb.fm/rss/p/${j(Ne)}`,gr=(Ne,Je)=>`${Vt}s.gum.fm/s-${Ne}/${j(Je)}`,Dr=(Ne,Je,{token:ht}={})=>{let Bt=jt(Je);return Bt&&(Ne!=null&&Ne.id&&(Bt=G(Bt,{post_id:Ne.id})),ht&&(Bt=G(Bt,{podcast_rss_token:ht})),Bt)},Or=(Ne,Je,{rssToken:ht})=>{if(Je.podcast_upload_id){let Bt=G(`${(0,d.getBaseUrl)({subdomain:"api"})}/api/v1/audio/upload/${Je.podcast_upload_id}/src`,{token:ht});return Ne!=null&&Ne.chartable_token&&(Bt=lr(Ne.chartable_token,Bt)),Bt}if(Je.podcast_url){let Bt=Dr(Je,Je.podcast_url,{token:ht});return Ne!=null&&Ne.chartable_token&&(Bt=lr(Ne.chartable_token,Bt)),Bt}return null},wr=Ne=>{for(let Je=0;Je<S.length;Je++)if(S[Je].test(Ne))return!0;return!1},br=({useOriginalUrl:Ne})=>{if(Ne&&typeof window!="undefined"&&window._preloads.original_url)try{const Je=new URL(window._preloads.original_url);return`${Je.pathname}${Je.search}${Je.hash}`}catch(Je){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},Ar=(Ne={})=>{const{for_pub:Je,email:ht,with_password:Bt,error:ur,message:Nr,change_user:fn,justTrying:Sn,useOriginalUrl:mn}=Ne;let{redirect:Mn}=Ne;return typeof Mn!="string"&&(Mn=br({useOriginalUrl:mn!=null?mn:!1})),(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-in`,{redirect:Mn,for_pub:Je,email:ht,with_password:Bt,error:ur,message:Nr,change_user:fn,justTrying:Sn})},jr=({utm_source:Ne}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/tos`,{utm_source:Ne}),Ur=({pub:Ne,utm_source:Je}={})=>Ne?(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/tos`,{utm_source:Je}):jr({utm_source:Je}),Er=()=>`${(0,d.getSubstackUrl)()}/going-paid`,Ir=({utm_source:Ne}={})=>`${(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/ccpa`,{utm_source:Ne})}#personal-data-collected`,Kr=({utm_source:Ne}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/welcome`,{utm_source:Ne}),rn=({utm_source:Ne,hash:Je=null}={})=>{const ht=Je?`#${Je}`:"";return`${(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/privacy`,{utm_source:Ne})}${ht}`},En=({pub:Ne,utm_source:Je,hash:ht=null}={})=>{if(!Ne)return`${rn({utm_source:Je,hash:ht})}`;const Bt=ht?`#${ht}`:"";return`${(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/privacy`,{utm_source:Je})}${Bt}`},Pn=()=>({infoCollection:Ir(),privacy:rn(),terms:jr()}),an=({params:Ne}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/profile/edit`,Ne),Fn=({isAbbreviated:Ne,redirect:Je,postRedirectToast:ht,pubId:Bt=null,referringUserKey:ur=null,params:Nr={}}={})=>{let fn=null;if(Je)try{fn=new URL(Je),ht&&fn.searchParams.set("profile-setup-message",ht)}catch(mn){fn=new URL((0,d.getSubstackUrl)())}const Sn=M({isAbbreviated:Ne,redirect:fn?fn.toString():null,pubId:Bt},Nr);return ur&&(Sn.r=ur),(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/reader-onboarding`,Sn)},In=(Ne,Je)=>`${(0,d.getSubstackUrl)()}/discover${Ne?`/category/${Ne.slug}`:"/recomendations"}${Je==="all"?"/all":""}`,_n=({query:Ne,params:Je={}}={})=>{let ht=`${(0,d.getSubstackUrl)()}/search`;return Ne&&(ht=`${(0,d.getSubstackUrl)()}/search/${encodeURIComponent(Ne)}`),G(ht,Je)};function jn(Ne,Je={}){var ht=Je,{signedIn:Bt=!1,addBase:ur=!1,root:Nr=void 0,user:fn=void 0}=ht,Sn=L(ht,["signedIn","addBase","root","user"]);const mn=(0,d.getLikelyLoggedInParam)(Bt,Ne);return(0,d.getSubscribeUrl)(Ne,{root:Nr,user:fn,addBase:ur,params:M(M({},mn===void 0?{}:{lli:mn}),Sn)})}const xt=(Ne,Je={})=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne)}/recommendations`,Je),Rt=(Ne={})=>G(`${(0,d.getSubstackUrl)()}/signup`,Ne),Zt=(Ne={})=>G(`${(0,d.getSubstackUrl)()}/twitter-quitter`,Ne),Xe=(Ne={})=>G(`${(0,d.getSubstackUrl)()}/signup/import`,Ne),ot=(Ne,{addBase:Je=!1,baseUrlOptions:ht={},params:Bt=void 0}={})=>(0,d.pathWithQuery)(`${(0,d.getPublishBaseUrl)(Ne,{addBase:Je,baseUrlOptions:ht})}/stripe-import`,Bt),Ue=(Ne,{addBase:Je,baseUrlOptions:ht,params:Bt}={})=>{const ur=Je?(0,d.getBaseUrl)(Ne,ht):"";return(0,d.pathWithQuery)(`${ur}/publish/stats`,Bt)},tt=(Ne,{addBase:Je,baseUrlOptions:ht,params:Bt}={})=>{const ur=Je?(0,d.getBaseUrl)(Ne,ht):"";return(0,d.pathWithQuery)(`${ur}/publish/settings/recommendations`,Bt)},ft=(Ne,{addBase:Je,baseUrlOptions:ht,params:Bt}={})=>{const ur=Je?(0,d.getBaseUrl)(Ne,ht):"";return(0,d.pathWithQuery)(`${ur}/publish/recommendations`,Bt)},Ct=(Ne,{addBase:Je,baseUrlOptions:ht,params:Bt}={})=>{const ur=Je?(0,d.getBaseUrl)(Ne,ht):"";return(0,d.pathWithQuery)(`${ur}/publish/settings/blurbs`,Bt)},yt=Ne=>{const Je=(0,d.getBaseUrl)(Ne);return(0,d.pathWithQuery)(`${Je}/publish/settings/`,{search:"referral"})},Te=(Ne,{addBase:Je=!1,baseUrlOptions:ht={}}={})=>`${(0,d.getPublishBaseUrl)(Ne,{addBase:Je,baseUrlOptions:ht})}/moderation`,Ye=Ne=>"/publish/settings/podcast/edit",dt=Ne=>`${(0,d.getBaseUrl)(Ne)}/invite`,Nt=Ne=>{let Je=`${Ne.author_id||Ne.id}`;const ht=(0,P.H)(Ne.author_id?Ne.author_name:Ne.name,{hashIfEmpty:!0});return ht&&(Je+=`-${ht}`),Je},Kt=(Ne,Je,{utm_source:ht}={})=>(0,d.getReaderProfileUrl)(Ne,{utm_source:ht}),_r=({pub:Ne,token:Je=null})=>{var ht;if(Ne.section){const{section:ur}=Ne;if((ht=ur.podcastSettings)!=null&&ht.podcast_feed_url)return ur.podcastSettings.podcast_feed_url;let Nr=`${(0,d.getBaseUrl)({subdomain:"api"})}/feed/podcast/${Ne.id}/s/`;return Je?Nr+=`${ur.id}/private/${Je}.rss`:Nr+=`${ur.id}.rss`,Nr}else if(Ne.podcast_feed_url)return Ne.podcast_feed_url;let Bt=`${(0,d.getBaseUrl)({subdomain:"api"})}/feed/podcast/${Ne.id}`;return Je?Bt+=`/private/${Je}.rss`:Bt+=".rss",Bt},dr=(Ne,{noOverride:Je}={})=>{if(Ne){if(Ne.support_email&&!Je)return Ne.support_email}else return"support@substack.com";return`support+${Ne.subdomain}@substack.com`},pr=(Ne,Je)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(dr(Ne,Je))}`,mr=(Ne,Je,ht,Bt)=>{const ur=Jr(Ne,Je,ht,Bt);return(0,d.imginary)(ur,null,{skipDomainValidation:!0,quality:"auto:best",version:9})},Jr=(Ne,Je,ht,Bt)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/post_selection_preview/${Je.id}/${ht}.jpg`,M({},Bt)),Xr=(Ne,Je)=>{const ht=Mr(Ne,Je);return(0,d.imginary)(ht,null,{skipDomainValidation:!0,quality:"auto:best",version:3})},Mr=(Ne,Je)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/post_preview/${Je.id}/twitter.jpg`,{isDraft:Je.is_draft||Je.is_scheduled}),sn=(Ne,Je,ht,Bt,ur)=>{const Nr=zr(Ne,Je,ht,Bt);return(0,d.imginary)(Nr,null,{skipDomainValidation:!0,quality:"auto:best",version:11,attachment:!!ur,filename:ur})},zr=(Ne,Je,ht,Bt)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/post_selection_image/${Je.id}/${ht}.jpg`,M({},Bt)),On=Ne=>`https://twitter.com/${Ne}`,zn=Ne=>`https://instagram.com/${Ne}`,gn=Ne=>`https://tiktok.com/@${Ne}`,wn=Ne=>`https://youtube.com/channel/${Ne}`,hn=Ne=>(0,d.imginary)(`${Zn(Ne)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),Zn=Ne=>{const{hashString:Je}=e(83322);let ht=`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Bt=`${Ne.logo_url}:${Ne.hero_text}:${Ne.name}:${Ne.author_name}:${Ne.subdomain}`,ur=Je(Bt);return ur?ht+=`?v=${ur}`:ht+="?v=bust",ht},Hr=(Ne,Je,ht,Bt)=>{const ur=pn(Ne,Je,ht);return(0,d.imginary)(ur,null,{quality:"auto:best",skipDomainValidation:!0,version:13,attachment:!!Bt,filename:Bt})},pn=(Ne,Je,ht)=>{const{hashString:Bt}=e(83322),ur=Bt(`${Je.social_title+Je.title+Je.description+Je.cover_image}`);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/press_kit/${Je.id}.jpg`,C(M({},ht),{isDraft:"is_draft"in Je?Je.is_draft:!1,hash:ur}))},mo=(Ne,Je,ht,Bt,{useRootDomain:ur=!1}={})=>{const Nr=Yn(Ne,Je,ht,{useRootDomain:ur});return(0,d.imginary)(Nr,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Bt,filename:Bt})},Eo=(Ne,Je)=>{let ht=null;if(Object.values(g.dD).includes(Je))ht="arr";else if(Object.values(g.bq).includes(Je))ht="subscribers";else throw Error(`endpoint for milestone not found [${Je}]`);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/milestone_assets/all/${ht}`,{milestone:Je})},Yn=(Ne,Je,ht,{useRootDomain:Bt=!1}={})=>{let ur=null;if(Object.values(g.dD).includes(Je))ur="arr";else if(Object.values(g.bq).includes(Je))ur="subscribers";else throw Error(`endpoint for milestone not found [${Je}]`);return(0,d.pathWithQuery)(`${Bt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/milestone_assets/${ur}.jpg`,M(M({milestone:Je},ht),Bt&&{subdomain:Ne.subdomain}))},_o=(Ne,Je,ht,{fileToDownload:Bt="",useRootDomain:ur=!1}={})=>{const Nr=eo(Ne,Je,ht,{useRootDomain:ur});return(0,d.imginary)(Nr,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Bt,filename:Bt})},eo=(Ne,Je,ht,{useRootDomain:Bt=!1}={})=>(0,d.pathWithQuery)(`${Bt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/subscription_note_assets/${Je.id}.jpg`,M(M({},ht),Bt&&{subdomain:Ne.subdomain})),go=(Ne,Je,ht,{fileToDownload:Bt="",useRootDomain:ur=!1}={})=>{const Nr=zo(Ne,Je,ht,{useRootDomain:ur});return(0,d.imginary)(Nr,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Bt,filename:Bt})},zo=(Ne,Je,ht,{useRootDomain:Bt=!1}={})=>(0,d.pathWithQuery)(`${Bt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/pledge_note_assets/${Je.id}.jpg`,M(M({},ht),Bt&&{subdomain:Ne.subdomain})),Uo=(Ne,Je,ht,{fileToDownload:Bt="",useRootDomain:ur=!1}={})=>{const Nr=So(Ne,ht,{useRootDomain:ur});return(0,d.imginary)(Nr,null,{quality:"auto:best",skipDomainValidation:!0,version:11,attachment:!!Bt,filename:Bt})},So=(Ne,Je,{useRootDomain:ht=!1}={})=>(0,d.pathWithQuery)(`${ht?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/publication_assets/image.jpg`,M(M({},Je),ht&&{subdomain:Ne.subdomain})),Bo=(Ne,Je,ht)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Ne,{forceSubdomain:!0})}/api/v1/press_kit/all/${Je.id}`,{aspectRatio:ht,isDraft:Je.is_draft}),ko=Ne=>{const Je=Zo(Ne);return(0,d.imginary)(Je,null,{quality:"auto:best",version:9})},Zo=Ne=>(0,d.pathWithQuery)("/api/v1/latex/jpeg",{expression:Ne}),ua=Ne=>{const Je=`${(0,d.getBaseUrl)(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Ne.id}-bestseller.jpg`;return(0,d.imginary)(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},Oa=Ne=>{const Je=`${(0,d.getBaseUrl)(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Ne.id}-bestseller-share-card.jpg`;return(0,d.imginary)(Je,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},wa=Ne=>`substack://publications/${Ne.id}/threads`,Sa=(Ne,Je)=>Ne.startsWith("/publish"),Fo=Ne=>{const Je=(0,d.parseUrl)(Ne);return Je?Je.pathname.startsWith("/p/"):!1},Qn=Ne=>{var Je,ht;return Fo(Ne)&&(ht=(Je=(0,d.parseUrl)(Ne))==null?void 0:Je.pathname.split("/")[2])!=null?ht:null},Co=Ne=>{if(!Fo(Ne))return!1;const Je=(0,d.parseUrl)(Ne);if(!Je)return!1;const ht=Je.pathname.split("/");return ht.length===4&&ht[3]==="comments"},Wn=({redirect:Ne,for_pub:Je,utm_source:ht}={})=>(Ne=Ne||"",(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-out`,{redirect:Ne,for_pub:Je,utm_source:ht})),to=(Ne,Je)=>{const ht=new URLSearchParams;return ht.set("referrer",encodeURIComponent(Ne)),Je&&ht.set("initialSectionId",String(Je)),`/publish/podcast/new?${ht.toString()}`},Vn=Ne=>{try{const ht=new URL(Ne).pathname.match(/\.(\w+)$/);return ht?ht[0]:null}catch(Je){return null}},Wo=550,Ua=728,ca=424,Ba=[ca,ca*2,ca*3,Ua*2],ka=1200,ci=2880,da=320,so=550,ta=(Ne,{post:Je}={})=>{var ht,Bt;if(!Ne)return;const Nr="substack-video";return Ne.media_type==="audio"&&(u()(Ne.thumbnail_id)||Ne.thumbnail_id===1)?(ht=Je==null?void 0:Je.podcast_episode_image_info)==null?void 0:ht.url:`https://${Nr}.s3.amazonaws.com/video_upload/post/${Ne.post_id}/${Ne.id}/transcoded-${((Bt=Ne.thumbnail_id)!=null?Bt:1).toString().padStart(5,"0")}.png`},at=(Ne,{pub:Je,isStatic:ht,variant:Bt,post:ur}={})=>{var Nr,fn;const{colorLuma:Sn,videoPlayerDimensions:mn}=e(83322),{height:Mn,width:To}=mn(Ne,{isStatic:ht}),jo=To/Mn<1920/1080?"pad":"fill",Yo=Bt==="shows"?"#E2E0E0":((Nr=Je==null?void 0:Je.theme)==null?void 0:Nr.background_pop_color)||(Je==null?void 0:Je.theme_var_background_pop)||s.Hu,lo=Bt==="shows"?"#161718":Sn(Yo)>.6?"#1a1a1a":"#ffffff",Io=Bt==="shows"?120:152;return(0,d.imginary)((fn=ta(Ne,{post:ur}))!=null?fn:"",To*2,{crop:jo,height:Mn*2,trailingSegments:ht?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${Yo.slice(1)}`,`l_video_play_icon_c75z6z,w_${Io},e_colorize:100,co_rgb:${lo.slice(1)}`]:[]})},ct=(Ne,Je,ht={})=>(0,d.pathWithQuery)(`https://substack.com/app-link/publications/${Ne.id}/drafts/${Je}`,ht),mt=(Ne,{userIdJwt:Je,domain:ht}={})=>`${ht?(0,d.getSubstackUrlWithDomain)(ht):(0,d.getSubstackUrl)()}/redirect/${Ne}?j=${Je||""}`,Yt=Ne=>(0,d.pathWithQuery)("substack://sign-in/challenge",{token:Ne}),ir="https://apps.apple.com/us/app/substack-reader/id1581650857",vr="https://play.google.com/store/apps/details?id=com.substack.app",Pr=(Ne={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/home`),sr=(Ne={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app`,Ne),Sr=(Ne={})=>(0,d.pathWithQuery)("https://on.substack.com/p/writerfaq",Ne),Cr=Ne=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/app-store-redirect`,Ne),Yr=Ne=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/get-ios`,Ne),Gr=Ne=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/get-android`,Ne),Vr=({pathOnly:Ne=!1}={})=>{const Je="/img/podcast/generic.png";return Ne?Je:`${(0,d.getSubstackUrl)()}${Je}`},nn=()=>({Vibrant:{rgb:[244.1949152542373,162.0762711864407,10.805084745762711],population:0},DarkVibrant:{rgb:[126.9813559322034,84.27966101694916,5.618644067796606],population:0},LightVibrant:{rgb:[250,212,142],population:31},Muted:{rgb:[92,158,148],population:4},DarkMuted:{rgb:[146.51694915254237,97.24576271186443,6.483050847457638],population:0},LightMuted:{rgb:[164,204,196],population:3}}),vn=()=>{const Ne=Vr({pathOnly:!0});return(0,d.imginary)(Ne,1400)},Hn=Ne=>(0,d.pathWithQuery)("https://twitter.com/intent/tweet",Ne)},30123:(H,E,e)=>{"use strict";e.d(E,{Fo:()=>f,JD:()=>y,L4:()=>g,Q2:()=>a,SV:()=>D,T9:()=>t,Y$:()=>d,ZJ:()=>I,ZX:()=>l,n1:()=>T,tE:()=>O,y:()=>p});const t="substack.com",u=null,g="https://substackcdn.com",P=null;function y(v){let w="https://",M="";return w+v+M}const O=y(t),c=new URL(O);function f(v,{forceSubdomain:w=!1}={}){if(v&&"custom_domain"in v&&v.custom_domain&&!v.custom_domain_optional&&!w)return v.custom_domain;let M=t;return v&&v.subdomain!=="www"&&(M=`${v.subdomain}.${M}`),M}function d(v){return Object.keys(v).filter(w=>typeof v[w]!="undefined"&&v[w]!==null).map(w=>`${encodeURIComponent(w)}=${encodeURIComponent(v[w])}`).join("&")}function T(v,w){if(!v)return"";if(!w)return v;const M=d(w),C=M?v.indexOf("?")===-1?"?":"&":"";return`${v}${C}${M}`}function D(v,{forceSubdomain:w=!1}={}){if(v&&"rss_website_url"in v&&v.rss_website_url)try{return new URL(v.rss_website_url).origin}catch(C){return v.rss_website_url}else if(v&&"base_url"in v&&v.base_url&&!w)return v.base_url;const M=f(v,{forceSubdomain:w});return y(M)}function I(){return D()}function p(v){return y(v)}function l(){return y(`open.${t}`)}function a(v,{noBase:w,urlParams:M}={}){const C=w?"":D();return T(`${C}${v}`,M)}},70444:(H,E,e)=>{"use strict";e.d(E,{Ds:()=>T,E2:()=>Y,IY:()=>Ee,It:()=>ae,NZ:()=>ie,Oi:()=>he,Sg:()=>j,TK:()=>fe,kM:()=>ne,mx:()=>V,rc:()=>ue,vy:()=>le});var t=e(6385),u=e(30123),s=e(2731),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(ge,be,me)=>be in ge?g(ge,be,{enumerable:!0,configurable:!0,writable:!0,value:me}):ge[be]=me,f=(ge,be)=>{for(var me in be||(be={}))y.call(be,me)&&c(ge,me,be[me]);if(P)for(var me of P(be))O.call(be,me)&&c(ge,me,be[me]);return ge};const T="/home",D="/notes",I=null;function p(ge){return ge===T||ge.startsWith(I)}const l=/^([cp])-(\d+)$/,a=/^\/note\/([cp])-(\d+)$/,v=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,w=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,M=/^\/@[^\/]+\/note\/c-(\d+)$/,C=/^\/@[^\/]+\/note\/p-(\d+)$/,L=new RegExp(`${T}/(short|post)/p-(\\d+)`);function S(ge){const be=$(ge);if(be)return be;const me=F(ge);if(me)return me;const pe=K(ge);return pe||null}const N=new RegExp(`^${D}(/?)`);function R(ge){return!!ge.match(N)}function U(ge){return ge.replace(N,`${T}$1`)}function F(ge){const be=ge.match(w);if(be)return{type:"post",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const me=ge.match(C);if(me)return{type:"post",id:Number(me[1])};const pe=ge.match(L);return pe?{type:pe[1]==="short"?"post":"postViewer",id:Number(pe[2])}:null}function $(ge){const be=ge.match(v);if(be)return{type:"comment",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const me=ge.match(M);return me?{type:"comment",id:Number(me[1])}:null}const G=new RegExp(`^${D}/comment/(d+)$`);function Q(ge){return ge.match(G)}function K(ge){const be=ge.match(a);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function W(ge){const be=ge.match(l);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function Y({baseUrl:ge,urlParams:be}={}){var me;let pe=T;const Le=ge!=null?ge:(0,u.ZJ)();return(typeof window=="undefined"||!((me=window.location.href)!=null&&me.startsWith(Le)))&&(pe=Le+pe),(0,u.n1)(pe,be)}function ne({baseUrl:ge,urlParams:be}={}){const me=Y({baseUrl:ge});return(0,u.n1)(`${me}/suggestions`,be)}function V(ge,be,{noBase:me,urlParams:pe}={}){var Le,je;const xe=(Le=be.publishedBylines)!=null&&Le[0]?(je=be.publishedBylines)==null?void 0:je[0]:ge?(0,t.getPostAuthor)(ge,be):{id:0,name:"someone"};return(0,u.n1)(`${(0,s.NN)(xe,{noBase:me})}/note/${le(be.id)}`,pe)}function j(ge,{noBase:be,baseUrl:me,urlParams:pe,noHandle:Le}={}){return ge.user_id?(0,u.n1)(`${(0,s.NN)((0,t.getCommentAuthor)(ge),{baseUrl:me,noBase:be,noHandle:Le})}/note/${ae(ge.id)}`,pe):Y({baseUrl:me})}function te(ge,{noBase:be,baseUrl:me,urlParams:pe}={}){const Le=be?"":me!=null?me:getSubstackUrl();return pathWithQuery(`${Le}/note/${ge}`,pe)}function ie(ge,{noBase:be,urlParams:me}={}){const pe=be?"":(0,u.SV)();return(0,u.n1)(`${pe}/note/${ae(ge)}`,me)}function ue(ge,{noBase:be,urlParams:me}={}){const pe=be?"":(0,u.SV)();return(0,u.n1)(`${pe}${T}/post/${le(ge)}`,me)}function he(ge,be){return(0,u.Q2)(`/note/${le(ge)}/restacks`,be)}function Z(ge,be,me){return buildUrl(`/note/${ge}/restacks${be==="notes"?"/notes":"/instants"}`,me)}function J(ge,be){return`${be==="comment"?"c":"p"}-${ge}`}function ae(ge){return`c-${ge}`}function le(ge){return`p-${ge}`}function oe(ge){return`cp-${ge}`}function ee({utm_source:ge,utm_campaign:be}={}){return pathWithQuery("substack://notes",{utm_source:ge,utm_campaign:be})}function z(ge){return`substack://notes/${ae(ge)}`}function re(ge){return`substack://activity/notes/${ae(ge)}/replies`}function se(ge){return`substack://notes/${le(ge)}`}function fe(ge){return(0,u.n1)(Y(),f({action:"compose"},ge))}function Ee(ge,{noBase:be}={}){return`${be?"":(0,u.SV)()}/note/${ae(ge)}/preview.jpg`}},36250:(H,E,e)=>{"use strict";e.d(E,{AN:()=>p,Mo:()=>d,_N:()=>l,aE:()=>v,jn:()=>D,mG:()=>a,tk:()=>T,uR:()=>f,ws:()=>I});var t=e(30123),u=e(70444),s=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(w,M,C)=>M in w?s(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,c=(w,M)=>{for(var C in M||(M={}))P.call(M,C)&&O(w,C,M[C]);if(g)for(var C of g(M))y.call(M,C)&&O(w,C,M[C]);return w};function f(w,M,{noBase:C,edit:L,email:S,comments:N,commentId:R,commentInput:U,highlightComment:F,replyToComment:$,commentContextId:G,uuid:Q,urlParams:K,signedIn:W=!1,feedViewer:Y=!1,clipId:ne}={}){if((w==null?void 0:w.type)==="rss"&&M)return M.canonical_url||w.rss_website_url;const V=M?Q?M.uuid:M.slug:null;if((L||!V)&&w&&(M!=null&&M.id)){const te=C?"":(0,t.SV)(w),ie=!!(M!=null&&M.editor_v2);return`${te}${p(w,M.id,ie,K)}`}if((M==null?void 0:M.type)==="restack"&&(M!=null&&M.id))return`${C?"":(0,t.SV)(w)}/cp/${M.id}`;if(Y||!w||!M||!V){const te=C?"":(0,t.SV)();return R?(0,u.NZ)(R,{noBase:C,urlParams:K}):M&&ne?(0,t.n1)(`${(0,t.SV)(w)}/p/${M.slug}`,K):M?(0,u.rc)(M.id,{noBase:C,urlParams:K}):(0,t.n1)(`${te}${u.Ds}`,K)}const j=l(W,w);return d(w,V,{noBase:C,email:S,comments:N,commentId:R,commentInput:U,highlightComment:F,replyToComment:$,commentContextId:G,urlParams:c({lli:j},K)})}function d(w,M,{noBase:C,email:L,comments:S,commentId:N,commentInput:R,highlightComment:U,replyToComment:F,commentContextId:$,urlParams:G}={}){let Q="";return C||(Q+=(0,t.SV)(w)),Q+=`/p/${M}`,S&&(!N||U)&&(Q+="/comments"),N&&!U&&!$&&(Q+=`/comment/${N}`),L&&(Q+="/email"),G&&(Q=(0,t.n1)(Q,G)),N&&(U||F)?Q+=`#comment-${N}${F?"-reply":""}`:R&&(Q+="#input"),N&&$&&(Q+=`/comment/${$}#comment-${N}`),Q}function T(w,M,C,L){return f(w,M,c({comments:!0,commentId:C==null?void 0:C.id},L))}function D({mediaUploadId:w}){return`media-${w}`}function I({pub:w,post:M,mediaUploadId:C}){return`${f(w,M)}#${D({mediaUploadId:C})}`}function p(w,M,C,L){const S=C?"/publish/collab":"/publish/post";return(0,t.n1)(`${S}/${M}`,L)}function l(w,M){return M.custom_domain&&w?"1":void 0}function a(w,{addBase:M,params:C,signedIn:L}={}){const S=l(L,w),N=M?(0,t.SV)(w):"";return(0,t.n1)(`${N}/account`,c({lli:S},C))}function v(w,M,C,L){return M.post_id?T(C!=null?C:void 0,w!=null?w:void 0,M,L):(0,u.Sg)(M,L)}},2731:(H,E,e)=>{"use strict";e.d(E,{GR:()=>f,NN:()=>I,Nh:()=>v});var t=e(95788),u=e(30123),s=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(w,M,C)=>M in w?s(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,c=(w,M)=>{for(var C in M||(M={}))P.call(M,C)&&O(w,C,M[C]);if(g)for(var C of g(M))y.call(M,C)&&O(w,C,M[C]);return w};function f(w,M,{searchParams:C,noBase:L,baseUrl:S}={}){let R=`${L?"":S!=null?S:(0,u.ZJ)()}/profile/${w}`;const U=(0,t.H)(M,{hashIfEmpty:!0});return U&&(R+=`-${U}`),(0,u.n1)(R,C)}const d=(w,{searchParams:M,noBase:C,baseUrl:L}={})=>{const N=`${C?"":L!=null?L:(0,u.ZJ)()}/@${w}`;return(0,u.n1)(N,M)};function T(w,{searchParams:M,noBase:C,baseUrl:L}={}){const N=`${C?"":L!=null?L:getSubstackUrl()}/@${w}`;return pathWithQuery(N,M)}function D(){return`${getSubstackUrl()}/profile/edit`}function I(w,{utm_source:M,utm_content:C,noBase:L,baseUrl:S,noHandle:N,extraParams:R}={}){const U=M||C?{utm_source:M,utm_content:C}:void 0,F=c(c({},R),U),$=N?void 0:(w==null?void 0:w.handle)||(w==null?void 0:w.author_handle);return $?d($,{noBase:L,baseUrl:S,searchParams:F}):f(w.author_id||w.user_id||w.id,w.user_profile_name||w.author_name||w.name,{noBase:L,baseUrl:S,searchParams:F})}function p(w){return`${I(w)}?follow`}function l(w){return`${I(w)}?invite`}function a(w,M,C){return buildUrl(`${I(w,{noBase:!0})}/${M!=null?M:"subscribers"}`,C)}function v(w={}){return(0,u.n1)(`${(0,u.ZJ)()}/profile/start`,w)}},96702:(H,E,e)=>{"use strict";e.d(E,{I4:()=>P,SM:()=>s,ln:()=>g,zU:()=>y});var t=e(20501),u=e(30123);function s(O,c){const f=g(O,c);return f||y}function g(O,{preferAuthorPhoto:c}={}){return c&&(O!=null&&O.author_photo_url)&&(0,t.imginary)(O.author_photo_url)?(0,t.imginary)(O.author_photo_url):O!=null&&O.photo_url&&(0,t.imginary)(O.photo_url)?(0,t.imginary)(O.photo_url):(O==null?void 0:O.id)!=null?P(O.id):null}function P(O){const c=["purple","yellow","orange","green","black"];return`${(0,u.ZJ)()}/img/avatars/${c[O%5]}.png`}const y=`${(0,u.ZJ)()}/img/avatars/logged-out.png`},90030:(H,E,e)=>{"use strict";e.d(E,{Q1:()=>u,bu:()=>s});function t(g){return!!(g.email_confirmed||new Date(g.created_at)<new Date("2023-04-26T23:05:00.567Z"))}function u(g,{prependSpace:P=!1}={}){return g?(P?" ":"")+g.trim().split(/\s+/g)[0]:""}function s(g){return g?g.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}},76193:(H,E,e)=>{"use strict";e.r(E),e.d(E,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>u,MOBILE_USER_AGENT_PATTERN:()=>t,getIosVersion:()=>P,isAndroid:()=>f,isAndroidUserAgent:()=>c,isIos:()=>y,isMobile:()=>s,isMobileUserAgent:()=>g});const t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function s(d={}){let T=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!T&&typeof window!="undefined"&&(T=window.opera),T?g(T,d):!1}function g(d,{checkFirst4:T}={}){return t.lastIndex=0,u.lastIndex=0,!!(t.test(d)||T&&u.test(d.substr(0,4)))}function P(){if(typeof navigator=="undefined")return null;const d=navigator.userAgent;if(!d.match(/iPad/i)&&!d.match(/iPhone/i))return null;const T=d.indexOf("OS ");return T===-1?null:parseInt(d.substr(T+3,3).replace("_","."))||null}function y(){return!!P()}const O=/Android/i;function c(d){return O.lastIndex=0,!!d&&O.test(d)}function f(){return typeof navigator=="undefined"?!1:c(navigator.userAgent)}},63830:(H,E,e)=>{"use strict";e.d(E,{l:()=>t});const t=(u,{utm_source:s}={})=>{const g={id:u(),timestamp:new Date};return s&&(g.utm_source=s),g}},83322:(H,E,e)=>{"use strict";e.r(E),e.d(E,{AUDIENCE_ADJECTIVES:()=>Ge,AppError:()=>lt,CENTS_PER_EMAIL:()=>Qe,CONTENT_MODERATION_REASONS:()=>xe,ChatError:()=>vt,DEFAULT_MAX_BYLINES:()=>tf,DEFAULT_PREVIEW_LIMIT:()=>re,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>se,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>z,DEFAULT_THEME_COLORS:()=>Pe,EU_COUNTRIES:()=>jn,FIRST_ILLEGAL_POSTGRES_INTEGER:()=>je,GIFT_LENGTH_MONTHS:()=>Ht,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>ee,GRACE_PERIOD_DAYS:()=>ae,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>wt,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>le,MAX_BANK_PAYMENT_ATTEMPTS:()=>pe,MAX_FILE_SIZE:()=>G,MAX_INT32:()=>Le,MAX_MEDIA_FILE_SIZE:()=>F,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>$,MAX_PODCAST_FILE_SIZE:()=>U,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>fe,MISSING_IMAGE_HEIGHT:()=>be,MISSING_IMAGE_URL:()=>ge,MISSING_IMAGE_WIDTH:()=>me,MONTH_NAMES:()=>st,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Ve,NO_REPLY_EMAIL:()=>Dr,NZD_COUNTRIES:()=>xt,OLD_PODCAST_CATEGORIES:()=>Ze,PODCAST_CATEGORIES:()=>nt,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>ze,PUBLICATION_TIER_DESCRIPTIONS:()=>Li,SECURITY_QUESTIONS:()=>De,SPECIAL_SUBDOMAINS:()=>We,STRIPE_DAYS_UNTIL_DUE:()=>oe,STRIPE_TAX_ID_TYPES:()=>Ie,SUBSCRIPTION_WORDS:()=>Po,SUBSTACK_PUBLICATION_IDS:()=>ue,SUBSTACK_PUBLICATION_ID_BETA:()=>V,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>ne,SUBSTACK_PUBLICATION_ID_COMPANY:()=>K,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>W,SUBSTACK_PUBLICATION_ID_ON:()=>Q,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>ie,SUBSTACK_PUBLICATION_ID_READ:()=>j,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>Y,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>te,SUBSTACK_USER_ID:()=>he,SUBSTACK_USER_IDS:()=>J,SUBSTACK_WRITERS_USER_ID:()=>Z,SUPPORTED_CURRENCIES:()=>Rt,SUPPORTED_LANGUAGES:()=>Ce,SUPPORTED_SEARCH_LANGUAGES:()=>Be,TERSE_AUDIENCE_ADJECTIVES:()=>pt,TRANSPARENT_IMAGE_URL:()=>Ee,TWEET_PLACEHOLDER_DATA_URI:()=>M,WEEK_IN_SECONDS:()=>$e,anonymousName:()=>Ho,areCommentsLocked:()=>ct,assertIsDefined:()=>C,assertIsError:()=>L,balanceTextWithCharacterWidths:()=>In,baschezScoreToEmojis:()=>Hr,baschezToCategory:()=>Zn,canDeleteComment:()=>vr,canDeletePost:()=>sr,canEditComment:()=>ir,canPostComments:()=>mt,canReplyToPost:()=>gr,canReportComment:()=>Sr,canSeeCommenterEmails:()=>so,canSeeComments:()=>ta,canSeeTranscription:()=>at,centsToDollarString:()=>yt,centsToPriceString:()=>Ct,colorLightness:()=>On,colorLuma:()=>zn,commentsEnabledForPost:()=>ka,couldPostCommentsIfSubscribed:()=>Yt,coverPageFreeSubscriberCount:()=>ko,currencySymbol:()=>tt,decimalToPercent:()=>wa,deep_equals:()=>Vn,defaultAudienceForPub:()=>Gr,defaultCommentLevelForPub:()=>vn,defaultSendEmailForPub:()=>Hn,dollarFormatter:()=>Te,dollarStringToCents:()=>Ye,endsWithPunctuation:()=>Ir,ensureInList:()=>$n,escapeNewlines:()=>Wn,flat:()=>ca,flowTextBasedOnWidth:()=>Hu,formatArray:()=>wn,formatBytes:()=>Ai,formatEllipsis:()=>Er,formatPercentForDisplay:()=>Oa,formatPodcastDuration:()=>Va,formattedBytesToNumber:()=>Fa,foundingMemberDescription:()=>qn,fromEnv:()=>ju,getByLine:()=>Pt,getBylineUsers:()=>Mn,getCopyrightedContentBucketName:()=>Me,getCurrencyForCountry:()=>Zt,getGiftValueText:()=>Kt,getInitalPayment:()=>Nt,getNext5HoursAfterMidnight:()=>Uu,getNumberWithCommas:()=>Bo,getOpennodePaymentUrl:()=>Xo,getPlanTitle:()=>cl,getPostCtaPresentParticiple:()=>Nr,getPostCtaText:()=>ur,getPostEmbedMeta:()=>jt,getPostMediaBucketName:()=>ye,getPrintedByline:()=>To,getPrintedPostType:()=>fn,getReadableAttribution:()=>Ni,getReaderRecommendationEmailSubject:()=>ul,getRestackEmailSubject:()=>Sn,getScheduledAt:()=>Sa,getSubscribeText:()=>Ut,getSubscriptionSentenceWithCustomWords:()=>Wa,getSubscriptionWord:()=>on,getSuperscriptNumberString:()=>Jo,getTrialEndOverride:()=>Ne,getWithIndefiniteArticle:()=>Fu,get_month_name:()=>Je,group_by:()=>Ba,guessFirstName:()=>c.Q1,guessLastName:()=>c.bu,handleDocumentLinkClick:()=>Io,hashString:()=>Ri,hexToHSV:()=>Xr,hexToRgb:()=>Mr,hidePaidPostsFor:()=>Vt,isAppAttribution:()=>ja,isFoundingPlan:()=>dl,isNotMainEntry:()=>Di,isNotesAttribution:()=>Ia,isPaidPub:()=>Yr,isPinnable:()=>xu,isProbablyEmail:()=>no,isSearchEngineCrawlerQuick:()=>Ca,isSubstackNetworkAttribution:()=>Ha,isTouchDevice:()=>Vu,isUUID:()=>jo,isValidCommentLevel:()=>nn,isZeroDecimalCurrency:()=>ot,joinLines:()=>pn,kFormatter:()=>ll,longestSetOfWordsBelowCost:()=>Fn,mode:()=>Bt,normalizeHex:()=>Jr,numberToHumanFileSize:()=>di,numberToOrderOfMagnitude:()=>go,numberToOrderOfMagnitudeShortString:()=>Uo,numberToOrderOfMagnitudeString:()=>zo,numberToOrdinal:()=>_o,numberToRoughRankingString:()=>So,numberToString:()=>eo,objectMap:()=>to,onlyOwnsRootComment:()=>Pr,oxfordComma:()=>ht,paymentPeriodToPlan:()=>Ru,planBasePricing:()=>_r,pluralize:()=>Qn,possessive:()=>Co,postSocialDescription:()=>Ta,profilePageFreeSubscriberCount:()=>Zo,profilePageFreeSubscriberCountString:()=>ua,pubCurrency:()=>Xe,pubHasPaymentsEnabled:()=>Cr,pubUsesZeroDecimalCurrency:()=>Ue,pubsWithCustomSubscriptionWords:()=>ro,randomString:()=>mo,resolveTwitterShareText:()=>Wt,restacksEnabledForPost:()=>ci,rgbToHex:()=>sn,roundPriceUp:()=>dt,sanitizeInlineText:()=>fi,satoshiToBitcoin:()=>ft,secondsToHHMMSS:()=>pr,secondsToLargestUnit:()=>dr,sectionIsSpecificallyMarkedAsNewsletter:()=>Ke,setDateToMidnightPST:()=>uo,shouldHidePostFromArchive:()=>mn,shouldUseInlineComments:()=>lr,showCommentsOnPost:()=>da,simpleBalanceText:()=>rn,sortSubscriptions:()=>or,spellOutNumber:()=>Fo,splitArray:()=>Ua,streamToBuffer:()=>xi,stringCost:()=>an,stripInvalidBytes:()=>Or,subscriptionTypeText:()=>Et,textLengthAlphaNumericMinimumValidator:()=>Wu,toMap:()=>Wo,toMillis:()=>Yo,toSentenceCase:()=>Yn,toTitleCase:()=>Eo,transformDocumentLink:()=>lo,truncAndFormatArray:()=>gn,truncateBytes:()=>wr,truncateNumber:()=>hn,truncateText:()=>Ar,truncateToValidBytes:()=>br,truncateWords:()=>jr,twitterScreenNames:()=>w,userFromReferralKey:()=>$u,userReferralKey:()=>rf,validCommentLevels:()=>Vr,validateColor:()=>zr,validateHex:()=>mr,videoPlayerDimensions:()=>sl});var t=e(57824),u=e.n(t),s=e(82626);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var P=(ce=>(ce.comments_disabled="comments_disabled",ce.free_subscription_required="free_subscription_required",ce.paid_subscription_required="paid_subscription_required",ce.founding_subscription_required="founding_subscription_required",ce))(P||{}),y=(ce=>(ce.everyone="everyone",ce.free_subscriber="free_subscriber",ce.paid_subscriber="paid_subscriber",ce))(y||{}),O=e(6385),c=e(90030),f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(ce,Ae,qe)=>Ae in ce?f(ce,Ae,{enumerable:!0,configurable:!0,writable:!0,value:qe}):ce[Ae]=qe,a=(ce,Ae)=>{for(var qe in Ae||(Ae={}))I.call(Ae,qe)&&l(ce,qe,Ae[qe]);if(D)for(var qe of D(Ae))p.call(Ae,qe)&&l(ce,qe,Ae[qe]);return ce},v=(ce,Ae)=>d(ce,T(Ae));const w=g,M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function C(ce){if(ce==null)throw new lt(`Expected value to be defined, but received ${ce}`)}function L(ce){if(!(ce instanceof Error))throw new lt(`Expected value to be an Error, but received ${ce}`)}const S="\u2026",N=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],R=["CA","AU","HK","NZ"],U=350*1024*1024,F=20*1024*1024*1024,$=50*1024*1024,G=700*1024*1024,Q=1,K=46438,W=86696,Y=81318,ne=87805,V=508885,j=737237,te=1014268,ie=1056696,ue=[Q,K,W,Y,ne,V,j,te,ie],he=81309935,Z=41856304,J=[he,Z],ae=16,le=45,oe=30,ee=2/24,z=1e3,re=356,se=256,fe=6,Ee="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ge="/img/missing-image.png",be=455,me=728,pe=3,Le=2147483647,je=Le+1,xe=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function ye(){const ce="substack-post-media";if(!ce)throw new lt("postMediaBucketName is not defined");return ce}function Me(){return ye()==="substack-post-media"?"substack-copyrighted-media":"substack-copyrighted-media-staging"}const We=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],De=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],Ge={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},pt={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},wt=new Date("2020-01-16"),Ht=1,nt={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Ze={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},st=["January","February","March","April","May","June","July","August","September","October","November","December"],Ie=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],Pe=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],Ce={de:"German",es:"Spanish",fr:"French",it:"Italian",pt:"Portuguese","pt-br":"Brazilian Portuguese"},Be=["ar","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","la","nl","no","pl","pt","ro","ru","sv","th","tr","vi","zh"],Ve=["IN"],$e=60*60*24*7,Qe=.0064,ze={therampart:{sectionNames:[],sectionIds:[62635]},thebulwark:{sectionNames:["Bulwark Goes to Hollywood"],sectionIds:[]}},Ke=({section:ce,pub:Ae})=>{var qe,it;return!!((qe=ze[Ae.subdomain])!=null&&qe.sectionNames.includes(ce.name)||(it=ze[Ae.subdomain])!=null&&it.sectionIds.includes(ce.id))};class lt extends Error{constructor(Ae,{status:qe=500,userVisible:it=!1,messageHtml:_t=null,responseBody:$t=null}={}){super(Ae),this.name=this.constructor.name,this.status=qe,this.userVisible=!!$t||it||!1,this.messageHtml=_t,this.response={body:$t||(this.userVisible?_t?{errors:[{msg:Ae,msgHTML:_t}]}:{error:Ae}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class vt extends Error{constructor({status:Ae=500,errType:qe="SERVER_ERROR",errMessage:it="",pub:_t=null}){super(it),this.name=this.constructor.name,this.status=Ae,this.response={body:{status:qe,error:it}},_t&&(this.response.body.publication=_t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function Pt(ce,{skipMultiContributorCheck:Ae=!1}={}){var qe,it,_t,$t;if(ce.subdomain==="popularinformation")return"Judd Legum";if(ce.subdomain==="whyisthisinteresting")return"Noah & Colin";if(ce.subdomain==="informant")return"Nick Martin";if(ce.subdomain==="colinmeloy")return"Colin Meloy";if(ce.subdomain==="petition"||ce.subdomain==="russiandissent")return null;if(ce.subdomain==="mattlabash")return"Matt Labash";if(ce.subdomain==="wmbrown")return"Matt Hranek";if(ce.subdomain==="bigtechontrial")return"Matt Stoller";if(ce.subdomain==="thegreenspoon")return"Greta and Fanny";if(!Ae&&((qe=ce.contributors)==null?void 0:qe.length)>1)return null;const qt=ce.name||ce.subdomain,rr=[(_t=(it=ce.contributors)==null?void 0:it[0])==null?void 0:_t.name,ce.author_name,ce.email_from_name,($t=ce==null?void 0:ce.author)==null?void 0:$t.name];for(let hr of rr)if(hr&&(hr=hr.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),hr&&!hr.startsWith(qt)&&!qt.startsWith(hr)&&!hr.endsWith(qt)&&!qt.endsWith(hr)))return hr;return null}function Wt({pub:ce,post:Ae}){var qe;const it=(ce==null?void 0:ce.twitter_screen_name)||ce&&w[ce==null?void 0:ce.subdomain];let _t=(qe=Ae==null?void 0:Ae.title)!=null?qe:ce==null?void 0:ce.name;return ce&&!Ae&&(_t=`Subscribe to ${_t}`),it&&(!Ae||ce&&(!Ae.publishedBylines.length||Ae.publishedBylines.some($t=>$t.id===ce.author_id)))&&(_t+=`, by @${it}`),_t}function Ut(ce,{now:Ae=!1,isFreeSubscribed:qe=!1,isMobile:it=!1,isPledged:_t=!1,pledgesEnabled:$t=!1,language:qt}={}){if(!ce)return"Subscribe";const{iString:rr}=I18N.i(qt||ce.language);return Wa(ce,()=>qe&&ce.plans&&it&&Ae?rr("Upgrade now"):qe&&ce.plans&&it&&!Ae?rr("Upgrade"):qe&&ce.plans&&!it&&Ae?rr("Upgrade to paid now"):qe&&ce.plans&&!it&&!Ae?rr("Upgrade to paid"):rr(qe&&$t&&!_t&&Ae?"Pledge your support now":qe&&$t&&!_t&&!Ae?"Pledge your support":Ae?"Subscribe now":"Subscribe"),hr=>(qe&&ce.plans?Yn(it?hr.upgrade:hr.upgradeToPaid):qe&&$t&&!_t?"Pledge your support":Yn(on(ce,"subscribe")))+(Ae?" now":""))}function jt({date:ce,bylines:Ae,like_count:qe,comment_count:it,language:_t="en"}){const{iPlural:$t}=I18N.i(_t),qt=e(85928),rr=[];return rr.push(qt(ce).locale(_t).fromNow()),qe&&rr.push($t("1 like","%1 likes",qe)),it&&rr.push($t("1 comment","%1 comments",it)),Ae&&Ae.length&&rr.push(wn(Ae.map(hr=>hr.name).filter(hr=>hr!==null),_t)),rr.join(" \xB7 ")}const Vt=["astralcodexten"];function lr(ce,Ae){return ce.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(ce==null?void 0:ce.subdomain)||(Ae==null?void 0:Ae.type)==="podcast"||(Ae==null?void 0:Ae.type)==="video")}const Jt=(ce="")=>ce.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function or(ce){return ce.sort((Ae,qe)=>{var it,_t;if(!Ae)return 1;if(!qe||Ae.membership_state==="subscribed"&&qe.membership_state!=="subscribed")return-1;if(qe.membership_state==="subscribed"&&Ae.membership_state!=="subscribed")return 1;const $t=Jt((it=Ae.publication)==null?void 0:it.name),qt=Jt((_t=qe.publication)==null?void 0:_t.name);return $t<qt?-1:$t>qt?1:0})}function Et(ce){if(ce.expiry&&new Date(ce.expiry)>new Date)switch(ce.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!ce.email_disabled||ce.email_settings&&Object.values(ce.email_settings||{}).some(Ae=>Ae==="individual")?"Free Subscriber":ce.digest_enabled||ce.email_settings&&Object.values(ce.email_settings||{}).some(Ae=>Ae==="digest")?"Follows in Digests":"Emails Disabled"}function gr({post:ce,user:Ae}){return!!(ce&&Ae&&Ae.has_publication&&!Ae.is_admin&&!Ae.is_contributor&&ce.slug!=="coming-soon")}const Dr="no-reply@substack.com";function Or(ce){if(!ce||typeof ce!="string")return ce;try{return encodeURIComponent(ce),ce}catch(Ae){}return ce.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Ae=>Ae.length>1?Ae:" ")}function wr(ce,Ae){const qe=new TextEncoder().encode(ce);return qe.length>Ae?new TextDecoder().decode(qe.slice(0,Ae)):ce}function br(ce){for(;;)try{return encodeURIComponent(ce),ce}catch(Ae){ce=ce.substring(0,ce.length-1)}}function Ar(ce,Ae,{words:qe=null,ellipsis:it=S,extension:_t=null}={}){if(!ce)return ce;let $t=!1;if(qe){const qt=new RegExp(`^(\\w+\\W+){${qe-1}}\\w+`).exec(ce);qt&&($t=!0,ce=qt[0])}return Ae&&ce.length>Ae&&($t=!0,ce=ce.substring(0,Ae-it.length)),$t&&(ce=br(ce),ce+=it,_t&&(ce+=_t)),ce}function jr(ce,Ae,{ellipsis:qe=S,quotationMarks:it=!1}={}){if(!ce)return ce;it&&(Ae-=2);let _t=ce;if(ce&&ce.length>Ae){const $t=ce.split(/\s+/),qt=[];let rr=0;for(;rr<=Ae;){const hr=$t.shift();if(!hr||rr+hr.length>Ae)break;qt.push(hr),rr+=hr.length+1}_t=Er(qt.join(" "),qe)}return it&&(_t.endsWith(" ")||_t.startsWith(" "))&&(_t=_t.trim()),it?`"${_t}"`:_t}const Ur=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function Er(ce,Ae=S){return`${ce.replace(Ur,"")}${Ae}`}function Ir(ce){return/[!.?](?:\s+)?$/.test(ce)}const Kr=new Set([" ","-"]);function rn(ce,{maxCharsPerLine:Ae=55,maxLines:qe=2,preferWide:it=!1}={}){if(ce.length<=Ae)return[ce];const _t=Ae*qe;if(ce.length>_t){let Un=_t;for(;Un>=0&&ce.charAt(Un)!==" ";)Un--;ce=Er(ce.slice(0,Un))}const $t=it?Ae:Math.floor(ce.length/qe);let qt=-1,rr=0;const hr=[];for(;rr+$t<ce.length-1;){for(rr=rr+$t;rr<=ce.length-1&&!Kr.has(ce.charAt(rr));)rr++;const Un=ce.charAt(rr)==="-";hr.push(ce.slice(qt+1,Un?rr+1:rr)),qt=rr}return rr<ce.length-1&&hr.push(ce.slice(qt+1)),hr}const En=ce=>/[A-Z]/.test(ce),Pn=ce=>/[\s-]/.test(ce);function an(ce,Ae){let qe=0;for(let it=0;it<ce.length;it+=1){const _t=ce[it];En(_t)?qe+=Ae:qe+=1}return qe}function Fn(ce,Ae,qe){const it=[];let _t=0,$t=!1;for(let hr=0;hr<ce.length;hr+=1){const Un=ce[hr];if(Pn(Un)){$t=!0;continue}else $t&&(it.push(ce.slice(_t,hr)),_t=hr,$t=!1)}if(_t<ce.length&&it.push(ce.slice(_t)),!it.length)return"";const qt=[it[0]];let rr=an(it[0],Ae);for(const hr of it.slice(1)){const Un=an(hr,Ae);if(rr+=Un,rr<=qe)qt.push(hr);else break}return qt.join("")}function In(ce,{maxCostPerLine:Ae=55,maxLines:qe=2,capitalCost:it=1.2}={}){const _t=ce;if(an(ce,it)<=Ae)return[ce];const qt=[];for(let rr=0;rr<qe;rr+=1){const hr=Fn(ce,it,Ae);if(hr)qt.push(hr),ce=ce.slice(hr.length);else break}return qt.reduce((rr,hr)=>rr+hr.length,0)<_t.length&&(qt[qt.length-1]=Er(qt[qt.length-1].slice(0,qt[qt.length-1].length-1))),qt}const _n=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],jn=[..._n,"BG","CZ","DK","HU","PL","RO","SE"],xt=["NZ","CK","NU","PN","TK"],Rt=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function Zt(ce){return ce==="AU"?"aud":ce==="BR"?"brl":ce==="CA"?"cad":ce==="LI"||ce==="CH"?"chf":ce==="DK"||ce==="FO"||ce==="GL"?"dkk":_n.includes(ce)?"eur":ce==="GB"?"gbp":ce==="MX"?"mxn":ce==="BV"||ce==="NO"||ce==="SJ"?"nok":xt.includes(ce)?"nzd":ce==="PL"?"pln":ce==="SE"?"sek":ce==="US"?"usd":null}const Xe=ce=>{var Ae,qe;return((qe=(Ae=ce.draft_plans)==null?void 0:Ae[0])==null?void 0:qe.currency)||"usd"};function ot(ce){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(ce.toUpperCase())}function Ue(ce){const Ae=Xe(ce);return ot(Ae)}function tt(ce){return new Intl.NumberFormat("en-US",{style:"currency",currency:ce,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const ft=ce=>ce/1e8;function Ct(ce,Ae,{forceDecimals:qe=!1}={}){let _t=new Intl.NumberFormat("en-US",{style:"currency",currency:Ae,minimumFractionDigits:qe||ce%100&&!ot(Ae)?2:0,maximumFractionDigits:Ae==="btc"?8:2}).format(Ae==="btc"?ft(ce):ot(Ae)?ce:ce/100);return Ae==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&R.includes(window._preloads.country)&&(_t=`US${_t}`),_t}function yt(ce){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(ce/100)}const Te=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function Ye(ce){if(!ce)return null;if(typeof ce!="string")throw new Error("Bad type for dollar string");const Ae=ce.replace(/[^0-9.]/g,"");return Ae?Math.round(Number(Ae)*100):null}function dt(ce){let Ae=ce/100;return Ae=Ae<50?Math.ceil(Ae):Math.ceil(Ae/5)*5,Ae*100}function Nt(ce,{quantity:Ae=1,coupon:qe=null,noTrial:it=!1,trial_end_override:_t=null}={}){if(!it&&(ce.trial_period_days||qe&&qe.trial_period_days||_t&&_t>Date.now()/1e3+120))return 0;let $t=ce.amount*Ae;return qe&&qe.percent_off?$t=Math.round($t*(1-(qe.percent_off_precise||qe.percent_off)/100)):qe&&qe.amount_off&&($t=Math.max(0,$t-qe.amount_off)),$t}function Kt(ce,{interval:Ae="month",interval_count:qe=Ht,multiplier:it=1,min:_t=0}={}){let $t,qt,rr;for(const Bn of ce){if(!rr)rr=Bn.currency;else if(rr!=Bn.currency)continue;Bn.interval=="month"?(!$t||Bn.amount<$t)&&($t=Bn.amount):Bn.interval=="year"&&(!qt||Bn.amount<qt)&&(qt=Bn.amount)}let hr=$t;if(!hr&&qt&&(hr=qt/12),!hr)return null;let Un;switch(Ae){case"month":Un=hr;break;case"day":Un=hr/30;break;case"year":Un=qt||hr*12;break;default:throw new Error(`bad interval: ${Ae}`)}let yn=Un*qe*it;return yn<_t?null:(yn=Math.floor(yn/100)*100,Ct(yn,rr))}function _r(ce,{amount:Ae,interval:qe="",language:it="en"}={}){const _t=Ct(Ae!=null?Ae:ce.amount,ce.currency);if(ce.interval!=="forever"){const $t=qe||ce.interval,{iPlural:qt,iString:rr}=I18N.i(it);if(ce.interval_count===3){if($t==="day")return rr("%1/three days",_t);if($t==="month")return rr("%1/three months",_t);if($t==="week")return rr("%1/three weeks",_t);if($t==="year")return rr("%1/three years",_t)}if($t==="day")return qt("%2/day","%2/%1 days",ce.interval_count,_t);if($t==="month")return qt("%2/month","%2/%1 months",ce.interval_count,_t);if($t==="week")return qt("%2/week","%2/%1 weeks",ce.interval_count,_t);if($t==="year")return qt("%2/year","%2/%1 years",ce.interval_count,_t)}return _t}function dr(ce,{secondsCutoff:Ae,minutesCutoff:qe,hoursCutoff:it,daysCutoff:_t,weeksCutoff:$t,long:qt,noNumber:rr,noWord:hr,lessThanMinute:Un,language:yn="en",appendAgo:Bn}={}){const{iCombo:Zr}=I18N.i(yn);ce=Math.round(ce);let Br;return ce<(Ae||60)?(Br=Math.round(ce),hr?Br:rr&&qt?Zr("secondsToLargestUnit","second","seconds",Br):rr&&!qt?Zr("secondsToLargestUnit","sec","secs",Br):!qt&&Bn?Zr("secondsToLargestUnit","%1 sec ago","%1 secs ago",Br):qt?Bn?Zr("secondsToLargestUnit","%1 second ago","%1 seconds ago",Br):Zr("secondsToLargestUnit","%1 second","%1 seconds",Br):Zr("secondsToLargestUnit","%1 sec","%1 secs",Br)):ce<(qe||3600)&&Un&&!hr&&!rr?(Br=Math.round(ce/60),!qt&&Bn?Zr("secondsToLargestUnit","%1 min ago","%1 mins ago",Br):qt?Bn?Zr("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",Br):Zr("secondsToLargestUnit","less than %1 minute","less than %1 minutes",Br):Zr("secondsToLargestUnit","less than %1 min","less than %1 mins",Br)):ce<(qe||3600)?(Br=Math.round(ce/60),hr?Br:rr&&qt?Zr("secondsToLargestUnit","minute","minutes",Br):rr&&!qt?Zr("secondsToLargestUnit","min","mins",Br):!qt&&Bn?Zr("secondsToLargestUnit","%1 min ago","%1 mins ago",Br):qt?Bn?Zr("secondsToLargestUnit","%1 minute ago","%1 minutes ago",Br):Zr("secondsToLargestUnit","%1 minute","%1 minutes",Br):Zr("secondsToLargestUnit","%1 min","%1 mins",Br)):ce<(it||86400)?(Br=Math.round(ce/60/60),hr?Br:rr&&qt?Zr("secondsToLargestUnit","hour","hours",Br):rr&&!qt?Zr("secondsToLargestUnit","hr","hrs",Br):!qt&&Bn?Zr("secondsToLargestUnit","%1 hr ago","%1 hrs ago",Br):qt?Bn?Zr("secondsToLargestUnit","%1 hour ago","%1 hours ago",Br):Zr("secondsToLargestUnit","%1 hour","%1 hours",Br):Zr("secondsToLargestUnit","%1 hr","%1 hrs",Br)):ce<(_t||604800)?(Br=Math.round(ce/60/60),hr?Br:rr?Zr("secondsToLargestUnit","day","days",Br):Bn?Zr("secondsToLargestUnit","%1 day ago","%1 days ago",Br):Zr("secondsToLargestUnit","%1 day","%1 days",Br)):ce<($t||31557600)?(Br=Math.round(ce/60/60),hr?Br:rr&&qt?Zr("secondsToLargestUnit","week","weeks",Br):rr&&!qt?Zr("secondsToLargestUnit","wk","wks",Br):!qt&&Bn?Zr("secondsToLargestUnit","%1 wk ago","%1 wks ago",Br):qt?Bn?Zr("secondsToLargestUnit","%1 week ago","%1 weeks ago",Br):Zr("secondsToLargestUnit","%1 week","%1 weeks",Br):Zr("secondsToLargestUnit","%1 wk","%1 wks",Br)):(Br=Math.round(ce/60/60/24/365.25),hr?Br:rr&&qt?Zr("secondsToLargestUnit","year","years",Br):rr&&!qt?Zr("secondsToLargestUnit","yr","yrs",Br):!qt&&Bn?Zr("secondsToLargestUnit","%1 yr ago","%1 yrs ago",Br):qt?Bn?Zr("secondsToLargestUnit","%1 year ago","%1 years ago",Br):Zr("secondsToLargestUnit","%1 year","%1 years",Br):Zr("secondsToLargestUnit","%1 yr","%1 yrs",Br))}function pr(ce){const Ae=Math.floor(ce/60/60),qe=Math.floor(ce/60)%60,it=Math.floor(ce%60);return`${(Ae?`${Ae}:`:"")+(Ae?`0${qe}`.slice(-2):qe)}:${`0${it}`.slice(-2)}`}function mr(ce){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(ce)}function Jr(ce){return ce[0]!=="#"&&(ce=`#${ce}`),ce=ce.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(Ae,qe,it,_t)=>qe+qe+it+it+_t+_t),ce}function Xr(ce){ce=Jr(ce);function Ae(Zr,Br){typeof Zr=="string"&&Zr.indexOf(".")!=-1&&parseFloat(Zr)===1&&(Zr="100%");const fa=typeof Zr=="string"&&Zr.indexOf("%")!=-1;return Zr=Math.min(Br,Math.max(0,parseFloat(Zr))),fa&&(Zr=parseInt(Zr*Br,10)/100),Math.abs(Zr-Br)<1e-6?1:Zr%Br/parseFloat(Br)}const qe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ce);let it=parseInt(qe[1],16),_t=parseInt(qe[2],16),$t=parseInt(qe[3],16);it=Ae(it,255),_t=Ae(_t,255),$t=Ae($t,255);const qt=Math.max(it,_t,$t),rr=Math.min(it,_t,$t);let hr;const Un=qt,yn=qt-rr,Bn=qt===0?0:yn/qt;if(qt==rr)hr=0;else{switch(qt){case it:hr=(_t-$t)/yn+(_t<$t?6:0);break;case _t:hr=($t-it)/yn+2;break;case $t:hr=(it-_t)/yn+4;break}hr/=6}return{h:hr,s:Bn,v:Un}}function Mr(ce){const Ae=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Jr(ce));return Ae?{r:parseInt(Ae[1],16),g:parseInt(Ae[2],16),b:parseInt(Ae[3],16)}:null}function sn({r:ce,g:Ae,b:qe}){return`#${ce.toString(16).padStart(2,"0")}${Ae.toString(16).padStart(2,"0")}${qe.toString(16).padStart(2,"0")}`}function zr(ce){const Ae=Xr(ce);if(Ae.h>.11&&Ae.h<.56)if(Ae.s>.25&&Ae.v>.5){if(Ae.s<.6&&Ae.v>.8)return!0;if(Ae.s>.6)return!0}else return!1;else if(Ae.s>.25&&Ae.v>.5)return!0;return!1}function On(ce,Ae){const qe=Mr(ce);return qe?(qe.r=Math.max(0,Math.min(255,Math.round(qe.r*Ae))),qe.g=Math.max(0,Math.min(255,Math.round(qe.g*Ae))),qe.b=Math.max(0,Math.min(255,Math.round(qe.b*Ae))),sn(qe)):ce}function zn(ce){let{r:Ae,g:qe,b:it}=Mr(ce);return Ae=Ae/255,qe=qe/255,it=it/255,Ae=Ae<=.03928?Ae/12.92:Math.pow((Ae+.055)/1.055,2.4),qe=qe<=.03928?qe/12.92:Math.pow((qe+.055)/1.055,2.4),it=it<=.03928?it/12.92:Math.pow((it+.055)/1.055,2.4),.2126*Ae+.7152*qe+.0722*it}function gn(ce,Ae,{name:qe=rr=>rr,restWord:it="other",noNames:_t="people",pluralizeRest:$t=!0,showRestCount:qt=!0}={}){const rr=ce.map(qe).filter(Boolean).slice(0,Ae);if(rr.length===0)rr.push(Qn(ce.length,_t));else if(rr.length<ce.length){const hr=ce.length-rr.length;rr.push(`${qt?hr:""} ${it}${hr>1&&$t?"s":""}`)}return wn(rr)}function wn(ce,Ae="en"){const{iString:qe}=I18N.i(Ae);let it="";return ce.length===1?it=ce[0]:ce.length===2?it=ce.join(` ${qe("and")} `):ce.length>2&&(it=`${ce.slice(0,-1).join(", ")}, ${qe("and")} ${ce.slice(-1)}`),it}function hn(ce,{minSignificantDigits:Ae=1,language:qe="en"}={}){if(ce<1e3)return ce.toString();const{iTemplate:it}=I18N.i(qe),_t=$t=>{const qt=Math.max(Ae-1-Math.floor(Math.log10($t)),0);return Math.round($t*Math.pow(10,qt))/Math.pow(10,qt)};return Math.round(ce/1e3)<1e3?(ce/=1e3,it`${_t(ce)}k`):Math.round(ce/1e6)<1e3?(ce/=1e6,it`${_t(ce)}m`):Math.round(ce/1e9)<1e3?(ce/=1e9,it`${_t(ce)}b`):(ce/=1e12,it`${_t(ce)}t`)}const Zn=ce=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(ce,1))/Math.LN10+1e-9))-1),Hr=ce=>"\u{1F525}".repeat(Zn(ce));function pn(ce,Ae,qe){const it=(ce||"").trim().split(/[\s\r]*\n[\s\r]*/g).map($t=>$t.trim()).filter($t=>$t),_t=[];for(;it.length>0;){const $t=it.shift(),qt=_t[_t.length-1];qt&&qt.length<qe?_t[_t.length-1]+=Ae+$t:_t.push($t)}return _t.join(`
`)}function mo(){return Math.random().toString(36).replace(/^0\./,"")}function Eo(ce){return ce.trim().split(/\s+/).filter(Boolean).map(Ae=>Ae[0].toUpperCase()+Ae.substr(1).toLowerCase()).join(" ")}function Yn(ce,Ae){const qe=Ae?ce.substr(1).toLowerCase():ce.substr(1);return ce[0].toUpperCase()+qe}function _o(ce){const Ae=["th","st","nd","rd"],qe=ce%100;return ce+(Ae[(qe-20)%10]||Ae[qe]||Ae[0])}function eo(ce,{precision:Ae=0,language:qe="en"}={}){return typeof ce=="string"&&(ce=Number(ce.replace(/,/g,""))),new Intl.NumberFormat(qe,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:Ae}).format(ce)}function go(ce){return Math.pow(10,Math.floor(Math.log10(ce)))||0}function zo(ce){return ce<100?"tens":ce<1e3?"hundreds":ce<1e4?"thousands":ce<1e5?"tens of thousands":ce<1e6?"hundreds of thousands":ce<1e7?"millions":ce<1e8?"tens of millions":ce<1e9?"hundreds of millions":ce<1e10?"billions":ce<1e11?"tens of billions":ce<1e12?"hundreds of billions":ce<1e13?"trillions":ce<1e14?"tens of trillions":ce<1e15?"hundreds of trillions":"gagillions"}function Uo(ce){const Ae=ce.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"});return ce>=1e3?`${Ae}+`:ce>0?Ae:"0"}function So(ce){return ce<=10?`#${ce}`:ce<=25?"Top 25":ce<=50?"Top 50":ce<=100?"Top 100":""}function Bo(ce){if(ce<1e3)return null;let it=Math.floor(ce/1e3)*1e3;return it>=1e6&&(it=Math.floor(ce/1e5)*1e5),eo(it)}function ko(ce,Ae="en"){const{iTemplate:qe}=I18N.i(Ae),it=Bo(ce);return it?qe`Over ${it} subscribers`:null}function Zo(ce){if(!ce||ce<100)return null;const Ae=ce<1e3?100:1;return Uo(Math.floor(ce/Ae)*Ae)}function ua(ce){return!ce||ce<100?"See subscribers":`${Zo(ce)} subscribers`}const Oa=ce=>ce<1?"< 1%":`${ce}%`;function wa(ce,{rounded:Ae=!1,display:qe=!1,decimalPlaces:it=-1}={}){let _t=parseFloat(ce)*100;return it>=0&&(_t=_t.toFixed(it)),Ae&&(_t=Math.floor(_t)),qe?Oa(Number(_t)):_t}function Sa(ce){var Ae;if((Ae=ce==null?void 0:ce.postSchedules)!=null&&Ae.length&&ce.postSchedules[0].trigger_at)return new Date(ce.postSchedules[0].trigger_at);if("scheduled_at"in ce&&!(!ce||!ce.scheduled_at)&&!(ce.email_sent_at&&ce.should_send_email))return new Date(Math.max(new Date(ce.scheduled_at).getTime(),Date.now()))}function Fo(ce){return ce===0?"zero":ce===1?"one":ce===2?"two":ce===3?"three":ce===4?"four":ce===5?"five":ce===6?"six":ce===7?"seven":ce===8?"eight":ce===9?"nine":ce===10?"ten":ce===11?"eleven":ce===12?"twelve":eo(ce)}function Qn(ce,Ae,{zero_fallback:qe="",just_word:it}={}){let _t,$t;const qt=Ae.lastIndexOf(" ")+1,rr=Ae.substr(qt),hr=Ae.substr(0,qt);return["person","people"].includes(rr)?(_t=`${hr}person`,$t=`${hr}people`):["reply","replies"].includes(rr)?(_t=`${hr}reply`,$t=`${hr}replies`):["entry","entries"].includes(rr)?(_t=`${hr}entry`,$t=`${hr}entries`):["match","matches"].includes(rr)?(_t=`${hr}match`,$t=`${hr}matches`):(_t=Ae,$t=`${Ae}s`),it||(_t=`${eo(ce)} ${_t}`,$t=`${eo(ce)} ${$t}`),!ce&&qe?qe:ce==1?_t:$t}function Co(ce){return`${ce}\u2019${ce[ce.length-1]==="s"?"":"s"}`}function Wn(ce){return ce.replace(/\n/g,"\\n")}const to=(ce,Ae,qe)=>{const it={};for(const _t in ce)it[_t]=Ae.call(qe,ce[_t],_t,ce);return it};function Vn(ce,Ae){if(isNaN(ce))return isNaN(Ae);if(ce===null)return Ae===null;switch(typeof ce){case"undefined":case"boolean":case"number":case"string":return ce===Ae}const qe=Object.keys(ce).sort(),it=Object.keys(Ae).sort();if(qe.length!==it.length)return!1;for(let _t=0;_t<qe.length;_t+=1){const $t=qe[_t];if($t!==it[_t]||!Vn(ce[$t],Ae[$t]))return!1}return!0}const Wo=(ce,Ae="id")=>{const qe={};for(const it of ce)typeof Ae=="function"?qe[Ae(it)]=it:qe[it[Ae]]=it;return qe};function Ua(ce,Ae){const qe=[],it=[];for(const _t of ce)Ae(_t)?qe.push(_t):it.push(_t);return[qe,it]}const ca=(ce,Ae=1)=>{const qe=[];function it(_t,$t){for(const qt of _t)Array.isArray(qt)&&$t>0?it(qt,$t-1):qe.push(qt)}return it(ce,Ae),qe},Ba=(ce,Ae,qe)=>{if(typeof Ae=="string"){const it=Ae.split(".");Ae=_t=>it.reduce(($t,qt)=>$t[qt],_t)}return[].reduce.call(ce,(it,_t,$t)=>{const qt=Ae.call(qe,_t,$t,ce),rr=it.get(qt);return rr?rr.push(_t):it.set(qt,[_t]),it},new Map)};function ka({publication:ce,post:Ae}){return["adhoc_email","page"].includes(Ae==null?void 0:Ae.type)?!1:ce.community_enabled&&Ae&&Ae.write_comment_permissions!=="none"}function ci({publication:ce,post:Ae}){return!!(ce.community_enabled&&Ae)}function da({publication:ce,post:Ae}){return(Ae==null?void 0:Ae.type)==="adhoc_email"||(Ae==null?void 0:Ae.slug)==="coming-soon"?!1:Ae&&Ae.comment_count>0||ka({publication:ce,post:Ae})}const so=ce=>!!(ce&&ce.is_contributor);function ta(ce,Ae,{bypassContentAccessCheck:qe=!1}={}){const{userHasFullAccessToPost:it}=e(6385);return ce&&Ae.publishedBylines&&Ae.publishedBylines.find(_t=>_t.id===ce.id)?!0:qe||it(ce,Ae)}function at(ce,Ae,{bypassContentAccessCheck:qe=!1}={}){const{userHasFullAccessToPost:it}=e(6385);return ce&&Ae.publishedBylines&&Ae.publishedBylines.find(_t=>_t.id===ce.id)?!0:qe||it(ce,Ae)}const ct=ce=>ce.type==="thread"&&ce.write_comment_permissions==="none";function mt(ce,Ae,qe){const it=ce&&"id"in ce?ce.id:null;if(it&&Ae.publishedBylines&&Ae.publishedBylines.find(_t=>_t.id===it))return{canReply:!0};if(ce&&ce.is_contributor)return{canReply:!0};switch(Ae.write_comment_permissions||qe.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:P.comments_disabled};case"only_paid":{if((0,O.isFoundingAudience)(Ae.audience)){const $t=ce?(0,O.userHasFullAccessToPost)(ce,Ae,qe):!1;return{canReply:$t,repliesDisabledReason:$t?void 0:P.founding_subscription_required}}const _t=!!(ce&&ce.is_subscribed);return{canReply:_t,repliesDisabledReason:_t?void 0:P.paid_subscription_required}}}return{canReply:!1}}function Yt(ce,Ae,qe){return mt(v(a({},ce),{is_subscribed:!0}),Ae,qe).canReply}const ir=(ce,Ae)=>!!(Ae&&ce&&ce.id===Ae.user_id);function vr(ce,Ae,{pub:qe,post:it,parentComments:_t}){if(!ce||!Ae)return!1;if(ce.is_contributor||ce.id===Ae.user_id)return!0;if(Ae.publication_id&&Ae.post_id){if(sr(ce,qe,it))return!0}else if(Pr({user:ce,comment:Ae,parentComments:_t}))return!0;return!1}function Pr({user:ce,comment:Ae,parentComments:qe}){var it;if(!ce||!Ae||Ae.publication_id&&Ae.post_id||ce.id===Ae.user_id||ce.is_contributor)return!1;const _t=Number((it=Ae.ancestor_path)==null?void 0:it.split(".").filter(Boolean)[0]);if(!_t)return!1;const $t=qe==null?void 0:qe.find(qt=>(qt==null?void 0:qt.id)===_t);return ce.id===($t==null?void 0:$t.user_id)}function sr(ce,Ae,qe){return ce?!!(ce.is_contributor||ce.id===(Ae==null?void 0:Ae.author_id)||Ae!=null&&Ae.contributors.find(it=>it.user_id===ce.id&&["admin","contributor"].includes(it.role))):!1}function Sr(ce,Ae){return!(!ce||!Ae||ce.id===Ae.user_id)}function Cr(ce){return!!ce.plans}function Yr(ce){return!!(ce.plans||ce.has_subscribers)}function Gr(ce,{type:Ae,coupon:qe}={}){return!ce.plans||Ae==="page"?"everyone":qe?"only_free":"only_paid"}function Vr(ce,Ae,qe){if(Ae==="thread")switch(ce){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(ce){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return qe?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function nn(ce,Ae,qe,it){return ce!=null&&Vr(Ae,qe,it).includes(ce)}function vn(ce,Ae,qe,it){return nn(qe.default_write_comment_permissions,ce,Ae,it)?qe.default_write_comment_permissions:Vr(ce,Ae,it)[0]}function Hn(ce,Ae,qe){return Ae==="page"?!1:qe==="only_free"?!0:!!ce.default_post_publish_send_email}function Ne(ce,Ae,qe){return Ae&&Ae.interval==="forever"?0:Math.max(0,...[ce.trial_end_override>Date.now()/1e3?ce.trial_end_override:0,Ae&&Ae.trial_period_days&&Math.round((Date.now()+Ae.trial_period_days*24*60*60*1e3)/1e3),qe&&qe.trial_period_days&&Math.round((Date.now()+qe.trial_period_days*24*60*60*1e3)/1e3)].filter(it=>it))}const Je=ce=>st[new Date(ce).getMonth()];function ht(ce,{noBreakSpace:Ae}={}){const qe=Ae?"\xA0":" ";let it=[];if(ce.length==1)it=[ce[0]];else if(ce.length==2)it=[ce[0],`${qe}and${qe}`,ce[1]];else if(ce.length>=3)for(let _t=0;_t<ce.length;_t++)it.push(ce[_t]),_t<ce.length-2?it.push(`,${qe}`):_t===ce.length-2&&it.push(`,${qe}and${qe}`);return it.toString=()=>it.join(""),it}function Bt(ce){const Ae=new Map;for(const qe of ce){let it=Ae.get(qe);it=(it||0)+1,Ae.set(qe,it)}return Array.from(Ae).sort((qe,it)=>it[1]-qe[1])[0][0]}function ur(ce,Ae="en"){const{iString:qe}=I18N.i(Ae);return ce.type==="thread"?qe("View thread"):ce.type==="podcast"?qe("Listen"):qe("Read")}function Nr(ce,{isFinalWord:Ae}={}){return ce==="podcast"?`listening${Ae?"":" to"}`:ce==="video"?"watching":"reading"}function fn(ce){return ce==="newsletter"?"post":ce==="podcast"?"episode":ce==="adhoc_email"?"email":ce==="video"?"video":ce}function Sn(ce){return`${Ar(ce.title||"Untitled post",115)}`}function mn(ce){return ce.publication_id===10475&&ce.section_id===18994}function Mn(ce,{isDraft:Ae=!1}={}){return ce?((Ae?ce.draftBylines:ce.publishedBylines)||[]).filter(it=>it.name):[]}function To(ce,Ae,{isDraft:qe=!1}={}){const it=Mn(Ae,{isDraft:qe});return it.length>0?wn(it.map(_t=>_t.name).filter(_t=>_t!==null)):null}const jo=ce=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(ce);function Yo(ce){return typeof ce=="string"?u()(ce)||0:typeof ce=="number"?ce:0}function lo(ce){const Ae=qe=>new RegExp(`^.*${qe}`);if(ce){if(ce.includes(s.Substitutions.CHECKOUT_URL))return ce.replace(Ae(s.Substitutions.CHECKOUT_URL),"/subscribe?");if(ce.includes(s.Substitutions.FOUNDING_CHECKOUT_URL))return ce.replace(Ae(s.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(ce.includes(s.Substitutions.REFERRAL_URL))return ce.replace(Ae(s.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(ce.includes(s.Substitutions.UNSUBSCRIBE_URL))return ce.replace(Ae(s.Substitutions.UNSUBSCRIBE_URL),"/account?");if(ce.includes(s.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return ce.replace(Ae(s.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(ce))return null}else return ce;return ce}function Io(ce){const Ae=lo(ce);if(Ae){const qe=window.open(Ae,"_blank");qe!=null&&qe.focus&&qe.focus()}}function Di(ce){if(!ce)return!0;const Ae=document.location&&document.location.pathname||"";return["publish","account"].includes(Ae.split("/")[1])}function Ai(ce,Ae=2){if(ce===0)return"0 Bytes";const qe=1024,it=Ae<0?0:Ae,_t=Math.floor(Math.log(ce)/Math.log(qe));return`${parseFloat((ce/Math.pow(qe,_t)).toFixed(it))} ${N[_t]}`}function Fa(ce=""){if(!ce)return 0;const[Ae,qe]=ce.split(" "),it=N.indexOf(qe);return it<0?0:Number(Ae)*Math.pow(1024,it)}function Ca(ce){return/Googlebot/i.test(ce||"")?"Google":/bingbot/i.test(ce||"")||/BingPreview/i.test(ce||"")?"Bing":/Slurp/i.test(ce||"")?"Yahoo":/DuckDuckBot/i.test(ce||"")?"DDG":/Baiduspider/i.test(ce||"")?"Baidu":!1}function Ho(ce,Ae,qe,it){return ce.name?ce.name:(qe&&qe.author_id===it.id||Ae&&Ae.publishedBylines&&Ae.publishedBylines.find(_t=>_t.id===it.id))&&ce.email||"Someone"}function Ta(ce,Ae,qe="en"){const{iTemplate:it}=I18N.i(qe);return ce&&ce.description||Ae.hero_text||it`Get ${Ae.name} in your inbox`}const Po=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],ra={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},ro=Po.flatMap(ce=>ce.pubs);function Wa(ce,Ae,qe){const it=Po.find($t=>$t.pubs.includes(ce==null?void 0:ce.subdomain))||null,_t=it?a(a({},ra),it):null;return _t?qe(_t):Ae()}function on(ce,Ae){const qe=Po.find(_t=>_t.pubs.includes(ce==null?void 0:ce.subdomain));let it=qe&&qe[Ae];if(!it&&(it=ra[Ae],!it))throw new Error(`${Ae} is not a valid subscription word`);return it}function Jo(ce){const Ae={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${ce}`).map(qe=>Ae[qe]))}const qn=ce=>{var Ae,qe,it;return(it=(qe=(Ae=ce==null?void 0:ce.plans)==null?void 0:Ae.find(_t=>{var $t;return($t=_t.metadata)==null?void 0:$t.founding}))==null?void 0:qe.metadata)==null?void 0:it.short_description},Xo=ce=>`https://checkout.opennode.com/${ce}`;function di(ce=0){const Ae=ce===0?0:Math.floor(Math.log(ce)/Math.log(1024));return`${+(ce/Math.pow(1024,Ae)).toPrecision(3)}${["B","KB","MB","GB","TB"][Ae]}`}function Ni(ce,Ae="en"){if(!ce)return null;const{iString:qe}=I18N.i(Ae),it=qe("Substack Network"),_t=qe("Substack App");if(Ia(ce))return _t;const $t={"blog.substack.com":it,"library.substack.com":it,"substack-network":it,"on.substack.com":it,"post-end-cta":"Post Footer CTA","stories.substack.com":it,"substack-app":_t,"substack-boost":it,"substack-categories-discovery":_t,"substack-categories-discovery-search":_t,"substack-comment-links":it,"substack-country-leaderboards":_t,"substack-cross-posts":it,"substack-facepiles":it,"substack-feed-item":_t,"substack-homepage-recommendations":it,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-leaderboards":_t,"substack-mentions":it,"substack-notes":_t,"substack-onboarding-discovery":_t,"substack-post-embeds":it,"substack-post-reply-comment":it,"substack-presubscribe":_t,"substack-publication-embeds":it,"substack-reader-discovery":_t,"substack-reader-profile-discovery":_t,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":qe("Substack Network \u2014 Your Weekly Stack"),"substack-recommendation-email":it,"substack-referral":it,"substack-signup-flow":it,"substack-subscriber-referral":it,"substack-twitter-link":_t,"substack-twitter-suggest":_t,"substack-xp-post-template":it,"substack-xp-read-next":it,"substack.com":_t,"t.co":"Twitter","www.substack.com":it,external:qe("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":qe("Boost upsell to engaged subscribers")}[ce];return $t||(/(\b|\.)facebook\./.test(ce)?"Facebook":/(\b|\.)instagram\./.test(ce)?"Instagram":/(\b|\.)linkedin\./.test(ce)?"LinkedIn":/(\b|\.)youtube\./.test(ce)?"YouTube":/(\b|\.)duckduckgo\./.test(ce)?"DuckDuckGo":/(\b|\.)medium\./.test(ce)?"Medium":/(\b|\.)reddit\./.test(ce)?"Reddit":/(\b|\.)bing\./.test(ce)?"Bing":/(\b|\.)google\./.test(ce)?"Google":ce!=null&&ce.includes(".")?ce:Eo(ce.replace(/-/g," ")))}function ja(ce){return Ia(ce)?!0:["substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-country-leaderboards","substack-feed-item","substack-ios-in-app-purchase","substack-leaderboards","substack-notes","substack-onboarding-discovery","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(ce)}function Ia(ce){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(ce)}function Ha(ce){return!ja(ce)&&/substack/i.test(ce)}const no=ce=>/^\S+@\S+\.\S+$/.test(ce),fi=ce=>(ce||"").replace(/\s+/g," "),Li={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function Ru(ce){return ce?ce<3456e3?"monthly":ce<8121600?"quarterly":ce<16070400?"semiannual":ce<3456e4?"annual":ce>3888e3?"lifetime":"other":"free"}function xu(ce){return ce&&(ce.homepage_type==="newspaper"||ce.homepage_type==="magaziney")}const tf=35;function sl(ce,{isStatic:Ae}={}){let qe,it;return ce.width>=ce.height*1.7777777777777777?(qe=Ae?550:960,it=Math.round(qe*(ce.height/ce.width))):ce.width>=ce.height?(qe=Ae?550:728,it=Math.round(qe*(ce.height/ce.width))):qe=it=Ae?550:728,{height:it,width:qe}}function uo(ce){const Ae=e(85928),qe=Ae(ce);return Ae.utc([qe.year(),qe.month(),qe.date(),8,0,0]).toDate()}function Uu({now:ce}={}){const Ae=e(85928),qe=ce?Ae(ce):Ae();let it=qe.utc().startOf("day").add(5,"hour");return it.isBefore(qe)&&(it=it.utc().add(1,"day")),it}function Va(ce){const Ae=Math.round(ce/60),qe=Math.floor(Ae/60),it=Ae%60;return`${qe?`${qe}HR `:""}${it}M`}function Bu(ce){const Ae=ce.toLowerCase()[0];return["a","e","i","o","u"].includes(Ae)}function ku(ce){return ce.toLowerCase().startsWith("uni watch")?"a":Bu(ce)?"an":"a"}function Fu(ce){return`${ku(ce)} ${ce}`}function Ri(ce){return ce.split("").reduce((Ae,qe)=>(Ae<<5)-Ae+qe.charCodeAt(0)|0,0)}function ll(ce,Ae="en"){const{iContext:qe}=I18N.i(Ae),it=qe("thousandsAbbreviation","K");return Math.abs(ce)>9999?`${Math.sign(ce)*(Math.abs(ce)/1e3).toFixed(1)}${it}`:(Math.sign(ce)*Math.abs(ce)).toString()}function ul({recommendedPubs:ce}){let Ae=null;for(const qe of ce){for(const it of qe.recommendations)if(it.hasOwnProperty("blurb")&&it.blurb){Ae=`${it.name} recommended ${qe.name}`;break}if(Ae)break}return Ae!=null?Ae:"Recommendations from your Substacks"}function cl(ce,Ae="en"){var qe,it,_t,$t,qt;const{iString:rr}=I18N.i(Ae);return((qe=ce.metadata)==null?void 0:qe.short_description_english)==="Stammleser"||((it=ce.metadata)==null?void 0:it.short_description_english)==="Gr\xFCndungsmitglied"?rr("Founding Member"):(_t=ce.metadata)!=null&&_t.short_description_english?rr(($t=ce.metadata)==null?void 0:$t.short_description_english):(qt=ce.metadata)!=null&&qt.short_description?rr(ce.metadata.short_description):ce.interval==="year"?rr("Annual"):ce.interval==="forever"?rr("Founding Membership"):ce.interval==="month"&&ce.interval_count===3?rr("Quarterly"):ce.interval==="month"&&ce.interval_count===6?rr("Semiannually"):ce.interval==="day"?rr("Daily"):ce.interval==="week"?rr("Weekly"):rr("Monthly")}function dl(ce){var Ae;return((Ae=ce==null?void 0:ce.metadata)==null?void 0:Ae.founding)==="yes"}const Wu=({minLength:ce,maxLength:Ae,minAlphaNumeric:qe}={})=>it=>{if(!it)return"Missing input";if(ce&&it.length<ce)return`Must be at least ${ce} characters long`;if(Ae&&it.length>Ae)return`Must be at most ${Ae} characters long`;const _t=new RegExp("\\P{P}|`","gu"),$t=it.match(_t);if(!$t||($t==null?void 0:$t.length)<(qe!=null?qe:ce))return`Must contain at least ${qe!=null?qe:ce} non-punctuation characters`;const qt=["`"];let rr=0;return $t.forEach(hr=>{qt.includes(hr)&&(rr+=1)}),$t.length-rr<(qe!=null?qe:ce)?`Must contain at least ${qe!=null?qe:ce} non-punctuation characters`:null};function ju(ce,Ae){const qe=process.env[ce],it=typeof qe!="undefined",_t=typeof Ae!="undefined";if(it)return qe;if(_t)return Ae;throw new Error(`Missing required env var ${ce}`)}function xi(ce){return new Promise((Ae,qe)=>{const it=[];ce.on("data",_t=>it.push(_t)),ce.once("end",()=>Ae(Buffer.concat(it))),ce.once("error",qe)})}function Hu(ce,{maxWidth:Ae=55,maxLines:qe=2,charWidth:it=1}={}){const _t=[];let $t="",qt=0;const rr=ce.split(" ");for(const hr of rr){const Un=hr.length*it;if(qt+Un<=Ae)$t?($t+=` ${hr}`,qt+=Un+it):($t=hr,qt=Un);else if(_t.push($t),$t=hr,qt=Un,_t.length===qe)break}if(_t.length===qe&&$t){const hr=Ae-qt;hr>=3?$t+="...":$t=`${$t.substring(0,$t.length-(3-hr))}...`,_t[qe-1]=$t}else $t&&_t.push($t);return _t}function Vu(){return typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function rf(ce){return(ce==null?void 0:ce.id)&&ce.id.toString(36)||null}function $u(ce){if(!ce)return null;try{const Ae=parseInt(ce,36);return isNaN(Ae)||Ae>Le?null:Ae}catch(Ae){return null}}function $n(ce,Ae){return typeof ce!="string"?Ae[0]:Ae.includes(ce)?ce:Ae[0]}},17087:(H,E,e)=>{"use strict";e.d(E,{a:()=>t});const t=(u,s,g)=>{var P;return((P=g==null?void 0:g.preview_duration)!=null?P:0)>0||["everyone","only_free"].includes(s.audience)||["only_paid"].includes(s.audience)&&(u==null?void 0:u.is_subscribed)||["founding"].includes(s.audience)&&(u==null?void 0:u.is_founding)}},31163:(H,E,e)=>{"use strict";e.d(E,{DL:()=>s,Jk:()=>P,UB:()=>u,ZD:()=>y,fI:()=>g});function t(O){const c=e(85928);return c().diff(c(O),"hour")}const u=O=>{const c=Math.floor(O/60),f=Math.floor(O%60);return`${c}:${f.toString().padStart(2,"0")}`};function s(O,c=!1){if(O<0)return"0:00";const f=Math.floor(O),d=Math.floor(f/60),T=f%60;if(c){const D=Math.round((O-f)*10);return`${d}:${String(T).padStart(2,"0")}.${D}`}return`${d}:${String(T).padStart(2,"0")}`}const g=O=>/^[0-9.:]*$/.test(O),P=O=>/^(?:(?:[0-9]{1,3}):)?(?:[0-5][0-9]|[0-9]{1,2})(?:\.[0-9]{1,3})?$/.test(O),y=O=>{const[c="",f=""]=O.split("."),d=c.split(":").reverse().map(l=>parseInt(l)),T=d[0]||0,D=d[1]||0;return(d[2]||0)*3600+D*60+T+parseInt(f.padEnd(3,"0"))/1e3}},59009:(H,E,e)=>{"use strict";e.d(E,{UTM_CAMPAIGN:()=>u,UTM_CONTENT:()=>g,UTM_MEDIUM:()=>t,UTM_SOURCE:()=>s});const t={email:"email",menu:"menu",podcast:"podcast",reader2:"reader2",reader2Nav:"reader2-nav",rss:"rss",social:"social",web:"web"},u={CTA1:"CTA_1",CTA2:"CTA_2",CTA3:"CTA_3",CTA4:"CTA_4",CTA5:"CTA_5",CTA7:"CTA_7",about:"about",acceptCreditPage:"accept-credit-page",acceptPubCreditPage:"accept-pub-credit-page",androidChatLaunchEmail:"android-chat-launch-email",appMarketing:"app-marketing",autoShare:"auto_share",autofilledFooter:"autofilled-footer",book:"book",brand:"brand",bulletin:"bulletin",chatDigestEmail:"chat-digest-email",chatDripEmail:"chat-drip-email",chatMarketing:"chat-marketing",cohortPages:"cohort_pages",comment:"comment",commentListShareCta:"comment-list-share-cta",commentPage:"comment-page",comp:"comp",compExpiryNotice:"comp-expiry-notice",contactsSyncBlast:"contacts-sync-blast",continueYourSupport:"continue_your_support",creditAcceptedPage:"credit-accepted-page",creditAnnouncementEmail:"credit-announcement-email",creditGrantedEmail:"credit-granted-email",creditTokenInvitePage:"credit_token_invite_page",crossPost:"cross-post",cta:"cta",default:"default",discover:"discover",emailArchive:"email-archive",emailChat:"email-chat",emailCheckout:"email-checkout",emailComments:"email-comments",emailContinue:"email-continue",emailFoundingCheckout:"email-founding-checkout",emailHalfMagicComments:"email-half-magic-comments",emailHalfPost:"email-half-post",emailHome:"email-home",emailLeaderboard:"email-leaderboard",emailPlayOnSubstackUfi:"email-play-on-substack-ufi",emailPost:"email-post",emailPostAppLink:"email-post-app-link",emailPostTitle:"email-post-title",emailPublication:"email-publication",emailReaction:"email-reaction",emailRelatedPub:"email-related-pub",emailRestack:"email-restack",emailRestackComment:"email-restack-comment",emailSavePost:"email-save-post",emailShare:"email-share",emailSubscribe:"email-subscribe",emailThread:"email-thread",getChat:"get-chat",getStartedPage:"get_started_page",ghost:"ghost",giftExpiryNotice:"gift-expiry-notice",giftExpiryNoticeJudd:"gift-expiry-notice-judd",giveAnother:"give-another",growth:"growth",guestPostBio:"guest_post_bio",home:"home",internationalLeaderboard:"international-leaderboard",inviteFriendsCreditsShare:"invite-friends-credits-share",inviteFriendsPage:"invite-friends-page",inviteFriendsPostSubCreditsShareModal:"invite-friends-post-sub-credits-share-modal",inviteFriendsReaderOnboarding:"invite-friends-reader-onboarding",inviteFriendsReaderOnboardingCredit:"invite-friends-reader-onboarding-credit",lists:"lists",mentionNotification:"mention-notification",navbar:"navbar",newThreadEmail:"new-thread-email",notification:"notification",postEmbed:"post_embed",postFollowReferrerPrompt:"post-follow-referrer-prompt",postInstagramShareModal:"post-instagram-share-modal",postReplyComment:"post_reply_comment",postSelection:"post_selection",postShareCenter:"post-share-center",postShareSelection:"post-share-selection",postViewer:"post_viewer",profilePage:"profile_page",pss:"pss",pubShareChecklist:"pub-share-checklist",publicationEmbed:"publication_embed",publishSettings:"publish-settings",reaction:"reaction",reader2:"reader2",readerOnboarding:"reader-onboarding",readerTopNav:"reader-top-nav",referralsSubscribePageShareScreen:"referrals-subscribe-page-share-screen",restackNotification:"restack-notification",shareBestsellerBadge:"share_bestseller_badge",showNotesNoFreePreviewLanguage:"show-notes-no-free-preview-language",smartDeliveryPostDigestEmail:"smart-delivery-post-digest-email",subscribe:"subscribe",subscribePageShareScreen:"subscribe-page-share-screen",subscriberReferralsPubNotification:"subscriber_referrals_pub_notification",substackClips:"substack-clips",substackProfile:"substack_profile",threadEmail:"thread-email",threadPage:"thread-page",threadsPage:"threads-page",ttsModal:"tts-modal",twitterEmbed:"twitter-embed",twitterQuitter:"twitter-quitter",unbsubscribePage:"unbsubscribe-page",unifiedHomeEmailBlast:"unified-home-email-blast",uniqueShareLink:"unique-share-link",viralGiftTwoMonthsLeft1:"viral-gift-two-months-left-1",web:"web",welcome:"welcome",writerReferralButton:"writer_referral_button",xpPostEmbed:"xp_post_embed",xpReadNext:"xp_read_next"},s={about:"about",aboutPage:"about-page",acceptCreditPage:"accept_credit_page",account:"account",accountCard:"account-card",activationDrip:"activation_drip",activityItem:"activity_item",allPodcasts:"all-podcasts",allPodcastsSetupButton:"all_podcasts_setup_button",allYourSubscriptions:"all-your-subscriptions",amp:"amp",appDeckAppstoreButton:"app-deck-appstore-button",appPage:"app-page",appPageBottomAppStoreButton:"app-page-bottom-app-store-button",appPageHeaderButton:"app-page-header-button",audienceInsights:"audience-insights",authorNoteEmail:"author-note-email",badge:"badge",batchPublicationRecommendedEmail:"batchPublicationRecommendedEmail",chatChecklist:"chat-checklist",chatEmbed:"chat_embed",chatEnabledEmail:"chat_enabled_email",chatPostLanding:"chat-post-landing",commentEmbed:"comment_embed",confirmationEmail:"confirmation_email",continueYourSupport:"continue_your_support",coverPage:"cover_page",crossPost:"cross-post",discover:"discover",discoverSearch:"discover_search",dripEmail:"drip_email",editProfileVisibility:"edit-profile-visibility",email:"email",emailRedirect:"email-redirect",emailUfi:"email-ufi",embed:"embed",facebook:"facebook",feedCommentReplyRestriction:"feed-comment-reply-restriction",floatingSubscribeButton:"floating_subscribe_button",giftsPage:"gifts_page",goingPaid:"going-paid",google:"google",greatDiscussions:"great-discussions",handleNotification:"handle-notification",home:"home",homePage:"home-page",homeSitemap:"home-sitemap",homepageReaderOnboarding:"homepage-reader-onboarding",homepageRecommendations:"homepage_recommendations",import:"import",importBanner:"import_banner",instagram:"instagram",invitationEmail:"invitation_email",leaderboard:"leaderboard",likeButtonUpsell:"like-button-upsell",likeToast:"like_toast",listManagementModal:"list_management_modal",manageSubscriptions:"manage-subscriptions",mentions:"mentions",menu:"menu",menuDropdown:"menu-dropdown",messenger:"messenger",mobileSubscription:"mobile-subscription",multiplePersonalRecommendationsEmail:"multiple-personal-recommendations-email",navbar:"navbar",newThreadEmail:"new-thread-email",newsletterPage:"newsletter_page",notesInviteFriendsItem:"notes-invite-friends-item",notesShareAction:"notes-share-action",notification:"notification",paymentPledge:"payment-pledge",paymentPledgeConfirmPayment:"payment-pledge-confirm-payment",paywall:"paywall",paywallFreeTrial:"paywall-free-trial",personalizedRecommendationEmail:"personalized-recommendation-email",planPurchaseBox:"plan-purchase-box",pledged:"pledged",podcastEmail:"podcast-email",podcastPostHeader:"podcast_post_header",podcastSetupEmail:"podcast_setup_email",pollSubscribeModal:"poll-subscribe-modal",post:"post",postEmailTitle:"post-email-title",postEmbed:"post_embed",postEndCta:"post-end-cta",postReferralBanner:"post-referral-banner",postScheduledPage:"post-scheduled-page",postSubscribe:"post_subscribe",postSubscribePrompt:"post-subscribe-prompt",presubscribe:"presubscribe",profileCard:"profile-card",profileToast:"profile_toast",pubHomeSidebar:"pub-home-sidebar",pubHoverCard:"pub_hover_card",qr:"qr",readerCta:"reader-cta",readerSignupFullscreen:"reader_signup_fullscreen",readyForMore:"ready-for-more",receipt:"receipt",receiptPage:"receipt-page",recommendationsPage:"recommendations_page",referralLeaderboard:"referral-leaderboard",restackDigestEmail:"restack-digest-email",rewardEmail:"reward_email",share:"share",showsAudioPlayerHeader:"shows-audio-player-header",showsListenOnMobileDropdown:"shows-listen-on-mobile-dropdown",showsPaywall:"shows-paywall",signup:"signup",subscribe:"subscribe",subscribeContentBlock:"subscribe_content_block",subscribeEmail:"subscribe_email",subscribeLater:"subscribe_later",subscribeWidget:"subscribe-widget",subscribeWidgetPreamble:"subscribe-widget-preamble",subscriberBadge:"subscriber_badge",subscriberChats:"subscriber-chats",subscriptionNotification:"subscription-notification",substack:"substack",substackDigest:"substack-digest",substackFeedItem:"substack-feed-item",suggest:"suggest",thread:"thread",threadEmbed:"thread_embed",twitter:"twitter",twitterPubsTryChatEmail:"twitter-pubs-try-chat-email",upsell:"upsell",userMenu:"user-menu",web:"web",webChatNavigation:"web-chat-navigation",webChatPaywall:"web-chat-paywall",whatsapp:"whatsapp",worldClassWriting:"world-class-writing",writerDashboard:"writer-dashboard",writerOnboardingRecommendations:"writer-onboarding-recommendations",writerReferral:"writer_referral",writerReferralInviteEmail:"writer_referral_invite_email",writerReferralInvitePage:"writer_referral_invite_page",writerReferralSignupEmail:"writer_referral_signup_email",writerStatsEmail:"writer_stats_email"},g={account:"account",authorPostInsert:"author-post-insert",bloggers:"bloggers",comicBookCreators:"comic-book-creators",comment:"comment",commentLink:"comment link",commentMetadata:"comment_metadata",commentShareCheckbox:"comment-share-checkbox",comments:"comments",communityPrograms:"community_programs",cta:"cta",dashboardActionBox:"dashboard_action_box",dashboardPubSwitcher:"dashboard_pub_switcher",defaultWelcomeEmail:"default-welcome-email",discoverTwitter:"discover-twitter",earningCalculator:"earning-calculator",email:"email",emailFooterButton:"email-footer-button",facepileRestacks:"facepile-restacks",feedFeaturedPublication:"feed_featured_publication",feedRecommendedCopyLink:"feed:recommended:copy_link",feedRecommendedViewPublication:"feed:recommended:view_publication",finance:"finance",firstNoteModal:"first-note-modal",foodWriters:"food_writers",footer:"footer",getMonth:"get-month",giveCredit:"give-credit",giveMonth:"give-month",giveMonthGetCredits:"give-month-get-credits",learnMore:"learn_more",like:"like",localNews:"local_news",newFromTwitter:"new-from-twitter",newFromTwitterWithPost:"new-from-twitter-with-post",noteShareModal:"note-share-modal",openInApp:"open-in-app",podcasters:"podcasters",post:"post",postLink:"post link",postcta:"postcta",profile:"profile",reader:"reader",readerSurveySubscribePrompt:"reader-survey-subscribe-prompt",reads:"reads",renewheader:"renewheader",resackerItem:"resacker-item",revampedRecommendationsForReader:"revamped-recommendations-for-reader",scoreUpsell:"score-upsell",seeWhatElseYouMissed:"see-what-else-you-missed",share:"share",signInPage:"sign-in-page",signup:"signup",subscribes:"subscribes",substackFeedItem:"substack-feed-item",switchToSubstack:"switch-to-substack",unifiedHomeDashboardActionBox:"unified_home_dashboard_action_box",unsubscribePage:"unsubscribe-page",unubscribePageTooManyEmails:"unubscribe-page-too-many-emails",userMenuLink:"user-menu-link",userName:"user name",video:"video",webChatMobilePage:"web-chat-mobile-page",webFooterButton:"web-footer-button",writes:"writes",wwwFooter:"www-footer"},P={post:"post"},y={groupSubscriptionOffer:"group-subscription-offer"}},32542:H=>{"use strict";const E={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3",language:"en"};H.exports=E},45895:(H,E,e)=>{"use strict";e.d(E,{forEachNode:()=>t});function t(s,g,{nodeTypes:P}={}){var y,O;if(!s||(P&&!Array.isArray(P)&&(P=[P]),s.type&&(!P||P.includes(s.type)||P.includes(s.type.name))&&g(s)===!1))return;const c=((y=s.content)==null?void 0:y.length)>0?s.content:((O=s.content)==null?void 0:O.childCount)>0?s.content.content:[];for(const f of c)t(f,g,{nodeTypes:P})}function u(s,g){var P,y;if(!s||g(s)===!1)return;const O=((P=s.content)==null?void 0:P.length)>0?s.content:((y=s.content)==null?void 0:y.childCount)>0?s.content.content:[];for(let c=O.length-1;c>=0;c--)u(O[c],g)}},2181:(H,E,e)=>{"use strict";e.d(E,{Jg:()=>xe,Q4:()=>Wt,V8:()=>Pt,dI:()=>tt,rk:()=>gr,xn:()=>ft});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(28175),y=e.n(P),O=e(80587),c=e(98188),f=e(10293),d=e(45609),T=e(99869),D=e(19723),I=e(45570),p=e(5149),l=e(49770),a=e(17048),v=e(27194),w=e(13639),M=e(2564),C=e(80332),L=e(81066),S=e(20501),N=e(92604),R=e(16495),U=e(86602),F=e(79786),$=e(67963),G=e(3258),Q=e(15748),K=e(8479),W=e(17025),Y=e.n(W),ne=e(84040),V=e(51126),j=e(43028),te=e(70925),ie=e(43887),ue=e(75425),he=e(97868),Z=e(56472),J=e(33510),ae=e(72307),le=e(9613),oe=e(1942),ee=Object.defineProperty,z=Object.defineProperties,re=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ge=(Te,Ye,dt)=>Ye in Te?ee(Te,Ye,{enumerable:!0,configurable:!0,writable:!0,value:dt}):Te[Ye]=dt,be=(Te,Ye)=>{for(var dt in Ye||(Ye={}))fe.call(Ye,dt)&&ge(Te,dt,Ye[dt]);if(se)for(var dt of se(Ye))Ee.call(Ye,dt)&&ge(Te,dt,Ye[dt]);return Te},me=(Te,Ye)=>z(Te,re(Ye)),pe=(Te,Ye)=>{var dt={};for(var Nt in Te)fe.call(Te,Nt)&&Ye.indexOf(Nt)<0&&(dt[Nt]=Te[Nt]);if(Te!=null&&se)for(var Nt of se(Te))Ye.indexOf(Nt)<0&&Ee.call(Te,Nt)&&(dt[Nt]=Te[Nt]);return dt},Le=(Te,Ye,dt)=>new Promise((Nt,Kt)=>{var _r=mr=>{try{pr(dt.next(mr))}catch(Jr){Kt(Jr)}},dr=mr=>{try{pr(dt.throw(mr))}catch(Jr){Kt(Jr)}},pr=mr=>mr.done?Nt(mr.value):Promise.resolve(mr.value).then(_r,dr);pr((dt=dt.apply(Te,Ye)).next())});const je="ffe5d072-ae52-11ed-afa1-0242ac120002";function xe({communityPost:Te,author:Ye,extras:dt,withAttribution:Nt,flex:Kt,hideReply:_r,isReadOnly:dr,onReply:pr,onDelete:mr}){var Jr;const Xr=(0,u.sO)(null),Mr={type:"posts",id:Te.id},sn=(0,Z.I0)(),zr=!(Te.type==="media"&&Te.media_assets);return(0,t.h)(wr,{user:Ye,flex:Kt,containerRef:Xr},Nt&&(0,t.h)(ft,{text:`From ${Ye.name}\u2019s subscriber chat`}),(0,t.h)(ye,{actionMenuProps:{communityEntity:Te,publicationId:Te.publication_id,onReply:pr,onDelete:mr,isReadOnly:dr,isFlagged:Te.reported_by_user},flex:Kt},(0,t.h)(In,null,Te.type==="media"&&Te.media_assets&&(0,t.h)(L.c,{context:Mr,reactions:Te.reactions,currentReaction:Te.reaction,onReactionClick:Me(Te.id,"posts",sn,Te.reaction),isReadOnly:dr},(0,t.h)(R.q,{assets:Te.media_assets.map(On=>{var zn;return(zn=On.url)!=null?zn:""}),className:le.Z.imageGroup,readOnly:dr})),Te.link_url&&(0,t.h)(L.c,{context:Mr,reactions:Te.reactions,currentReaction:Te.reaction,onReactionClick:Me(Te.id,"posts",sn,Te.reaction),setReactions:zr,isReadOnly:dr},(0,t.h)(Ue,{linkUrl:Te.link_url,linkMetadata:(Jr=Te.link_metadata)!=null?Jr:void 0,postId:Te.id})),Te.body&&(0,t.h)(L.c,{context:Mr,reactions:Te.reactions,currentReaction:Te.reaction,onReactionClick:Me(Te.id,"posts",sn,Te.reaction),setReactions:zr&&!Te.link_url,isReadOnly:dr},(0,t.h)(jn,{authorName:Ye.name,communityEntity:Te})))),!_r&&(0,t.h)(Fn,null,(0,t.h)(Zt,{commenters:Te.recent_commenters,count:Te.comment_count,audience:Te.audience})),dt)}function ye({children:Te,actionMenuProps:Ye,flex:dt="grow"}){return(0,t.h)(V.gq,{alignItems:"start",gap:12,flex:dt},(0,t.h)(V.tu,null,Te),(0,t.h)(Ar,be({},Ye)))}const Me=(Te,Ye,dt,Nt)=>Kt=>Le(void 0,null,function*(){dt(Nt===Kt?De(Kt,Te,Ye):We(Kt,Te,Ye,Nt))}),We=(Te,Ye,dt,Nt)=>(Kt,_r)=>Le(void 0,null,function*(){Kt({type:`${dt}-new_reaction`,payload:{id:Ye,reaction:Te}}),(yield lt(Te,Ye,dt))instanceof Error&&Kt(Nt?{type:`${dt}-new_reaction`,payload:{id:Ye,reaction:Nt}}:{type:`${dt}-remove_reaction`,payload:{id:Ye,reaction:Te}})}),De=(Te,Ye,dt)=>(Nt,Kt)=>Le(void 0,null,function*(){Nt({type:`${dt}-remove_reaction`,payload:{id:Ye,reaction:Te}}),(yield vt(Te,Ye,dt))instanceof Error&&Nt({type:`${dt}-new_reaction`,payload:{id:Ye,reaction:Te}})}),Ge=(Te,Ye)=>(dt,Nt)=>Le(void 0,null,function*(){dt({type:"posts-delete_post",payload:{id:Te,publication_id:Ye}});const Kt=yield Ke(Te);Kt instanceof Error&&console.warn("error deleting thread",Kt)}),pt=(Te,Ye,dt)=>(Nt,Kt)=>Le(void 0,null,function*(){Nt({type:"comments-delete_comment",payload:{id:Te,postId:Ye}});const _r=yield $e(Te);if(_r instanceof Error&&console.warn("error deleting comment",_r),dt){const pr=yield Qe(dt);pr instanceof Error||Nt({type:"comments-update_comment",payload:{id:dt,comment:pr.comment}})}const dr=yield ze(Ye);dr instanceof Error||Nt({type:"posts-update_post",payload:{id:Ye,post:dr.communityPost}})}),wt=(Te,Ye)=>(dt,Nt)=>Le(void 0,null,function*(){dt({type:"posts-lock_replies",payload:{id:Te,isLocked:Ye}});const Kt=yield Ie(Te,Ye);Kt instanceof Error&&(console.warn("error locking post",Kt),alert(`There was an error ${Ye?"locking":"unlocking"} replies to this post. Please try again later.`),dt({type:"posts-lock_replies",payload:{id:Te,isLocked:!Ye}}))}),Ht=(Te,Ye)=>(dt,Nt)=>Le(void 0,null,function*(){dt({type:"comments-lock_replies",payload:{id:Te,isLocked:Ye}});const Kt=yield Pe(Te,Ye);Kt instanceof Error&&(console.warn("error locking comment",Kt),alert(`There was an error ${Ye?"locking":"unlocking"} replies to this comment. Please try again later.`),dt({type:"comments-lock_replies",payload:{id:Te,isLocked:!Ye}}))}),nt=Te=>(Ye,dt)=>Le(void 0,null,function*(){Ye({type:"posts-flag_post",payload:{id:Te}});const Nt=yield Be(Te);Nt instanceof Error&&console.warn("error flagging post",Nt)}),Ze=Te=>(Ye,dt)=>Le(void 0,null,function*(){Ye({type:"comments-flag_comment",payload:{id:Te}});const Nt=yield Ve(Te);Nt instanceof Error&&console.warn("error flagging comment",Nt)}),st=(Te,Ye)=>(dt,Nt)=>Le(void 0,null,function*(){dt({type:"comments-ban_author",payload:{id:Te,ban:Ye}});const Kt=yield Ce(Te,Ye);Kt instanceof Error&&(console.warn("error toggling ban for comment author",Kt),alert(`There was an error ${Ye?"banning":"unbanning"} this user. Please try again later.`),dt({type:"comments-ban_author",payload:{id:Te,ban:!Ye}}))});function Ie(Te,Ye){return Le(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${Te}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:Ye})})}catch(dt){return dt}})}function Pe(Te,Ye){return Le(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${Te}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:Ye})})}catch(dt){return dt}})}function Ce(Te,Ye){return Le(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${Te}/publication_bans?ban=${Ye.toString()}`,{method:"POST"})}catch(dt){return dt}})}function Be(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/posts/${Te}/reports`,{method:"POST",json:{postId:Te}})}catch(Ye){return Ye}})}function Ve(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/comments/${Te}/reports`,{method:"POST",json:{commentId:Te}})}catch(Ye){return Ye}})}function $e(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/comments/${Te}`,{method:"DELETE",json:{commentId:Te}})}catch(Ye){return Ye}})}function Qe(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/comments/${Te}`,{method:"GET"})}catch(Ye){return console.warn(Ye),Ye}})}function ze(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/posts/${Te}`,{method:"GET"})}catch(Ye){return console.warn(Ye),Ye}})}function Ke(Te){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/posts/${Te}`,{method:"DELETE",json:{postId:Te}})}catch(Ye){return Ye}})}function lt(Te,Ye,dt){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/${dt}/${Ye}/reaction`,{method:"POST",json:{reaction:Te}})}catch(Nt){return Nt}})}function vt(Te,Ye,dt){return Le(this,null,function*(){try{return yield(0,K.rd)(`/api/v1/community/${dt}/${Ye}/reaction`,{method:"DELETE",query:{reaction:Te}})}catch(Nt){return Nt}})}function Pt({author:Te,extras:Ye,showReply:dt=!0,analyticsParams:Nt,commenters:Kt,count:_r,audience:dr}){return(0,u.d4)(()=>{Nt&&(0,G.track)(G.EVENTS.THREAD_PAYWALL_SCREEN_VIEWED,Nt)},[]),(0,t.h)(wr,{user:Te},(0,t.h)(In,null,(0,t.h)(Xe,{audience:dr}),dt&&(0,t.h)(Zt,{isLocked:!0,commenters:Kt,count:_r})),Ye)}function Wt({author:Te,extras:Ye,showReply:dt=!0,commenters:Nt,count:Kt}){return(0,t.h)(wr,{user:Te},(0,t.h)(In,null,(0,t.h)(ot,null),dt&&(0,t.h)(Zt,{isLocked:!0,commenters:Nt,count:Kt})),Ye)}function Ut(Te){return typeof Te.message=="string"}function jt({text:Te,rawText:Ye,specialText:dt,mentionMap:Nt,limit:Kt=600}){const[_r,dr]=(0,u.eJ)(!1);if(dt)return(0,t.h)("em",null,dt);if(!Te)return(0,t.h)(t.Fragment,null);let pr=[{characters:Te.length,message:Te}];Ye&&Nt&&(pr=Jt(Ye,Nt));const{alwaysShow:mr,afterExpansion:Jr}=lr(pr,Kt),Xr=Jr.length>0;return(0,t.h)(t.Fragment,null,mr.map(Mr=>Ut(Mr)?(0,t.h)(Vt,null,Mr.message):Mr.message),Xr&&!_r&&(0,t.h)(t.Fragment,null,(0,t.h)("span",null," "),(0,t.h)(ne.kG,{resetCss:!0,className:le.Z.readMore,onClick:Mr=>{Mr.preventDefault(),dr(!0)}},"Read more")),Xr&&_r&&(0,t.h)(t.Fragment,null,Jr.map(Mr=>Ut(Mr)?(0,t.h)(Vt,null,Mr.message):Mr.message)))}function Vt({children:Te}){return(0,t.h)(y(),{options:{attributes:{rel:"nofollow ugc",onClick:Ye=>Ye.stopPropagation()}}},Te)}function lr(Te,Ye){let dt=0;const Nt=[],Kt=[];for(const _r of Te){let dr=_r;if(dt<Ye){if(dt+dr.characters>Ye&&Ut(dr)){const pr=Ye-dt,mr={characters:pr,message:dr.message.slice(0,pr)},Jr={characters:dr.characters-pr,message:dr.message.slice(pr)};dr=mr,Kt.push(Jr)}dt+=dr.characters,Nt.push(dr)}else Kt.push(dr)}return{alwaysShow:Nt,afterExpansion:Kt}}function Jt(Te,Ye){const dt=/\$\{(\d+)\}/g;let Nt=dt.exec(Te);const Kt=Te,_r=[];let dr=0;for(;Nt;){const pr=Number(Nt[1]),mr=Ye[pr];mr?(Nt.index>dr&&_r.push({characters:Nt.index-dr,message:Kt.slice(dr,Nt.index)}),_r.push({characters:mr.text.length,message:Et(mr.user_id,or(mr.text),mr.text)})):_r.push({characters:dt.lastIndex-dr,message:Kt.slice(dr,dt.lastIndex)}),dr=dt.lastIndex,Nt=dt.exec(Te)}return dr<Kt.length&&_r.push({characters:Kt.length-dr,message:Kt.slice(dr)}),_r}function or(Te){return Te.slice(1)}function Et(Te,Ye,dt){return(0,t.h)(U.default,{name:Ye,id:Te,mentionText:dt,type:"user",uuid:je,isStatic:!1,isEditorContext:!1})}function gr(Te){var Ye=Te,{communityComment:dt,quoteReply:Nt,isTargeted:Kt,isBanned:_r,pubRole:dr,isNew:pr,error:mr}=Ye,Jr=pe(Ye,["communityComment","quoteReply","isTargeted","isBanned","pubRole","isNew","error"]);return(0,t.h)(Dr,be({isTargeted:Kt,isNew:pr,commentGroup:[{communityComment:dt,quoteReply:Nt,isBanned:_r,pubRole:dr,isNew:pr,error:mr}]},Jr))}function Dr({commentGroup:Te,author:Ye,isNew:dt,chatPublicationId:Nt,hideReply:Kt,onReply:_r,onNewQuote:dr,onQuoteReplyClick:pr,onDelete:mr,commentRef:Jr,isTargeted:Xr,isReadOnly:Mr,chatAuthorNameAttribution:sn,extras:zr,flex:On}){const zn=(0,Z.I0)(),gn=Te[Te.length-1].communityComment,{reply_count:wn=0,recent_commenters:hn=[]}=gn!=null?gn:{};return(0,t.h)(wr,{user:Ye,pubRole:Te[0].pubRole,containerRef:Jr,id:`comment-${gn==null?void 0:gn.id}`,flex:On},sn&&(0,t.h)(ft,{text:`Comment from ${sn}\u2019s subscriber chat`}),(0,t.h)(ye,{actionMenuProps:{communityEntity:Te[0].communityComment,isBanned:Te[0].isBanned,isFlagged:Te[0].communityComment.reported_by_user,onReply:_r,onDelete:mr,onNewQuote:dr,isReadOnly:Mr,publicationId:Nt,isNew:dt},flex:On},(0,t.h)(In,null,Te.map(({communityComment:{id:Zn,body:Hr,quote_id:pn,media_uploads:mo,reactions:Eo,reaction:Yn,reported_by_user:_o},quoteReply:eo,isNew:go,error:zo},Uo)=>{var So,Bo;return(0,t.h)(t.Fragment,{key:Zn},!go&&!_o&&mo&&mo.length>0&&pn===null&&(0,t.h)(L.c,{context:{type:"comments",id:Zn},reactions:Eo,currentReaction:Yn,onReactionClick:Me(Zn,"comments",zn,Yn),isReadOnly:Mr||go},(0,t.h)(R.q,{assets:mo.map(ko=>ko.url),className:le.Z.imageGroup,readOnly:Mr})),pn&&eo&&(0,t.h)(xt,{authorName:(Bo=(So=eo.user)==null?void 0:So.name)!=null?Bo:"Substack User",communityEntity:eo.comment,onClick:pr}),Hr&&(0,t.h)(L.c,{context:{type:"comments",id:Zn},reactions:Eo,currentReaction:Yn,onReactionClick:Me(Zn,"comments",zn,Yn),setReactions:!mo||mo.length===0,isReadOnly:Mr||go},(0,t.h)(jn,{authorName:Ye.name,communityEntity:Te[Uo].communityComment,isTargeted:Xr})),zo&&(0,t.h)(ie.xv.Detail,{color:"error"},"\u{10005F} Not delivered."))}))),!Kt&&wn>0&&(0,t.h)(Fn,null,(0,t.h)(Zt,{commenters:hn,count:wn})),zr)}function Or(Te){return Te.post_id===void 0}function wr({user:Te,children:Ye,flex:dt="grow",containerRef:Nt,id:Kt,pubRole:_r}){return(0,t.h)(V.hs,{id:Kt,alignItems:"start",gap:12,flex:dt,ref:Nt,className:g()(oe.Z.reactionsHoverZone,le.Z.avatarContainer)},(0,t.h)(V.hs,{paddingTop:4},Te?(0,t.h)(Ct,{user:Te,pubRole:_r,size:40}):(0,t.h)(J.Vm,{type:"circle",size:40})),(0,t.h)(V.tu,{flex:"grow",gap:4},Ye))}function br(){return(0,t.h)(V.hs,{className:le.Z.actionButton,paddingX:4,alignItems:"center"},(0,t.h)(O.Z,null))}function Ar({communityEntity:Te,onReply:Ye,onDelete:dt,isReadOnly:Nt,publicationId:Kt,isBanned:_r,isFlagged:dr,isNew:pr,onNewQuote:mr}){const Jr=(0,u.sO)(!1),Xr=Mr=>{Jr.current=Mr};return pr?null:(0,t.h)(V.hs,{alignItems:"center",className:le.Z.actions},(0,t.h)(te.J,{content:({closePopover:Mr})=>(0,t.h)(jr,{communityEntity:Te,onReply:Ye,onDelete:dt,closePopover:Mr,isReadOnly:Nt,publicationId:Kt,isBanned:_r,isFlagged:dr,onNewQuote:mr}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:le.Z.actionMenuLayer,onOpen:()=>Xr&&Xr(!0),onClose:()=>Xr&&Xr(!1)},(0,t.h)(br,null)))}function jr({communityEntity:Te,onReply:Ye,onDelete:dt,isReadOnly:Nt,publicationId:Kt,isBanned:_r,isFlagged:dr,closePopover:pr,onNewQuote:mr}){const Jr=(0,$.aF)(),{isAuthor:Xr}=(0,ae.Y0)(Kt!=null?Kt:0),Mr=Kt&&Xr,sn=Te&&Jr&&Te.user_id===Jr.id,zr=Te&&!Or(Te),On=zr&&"parent_id"in Te&&Te.parent_id!==null,zn=sn||Mr,gn=sn||Mr,wn=!sn&&!dr,hn=Mr&&zr&&!sn;return(0,t.h)(V.tu,{className:le.Z.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!Nt&&Ye&&(0,t.h)(Er,{disabled:!!(Te!=null&&Te.is_locked),onReply:Ye}),!Nt&&mr&&zr&&(0,t.h)(Ur,{onNewQuote:mr,communityComment:Te,closePopover:pr}),Te&&Te.body&&(0,t.h)(Ir,{communityEntity:Te,closePopover:pr}),Te&&(0,t.h)(Kr,{communityEntity:Te,closePopover:pr}),!Nt&&Te&&!On&&gn&&(0,t.h)(rn,{communityEntity:Te,closePopover:pr}),!Nt&&Te&&zn&&(0,t.h)(an,{communityEntity:Te,closePopover:pr,onDelete:dt}),!Nt&&Te&&wn&&(0,t.h)(En,{communityEntity:Te,closePopover:pr}),!Nt&&Te&&_r!==void 0&&hn&&(0,t.h)(Pn,{communityEntity:Te,closePopover:pr,isBanned:_r}))}function Ur({onNewQuote:Te,communityComment:Ye,closePopover:dt}){return(0,t.h)(j.sN,{icon:(0,t.h)(c.Z,null),onClick:()=>{Te(Ye),dt()}},"Quote")}function Er({disabled:Te,onReply:Ye}){return(0,t.h)(j.sN,{icon:(0,t.h)(f.Z,null),onClick:Ye,disabled:Te},"Reply")}function Ir({communityEntity:Te,closePopover:Ye}){const dt=(0,ue.pm)(),Nt=()=>{if(Te){const{body:Kt}=Te;(0,W.copyToClipboard)(Kt),dt.popToast(_r=>(0,t.h)(ue.FN,me(be({},_r),{text:"Text copied",Icon:d.Z})))}Ye()};return(0,t.h)(j.sN,{icon:(0,t.h)(d.Z,null),onClick:Nt},"Copy Text")}function Kr({communityEntity:Te,closePopover:Ye}){const dt=(0,Q.g)(),{id:Nt}=Te,Kt=Or(Te),_r=()=>{var dr;let pr;Kt?pr=(0,S.getCommunityPostAppLinkUrl)({postId:Nt}):pr=(0,S.getCommunityCommentAppLinkUrl)({commentId:(dr=Te.parent_id)!=null?dr:Nt,targetReplyId:Te.parent_id?Nt:void 0}),dt(pr),Ye()};return(0,t.h)(j.sN,{icon:(0,t.h)(T.Z,null),onClick:_r},"Copy Link")}function rn({communityEntity:Te,closePopover:Ye}){const dt=(0,Z.I0)(),{id:Nt,is_locked:Kt}=Te,_r=Or(Te),dr=()=>Le(this,null,function*(){dt(_r?wt(Nt,!Kt):Ht(Nt,!Kt)),Ye()});return(0,t.h)(j.sN,{icon:Kt?(0,t.h)(D.Z,null):(0,t.h)(I.Z,null),onClick:dr,priority:Kt?"primary":"destructive"},Kt?"Turn on replies":"Turn off replies")}function En({communityEntity:Te,closePopover:Ye}){const dt=(0,Z.I0)(),Nt=Or(Te),Kt=()=>Le(this,null,function*(){if(confirm(`Are you sure you want to flag this ${Nt?"thread":"reply"}?`)){const{id:dr}=Te;dt(Nt?nt(dr):Ze(dr)),Ye()}});return(0,t.h)(j.sN,{icon:(0,t.h)(p.Z,null),onClick:Kt,priority:"destructive"},Nt?"Flag thread":"Flag reply")}function Pn({communityEntity:Te,closePopover:Ye,isBanned:dt}){const Nt=(0,Z.I0)(),Kt=()=>Le(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:dr}=Te;Nt(st(dr,!dt)),Ye()}});return(0,t.h)(j.sN,{icon:dt?(0,t.h)(l.Z,null):(0,t.h)(a.Z,null),onClick:Kt,priority:"destructive"},dt?"Unban user":"Ban user")}function an({communityEntity:Te,closePopover:Ye,onDelete:dt}){const Nt=(0,Z.I0)(),Kt=Or(Te),_r=()=>Le(this,null,function*(){if(confirm(`Are you sure you want to delete this ${Kt?"thread":"comment"}?`)){const{id:pr}=Te;if(Kt){const{publication_id:mr}=Te;Nt(Ge(pr,mr))}else{const{post_id:mr,parent_id:Jr}=Te;Nt(pt(pr,mr,Jr))}dt&&setTimeout(dt,500)}Ye()});return(0,t.h)(j.sN,{icon:(0,t.h)(v.Z,null),onClick:_r,priority:"destructive"},Kt?"Delete thread":"Delete reply")}function Fn(Te){return(0,t.h)(V.tu,be({className:le.Z.replyContainer,alignItems:"start"},Te))}function In(Te){return(0,t.h)(V.tu,be({className:le.Z.bubbleStack,gap:4,alignItems:"start"},Te))}function _n(Te){var Ye=Te,{isTargeted:dt}=Ye,Nt=pe(Ye,["isTargeted"]);return(0,t.h)(V.hs,be({className:g()(le.Z.bubble,dt&&le.Z.targetedAnimation),padding:12,bg:"secondary",minWidth:0},Nt))}function jn({authorName:Te,communityEntity:Ye,isTargeted:dt}){return(0,t.h)(_n,{isTargeted:dt},(0,t.h)(Rt,{authorName:Te,communityEntity:Ye}))}function xt({authorName:Te,communityEntity:Ye,onClick:dt}){return(0,t.h)(V.hs,{className:g()(le.Z.bubble,le.Z.quoteBox),onClick:dt,padding:12,minWidth:0},(0,t.h)(Rt,{authorName:Te,communityEntity:Ye}))}function Rt({authorName:Te,communityEntity:Ye}){var dt,Nt,Kt,_r,dr,pr;let mr=null;const Jr=Or(Ye)?"thread":"reply";return Ye.reported_by_user&&(mr=`You flagged this ${Jr}`),(Ye.status==="deleted"||!Ye.body)&&(mr=`This ${Jr} is not available`),Ye.body||(Or(Ye)?(dt=Ye.media_assets)!=null&&dt.length?mr=`${Ye.media_assets.length} ${Ye.media_assets.length>1?"photos":"photo"}.`:Ye.link_url&&(mr=`Link: ${Ye.link_url}`,(Nt=Ye.link_metadata)!=null&&Nt.title&&(mr=`Link: "${Ye.link_metadata.title}"`)):(Kt=Ye.media_uploads)!=null&&Kt.length&&(mr=`${Ye.media_uploads.length} ${Ye.media_uploads.length>1?"photos":"photo"}.`)),(0,t.h)(ie.Zx,{isParagraph:!0,className:le.Z.bubbleText},(0,t.h)(ie.Zx,{weight:"semibold",className:le.Z.authorName},Te||"Substack user")," ",(Ye.body||mr)&&(0,t.h)(jt,{text:(_r=Ye.raw_body)!=null?_r:Ye.body,rawText:(dr=Ye.raw_body)!=null?dr:"",specialText:mr,mentionMap:(pr=Ye.mentions)!=null?pr:void 0}))}function Zt({isLocked:Te,count:Ye=0,commenters:dt,audience:Nt}){const Kt=Te?w.Z:M.Z;return(0,t.h)(_n,{alignSelf:"stretch"},(0,t.h)(V.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,t.h)(V.hs,{alignItems:"center",gap:8},dt&&(0,t.h)(V.hs,{className:le.Z.facepile,alignItems:"center"},dt.map(_r=>(0,t.h)(Ct,{className:le.Z.facepileAvatar,user:_r,size:24}))),(0,t.h)(ie.Zx,{color:"secondary"},Ye>0?`${Ye.toLocaleString()} replies...`:"Reply...")),(0,t.h)(V.hs,{gap:4,alignItems:"center"},Te||!Nt||Nt==="all_subscribers"?void 0:(0,t.h)(ie.Zx,{color:"secondary"},Nt==="only_founding"?"Founding":"Paid"),(0,t.h)(Kt,{size:20,stroke:"var(--color-secondary)"}))))}function Xe({audience:Te}){const Ye=Te==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,t.h)(V.tu,{className:le.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(V.hs,{alignItems:"center",gap:4},(0,t.h)(w.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(ie.xv.Meta,{weight:"semibold"},Ye)))}function ot(){return(0,t.h)(V.tu,{className:le.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(V.hs,{alignItems:"center",gap:4},(0,t.h)(w.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(ie.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function Ue({linkUrl:Te,linkMetadata:Ye,postId:dt}){var Nt,Kt,_r;const dr=(0,Z.I0)();let pr;try{const zr=new URL((Nt=Ye==null?void 0:Ye.url)!=null?Nt:Te);pr=`${zr.host}${zr.pathname}${zr.search}${zr.hash}`}catch(zr){pr=Te}const{result:mr,isLoading:Jr,error:Xr}=(0,K.ib)({pathname:"/api/v1/link-metadata",query:{url:Te},auto:!Ye,deps:[Te]});mr&&!Ye&&dt&&dr({type:"posts-link_metadata",payload:{id:dt,link_metadata:mr}});const Mr=(Kt=Ye==null?void 0:Ye.title)!=null?Kt:mr==null?void 0:mr.title,sn=(_r=Ye==null?void 0:Ye.image)!=null?_r:mr==null?void 0:mr.image;return(0,t.h)(_n,null,(0,t.h)(V.hs,{as:"a",href:Te,target:"_blank",justifyContent:"space-between",gap:12,className:le.Z.linkBubble,onClick:zr=>zr.stopPropagation()},(0,t.h)(V.tu,{gap:4},Mr&&(0,t.h)(ie.xv,{font:"serif",weight:"semibold",className:le.Z.linkTitle},Mr),(0,t.h)(ie.xv.Detail,{ellipsis:!0,className:le.Z.linkUrl},pr)),sn&&(0,t.h)(F.e,{className:le.Z.linkImg,src:sn,maxWidth:144})))}function tt(Te){return(0,t.h)(ne.zx,be({className:le.Z.ctaButton,priority:"primary-theme"},Te))}function ft({text:Te,isStatic:Ye}){return(0,t.h)(V.hs,{paddingX:8,paddingY:4},(0,t.h)(ie.xv.Detail,{weight:"semibold"},(0,t.h)(N.Z,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:Ye})," ",Te))}function Ct({user:Te,size:Ye,pubRole:dt,className:Nt}){let Kt;(dt==null?void 0:dt.role)==="admin"||(dt==null?void 0:dt.role)==="contributor"?Kt="author":dt!=null&&dt.is_founding?Kt="founding":(dt==null?void 0:dt.membership_state)==="subscribed"&&(Kt="paid");const _r=(0,C.isUserProfileish)(Te);return(0,t.h)(V.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,S.getReaderProfileUrl)(Te,{noBase:!0}),target:"_blank"},(0,t.h)(he.YY,{showProfileHovercard:_r,className:Nt,size:Ye,user:Te,subscriptionType:Kt}))}function*yt(Te,Ye,dt=1){for(let Nt=Te;Nt<Ye;Nt+=dt)yield Nt}},25597:(H,E,e)=>{"use strict";e.d(E,{Z:()=>y});var t=e(6400),u=e(13639),s=e(36377),g=e(11851);const y=({audience:O,className:c,size:f=16,isStatic:d,thin:T})=>O==="only_paid"?T?(0,t.h)(g.Z,{className:c,height:f,isStatic:d}):(0,t.h)(u.Z,{className:c,size:f}):O==="founding"?(0,t.h)(s.Z,{className:c,height:f,isStatic:d,strokeWidth:1}):null},68919:(H,E,e)=>{"use strict";e.d(E,{Z:()=>oe});var t=e(6400),u=e(94184),s=e.n(u),g=e(74806),P=e(52743),y=e(83322),O=e(28488),c=e(3258),f=e(90304),d=e(17025),T=e(7922),D=e(97737),I=e(14846),p=e(48093),l=e(34755),a=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(ee,z,re)=>z in ee?a(ee,z,{enumerable:!0,configurable:!0,writable:!0,value:re}):ee[z]=re,N=(ee,z)=>{for(var re in z||(z={}))C.call(z,re)&&S(ee,re,z[re]);if(M)for(var re of M(z))L.call(z,re)&&S(ee,re,z[re]);return ee},R=(ee,z)=>v(ee,w(z)),U=(ee,z)=>{var re={};for(var se in ee)C.call(ee,se)&&z.indexOf(se)<0&&(re[se]=ee[se]);if(ee!=null&&M)for(var se of M(ee))z.indexOf(se)<0&&L.call(ee,se)&&(re[se]=ee[se]);return re};const $=ee=>{var z=ee,{fill:re="white"}=z,se=U(z,["fill"]);return(0,t.h)(l.l,R(N({},se),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:re}}),(0,t.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var G=e(33705),Q=e(59009),K=Object.defineProperty,W=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,te=(ee,z,re)=>z in ee?K(ee,z,{enumerable:!0,configurable:!0,writable:!0,value:re}):ee[z]=re,ie=(ee,z)=>{for(var re in z||(z={}))V.call(z,re)&&te(ee,re,z[re]);if(ne)for(var re of ne(z))j.call(z,re)&&te(ee,re,z[re]);return ee},ue=(ee,z)=>W(ee,Y(z)),he=(ee,z,re)=>new Promise((se,fe)=>{var Ee=me=>{try{be(re.next(me))}catch(pe){fe(pe)}},ge=me=>{try{be(re.throw(me))}catch(pe){fe(pe)}},be=me=>me.done?se(me.value):Promise.resolve(me.value).then(Ee,ge);be((re=re.apply(ee,z)).next())});const Z="AudioPlayer.playbackRate",J=5,ae={utm_source:Q.UTM_SOURCE.twitter,utm_medium:Q.UTM_MEDIUM.social,utm_campaign:Q.UTM_CAMPAIGN.twitterEmbed};class le extends t.Component{constructor(z){super(z)}shouldComponentUpdate(z){return this.props.currentPlaybackRate!==z.currentPlaybackRate||this.props.setPlaybackRate!==z.setPlaybackRate}render(){const{currentPlaybackRate:z,setPlaybackRate:re}=this.props;return(0,t.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:se=>re(Number(se.target.value))},(0,t.h)("option",{value:"1",selected:z===1},"1x"),(0,t.h)("option",{value:"1.25",selected:z===1.25},"1.25x"),(0,t.h)("option",{value:"1.5",selected:z===1.5},"1.5x"),(0,t.h)("option",{value:"1.75",selected:z===1.75},"1.75x"),(0,t.h)("option",{value:"2",selected:z===2},"2x"))}}class oe extends t.Component{constructor(z,re){super(z,re),this.setPlaybackRate=se=>{this.state.playbackRate!==se&&(this.player&&(this.player.playbackRate=se),this.setState({playbackRate:se}),(0,f.ex)(Z,se))},this.maybeAppendIframeVisitId=se=>{var fe;const Ee=(fe=(0,c.getIframeVisitId)())==null?void 0:fe.id;return Ee&&(se=(0,P.updateQuery)(se,{src_iid:Ee})),se},this.openEpisodePage=()=>{let se=this.props.post.canonical_url;se=this.maybeAppendIframeVisitId(se),se=(0,P.updateQuery)(se,ae),window.open(se,"_blank")},this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:z.playbackRate||(0,f.mM)(Z,1),currentTime:0,waiting:!0,duration:z.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var z,re;(z=d.globalPlaybackNotifier)==null||z.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((re=this.player)==null?void 0:re.duration)&&this.props.onGetDuration(this.player.duration),(0,d.preloadImage)((0,P.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var z;(z=d.globalPlaybackNotifier)==null||z.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(z,re){if(!this.state.playing&&typeof this.state.waiting=="number"&&typeof re.waiting!="number"&&this.track(c.EVENTS.AUDIO_BUFFERING_STARTED),this.state.playing&&!re.playing&&!this.state.waiting&&typeof re.waiting=="number"&&this.track(c.EVENTS.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-re.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(re.currentTime)&&Math.floor(this.state.currentTime)%J===0&&this.track(c.EVENTS.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&re.playing&&this.player&&this.player.ended&&(this.props.onFinishAudio&&this.props.onFinishAudio(),this.track(c.EVENTS.AUDIO_PLAYBACK_COMPLETE)),this.props.updateOnEveryFrame&&this.state.playing&&!re.playing){const se=()=>{this.onTimeUpdate(),this.loopId=requestAnimationFrame(se)};this.loopId=requestAnimationFrame(se)}this.props.updateOnEveryFrame&&!this.state.playing&&re.playing&&cancelAnimationFrame(this.loopId)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var z;(z=d.globalPlaybackNotifier)==null||z.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(z){this.onDragStart(z.clientX)}onMouseMove(z){this.onDragMove(z.clientX)}onTouchStart(z){z.touches&&z.touches.length>0&&this.onDragStart(z.touches[0].pageX)}onTouchMove(z){typeof this.state.dragTime=="number"&&z.preventDefault(),z.touches&&z.touches.length>0&&this.onDragMove(z.touches[0].pageX)}onDragStart(z){typeof this.state.dragTime!="number"&&this.setDragTime(z)}onDragMove(z){typeof this.state.dragTime=="number"&&this.setDragTime(z)}onDragEnd(){this.clearDragTime()}onUnload(z){const{iString:re}=this.context;this.state.playing&&(z.returnValue=re("If you close this the audio will stop. Are you sure you want to navigate away from this page?"))}onGlobalPlay(z){this!==z&&this.player&&(this.track(c.EVENTS.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return he(this,null,function*(){const{iString:z}=this.context;if(this.player)if(this.player.paused){this.track(c.EVENTS.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(re){if(re.name==="NotSupportedError")alert(z("Failed to play this media: it may not be supported by this browser."));else throw re}}else this.track(c.EVENTS.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const z=Math.max(0,this.state.currentTime-15);this.track(c.EVENTS.SEEKED_AUDIO,{new_time:z,source:"skip"}),this.player.currentTime=z}}skipForward(){if(this.player){const z=Math.min(this.state.duration,this.state.currentTime+30);this.track(c.EVENTS.SEEKED_AUDIO,{new_time:z,source:"skip"}),this.player.currentTime=z}}setDragTime(z){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const re=document.body.getBoundingClientRect(),se=this.progressBar.getBoundingClientRect(),fe=se.left-re.left,Ee=se.right;let be=(Math.max(fe,Math.min(Ee,z))-fe)/(Ee-fe)*this.state.duration;this.isDragTimeCloseToCurrentTime(be)&&(be=this.state.currentTime),this.setState({dragTime:be})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const z=this.state.dragTime;this.track(c.EVENTS.SEEKED_AUDIO,{new_time:z,source:"slider"}),this.isDragTimeCloseToCurrentTime(z)?this.setState({dragTime:null}):(this.setState({currentTime:z,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=z))}isDragTimeCloseToCurrentTime(z){if(this.props.preventSnappingToCurrentTime||typeof this.state.currentTime!="number")return!1;let re;return this.state.duration<10?re=0:this.state.duration<30?re=3:re=5,Math.abs(this.state.currentTime-z)<re}track(z,re={}){const se=this.props.metricsPost;se&&(0,c.track)(z,Object.assign({post_id:se.id,publication_id:se.publication_id,is_podcast_free_preview:(0,g.podcastPostIsFreePreview)(se),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},re))}render({src:z,autoPlay:re,pub:se,post:fe,isFancy:Ee,showCTAs:ge,metricsPost:be,addToPodcastLink:me,isPaywalled:pe,render:Le}){const{iString:je}=this.context;if(Le){const{dragTime:xe,duration:ye,currentTime:Me,playbackRate:We}=this.state,De=typeof xe=="number"?xe:Me;return(0,t.h)(t.Fragment,null,Le({isPaywalled:pe,progress:ye?(typeof xe=="number"?xe:Me)/ye:0,currentTime:ye?(0,y.secondsToHHMMSS)(De):"--:--",dragTime:typeof xe=="number"?(0,y.secondsToHHMMSS)(xe):null,remainingTime:ye?`-${(0,y.secondsToHHMMSS)(ye-Math.min(De,ye))}`:"--:--",isPlaying:this.state.playing,playbackRate:We,progressBarOnMouseDown:Ge=>{this.onMouseDown(Ge)},progressBarRef:Ge=>{this.progressBar=Ge},setPlaybackRate:Ge=>{this.setPlaybackRate(Ge)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),z&&!pe&&(0,t.h)("audio",{ref:Ge=>{this.player=Ge},src:z,autoPlay:re},je("Audio playback is not supported on your browser. Please upgrade.")))}return Ee?this.renderFancy({src:z,autoPlay:re,pub:se,post:fe,metricsPost:be,showCTAs:ge}):this.renderOriginal({src:z,autoPlay:re,pub:se,metricsPost:be,addToPodcastLink:me})}renderFancy({src:z,autoPlay:re,pub:se,post:fe,showCTAs:Ee}){const{iString:ge}=this.context,be=(0,d.getPodcastEpisodeImageUrl)(se,fe);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-wrapper-fancy"},(0,t.h)("div",{className:"audio-player"},(0,t.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,t.h)(G.Z,{color:"#F8F8F8"})),(0,t.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},be&&(0,t.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,P.imginary)(be,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,t.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},fe.title),(0,t.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},fe.subtitle),z&&(0,t.h)("audio",{"data-testid":"audio-element",ref:me=>this.player=me,src:z,autoPlay:re},ge("Audio playback is not supported on your browser. Please upgrade.")),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),Ee&&(0,t.h)("div",{className:"btn-group"},(0,t.h)(T.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},ge("View post")),(0,t.h)(T.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,P.getSubscribeUrl)(se,ue(ie({},ae),{simple:!0,next:(0,P.getPostUrl)(se,fe)}))),newTab:!0},(0,y.getSubscribeText)(se))))))}renderOriginal({src:z,autoPlay:re,pub:se,addToPodcastLink:fe}){const{iString:Ee}=this.context;return(0,t.h)("div",{className:"audio-player-wrapper"},(0,t.h)("div",{className:"audio-player"},z&&(0,t.h)("audio",{ref:ge=>this.player=ge,src:z,autoPlay:re},Ee("Audio playback is not supported on your browser. Please upgrade.")),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),fe&&!se.hide_podcast_feed_link&&(0,t.h)("div",{className:"audio-player-add-to-podcast-link",href:fe},(0,t.h)("a",{href:fe,target:"_blank",rel:"noopener"},Ee("Listen in podcast app"))))}renderButtonsFancy({src:z,href:re},{playing:se,waiting:fe,playbackRate:Ee}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,t.h)(D.Z,{className:"skip-icon"})),(0,t.h)("button",{className:s()("audio-player-play",{pause:"playing",waiting:fe}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},se?(0,t.h)(p.Z,{className:"playback-icon pause",fill:"#1C110B"}):(0,t.h)($,{className:"playback-icon play",fill:"#1C110B"})),(0,t.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,t.h)(I.Z,{className:"skip-icon"})))}renderButtons({src:z,href:re,isStatic:se},{playing:fe,waiting:Ee,playbackRate:ge}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,t.h)("td",{className:"audio-player-backward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:re||"javascript:void(0)",onClick:()=>this.skipBack()},(0,t.h)(D.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:se}))),(0,t.h)("td",{className:`audio-player-play ${fe?"pause":""} ${Ee?"waiting":""}`},(0,t.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:re||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,t.h)("img",{src:(0,P.imginary)(fe?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,t.h)("td",{className:"audio-player-forward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:re||"javascript:void(0)",onClick:()=>this.skipForward()},(0,t.h)(I.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:se}))),(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),z&&(0,t.h)(le,{currentPlaybackRate:ge,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:z,currentTime:re,dragTime:se}){return(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-progress-past"},z?(0,y.secondsToHHMMSS)(re):"--:--"),(0,t.h)("td",{ref:fe=>this.progressBar=fe,className:"audio-player-progress-bar",onMouseDown:fe=>this.onMouseDown(fe)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${z?100*(typeof se=="number"?se:re)/z:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-current",style:`left:${z?100*re/z:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-button",style:`left:${z?100*(typeof se=="number"?se:re)/z:0}%`}),typeof se=="number"&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${z?100*se/z:0}%`},(0,y.secondsToHHMMSS)(se))),(0,t.h)("td",{className:"audio-player-progress-left"},z?`-${(0,y.secondsToHHMMSS)(z-Math.min(re,z))}`:"--:--"))))}renderProgressFancy({},{duration:z,currentTime:re,dragTime:se,lastDragClearedAt:fe}){const Ee=typeof se=="number",ge=fe?performance.now()-fe<50:!1;return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("div",{ref:be=>this.progressBar=be,className:"audio-player-progress-bar",onMouseDown:be=>this.onMouseDown(be)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${z?100*(Ee?se:re)/z:0}%`}}),(0,t.h)("div",{className:s()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":Ee,"audio-player-progress-bar-current-disable-animations":ge}),style:`left:${z?100*re/z:0}%`}),Ee&&(0,t.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${z?100*se/z:0}%`}),Ee&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${z?100*se/z:0}%`},(0,y.secondsToHHMMSS)(se)))),(0,t.h)("div",{className:"audio-player-time-wrapper"},(0,t.h)("div",{className:"audio-player-progress-past"},z?(0,y.secondsToHHMMSS)(re):"--:--"),(0,t.h)("div",{className:"audio-player-progress-left"},z?`-${(0,y.secondsToHHMMSS)(z-Math.min(re,z))}`:"--:--")))}}oe.contextType=O.wj},3323:(H,E,e)=>{"use strict";e.d(E,{O:()=>nt,Z:()=>Ht});var t=e(6400),u=e(30396),s=e(81108),g=e(922),P=e(40423),y=e(80569),O=e.n(y),c=e(52743),f=e(31163),d=e(59009),T=e(91004),D=e(3258),I=e(66141),p=e(66219),l=e(17025),a=e(13045),v=e(86791),w=e(15233);const M="clip_web_nux_seen_at";function C({children:Ze,onClick:st,isDisabled:Ie,post:Pe}){const[Ce]=useDismissed(M);return!Ce&&!Ie?h(L,{post:Pe,onClick:st},Ze):Ze}function L({children:Ze,onClick:st,post:Ie}){const[Pe,Ce]=useState(!0),[,Be]=useDismissed(M);useEffect(()=>{track(EVENTS.VIDEO_CLIP_NUX_SEEN,{post_id:Ie.id})},[]);const Ve=()=>{Ce(!1),track(EVENTS.VIDEO_CLIP_NUX_DISMISSED,{post_id:Ie.id}),Be()},$e=ze=>{track(EVENTS.VIDEO_CLIP_NUX_CLICKED,{post_id:Ie.id}),st(ze),Ce(!1),Be()},Qe=createRef();return useDismiss(Qe,Ve),h(S,{isOpen:Pe,containerRef:Qe,content:h(FlexColumn,{gap:16,padding:8},h(FlexColumn,{gap:8},h(Text.H3,{weight:"bold"},"Introducing clip sharing"),h(Text.B4,null,"Select your favorite moments from any video and instantly create a clip to share on your favorite social media platforms")),h(FlexColumn,{gap:8},h(Button,{fill:"filled",priority:"primary-theme",onClick:$e},"Try it now"),h(Button,{fill:"empty",priority:"secondary",onClick:Ve},"Maybe later")))},Ze)}function S({containerRef:Ze,content:st,children:Ie,isOpen:Pe}){return h("div",{ref:Ze,className:css.mainContainer},Pe&&h("div",{className:css.speechBubble},h(FlexColumn,null,h(FlexRow,null,st))),h("div",{className:css.childrenContainer},Ie))}var N=e(31058),R=e(94184),U=e.n(R),F=e(99869),$=e(71212),G=e(20501),Q=e(71765),K=e(64484),W=e(36543),Y=e(66839),ne=e(75425),V=e(9e3),j=e(62246),te=e(592);const ie={step:"frontend-components-InstagramShareModals-module__step--Tmhvw"},ue=({isOpen:Ze,onClose:st,pub:Ie,post:Pe,mediaCarousel:Ce})=>(useEffect(()=>{Ze&&track(EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:"post-share-selection"})},[Ze]),h(Modal,{isOpen:Ze,onClose:st,fullscreenMobile:!0},h(FlexRow,{alignItems:"center",padding:16},h(IconButton,{size:40,fill:"filled",priority:"secondary",onClick:st},h(ArrowLeft,{size:20})),h(Text.H2,{paddingLeft:12},"Share To Instagram")),h(InstagramShareModalBody,{pub:Ie,post:Pe,hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0,mediaCarousel:Ce}))),he=({isOpen:Ze,onClose:st,onCopyLinkClick:Ie,mediaCarousel:Pe})=>((0,u.d4)(()=>{Ze&&(0,D.track)(D.EVENTS.VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN,{source:"clip-share-modal"})},[Ze]),(0,t.h)(j.u_,{isOpen:Ze,onClose:st,fullscreenMobile:!0},(0,t.h)(j.xB,{includeClose:!0,onClose:st,title:"Share to Instagram"}),(0,t.h)(j.fe,null,(0,t.h)(a.tu,{gap:32},(0,t.h)(a.gq,null,(0,t.h)(a.gq,{justifyContent:"center",className:ie.step},(0,t.h)(a.xv.H4,null,"1")),(0,t.h)(a.gq,null,(0,t.h)(a.tu,{gap:16},(0,t.h)(a.xv.H4,null,"Download clip"),(0,t.h)(a.tu,{bg:"secondary",radius:12,border:"detail"},Pe)))),(0,t.h)(a.gq,null,(0,t.h)(a.gq,{justifyContent:"center",className:ie.step},(0,t.h)(a.xv.H4,null,"2")),(0,t.h)(a.gq,null,(0,t.h)(a.tu,{gap:16},(0,t.h)(a.tu,{gap:4},(0,t.h)(a.xv.H4,null,"Copy a link to the post"),(0,t.h)(a.xv.B4,null,"Add a link to your Instagram story or bio.")),(0,t.h)(a.gq,null,(0,t.h)(a.zx,{priority:"secondary",onClick:()=>Ie("instagram","substack-clips","social"),leftIcon:(0,t.h)(F.Z,null)},"Copy Link"))))),(0,t.h)(a.gq,null,(0,t.h)(a.gq,{justifyContent:"center",className:ie.step},(0,t.h)(a.xv.H4,null,"3")),(0,t.h)(a.gq,null,(0,t.h)(a.tu,{gap:16},(0,t.h)(a.tu,{gap:4},(0,t.h)(a.xv.H4,null,"Post from Instagram"),(0,t.h)(a.xv.B4,null,"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"))))),(0,t.h)(a.gq,{justifyContent:"end",paddingTop:32,paddingX:16},(0,t.h)(a.zx,{priority:"primary-theme",onClick:st},"Done")))))),Z={download:"frontend-components-ShareCenter-module__download--ZlokN",disabledButton:"frontend-components-ShareCenter-module__disabledButton--mnMti"};var J=Object.defineProperty,ae=Object.defineProperties,le=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,re=(Ze,st,Ie)=>st in Ze?J(Ze,st,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):Ze[st]=Ie,se=(Ze,st)=>{for(var Ie in st||(st={}))ee.call(st,Ie)&&re(Ze,Ie,st[Ie]);if(oe)for(var Ie of oe(st))z.call(st,Ie)&&re(Ze,Ie,st[Ie]);return Ze},fe=(Ze,st)=>ae(Ze,le(st)),Ee=(Ze,st,Ie)=>new Promise((Pe,Ce)=>{var Be=Qe=>{try{$e(Ie.next(Qe))}catch(ze){Ce(ze)}},Ve=Qe=>{try{$e(Ie.throw(Qe))}catch(ze){Ce(ze)}},$e=Qe=>Qe.done?Pe(Qe.value):Promise.resolve(Qe.value).then(Be,Ve);$e((Ie=Ie.apply(Ze,st)).next())});function ge({shareUrl:Ze,pub:st,post:Ie,clip:Pe,selectionId:Ce,disabled:Be,disabledInstagram:Ve,disabledDownload:$e,onDownloadClick:Qe,isSharing:ze}){const Ke=(0,ne.pm)(),[lt,vt]=(0,u.eJ)(!1),Pt=(Et="copy",gr="substack-clip",Dr="web")=>Ee(this,null,function*(){Wt(Et,gr,Dr,Or=>((0,l.copyToClipboard)(Or),Ke.popToast(wr=>(0,t.h)(ne.FN,fe(se({},wr),{text:"Link copied to clipboard"}))),!1))}),Wt=(Et,gr,Dr,Or)=>{(0,T.I)(Et,Or,{shareUrl:Ze(Et,gr,Dr),post:Ie,pub:st,selectionId:Ce,utm_campaign:gr,utm_medium:Dr,event:D.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED})},Ut=()=>{(0,D.track)(D.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED,{name:"instagram",post_id:Ie?Ie.id:null,utm_campaign:"substack-clips",utm_medium:"social"}),vt(!0)},jt=()=>{vt(!1)},Vt=()=>Ee(this,null,function*(){Wt("facebook","substack-clips","social",Et=>(0,G.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Et}))}),lr=()=>Ee(this,null,function*(){Ie&&Wt("twitter","substack-clips","social",Et=>(0,c.getTwitterShareUrl)({url:Et,text:Ie.title}))}),Jt=()=>Ee(this,null,function*(){Wt("linkedin","substack-clips","social",Et=>(0,G.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Et}))}),or=()=>{(0,T.BZ)({shareUrl:Ze("notes","substack-clips","web"),pub:st,post:Ie,utm_campaign:"substack-clips"})};return(0,t.h)(a.gq,{justifyContent:"space-between",flex:"fill"},ze?(0,t.h)(a.gq,null,(0,t.h)(a.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:()=>Pt(),leftIcon:(0,t.h)(F.Z,null)},"Copy link")):(0,t.h)("div",null),(0,t.h)(a.gq,{gap:8},(0,t.h)(a.u,{text:$e?"Your clip will be ready to download shortly":"Download",hoverOptions:{delayEnter:0,delayLeave:0}},(0,t.h)(a.hU,{className:U()({[Z.disabledButton]:$e}),fill:"outline",rounded:!1,onClick:Qe,disabled:$e},$e?(0,t.h)(a.aN,null):(0,t.h)($.Z,{size:20}))),!ze&&(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:()=>Pt(),disabled:Be},(0,t.h)(F.Z,{size:20})),(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:or,disabled:Be},(0,t.h)(V.Z,{height:24})),(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:Ut,disabled:Be||Ve},(0,t.h)(W.Z,{height:20,width:20})),(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:lr,disabled:Be},(0,t.h)(Y.Z,{height:20,width:20})),(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:Vt,disabled:Be},(0,t.h)(Q.Z,{height:20,width:20})),(0,t.h)(a.hU,{fill:"outline",rounded:!1,onClick:Jt,disabled:Be},(0,t.h)(K.Z,{height:20,width:20})),(0,t.h)(he,{isOpen:lt,onClose:jt,onCopyLinkClick:Pt,mediaCarousel:(0,t.h)(a.gq,{gap:16,alignItems:"center",justifyContent:"center",padding:16,position:"relative"},(0,t.h)("img",{src:(0,c.getMediaUploadThumbnailUrlForPlayer)(Pe),width:"300px"}),(0,t.h)("div",{className:Z.download},(0,t.h)(a.gq,{padding:32},(0,t.h)(a.hU,{fill:"filled",priority:"media",rounded:!1,onClick:()=>Qe&&Qe()},(0,t.h)($.Z,{size:"16"})))))})))}var be=e(25346);const me={placeholder:"frontend-components-ClipModal-module__placeholder--C0lO7",placeholderMessage:"frontend-components-ClipModal-module__placeholderMessage--IeArY"};var pe=Object.defineProperty,Le=Object.defineProperties,je=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,We=(Ze,st,Ie)=>st in Ze?pe(Ze,st,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):Ze[st]=Ie,De=(Ze,st)=>{for(var Ie in st||(st={}))ye.call(st,Ie)&&We(Ze,Ie,st[Ie]);if(xe)for(var Ie of xe(st))Me.call(st,Ie)&&We(Ze,Ie,st[Ie]);return Ze},Ge=(Ze,st)=>Le(Ze,je(st)),pt=(Ze,st,Ie)=>new Promise((Pe,Ce)=>{var Be=Qe=>{try{$e(Ie.next(Qe))}catch(ze){Ce(ze)}},Ve=Qe=>{try{$e(Ie.throw(Qe))}catch(ze){Ce(ze)}},$e=Qe=>Qe.done?Pe(Qe.value):Promise.resolve(Qe.value).then(Be,Ve);$e((Ie=Ie.apply(Ze,st)).next())});function wt({user:Ze,pub:st,post:Ie,mediaUploadId:Pe,isOpen:Ce,onClose:Be}){var Ve;const $e=(0,t.createRef)(),[Qe,ze]=(0,u.eJ)(null),[Ke,lt]=(0,u.eJ)(null),[vt,Pt]=(0,u.eJ)(null),[Wt,Ut]=(0,u.eJ)(null);(0,u.d4)(()=>{Pe&&(0,D.track)(D.EVENTS.VIDEO_CLIP_SEEN,{post_id:Ie.id,clip_id:Pe})},[Pe]);const jt=()=>pt(this,null,function*(){const wr=yield O().get(`/api/v1/video/upload/${Pe}/assets`),{mux_asset:br,mux_preview_asset:Ar}=wr.body;Pt(br),Ut(Ar)}),Vt=()=>pt(this,null,function*(){const wr=yield O().get(`/api/v1/video/upload/${Pe}`);ze(wr.body);const{id:br,mux_rendition_quality:Ar,state:jr}=wr.body;if(["uploaded","transcoded"].includes(jr)&&!Ke){const Ur=`/api/v1/video/upload/${br}/src.json?type=original`,{body:{src:Er}}=yield O().get(Ur);lt(Er)}});(0,u.d4)(()=>{Vt(),jt()},[Pe]),(0,u.d4)(()=>{const wr=setInterval(()=>{const br=()=>pt(this,null,function*(){const Ar=yield O().get(`/api/v1/video/upload/${Pe}`),{id:jr,mux_rendition_quality:Ur,state:Er}=Ar.body;if(ze(Ar.body),Ur&&clearInterval(wr),["uploaded","transcoded"].includes(Er)&&!Ke){const Ir=`/api/v1/video/upload/${jr}/src.json?type=original`,{body:{src:Kr}}=yield O().get(Ir);lt(Kr)}else jt()});Qe!=null&&Qe.mux_rendition_quality?clearInterval(wr):br()},5e3);return()=>{clearInterval(wr)}},[Qe]);const lr=()=>pt(this,null,function*(){if(!Qe)return;const wr=`/api/v1/video/upload/${Qe.id}/src.json?type=original`,{body:{src:br}}=yield O().get(wr),jr=yield(yield fetch(br)).blob(),Ur=window.URL.createObjectURL(jr),Er=document.createElement("a");Er.href=Ur,Er.download=`${Qe.name}`,Er.target="_blank",Er.rel="noopener noreferrer",Er.style.display="none",document.body.appendChild(Er),Er.click(),document.body.removeChild(Er),(0,D.track)(D.EVENTS.VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED,{name:"download",post_id:Ie?Ie.id:null,utm_campaign:d.UTM_CAMPAIGN.substackClips,utm_medium:d.UTM_MEDIUM.web})}),Jt=()=>{(0,D.track)(D.EVENTS.VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED,{name:"watch full episosde",post_id:Ie?Ie.id:null,utm_campaign:d.UTM_CAMPAIGN.substackClips,utm_medium:d.UTM_MEDIUM.web}),window.history.pushState({},"",(0,c.updateQuery)(window.location.href,{clipId:void 0,share:void 0})),Be()};if(!Qe)return null;const Et=new URL(window.location.href).searchParams.get("share")!==null,gr=["uploaded","transcoded"].includes(Qe.state),Dr=(0,l.isMobileBrowser)();let Or="creating";return Qe.state==="error"?Or="error":Qe.state==="transcoded"?Or="transcoded":Qe.state==="uploaded"?Or="uploaded":Qe.mux_preview_playback_id!==null&&(Wt==null?void 0:Wt.status)==="ready"&&(Or="preview"),(0,t.h)(a.u_,{opacity:"dark",width:640,fullscreenMobile:!0,isOpen:Ce,onClose:Be},(0,t.h)(a.xB,{includeClose:!0,title:Et?"Share Clip":"Clip",onClose:Be,description:(0,t.h)(a.gq,null,(0,t.h)("span",null,`\u2702\uFE0F ${(0,f.UB)((Ve=Qe.duration)!=null?Ve:0)} | ${Ie.title}`))}),(0,t.h)(a.fe,null,Or==="transcoded"&&(0,t.h)(be.Z,{ref:$e,mediaUpload:Qe,pub:st,autoPlay:!1,isClip:!0}),Or==="preview"&&(0,t.h)(be.Z,{ref:$e,mediaUpload:Qe,pub:st,autoPlay:!1,isClip:!0,usePreview:!0}),Or==="uploaded"&&Ke&&(0,t.h)("div",{class:"video-player-wrapper"},(0,t.h)("div",{class:"video-player"},(0,t.h)("video",{src:Ke,type:"video/mp4",controls:!0}))),Or==="creating"&&(0,t.h)(a.gq,null,(0,t.h)(a.tu,{className:me.placeholder,justifyContent:"center",alignItems:"center"},(0,t.h)(a.tu,{justifyContent:"center",alignItems:"center",className:me.placeholderMessage,gap:8},(0,t.h)(a.aN,null),(0,t.h)(a.xv.B3,{weight:"bold"},"Your clip is being processed"),(0,t.h)(a.xv.Button,{color:"secondary",textAlign:"center"},"Clips may take up to a minute to process. Meanwhile, ",(0,t.h)("b",null,"share your clip link below"))))),Or==="error"&&(0,t.h)(a.gq,null,(0,t.h)(a.tu,{className:me.placeholder},(0,t.h)(s.Z,{color:"gray"}),(0,t.h)(a.xv.Button,{color:"secondary"},"Oops! There was an error creating the clip"))),Or!=="error"&&(0,t.h)(a.tu,{paddingTop:16},(0,t.h)(a.iz,null),(0,t.h)(a.xu,null,(0,t.h)(a.gq,{justifyContent:"space-between",flex:"grow",paddingTop:16},!Et&&(0,t.h)(a.gq,null,Dr?(0,t.h)(a.hU,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:Jt},(0,t.h)(g.Z,null)):(0,t.h)(a.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:Jt},"Watch full episode")),(0,t.h)(ge,{shareUrl:(wr,br,Ar)=>(0,T.O1)(wr,{clip:Qe,post:Ie,pub:st,medium:Ar,utm_campaign:br}),pub:st,clip:Qe,post:Ie,selectionId:void 0,disabled:!1,disabledInstagram:!gr,disabledDownload:!gr,onDownloadClick:lr,isSharing:Et}))))))}function Ht(Ze){const{user:st,pub:Ie,post:Pe,mediaUploadId:Ce}=Ze,[Be,Ve]=(0,u.eJ)(!0),[$e,Qe]=(0,u.eJ)(Ce);(0,u.d4)(()=>{const vt=()=>{const Wt=new URLSearchParams(window.location.search).get("clipId");Qe(Wt),Ve(!0)};return window.addEventListener("urlchange",vt),window.addEventListener("popstate",vt),vt(),()=>{window.removeEventListener("urlchange",vt),window.removeEventListener("popstate",vt)}},[]);const{mediaUpload:ze,loading:Ke}=(0,p.z)({mediaUploadId:$e});if(Ke||!ze)return null;const lt=()=>{Ve(!1),(0,D.track)(D.EVENTS.VIDEO_CLIP_MODAL_CLOSED,{post_id:Pe==null?void 0:Pe.id,clip_id:$e})};return(0,t.h)(wt,Ge(De({},Ze),{mediaUploadId:$e,isOpen:Be,onClose:lt}))}const nt=({post:Ze,mediaUpload:st,disabled:Ie,onClipClick:Pe,style:Ce})=>{var Be;const[Ve,$e]=(0,I.Z)(M),Qe=((Be=st==null?void 0:st.duration)!=null?Be:0)>5,ze=()=>{if(Qe){if(Ie)return"upgrade in order to watch this video and be able to clip it"}else return"can't clip videos shorter than 5 seconds";return""},Ke=!Qe||Ie,lt=vt=>{$e(),Qe&&Pe&&(Pe(vt),(0,D.track)(D.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:Ze.id}))};return(0,t.h)(N.Ng,{title:ze(),isDisabled:Ke,style:Ce,onClick:lt,icon:(0,t.h)(P.Z,{className:"icon",height:(0,N.Su)(Ce),strokeWidth:N.PA})})}},9738:(H,E,e)=>{"use strict";e.d(E,{C:()=>s});var t=e(6400),u=e(4508);function s({children:g}){return(0,t.h)(u.xu,{display:"contents",className:"dark-theme"},g)}},45809:(H,E,e)=>{"use strict";e.d(E,{M:()=>s});var t=e(6400),u=e(28488);function s({array:g,limit:P,formatter:y=O=>O}){const O=g.map(y).filter(Boolean).slice(0,P),{iString:c,iPlural:f}=(0,u.M1)(),d=c("and");if(O.length===0)return g.length?f("one person","%1 people",g.length):c("zero people");if(O.length===1)return O[0];if(O.length===2)return(0,t.h)(t.Fragment,null,O[0]," ",d," ",O[1]);const T=O.slice(0,-1).map(I=>(0,t.h)(t.Fragment,null,I,", ")),D=g.length-O.length;return D>0?(0,t.h)(t.Fragment,null,T,d," ",D+1," ",f("other","others",D+1)):(0,t.h)(t.Fragment,null,T,d," ",O[O.length-1])}},16495:(H,E,e)=>{"use strict";e.d(E,{q:()=>T});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(47467),y=e(51126),O=e(43887),c=e(11688),f=e(79786),d=e(45048);function T({className:I,assets:p,readOnly:l,isRestack:a,isPreview:v,onClick:w,aspect:M}){const C=p.map(U=>typeof U=="string"?{src:U,explicit:!1}:U);let L=C;C.length>6&&(L=L.slice(0,5));const[S,N]=(0,u.eJ)(null),R=(U,F)=>{U.preventDefault(),N({index:F})};return(0,t.h)(y.hs,{className:g()(d.Z.imageGroup,d.Z[`size-${Math.min(C.length,6)}`],a&&d.Z.restack,v&&d.Z.preview,I),gap:4,radius:"medium"},L.map(({src:U,explicit:F},$)=>(0,t.h)(D,{key:U,asset:U,explicit:F,index:$,total:C.length,readOnly:l,aspect:M,onClick:l?void 0:G=>{G.defaultPrevented||(G.preventDefault(),w&&w(),R(G,$))}})),C.length>6&&(0,t.h)(D,{asset:C[6].src,explicit:C[6].explicit,index:5,total:6,count:C.length-L.length,readOnly:l,onClick:l?void 0:w,aspect:M}),!l&&(0,t.h)(c.cr,{module:"./ImageViewerModal",resolve:U=>U.ImageViewerModal,onRequest:()=>e.e(5661).then(e.bind(e,55661)),showModal:!!S,modalContent:C.map(U=>({attrs:{src:U.src}})),onClose:()=>{N(null)},step:S?S.index:void 0,includeDownloadButton:!1}))}function D({asset:I,explicit:p,onClick:l,index:a,total:v,count:w,readOnly:M,aspect:C}){const{isHidden:L,onShow:S}=(0,P.Sl)(p);return(0,t.h)(y.hs,{position:"relative",className:g()(d.Z.image,!M&&d.Z.clickable,a===0&&d.Z.topLeft,(a===0&&v===1||a===1&&v===2||a===1&&v===4||a===2&&v!==4)&&d.Z.topRight,(a===0&&v<=3||a===2&&v===4||a===3&&v>4)&&d.Z.bottomLeft,(a+1===v||a==2&&v===5)&&d.Z.bottomRight),flex:"grow",radius:6,onClick:L?void 0:l},(0,t.h)(f.e,{src:I,maxWidth:1e3,imageProps:{aspect:C||"1:1",smartCrop:!0,portraitCrop:v===1}}),L?v===1?(0,t.h)(P.cD,{onShow:S,description:"This image was hidden by your settings."}):(0,t.h)(P.HU,{onShow:S}):w!=null&&(0,t.h)(y.hs,{className:d.Z.imageCount,justifyContent:"center",alignItems:"center"},(0,t.h)(O.xv.H2,{color:"bg-light"},"+",w)))}},55661:(H,E,e)=>{"use strict";e.r(E),e.d(E,{ImageViewerContents:()=>v,ImageViewerModal:()=>a});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(2564),y=e(56743),O=e(71375),c=e(71212),f=e(52743),d=e(17025),T=e(92271),D=e(51126),I=e(62246),p=e(15822);const l={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function a({showModal:C,modalContent:L,onClose:S,step:N,includeDownloadButton:R=!0}){const U=F=>{F.stopPropagation(),S()};return(0,t.h)(I.u_,{isOpen:C,onClose:S,position:"full",opacity:"dark",onEscape:U},(0,t.h)(v,{modalContent:L,onClose:S,stepDefault:N,includeDownloadButton:R}))}function v({modalContent:C=[],onClose:L,stepDefault:S,includeDownloadButton:N}){const[R,U]=(0,u.eJ)(S),[F,$]=(0,u.eJ)(!0),G=(0,d.isMobileBrowser)(),Q=Z=>{Z.currentTarget===Z.target&&L()},[K,W]=(0,u.eJ)(!1);(0,u.d4)(()=>{if(!G){let Z;const J=le=>{const{key:oe}=le;["ArrowRight","ArrowDown"].includes(oe)?(ne(),le.stopPropagation()):["ArrowLeft","ArrowUp"].includes(oe)&&(Y(),le.stopPropagation())},ae=le=>{(le==null?void 0:le.type)==="keydown"&&J(le),clearTimeout(Z),W(!1),Z=setTimeout(()=>{W(!0)},2e3)};return window.addEventListener("pointermove",ae,{capture:!0,passive:!0}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!0}),window.addEventListener("keydown",ae,{capture:!0,passive:!0}),ae(),()=>{clearTimeout(Z),window.removeEventListener("pointermove",ae,{capture:!0}),window.removeEventListener("pointerdown",ae,{capture:!0}),window.removeEventListener("keydown",ae,{capture:!0})}}},[G,R]);const Y=()=>{R!==0&&(U(R-1),$(!0))},ne=()=>{R!==C.length-1&&(U(R+1),$(!0))},V=C[R],{attrs:{src:j,alt:te,title:ie}}=V,ue=G?8:16,he="#FFFFFF";return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:g()(l.chrome,K&&l.inactive)},R<C.length-1&&(0,t.h)(w,{buttonFunction:ne,style:{right:0,padding:ue},isSidebar:!0,icon:(0,t.h)(P.Z,{size:20,strokeWidth:2,stroke:he})}),R>0&&(0,t.h)(w,{buttonFunction:Y,style:{left:0,padding:ue},isSidebar:!0,icon:(0,t.h)(y.Z,{size:20,strokeWidth:2,stroke:he})}),(0,t.h)(w,{buttonFunction:L,style:{position:"absolute",right:ue,top:ue},isSidebar:!1,icon:(0,t.h)(O.Z,{size:20,strokeWidth:2,stroke:he})}),N&&(0,t.h)(w,{buttonFunction:Z=>{Z.stopPropagation(),M(ie,j)},style:{position:"absolute",left:ue,top:ue},isSidebar:!1,icon:(0,t.h)(c.Z,{size:20,strokeWidth:2,stroke:he})})),(0,t.h)("div",{className:l.imgContainer,onClick:Q},(0,t.h)("img",{className:g()(l.img,F&&l.isLoading),onLoad:()=>{$(!1)},alt:te,title:ie,src:(0,f.imginary)(j,void 0,{quality:"auto:good"}),key:j,onClick:Q})),F&&(0,t.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,t.h)(p.S,{className:l.imgDrunkSpin})))}function w({buttonFunction:C,style:L,isSidebar:S,icon:N,tetherRef:R}){return(0,t.h)(D.hs,{className:g()(l.modalImageButtonContainer,S?l.modalImageSidebar:null),style:L,alignItems:"center",justifyContent:"center",onClick:C,ref:R},(0,t.h)(T.z,{className:l.modalImageButton,look:"circle"},N))}function M(C,L){const S=document.createElement("a");return document.body.appendChild(S),S.href=L,S.target="_blank",S.click(),document.body.removeChild(S),null}},35442:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Metadata:()=>D});var t=e(6400),u=e(53836),s=e.n(u),g=e(52743),P=e(63030),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p};function D({badge:p,title:l,socialTitle:a,searchDescription:v,description:w,themeColor:M,image:C,twitterImage:L,seoProps:S,isLargeImage:N=!1,imageWidth:R,imageHeight:U,isPodcast:F=!1,isVideo:$=!1,slug:G,pub:Q,post:K,siteName:W,publishedTime:Y,meta:ne=[],siteConfigs:V={}}){const j={meta:[...ne,{property:"og:type",content:"article"}]};p&&(j.titleTemplate=`(${p}) %s`),l&&(j.title=l,j.meta.push({property:"og:title",content:a||l},{name:"twitter:title",content:a||l})),(w||v)&&j.meta.push({name:"description",content:v||w},{property:"og:description",content:w},{name:"twitter:description",content:w}),M&&j.meta.push({name:"theme-color",content:M});const te=!!Q&&Q.invite_only,ie=!!K&&K.audience==="everyone",ue=!te&&ie,he=ue&&V.twitter_player_card_enabled,Z=(Q==null?void 0:Q.subdomain)&&I.includes(Q.subdomain)&&ue;if(F&&Q&&K){const J=(0,P.getPodcastEpisodeImageUrl)(Q,K);J&&(C=(0,g.imginary)(J,1200,{height:600,smartCrop:!0,format:"jpg"}),N=!0)}if(C){let J="summary";N&&(J="summary_large_image"),(F&&he||$&&Z)&&(J="player"),j.meta.push({property:"og:image",content:C},{name:"twitter:image",content:L||C},{name:"twitter:card",content:J}),R&&j.meta.push({property:"og:image:width",content:R}),U&&j.meta.push({property:"og:image:height",content:U})}if(S){const J=Object.entries(S).filter(([ae,le])=>le).map(([ae])=>ae).join(", ");J&&j.meta.push({name:"robots",content:J})}return Q!=null&&Q.explicit&&j.meta.push({name:"rating",content:"adult"}),F&&he&&j.meta.push({name:"twitter:player",content:`${(0,g.getBaseUrl)(Q)}/embed/podcast/${G}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),$&&Z&&j.meta.push({name:"twitter:player",content:`${(0,g.getBaseUrl)(Q)}/embed/video/${G}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),W&&j.meta.push({property:"og:site_name",content:W}),Y&&j.meta.push({property:"og:published_time",content:Y}),(0,t.h)(s(),T({},j))}const I=["pinespodcast","test1"]},74285:(H,E,e)=>{"use strict";e.d(E,{X:()=>P,h:()=>y});var t=e(6400),u=e(98661),s=e(30396);const g=(0,t.createContext)(null);function P({root:O,children:c}){const f=(0,s.sO)(O);return(0,t.h)(g.Provider,{value:f},c,!O&&(0,t.h)("div",{ref:f}))}function y({children:O}){const c=(0,s.qp)(g).current;return c?(0,u.createPortal)(O,c):null}},55489:(H,E,e)=>{"use strict";e.d(E,{s:()=>te});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(31131),y=e(40423),O=e(28596),c=e(99869),f=e(7617),d=e(82626),T=e(68227),D=e(17835),I=e(9e3),p=e(66839),l=e(31058),a=e(91004),v=e(3258),w=e(90304),M=e(17025),C=e(13045),L=e(59009),S=e(28488),N=e(63270),R=e(72829);const U={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var F=Object.defineProperty,$=Object.defineProperties,G=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,Y=(J,ae,le)=>ae in J?F(J,ae,{enumerable:!0,configurable:!0,writable:!0,value:le}):J[ae]=le,ne=(J,ae)=>{for(var le in ae||(ae={}))K.call(ae,le)&&Y(J,le,ae[le]);if(Q)for(var le of Q(ae))W.call(ae,le)&&Y(J,le,ae[le]);return J},V=(J,ae)=>$(J,G(ae)),j=(J,ae,le)=>new Promise((oe,ee)=>{var z=fe=>{try{se(le.next(fe))}catch(Ee){ee(Ee)}},re=fe=>{try{se(le.throw(fe))}catch(Ee){ee(Ee)}},se=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(z,re);se((le=le.apply(J,ae)).next())});function te({post:J,user:ae,pub:le,trigger:oe,onChange:ee,position:z,showClipping:re,disableClipping:se,onClipClick:fe}){const{iString:Ee}=(0,S.M1)(),{getConfigFor:ge}=(0,N.xR)(),be=(0,a.O1)(null,{post:J,pub:le,user:ae,useCustomDomainOverOpen:!0}),me=(0,a.B8)({post:J,pub:le}),pe={title:me,url:be},Le=(0,M.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(pe),[je,xe]=(0,u.eJ)(Le),ye=()=>j(this,null,function*(){var Ze;if((0,v.track)(v.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:z}),Le&&je)try{yield navigator.share(pe),(0,v.track)(v.EVENTS.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(Ze=J.id)!=null?Ze:null,utm_campaign:L.UTM_CAMPAIGN.default}),(0,w.ex)(`${le.subdomain} shared`,!0);return}catch(st){if(!(st instanceof Error)||st.name==="AbortError")return;xe(!1),(0,v.track)(v.EVENTS.NATIVE_SHARE_FAILED,{errorName:st.name,errorMessage:st.message})}}),Me=()=>{(0,a.Wn)({shareUrl:be,shareName:me,pub:le,post:J,utm_campaign:z}),ee==null||ee()},We=()=>{(0,a.Po)({shareUrl:be,pub:le,post:J,utm_campaign:z}),ee==null||ee()},De=()=>{(0,a.lc)({shareUrl:be,pub:le,post:J,utm_campaign:z}),ee==null||ee()},Ge=()=>{(0,a.BZ)({shareUrl:be,pub:le,post:J,utm_campaign:z}),ee==null||ee()},pt=()=>{(0,a.WZ)({shareUrl:be,shareName:me,pub:le,post:J,utm_campaign:z}),ee==null||ee()},wt=()=>{(0,a.Ui)({shareUrl:be,pub:le,post:J,utm_campaign:z}),ee==null||ee()},Ht=Ze=>{(0,v.track)(v.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:J.id,source:z,type:J.type}),fe==null||fe(Ze),ee==null||ee()};let nt;if(he(oe))nt=oe;else if(Z(oe)){let Ze;J.share_url_override?Ze=J.share_url_override:oe.isStatic?J?Ze=d.Substitutions.SHARE_URL:Ze=d.Substitutions.SHARE_PUB_URL:Ze="javascript:void(0)";const st=oe.labelStyle==="none";nt=(0,t.h)(l.Ng,{style:oe.style,icon:st?(0,t.h)(P.Z,{className:"icon",height:(0,l.Su)(oe.style),strokeWidth:l.PA}):null,href:Ze,noLabel:oe.labelStyle==="none",className:g()(!st&&"no-icon")},oe.labelStyle==="cta"&&Ee("Share"))}return(0,t.h)(C.v2,{trigger:nt,onOpen:ye,useMobileBottomSheet:!0,disableMenu:je,layerOptions:{placement:z==="pub-preview"?"bottom-start":"bottom-end",preferX:z==="pub-preview"?"right":"left"},className:U.dropdownMenu,maxHeight:"fit-content"},(0,t.h)(C.sN,{icon:(0,t.h)(I.Z,{height:24}),onClick:Ge},(0,t.h)(C.gq,{justifyContent:"space-between",alignItems:"center"},Ee("Share as a note"))),ge("enable_web_dms")&&(0,t.h)(ue,{url:be,onShare:ee}),(0,t.h)(C.sN,{icon:(0,t.h)(p.Z,{height:24}),onClick:Me},Ee("Share to Twitter")),(0,t.h)(C.sN,{icon:(0,t.h)(T.Z,{height:24}),onClick:We},Ee("Share to Facebook")),(0,t.h)(C.sN,{icon:(0,t.h)(D.Z,{height:24}),onClick:De},Ee("Share to Linkedin")),(0,t.h)("div",{className:U.divider}),re&&fe&&(0,t.h)(C.sN,{disabled:se,icon:(0,t.h)(ie,null,(0,t.h)(y.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ht},(0,t.h)(C.gq,{justifyContent:"space-between",alignItems:"center"},Ee("Create a clip"),(0,t.h)(C.hs,{className:U.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,t.h)(C.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,t.h)(C.sN,{icon:(0,t.h)(ie,null,(0,t.h)(O.Z,{className:U.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:pt},Ee("Send as email")),(0,t.h)(C.sN,{icon:(0,t.h)(ie,null,(0,t.h)(c.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:wt},Ee("Copy link")))}function ie(J){return(0,t.h)(C.hs,V(ne({},J),{className:U.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12}))}function ue({url:J,onShare:ae}){const{iString:le}=(0,S.M1)(),oe=(0,R.b8)(),ee=()=>{oe.open({defaultValue:J,source:"share_post"}),ae==null||ae()};return(0,t.h)(C.sN,{icon:(0,t.h)(ie,{style:{backgroundColor:"var(--color-accent-primary)"}},(0,t.h)(f.Z,{size:14,stroke:"var(--color-bg-primary)",strokeWidth:3})),onClick:ee},le("Send as message"))}function he(J){return J.type!==void 0}function Z(J){const ae=J;return ae.style!==void 0&&ae.labelStyle!==void 0}},71278:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>Q});var t=e(6400),u=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(13045),O=e(52743),c=e(76193),f=e(3258),d=e(28488),T=e(41487),D=e(33510),I=e(40946),p=e(96656),l=Object.defineProperty,a=Object.defineProperties,v=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,L=(K,W,Y)=>W in K?l(K,W,{enumerable:!0,configurable:!0,writable:!0,value:Y}):K[W]=Y,S=(K,W)=>{for(var Y in W||(W={}))M.call(W,Y)&&L(K,Y,W[Y]);if(w)for(var Y of w(W))C.call(W,Y)&&L(K,Y,W[Y]);return K},N=(K,W)=>a(K,v(W)),R=(K,W,Y)=>new Promise((ne,V)=>{var j=ue=>{try{ie(Y.next(ue))}catch(he){V(he)}},te=ue=>{try{ie(Y.throw(ue))}catch(he){V(he)}},ie=ue=>ue.done?ne(ue.value):Promise.resolve(ue.value).then(j,te);ie((Y=Y.apply(K,W)).next())});const U=({pub:K,post:W,style:Y,text:ne,translatedText:V,inline:j,sharePage:te,withButtons:ie=!1,onShareFromApp:ue,source:he,fullHeight:Z=!0})=>{const{img:J,imgDownload:ae,sendPushNotification:le,shareData:oe,useNativeShare:ee}=(0,T.Q)({shareTitle:"Share this post",shareText:W.title,shareUrl:(0,O.getPostUrl)(K,W),shareApp:ie?Y.aspectRatio==="stories"?"instagram-stories":"instagram":void 0,imageDownloadUrl:(0,O.getPressKitUrl)(K,W,Y,`${V||ne}${Y.aspectRatio?` - ${Y.aspectRatio}`:""}`),imageUrl:(0,O.getPressKitUrl)(K,W,Y),imageUrlSameOrigin:(0,O.getPressKitImageUrl)(K,W,Y)}),z=(0,s.sO)(null),re=(0,s.sO)(null),[se,fe]=(0,s.eJ)(!1),[Ee,ge]=(0,s.eJ)({right:0,bottom:0});(0,s.d4)(()=>{var pe,Le;const je=(pe=z.current)==null?void 0:pe.getBoundingClientRect(),xe=(Le=re.current)==null?void 0:Le.getBoundingClientRect();je&&xe&&ge({right:xe.right-je.right,bottom:xe.bottom-je.bottom})},[Y,z,re,J]);const be=(0,s.I4)(pe=>R(void 0,null,function*(){var Le;if((0,f.track)(f.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:W.id,type:ne,aspectRatio:Y.aspectRatio,share_center:te,inline:!!j,source:he}),ee&&oe)try{yield navigator.share(oe)}catch(je){}else{const je=(Le=z.current)==null?void 0:Le.getBoundingClientRect();if(je){const xe=pe.clientX,ye=pe.clientY;(xe<je.left||xe>je.right||ye<je.top||ye>je.bottom)&&pe.preventDefault()}}}),[W,ne,Y,te,j,ee,oe,he]),me=(0,s.I4)(()=>{(0,f.track)(f.EVENTS.IMAGE_CONTEXT_MENU_CLICKED,{post_id:W.id,clicked_from:"writer_media_assets",type:ne,aspectRatio:Y.aspectRatio,share_center:te,inline:!!j,source:he})},[W,ne,Y,te,j,he]);return ie&&!(0,c.isMobile)()?(0,t.h)(F,{inline:j,sharePage:te,onShareFromApp:()=>{(0,f.track)(f.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:W.id,type:ne,aspectRatio:Y.aspectRatio,share_center:te,inline:!!j,source:he,via_app:!0}),ue==null||ue()},handleClick:be,img:J,imgDownload:ae,sendPushNotification:le}):(0,t.h)("a",{onClick:be,href:ee?void 0:ae,alt:"Download Image",download:!0,className:P()(p.Z.link,se&&p.Z.linkHovered,{[p.Z.linkVariableHeight]:!Z}),target:"_blank",rel:"noreferrer",onContextMenu:me},(0,t.h)("div",{ref:re,className:P()(p.Z.root,{[p.Z.sharePage]:te})},!(0,c.isMobile)()&&(0,t.h)("div",{className:p.Z.download,style:Ee,onMouseEnter:()=>{fe(!0)}},(0,t.h)(I.Z,{stroke:"#404040",fill:"white"})),(0,t.h)($,{img:J,ref:z,inline:j,sharePage:te,onMouseEnter:()=>{fe(!0)},onMouseLeave:()=>{fe(!1)}})))},F=({inline:K,sharePage:W,onShareFromApp:Y,handleClick:ne,img:V,imgDownload:j,sendPushNotification:te})=>{const[ie,ue]=(0,s.eJ)(!1),{popToast:he}=(0,y.pm)(),{iString:Z}=(0,d.M1)(),J=(0,s.I4)(()=>R(void 0,null,function*(){(yield te())?Y?Y():he(le=>(0,t.h)(y.FN,N(S({},le),{text:Z("Notification sent!")}))):he(le=>(0,t.h)(y.FN,N(S({},le),{text:Z("Something went wrong. Please try again.")})))}),[Y,te,he]);return(0,t.h)("div",{className:P()(p.Z.root,p.Z.rootHover,{[p.Z.sharePage]:W}),onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1)},(0,t.h)($,{img:V,inline:K,sharePage:W}),ie&&V&&(0,t.h)(y.tu,{className:p.Z.buttons,gap:8},(0,t.h)(y.u,{text:Z("Send a push notification of this image to the Substack iOS app, where you can share directly to Instagram. Only works on iOS.")},(0,t.h)(y.zx,{className:p.Z.button,grow:!0,onClick:J},Z("Send to my phone"))),(0,t.h)(y.o6,{className:p.Z.button,download:!0,grow:!0,href:j,onClick:ne,priority:"secondary"},Z("Download image"))))},$=(0,u.forwardRef)(({img:K,inline:W,sharePage:Y,onMouseEnter:ne,onMouseLeave:V},j)=>K?(0,t.h)("img",{src:K,className:P()(p.Z.image,{[p.Z.inline]:W,[p.Z.sharePage]:Y&&!W,[p.Z.secondaryBorder]:Y}),ref:j,onMouseEnter:ne,onMouseLeave:V}):(0,t.h)("div",{className:P()(p.Z.image,p.Z.imageLoading,{[p.Z.secondaryBorder]:Y}),alt:"Loading"},(0,t.h)(D.Sv,null))),G=({pub:K,post:W,style:Y,downloadUrl:ne})=>{const{iString:V}=useI18N();return h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:ne||getPressKitUrl(K,W,Y,"image"),alt:V("Download Image"),download:!0,target:"_blank",className:PressKitCss.link,rel:"noreferrer"},h("img",{src:getPressKitUrl(K,W,Y),className:PressKitCss.imageEmail})))))},Q=U},80332:(H,E,e)=>{"use strict";e.r(E),e.d(E,{ProfileCard:()=>ye,ProfileHoverCard:()=>z,isUserProfileish:()=>ee,useProfileHoverCard:()=>re});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(32224),y=e(77883),O=e(59009),c=e(52743),f=e(20501),d=e(76193),T=e(83322),D=e(4190),I=e(58718),p=e(28488),l=e(92643),a=e(67963),v=e(69518),w=e(60779),M=e(59386),C=e(3258),L=e(69229),S=e(84040),N=e(48960),R=e(51126),U=e(94016),F=e(43887),$=e(97868),G=e(55886),Q=e(9178),K=e(44695),W=e(45809),Y=e(27797),ne=Object.defineProperty,V=Object.defineProperties,j=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,he=(De,Ge,pt)=>Ge in De?ne(De,Ge,{enumerable:!0,configurable:!0,writable:!0,value:pt}):De[Ge]=pt,Z=(De,Ge)=>{for(var pt in Ge||(Ge={}))ie.call(Ge,pt)&&he(De,pt,Ge[pt]);if(te)for(var pt of te(Ge))ue.call(Ge,pt)&&he(De,pt,Ge[pt]);return De},J=(De,Ge)=>V(De,j(Ge)),ae=(De,Ge)=>{var pt={};for(var wt in De)ie.call(De,wt)&&Ge.indexOf(wt)<0&&(pt[wt]=De[wt]);if(De!=null&&te)for(var wt of te(De))Ge.indexOf(wt)<0&&ue.call(De,wt)&&(pt[wt]=De[wt]);return pt};const le=3,oe=1;function ee(De){return!!De.id&&!!De.name}function z(De){var Ge=De,{dontStopPropagation:pt,inline:wt,children:Ht}=Ge,nt=ae(Ge,["dontStopPropagation","inline","children"]);const Ze=re(nt);return(0,d.isMobile)()?(0,t.h)(t.Fragment,null,Ht):(0,t.h)("div",J(Z(Z({className:g()("profile-hover-card-target",Y.Z.profileHoverCardTarget,wt&&Y.Z.inline,nt.className&&nt.className)},Ze.triggerProps),Ze.hoverProps),{onClick:st=>{pt||st.stopPropagation()}}),Ht,Ze.layer)}function re(De){var Ge=De,{subject:pt,utmSource:wt,placement:Ht}=Ge,nt=ae(Ge,["subject","utmSource","placement"]);const{loading:Ze,refetch:st,viewerProfile:Ie,subjectProfile:Pe}=(0,l.Un)({subjectId:(pt==null?void 0:pt.author_id)||(pt==null?void 0:pt.user_id)||(pt==null?void 0:pt.id),subjectName:(pt==null?void 0:pt.name)||"Substack user",delayLoading:!0}),Ce=pt&&Ie&&(pt==null?void 0:pt.id)===Ie.id,Be=pt==null?void 0:pt.id,Ve=(0,u.I4)(()=>{var Qe;Be&&!Pe&&st(Be);const ze=(((Qe=Pe==null?void 0:Pe.publicationUsers)==null?void 0:Qe.length)||0)>0;Pe&&(0,C.track)(C.EVENTS.ACCOUNT_CARD_SHOWN,{profile_user_id:Pe.id,is_self:!!Ce,has_publication:!!ze})},[st,Be,Pe,Ce]),$e=(0,U.o)(Z({className:Y.Z.profileHoverCard,onOpen:Ve,loading:Ze&&!Pe,hideOnScroll:!0,layerOptions:{placement:Ht!=null?Ht:"right-center"},content:Pe?(0,t.h)(ye,{profile:Pe,subject:pt,utmSource:wt,forceRefresh:()=>st(Be)}):null},nt));return(0,d.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:$e}const se=O.UTM_SOURCE.accountCard;function fe(De){let Ge=[];De&&De.subscriptions&&(Ge=(0,T.sortSubscriptions)(De.subscriptions.filter(wt=>!!wt)));let pt=null;return Ge.length>le&&(pt=`See all (${(0,T.numberToString)(Ge.length)})`),Ge=Ge.slice(0,le),{subscriptions:Ge,moreSubsLabel:pt}}function Ee(De){let Ge=[];De&&De.publicationUsers&&(Ge=De.publicationUsers.filter(wt=>!!wt),Ge=Ge&&(0,L.b)(Ge));let pt=null;return Ge.length>oe&&(pt=`See all (${(0,T.numberToString)(Ge.length)})`),Ge=Ge.slice(0,oe),{publications:Ge,morePubsLabel:pt}}function ge({pub:De,isWrites:Ge,isFounding:pt,isPaid:wt,utmSource:Ht}){const nt=!!(0,a.aF)();if(!De)return null;const Ze=(0,c.getPubUrl)(De,{params:{utm_source:Ht||se,utm_content:Ge?O.UTM_CONTENT.writes:O.UTM_CONTENT.reads},signedIn:nt});return(0,t.h)("a",{href:Ze,target:"_blank",onClick:()=>{(0,C.track)(Ge?C.EVENTS.ACCOUNT_CARD_WRITES_LINK_CLICKED:C.EVENTS.ACCOUNT_CARD_READS_LINK_CLICKED),(0,C.trackPublicationVisit)(De,"hover_profile")},className:Y.Z.hoverCardAvatar,rel:"noopener"},(0,t.h)(Q.F,{pub:De,size:32,badgeType:pt?"founder":wt?"subscribed":null}),(0,t.h)(F.xv.B4,{weight:"medium",title:De.name},De.name))}function be({pub:De,utmSource:Ge}){const pt=(0,c.getPubUrl)(De,{params:{utm_source:Ge||se,utm_content:O.UTM_CONTENT.writes},signedIn:!!(0,a.aF)()}),wt=(0,T.getByLine)(De);return(0,t.h)(R.tu,{as:"a",href:pt,target:"_blank",onClick:()=>{(0,C.track)(C.EVENTS.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,C.trackPublicationVisit)(De,"hover_profile")},rel:"noopener",padding:12,gap:12,className:Y.Z.writesCard,radius:12},(0,t.h)(R.gq,{gap:12},(0,t.h)(Q.F,{pub:De,size:40}),(0,t.h)(R.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,t.h)(F.xv.B4,{weight:"semibold"},De.name),wt&&(0,t.h)(F.xv.B4,{translated:!0,color:"secondary"},"By ",I18N.p(wt)))),De.hero_text&&(0,t.h)(F.xv.B4,{color:"secondary",clamp:3},De.hero_text))}function me({subject:De,subscriptions:Ge,moreSubsLabel:pt,utmSource:wt}){const{iString:Ht}=(0,p.M1)();return(0,t.h)(R.tu,null,(0,t.h)(K.GF,{sectionTitle:Ht("Reads"),seeAllLabel:pt,link:Me(De,{utmSource:wt})}),(0,t.h)(R.tu,null,Ge.map(nt=>(0,t.h)(ge,{pub:nt.publication,isPaid:nt.membership_state==="subscribed",isFounding:nt.is_founding,utmSource:wt}))))}function pe({publication:De,utmSource:Ge}){return De?(0,t.h)(be,{pub:De,utmSource:Ge}):null}function Le({pub:De,profileId:Ge,isSubscribed:pt,user:wt,utmSource:Ht,forceRefreshCard:nt}){const{iString:Ze}=(0,p.M1)(),{getExperimentVariant:st,exposeExperiment:Ie}=(0,D.jc)(),{isLoading:Pe,subscribe:Ce}=(0,y.G)({publication:De,profileId:Ge,source:Ht!=null?Ht:"profile-card",onSuccess:()=>{nt()}}),Be=De?(0,f.getSubscribeUrl)(De,{user:wt,addBase:!0,params:{utm_source:Ht||se,utm_content:O.UTM_CONTENT.subscribes,next:document.location.href}}):"";return De&&(pt?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",href:Be,rounded:!0,onClick:()=>{(0,C.track)(C.EVENTS.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,C.trackPublicationVisit)(De,"hover_profile")},title:De.name},Ze("Subscribed")):Ht==="feed"&&wt?(0,t.h)(S.zx,{priority:"primary",rounded:!0,onClick:Ve=>{Ve.preventDefault(),Ce()},title:De.name,disabled:Pe},(0,t.h)(R.gq,{alignItems:"center",gap:8},(0,t.h)(P.Z,{size:20}),Ze("Subscribe"))):(0,t.h)(S.zx,{priority:"primary",href:Be,localNavigation:!1,rounded:!0,onClick:()=>{(0,C.track)(C.EVENTS.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,C.trackPublicationVisit)(De,"hover_profile")},title:De.name},(0,t.h)(R.gq,{alignItems:"center",gap:8},(0,t.h)(P.Z,{size:20}),Ze("Subscribe"))))}function je({profile:De}){const{isFollowing:Ge,buttonProps:pt,css:wt}=(0,I.yr)(De,"hover-card");return(0,t.h)(S.hU,Z({fill:"outline"},pt),Ge?(0,t.h)(t.Fragment,null,(0,t.h)(v.$,{className:wt.off}),(0,t.h)(M.m,{className:wt.on})):(0,t.h)(w.w,null))}function xe({profile:De}){const{isFollowing:Ge,buttonProps:pt}=(0,I.yr)(De,"hover-card"),{iString:wt}=(0,p.M1)();return(0,t.h)(S.zx,Z({fill:"outline",priority:"primary",rounded:!0},pt),Ge?(0,t.h)(t.Fragment,null,(0,t.h)(I.OK,null,wt("Following")),(0,t.h)(I.Rc,null,wt("Unfollow"))):wt("Follow"))}function ye({profile:De,subject:Ge,themed:pt,className:wt,utmSource:Ht,hideSubscribeButtons:nt,forceRefresh:Ze}){var st,Ie;const Pe=(0,a.aF)(),{iString:Ce}=(0,p.M1)();if(!De)return null;const{subscriptions:Be,moreSubsLabel:Ve}=fe(De),{publications:$e}=Ee(De),Qe=Me(Ge,{utmSource:Ht}),ze=(Ge==null?void 0:Ge.name)||"",Ke=De.primaryPublication&&((st=De.publicationUsers.find(jt=>{var Vt;return jt.publication_id===((Vt=De==null?void 0:De.primaryPublication)==null?void 0:Vt.id)}))==null?void 0:st.publication),lt=Ge&&Ge.id===(Pe==null?void 0:Pe.id),vt=lt&&De&&!De.profile_set_up_at,Pt=$e.length>0&&!vt,Wt=Be.length>0&&!vt&&!Pt,Ut=(Ie=De==null?void 0:De.handle)!=null?Ie:null;return(0,t.h)("div",{className:wt},(0,t.h)(R.tu,{gap:16,padding:8},(0,t.h)(R.gq,{justifyContent:"space-between"},(0,t.h)("a",{href:Qe},(0,t.h)($.qE,{user:De,size:64})),vt?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,c.getProfileSetupUrl)({utm_source:Ht||se})},Ce("Set up profile")):lt?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,c.getEditProfileUrl)()},Ce("Edit profile")):nt?null:(0,t.h)(R.hs,{gap:4},Ke?(0,t.h)(t.Fragment,null,(0,t.h)(je,{profile:De}),(0,t.h)(Le,{pub:Ke,isSubscribed:De.isSubscribed,user:Pe,profileId:De.id,utmSource:Ht,forceRefreshCard:Ze})):(0,t.h)(xe,{profile:De}))),(0,t.h)(R.tu,{gap:6},(0,t.h)(K.Sz,{themed:pt,title:ze,handle:Ut,blurb:De.bio,url:Qe,userId:Ge.id,bestsellerTier:De.bestseller_tier})),Pt&&(0,t.h)(pe,{publication:Ke,utmSource:Ht}),Wt&&(0,t.h)(t.Fragment,null,(0,t.h)(N.i,null),(0,t.h)(me,{subject:Ge,subscriptions:Be,moreSubsLabel:Ve,utmSource:Ht})),De.mutualsContext&&(0,t.h)(We,{mutualsContext:De.mutualsContext,utmSource:Ht})))}function Me(De,{utmSource:Ge}={}){const pt=typeof window!="undefined"&&window.location.href.startsWith((0,f.getSubstackUrl)());return(0,c.getReaderProfileUrl)(De,{noBase:pt,utm_source:Ge||se})}function We({mutualsContext:De,utmSource:Ge}){const{iString:Ht,iPlural:nt}=(0,p.M1)(),Ze=De.users.sort(st=>st.photo_url?1:-1);return Ze.length===0?null:(0,t.h)(R.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,t.h)(R.hs,{style:{paddingLeft:6}},Ze.slice(0,3).map(st=>(0,t.h)(R.hs,{as:"a",key:st.id,href:(0,c.getReaderProfileUrl)(st,{utm_source:O.UTM_SOURCE.profileCard})},(0,t.h)(G.t,{className:Y.Z.facepileFace,src:st.photo_url||(0,c.getDefaultUserPhotoById)(st.id),size:24})))),(0,t.h)(F.xv,{font:"text",color:"secondary",size:12},De.type==="followers"&&Ht("Followed by "),(0,t.h)(W.M,{array:Ze,limit:3,formatter:st=>(0,t.h)(F.hh,{href:Me(st,{utmSource:Ge})},st.name)}),De.type==="subscribers"?nt(" subscribes"," subscribe",Ze.length):"","."))}},39493:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(6400),u=e(94184),s=e.n(u),g=e(52743),P=e(83322),y=e(79786);function O({href:d,linkify:T,children:D,openInNewTab:I}){return T?I?(0,t.h)("a",{href:d,target:"_blank"},D):(0,t.h)("a",{href:d,native:!0},D):D}const f=({pub:d,href:T="",logo_url:D,showHover:I=!1,byline:p=null,proof:l=null,size:a=196,linkify:v=!0,title:w=null,className:M="",noMargin:C=!1,openInNewTab:L=!1,isStatic:S=!1,belowTheFold:N=!1})=>{var R;return(0,t.h)("div",{className:s()("pub-icon",!C&&"pub-icon-margin",M),title:w},I&&(0,t.h)("div",{className:"logo-hover"},(0,t.h)("div",{className:"logo-hover-title"},(0,t.h)("a",{href:T||d.base_url,native:!0},(d.name||d.subdomain)+(p?` by ${p}`:""))),(0,t.h)("div",{className:"logo-hover-proof"},l),(0,t.h)("div",{className:"logo-hover-description"},d.hero_text)),(0,t.h)(O,{href:T||d.base_url,linkify:v,openInNewTab:L},D?S?(0,t.h)("img",{src:(0,g.imginary)(D,a*2,{height:a*2,crop:"fill"}),width:a,height:a,className:"custom",alt:d.name}):(0,t.h)(y.e,{className:"custom",alt:d.name,imageProps:{height:a,crop:"fill"},maxWidth:a,src:D,width:a,height:a,loading:N?"lazy":null,useRetinaSizing:!0,imageIsFixedWidth:!0}):(0,t.h)("span",{className:"placeholder",style:d.theme_var_background_pop?`border-color:${(0,P.colorLightness)(d.theme_var_background_pop,.7)} ${d.theme_var_background_pop} ${d.theme_var_background_pop} ${(0,P.colorLightness)(d.theme_var_background_pop,.7)}`:""},(R=d.name||d.subdomain)==null?void 0:R[0])))}},96098:(H,E,e)=>{"use strict";e.d(E,{h:()=>s});var t=e(6400),u=e(68262);function s({children:g}){return(0,t.h)("div",{className:u.Z.pubTheme},g)}},66254:(H,E,e)=>{"use strict";e.d(E,{R:()=>w,C:()=>v});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(23279),y=e.n(P),O=e(24840),c=e(51126);const f={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var d=Object.defineProperty,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,p=(M,C,L)=>C in M?d(M,C,{enumerable:!0,configurable:!0,writable:!0,value:L}):M[C]=L,l=(M,C)=>{for(var L in C||(C={}))D.call(C,L)&&p(M,L,C[L]);if(T)for(var L of T(C))I.call(C,L)&&p(M,L,C[L]);return M},a=(M,C)=>{var L={};for(var S in M)D.call(M,S)&&C.indexOf(S)<0&&(L[S]=M[S]);if(M!=null&&T)for(var S of T(M))C.indexOf(S)<0&&I.call(M,S)&&(L[S]=M[S]);return L};function v({items:M,getKeys:C,sort:L=!0,sortFunc:S,deps:N}){const R=(K,W)=>{const Y=C(K),ne=C(W);for(let V=0;V<Math.min(Y.length,ne.length);V++){const j=Y[V].localeCompare(ne[V]);if(j!==0)return j}return Y.length-ne.length},[U,F]=(0,u.eJ)(""),$=(0,u.Ye)(()=>y()(F,100),[F]),G=U.trim(),Q=(0,u.Ye)(()=>{if(!G)return M;let K=M.filter(W=>C(W).some(ne=>ne.toLowerCase().includes(G.toLowerCase())));if(L||S){const W=S||R;K=K.sort(W)}return K},N?[G,...N]:[G,M]);return{setQuery:$,filteredItems:Q,hasFiltered:G!==""}}function w(M){var C=M,{setQuery:L,placeholder:S="Search...",size:N="medium",value:R=void 0}=C,U=a(C,["setQuery","placeholder","size","value"]);const F=G=>{L(G.currentTarget.value)},$=(0,u.sO)(null);return(0,t.h)(c.hs,l({className:g()(f.searchContainer,f[N]),bg:"secondary",paddingX:N==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var G;return(G=$.current)==null?void 0:G.focus()}},U),(0,t.h)(O.Z,{size:N==="small"?16:20,color:"var(--color-secondary)"}),(0,t.h)("input",{type:"search",className:f.searchInput,ref:$,placeholder:S,onInput:F,value:R}))}},48042:(H,E,e)=>{"use strict";e.d(E,{$I:()=>l,ar:()=>p,fQ:()=>I,rn:()=>D,sl:()=>T});var t=e(6400),u=e(94184),s=e.n(u),g=e(25380),P=e(13045),y=e(76193),O=e(70073),c=e(27247),f=e(28488),d=e(78137);const T=["stories","square"],D=({isSelected:a,value:v,onClick:w,coverImageUrl:M,themeVariables:C})=>{let L=C.web_bg_color||C.cover_bg_color,S=C.print_on_web_bg_color||C.cover_print_primary||"#1a1a1a";return v==="accent"?(L=C.background_pop_color||C.background_pop,S=C.print_on_pop):v==="image"?(S="#ffffff",L="rgba(0,0,0,0.5)"):v==="black&white"&&(S="#404040",L="#ffffff"),(0,t.h)(P.kG,{className:s()(d.Z.customizeAssetButton,d.Z.themeButton,a&&d.Z.selected,v==="image"&&d.Z.image),onClick:N=>{N.preventDefault(),w()},style:{backgroundColor:L}},v==="image"&&(0,t.h)("div",{className:d.Z.imageBg,style:{backgroundImage:`url(${M})`}}),(0,t.h)("div",{className:s()(d.Z.inner,v==="image"&&d.Z.image)},a&&(0,t.h)(g.Z,{stroke:S,size:18})))};function I(a){const{iString:v}=(0,f.M1)(),w=(0,y.isMobile)({checkFirst4:!0}),M={square:v("Square"),stories:v("Vertical")};return(w?{square:"1:1",stories:"9:16"}:M)[a]}const p=({isSelected:a,value:v,onClick:w})=>{const M=I(v);return(0,t.h)(P.zx,{rounded:!0,priority:"secondary",className:s()(d.Z.customizeAssetButton,d.Z.aspectRatioButton,a&&d.Z.selected),onClick:C=>{C.preventDefault(),w()},leftIcon:v==="square"?(0,t.h)(c.Z,null):(0,t.h)(O.Z,null)},M)},l=({isSelected:a,value:v,label:w,onClick:M})=>(0,t.h)(P.zx,{rounded:!0,priority:"secondary",className:s()(d.Z.customizeAssetButton,d.Z.aspectTypeButton,a&&d.Z.selected),onClick:C=>{C.preventDefault(),M()}},w)},53919:(H,E,e)=>{"use strict";e.d(E,{i:()=>le});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(71212),y=e(4190),O=e(52743),c=e(28488),f=e(3258),d=e(17025),T=e(13045),D=e(57397),I=e(29910),p=e(41487),l=e(76193),a=e(15822),v=e(40946);const w={root:"frontend-components-AssetImage-module__root--AdF1k",fullSize:"frontend-components-AssetImage-module__fullSize--KURi3",tableRoot:"frontend-components-AssetImage-module__tableRoot--hy2UU",link:"frontend-components-AssetImage-module__link--KHWo2",linkHovered:"frontend-components-AssetImage-module__linkHovered--_nYpu",image:"frontend-components-AssetImage-module__image--kL8Z3",download:"frontend-components-AssetImage-module__download--c6WDg",imageLoading:"frontend-components-AssetImage-module__imageLoading--bVcGN"};var M=(oe,ee,z)=>new Promise((re,se)=>{var fe=be=>{try{ge(z.next(be))}catch(me){se(me)}},Ee=be=>{try{ge(z.throw(be))}catch(me){se(me)}},ge=be=>be.done?re(be.value):Promise.resolve(be.value).then(fe,Ee);ge((z=z.apply(oe,ee)).next())});const C=({img:oe,imgDownload:ee,shareData:z,useNativeShare:re,onClick:se})=>{const{iString:fe}=(0,c.M1)(),Ee=(0,u.sO)(null),ge=(0,u.sO)(null),[be,me]=(0,u.eJ)(!1),[pe,Le]=(0,u.eJ)({right:0,bottom:0});(0,u.d4)(()=>{var xe,ye;const Me=(xe=Ee.current)==null?void 0:xe.getBoundingClientRect(),We=(ye=ge.current)==null?void 0:ye.getBoundingClientRect();Me&&We&&Le({right:We.right-Me.right,bottom:We.bottom-Me.bottom})},[Ee,ge,oe]);const je=(0,u.I4)(xe=>M(void 0,null,function*(){var ye;if(se==null||se(),re&&z)try{yield navigator.share(z)}catch(Me){}else{const Me=(ye=Ee.current)==null?void 0:ye.getBoundingClientRect();if(Me){const We=xe.clientX,De=xe.clientY;(We<Me.left||We>Me.right||De<Me.top||De>Me.bottom)&&xe.preventDefault()}}}),[se,re,z]);return(0,t.h)("a",{onClick:je,href:re?void 0:ee,alt:fe("Download Image"),download:!0,className:g()(w.link,be&&w.linkHovered,w.fullSize),target:"_blank"},(0,t.h)("div",{ref:ge,className:g()(w.root,w.fullSize)},!(0,l.isMobile)()&&oe&&(0,t.h)("div",{className:w.download,style:pe},(0,t.h)(v.Z,{stroke:"#404040",fill:"white"})),!oe&&(0,t.h)("div",{className:g()(w.image,w.imageLoading),alt:fe("Loading")},(0,t.h)(a.S,null)),oe&&(0,t.h)("img",{ref:Ee,src:oe,className:g()(w.fullSize,w.image),onMouseEnter:()=>{me(!0)},onMouseLeave:()=>{me(!1)}})))},L={tableRoot:"frontend-components-MilestoneAssetImage-module__tableRoot--NF3u_",link:"frontend-components-MilestoneAssetImage-module__link--EZ_6U",imageEmail:"frontend-components-MilestoneAssetImage-module__imageEmail--Q9MQ4"},S=({pub:oe,style:ee,milestone:z})=>{const{iString:re,iTemplate:se}=(0,c.M1)(),fe=(0,I.Cq)();let Ee;switch(z){case D.dD.ARR10K:Ee=se`${oe.name} has reached $10,000 in annual revenue`;break;case D.dD.ARR1K:Ee=se`${oe.name} has reached $1,000 in annual revenue`;break;case D.bq.List100:Ee=se`${oe.name} has reached 100 subscribers`;break;case D.bq.List1K:Ee=se`${oe.name} has reached 1,000 subscribers`;break}const{img:ge,imgDownload:be,shareData:me,useNativeShare:pe}=(0,p.Q)({shareTitle:re("Share this milestone"),shareText:Ee,shareUrl:(0,O.getBaseUrl)(oe),imageDownloadUrl:(0,O.getMilestoneAssetUrl)(oe,z,ee,`${z}${ee.aspectRatio?` - ${ee.aspectRatio}`:""}`),imageUrl:(0,O.getMilestoneAssetUrl)(oe,z,ee,void 0),imageUrlSameOrigin:(0,O.getMilestoneAssetImageUrl)(oe,z,ee,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(C,{img:ge,imgDownload:be,shareData:me,useNativeShare:pe,onClick:()=>{(0,f.track)(f.EVENTS.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:z,aspectRatio:ee.aspectRatio,source:"image"})}})},N=({pub:oe,milestone:ee,style:z,downloadUrl:re})=>{const{iString:se}=useI18N();return h("table",{className:MilestoneCss.tableRoot},h("tr",null,h("td",null,h("a",{href:re||getMilestoneAssetUrl(oe,ee,z,"image"),alt:se("Download Image"),download:!0,target:"_blank",className:MilestoneCss.link},h("img",{src:getMilestoneAssetUrl(oe,ee,z),className:MilestoneCss.imageEmail})))))};var R=e(71278);const U={tableRoot:"frontend-components-PublicationAssetImage-module__tableRoot--is5Cf",link:"frontend-components-PublicationAssetImage-module__link--aIAzf",imageEmail:"frontend-components-PublicationAssetImage-module__imageEmail--bECef"},F=({pub:oe,style:ee})=>{const{iString:z}=(0,c.M1)(),re=(0,I.Cq)(),{img:se,imgDownload:fe,shareData:Ee,useNativeShare:ge}=(0,p.Q)({shareTitle:z("Share this publication"),shareText:oe.hero_text,shareUrl:(0,O.getBaseUrl)(oe),imageDownloadUrl:(0,O.getPublicationAssetUrl)(oe,null,ee,{fileToDownload:`Message${ee.aspectRatio?` - ${ee.aspectRatio}`:""}`}),imageUrl:(0,O.getPublicationAssetUrl)(oe,null,ee),imageUrlSameOrigin:(0,O.getPublicationAssetImageUrl)(oe,ee,{useRootDomain:re==null?void 0:re.isSubstack})});return(0,t.h)(C,{img:se,imgDownload:fe,shareData:Ee,useNativeShare:ge,onClick:()=>{(0,f.track)(f.EVENTS.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:ee.aspectRatio,source:"image"})}})},$=({pub:oe,style:ee,downloadUrl:z})=>{const{iString:re}=useI18N();return h("table",{className:PublicationCss.tableRoot},h("tr",null,h("td",null,h("a",{href:z||getPublicationAssetUrl(oe,null,ee,{fileToDownload:"image"}),alt:re("Download Image"),download:!0,target:"_blank",className:PublicationCss.link},h("img",{src:getPublicationAssetUrl(oe,null,ee),className:PublicationCss.imageEmail})))))};var G=e(48042);const Q={tableRoot:"frontend-components-SubscriptionNoteAssetImage-module__tableRoot--oiNnq",link:"frontend-components-SubscriptionNoteAssetImage-module__link--NPZBJ",imageEmail:"frontend-components-SubscriptionNoteAssetImage-module__imageEmail--_tLWE"},K=({pub:oe,user:ee,note:z,style:re})=>{const{iString:se}=(0,c.M1)(),fe=(0,I.Cq)(),{img:Ee,imgDownload:ge,shareData:be,useNativeShare:me}=(0,p.Q)({shareTitle:se("Share this message"),shareText:(z==null?void 0:z.note)||"",shareUrl:(0,O.getBaseUrl)(oe),imageDownloadUrl:(0,O.getSubscriptionNoteAssetUrl)(oe,ee,re,{fileToDownload:`Message${re.aspectRatio?` - ${re.aspectRatio}`:""}`}),imageUrl:(0,O.getSubscriptionNoteAssetUrl)(oe,ee,re),imageUrlSameOrigin:(0,O.getSubscriptionNoteAssetImageUrl)(oe,ee,re,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(C,{img:Ee,imgDownload:ge,shareData:be,useNativeShare:me,onClick:()=>{(0,f.track)(f.EVENTS.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ee.id,aspectRatio:re.aspectRatio,source:"image"})}})},W=({pub:oe,user:ee,style:z,downloadUrl:re})=>{const{iString:se}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:re||getSubscriptionNoteAssetUrl(oe,ee,z,{fileToDownload:"image"}),alt:se("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getSubscriptionNoteAssetUrl(oe,ee,z),className:SubscriptionNoteCss.imageEmail})))))},Y=({pub:oe,user:ee,note:z,style:re})=>{const{iString:se}=(0,c.M1)(),fe=(0,I.Cq)(),{img:Ee,imgDownload:ge,shareData:be,useNativeShare:me}=(0,p.Q)({shareTitle:se("Share this message"),shareText:(z==null?void 0:z.note)||"",shareUrl:(0,O.getBaseUrl)(oe),imageDownloadUrl:(0,O.getPledgeNoteAssetUrl)(oe,ee,re,{fileToDownload:`Message${re.aspectRatio?` - ${re.aspectRatio}`:""}`}),imageUrl:(0,O.getPledgeNoteAssetUrl)(oe,ee,re),imageUrlSameOrigin:(0,O.getPledgeNoteAssetImageUrl)(oe,ee,re,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(C,{img:Ee,imgDownload:ge,shareData:be,useNativeShare:me,onClick:()=>{(0,f.track)(f.EVENTS.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ee.id,aspectRatio:re.aspectRatio,source:"image"})}})},ne=({pub:oe,user:ee,style:z,downloadUrl:re})=>{const{iString:se}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:re||getPledgeNoteAssetUrl(oe,ee,z,{fileToDownload:"image"}),alt:se("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getPledgeNoteAssetUrl(oe,ee,z),className:SubscriptionNoteCss.imageEmail})))))},V={mobileContainer:"frontend-components-ShareableImageModal-module__mobileContainer--gqpNj",imageContainer:"frontend-components-ShareableImageModal-module__imageContainer--UoD0D",hRule:"frontend-components-ShareableImageModal-module__hRule--dPrHE",assetButtons:"frontend-components-ShareableImageModal-module__assetButtons--fv0fB",aspectRatioButton:"frontend-components-ShareableImageModal-module__aspectRatioButton--G9DrP",aspectRatioSelected:"frontend-components-ShareableImageModal-module__aspectRatioSelected--gdicf",aspectRatioSelectedIcon:"frontend-components-ShareableImageModal-module__aspectRatioSelectedIcon--EgZNS"};var j=Object.defineProperty,te=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,he=(oe,ee,z)=>ee in oe?j(oe,ee,{enumerable:!0,configurable:!0,writable:!0,value:z}):oe[ee]=z,Z=(oe,ee)=>{for(var z in ee||(ee={}))ie.call(ee,z)&&he(oe,z,ee[z]);if(te)for(var z of te(ee))ue.call(ee,z)&&he(oe,z,ee[z]);return oe},J=(oe,ee,z)=>new Promise((re,se)=>{var fe=be=>{try{ge(z.next(be))}catch(me){se(me)}},Ee=be=>{try{ge(z.throw(be))}catch(me){se(me)}},ge=be=>be.done?re(be.value):Promise.resolve(be.value).then(fe,Ee);ge((z=z.apply(oe,ee)).next())});const ae=(oe,{postCoverImageUrl:ee,pubCoverImageUrl:z,pub:re,themeVariables:se})=>{const fe=[],Ee=[];let ge=!1;const be=se||re.theme,me=(be==null?void 0:be.web_bg_color)||(be==null?void 0:be.cover_bg_color);switch(oe){case"post_asset":ee&&fe.push("image"),(be!=null&&be.background_pop_color||be!=null&&be.background_pop)&&fe.push("accent"),fe.push("primary"),me.toLowerCase()!=="#ffffff"&&fe.push("black&white"),ge=!0;break;case"pub_shareable_image":{z&&fe.push("image"),fe.push("primary"),Ee.push({type:"logo",label:"Logo"}),re.has_posts&&Ee.push({type:"posts",label:"Top posts"}),re.hero_text&&Ee.push({type:"description",label:"Description"});break}case"paid_subscription":case"pledged_subscription":(be!=null&&be.background_pop_color||be!=null&&be.background_pop)&&fe.push("accent"),fe.push("primary")}return{assetThemes:fe,assetTypes:Ee,includePreviewTextToggle:ge}};function le({pub:oe,item:ee,isOpen:z,setOpen:re,themeVariables:se,width:fe}){var Ee;const{iString:ge,iTemplate:be}=(0,c.M1)(),{getExperimentVariant:me,exposeExperiment:pe}=(0,y.jc)(),{type:Le,target_user:je,target_user_id:xe,target_pledge_note:ye,target_subscription_note:Me,post:We}=ee,De=oe.logo_url||oe.cover_photo_url||oe.author_photo_url||((Ee=oe.author)==null?void 0:Ee.photo_url),Ge=We==null?void 0:We.cover_image,{assetThemes:pt,assetTypes:wt,includePreviewTextToggle:Ht}=ae(Le,{postCoverImageUrl:Ge,pubCoverImageUrl:De,pub:oe,themeVariables:se}),nt=se||oe.theme,[Ze,st]=(0,u.eJ)("stories"),[Ie,Pe]=(0,u.eJ)(pt.find(Jt=>Jt==="image")&&De?"image":pt.find(Jt=>Jt==="accent")&&(nt!=null&&nt.background_pop_color||nt!=null&&nt.background_pop)?"accent":"primary"),[Ce,Be]=(0,u.eJ)("logo"),Ve=me("share_center_default_hide_preview_text")==="treatment";(0,u.d4)(()=>{z&&(pe("share_center_default_hide_preview_text"),(0,f.track)(f.EVENTS.SHARE_CENTER_CUSTOMIZE_ASSETS_MODAL_OPENED))},[z,pe]);const[$e,Qe]=(0,u.eJ)(Ve);let ze,Ke,lt,vt,Pt,Wt;const Ut=()=>{switch(Ie){case"image":return Z(Z({aspectRatio:Ze,bgImage:!0},wt.length&&{type:Ce}),Ht&&$e&&{hidePreviewText:!0});case"accent":return Z(Z({aspectRatio:Ze,bgColor:(nt==null?void 0:nt.background_pop_color)||(nt==null?void 0:nt.background_pop),textColor:nt==null?void 0:nt.print_on_pop},wt.length&&{type:Ce}),Ht&&$e&&{hidePreviewText:!0});case"primary":return Z(Z({aspectRatio:Ze,bgColor:(nt==null?void 0:nt.web_bg_color)||(nt==null?void 0:nt.cover_bg_color),textColor:(nt==null?void 0:nt.print_on_web_bg_color)||(nt==null?void 0:nt.cover_print_primary)||"#1a1a1a"},wt.length&&{type:Ce}),Ht&&$e&&{hidePreviewText:!0});case"black&white":default:return Z(Z({aspectRatio:Ze,bgColor:"#ffffff",textColor:"#404040"},wt.length&&{type:Ce}),Ht&&$e&&{hidePreviewText:!0})}},jt=(0,d.isMobileBrowser)(),Vt=()=>{re(!1)};switch(Le){case"arr_10k_milestone":lt=D.dD.ARR10K,Ke=(0,t.h)(S,{pub:oe,milestone:lt,style:{aspectRatio:Ze}}),vt=(0,O.getMilestoneAssetUrl)(oe,lt,{aspectRatio:Ze},`${lt} - ${Ze==="stories"?"vertical":Ze}`);break;case"arr_1k_milestone":lt=D.dD.ARR1K,Ke=(0,t.h)(S,{pub:oe,milestone:lt,style:{aspectRatio:Ze}}),vt=(0,O.getMilestoneAssetUrl)(oe,lt,{aspectRatio:Ze},`${lt} - ${Ze==="stories"?"vertical":Ze}`);break;case"list_100_milestone":lt=D.bq.List100,Ke=(0,t.h)(S,{pub:oe,milestone:lt,style:{aspectRatio:Ze}}),vt=(0,O.getMilestoneAssetUrl)(oe,lt,{aspectRatio:Ze},`${lt} - ${Ze==="stories"?"vertical":Ze}`);break;case"list_1k_milestone":lt=D.bq.List1K,Ke=(0,t.h)(S,{pub:oe,milestone:lt,style:{aspectRatio:Ze}}),vt=(0,O.getMilestoneAssetUrl)(oe,lt,{aspectRatio:Ze},`${lt} - ${Ze==="stories"?"vertical":Ze}`);break;case"paid_subscription":Ke=(0,t.h)(K,{pub:oe,note:Me,user:je||{id:xe||0},style:Ut()}),vt=(0,O.getSubscriptionNoteAssetUrl)(oe,je||{id:xe||0},Ut(),{fileToDownload:`Message - ${Ze==="stories"?"vertical":Ze}`}),Wt=()=>{(0,f.track)(f.EVENTS.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(je==null?void 0:je.id)||xe,aspectRatio:Ze,source:"download-button"})};break;case"pledged_subscription":Ke=(0,t.h)(Y,{pub:oe,note:ye,user:je||{id:xe||0},style:Ut()}),vt=(0,O.getPledgeNoteAssetUrl)(oe,je||{id:xe||0},Ut(),{fileToDownload:`Message - ${Ze==="stories"?"vertical":Ze}`}),Wt=()=>{(0,f.track)(f.EVENTS.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(je==null?void 0:je.id)||xe,aspectRatio:Ze,source:"download-button"})};break;case"pub_shareable_image":ze=jt?ge("Shareable images"):be`Shareable images for ${oe.name}`,Ke=(0,t.h)(F,{pub:oe,style:Ut()}),Pt=`${oe.name} - ${Ze==="stories"?"vertical":Ze}`,vt=(0,O.getPublicationAssetUrl)(oe,null,Ut(),{fileToDownload:Pt}),Wt=()=>{(0,f.track)(f.EVENTS.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:Ze,source:"download-button"})};break;case"post_asset":{const Jt=Ut(),{text:or,translatedText:Et}=Ie==="image"?{text:`Image${$e?" - no preview":""}`,translatedText:ge($e?"Image - no preview":"Image")}:Ie==="accent"?{text:`Accent Color${$e?" - no preview":""}`,translatedText:ge($e?"Accent Color - no preview":"Accent Color")}:Ie==="primary"?{text:`Background Color${$e?" - no preview":""}`,translatedText:ge($e?"Background Color - no preview":"Background Color")}:{text:`Black and White${$e?" - no preview":""}`,translatedText:ge($e?"Black and White - no preview":"Black and White")};ze=jt?ge("Shareable images"):be`Shareable images${We!=null&&We.title?` for ${We.title}`:""}`,Ke=We&&(0,t.h)(R.ZP,{pub:oe,post:We,style:Jt,text:or,translatedText:Et}),Pt=`${Et} - ${Ze==="stories"?"vertical":Ze}`,vt=We&&(0,O.getPressKitUrl)(oe,We,Jt,Pt),Wt=()=>{(0,f.track)(f.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:We==null?void 0:We.id,type:or,aspectRatio:Jt.aspectRatio,share_center:!0,inline:!1,source:"download-button"})};break}}["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone"].includes(Le)?(ze=ge("Share milestone"),Pt=`${lt} - ${Ze==="stories"?"vertical":Ze}`,Wt=()=>{(0,f.track)(f.EVENTS.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:lt,aspectRatio:Ze,source:"download-button"})}):["paid_subscription","pledged_subscription"].includes(Le)&&(ze=ge("Share message"),Pt=`Message - ${Ze==="stories"?"vertical":Ze}`);const lr=()=>J(this,null,function*(){Wt==null||Wt();const Jt=document.createElement("a");Jt.href=vt,Jt.download=Pt,Jt.target="_blank",Jt.rel="noopener noreferrer",Jt.style.display="none",document.body.appendChild(Jt),Jt.click(),document.body.removeChild(Jt)});return(0,t.h)(T.u_,{isOpen:z,onClose:Vt,width:fe||630,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0},(0,t.h)(T.tu,{className:jt?V.mobileContainer:"",gap:20},(0,t.h)(T.xB,{onClose:Vt,title:ze,includeClose:!0}),(0,t.h)(T.tu,{className:jt?V.mobileContainer:"",gap:{desktop:32,mobile:8}},(0,t.h)("hr",{className:V.hRule}),jt?(0,t.h)(T.xv.B4,{align:"center",paddingTop:8,size:12,color:"secondary",translated:!0},"Long press to download image"):null,(0,t.h)(T.tu,{className:jt?V.mobileContainer:"",gap:24,paddingX:{desktop:24,mobile:16},paddingBottom:{mobile:16},justifyContent:{mobile:"space-between"}},(0,t.h)(T.hs,{className:g()(jt?V.mobileContainer:V.imageContainer),alignItems:"center",justifyContent:"center",paddingX:{desktop:64,mobile:0}},Ke),(0,t.h)(T.gq,{className:V.assetButtons,gap:32},pt.length?(0,t.h)(T.tu,{gap:8},(0,t.h)(T.xv.B4,{weight:"medium",translated:!0},"Background"),(0,t.h)(T.gq,{gap:8},pt.map(Jt=>(0,t.h)(G.rn,{value:Jt,isSelected:Jt===Ie,onClick:()=>Pe(Jt),themeVariables:nt,coverImageUrl:De})))):null,wt.length>1?(0,t.h)(T.tu,{gap:8},(0,t.h)(T.xv.B4,{weight:"medium",translated:!0},"Type"),(0,t.h)(T.gq,{gap:8},wt.map(({type:Jt,label:or})=>(0,t.h)(G.$I,{value:Jt,label:or,isSelected:Jt===Ce,onClick:()=>Be(Jt)})))):null,(0,t.h)(T.tu,{gap:8},(0,t.h)(T.xv.B4,{weight:"medium",translated:!0},"Aspect Ratio"),(0,t.h)(T.gq,{gap:8},G.sl.map(Jt=>(0,t.h)(G.ar,{value:Jt,isSelected:Jt===Ze,onClick:()=>st(Jt)})))),(0,t.h)(T.tu,{gap:8},(0,t.h)(T.xv.B4,{nowrap:!0,weight:"medium",translated:!0},"Preview Text"),(0,t.h)(T.hs,{flex:"grow",alignItems:"center"},(0,t.h)(T.rs,{color:"brand",checked:!$e,onChange:Jt=>{Qe(!Jt),(0,f.track)(f.EVENTS.SHARE_CENTER_CUSTOMIZE_ASSETS_PREVIEW_TEXT_TOGGLED,{includePreviewText:Jt})}}))))),jt?null:(0,t.h)(T.tu,{gap:16},(0,t.h)("hr",{className:V.hRule}),(0,t.h)(T.xu,{paddingX:24,paddingBottom:24},(0,t.h)(T.zx,{grow:!0,leftIcon:(0,t.h)(P.Z,null),priority:"primary",onClick:lr},ge("Download image")))))))}},92379:(H,E,e)=>{"use strict";e.d(E,{ie:()=>Q});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(80569),y=e.n(P),O=e(13045),c=e(52743),f=e(28488),d=e(3258),T=e(86791),D=e(65873),I=e(71054),p=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,C=(W,Y,ne)=>Y in W?p(W,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):W[Y]=ne,L=(W,Y)=>{for(var ne in Y||(Y={}))w.call(Y,ne)&&C(W,ne,Y[ne]);if(v)for(var ne of v(Y))M.call(Y,ne)&&C(W,ne,Y[ne]);return W},S=(W,Y)=>l(W,a(Y)),N=(W,Y)=>{var ne={};for(var V in W)w.call(W,V)&&Y.indexOf(V)<0&&(ne[V]=W[V]);if(W!=null&&v)for(var V of v(W))Y.indexOf(V)<0&&M.call(W,V)&&(ne[V]=W[V]);return ne},R=(W,Y,ne)=>new Promise((V,j)=>{var te=he=>{try{ue(ne.next(he))}catch(Z){j(Z)}},ie=he=>{try{ue(ne.throw(he))}catch(Z){j(Z)}},ue=he=>he.done?V(he.value):Promise.resolve(he.value).then(te,ie);ue((ne=ne.apply(W,Y)).next())});const U=5,F=60,$=600,G=5,Q=W=>{const Y=W,{visible:ne,onCancel:V}=Y,j=N(Y,["visible","onCancel"]),te=()=>{var ie;ne&&(0,d.track)(d.EVENTS.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:(ie=W.post)==null?void 0:ie.id}),V()};return(0,T.Z)(W.containerRef,te),ne?(0,t.h)(O.gq,{className:g()(I.Z.videoTrimmerSlider,{[I.Z.videoTrimmerSliderVisible]:ne})},(0,t.h)(K,S(L({},j),{onCancel:te}))):null},K=({videoPlayerRef:W,videoUpload:Y,post:ne,onCancel:V})=>{const j=(0,O.pm)(),{iString:te,iTemplate:ie}=(0,f.M1)();(0,u.d4)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const ue=he=>R(void 0,null,function*(){var Z,J;(0,d.track)(d.EVENTS.VIDEO_CLIP_CREATE_BUTTON_CLICKED,{post_id:ne==null?void 0:ne.id,media_upload_id:(Z=ne==null?void 0:ne.videoUpload)==null?void 0:Z.id,start_time:he.start,end_time:he.start+he.duration}),W&&setTimeout(()=>W.pause(),100);try{const ae=yield y().post(`/api/v1/video/assets/${Y==null?void 0:Y.id}/clips`).send(he);window.history.pushState({},"",(0,c.updateQuery)(window.location.href,{clipId:(J=ae.body.mediaUpload)==null?void 0:J.id,share:!0}));const le=new Event("urlchange");return setTimeout(()=>{window.dispatchEvent(le)},300),V(),he}catch(ae){console.error(ae),j.popToast(le=>(0,t.h)(O.FN,S(L({},le),{text:te("Error creating clip")})))}});return(0,t.h)(D.ZP,{videoPlayerRef:W,videoUpload:Y,post:ne,onCancel:V,onSubmit:ue,onSubmitLabel:te("Create clip"),minClipDuration:U,maxClipDuration:F,minTimelineDuration:G,maxTimelineDuration:$,showCaptionsButton:!0,elevated:!0})}},65873:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>oe});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(74691),y=e.n(P),O=e(53716),c=e(75500),f=e(80569),d=e.n(f),T=e(31163),D=e(13045),I=e(51126);const p={timeline:"frontend-components-VideoClipper-module__timeline--AqiJp",rail:"frontend-components-VideoClipper-module__rail--fLWPd",draggable:"frontend-components-VideoClipper-module__draggable--SB3t2",draggableLeft:"frontend-components-VideoClipper-module__draggableLeft--lqQGg",draggableRight:"frontend-components-VideoClipper-module__draggableRight--QER2V",tooltip:"frontend-components-VideoClipper-module__tooltip--gvLXG",visible:"frontend-components-VideoClipper-module__visible--ikqjx",hidden:"frontend-components-VideoClipper-module__hidden--fbYXn",playback:"frontend-components-VideoClipper-module__playback--QNFuH",nonSelectable:"frontend-components-VideoClipper-module__nonSelectable--Kte9r",tick:"frontend-components-VideoClipper-module__tick--mBMzi",lgTick:"frontend-components-VideoClipper-module__lgTick--IB6PM",smTick:"frontend-components-VideoClipper-module__smTick--Nd6cb",currentTick:"frontend-components-VideoClipper-module__currentTick--A9XKd",selection:"frontend-components-VideoClipper-module__selection--h10e9",handle:"frontend-components-VideoClipper-module__handle--DWOr3",storyboard:"frontend-components-VideoClipper-module__storyboard--jNZby",ticks:"frontend-components-VideoClipper-module__ticks--d18eQ",shadow:"frontend-components-VideoClipper-module__shadow--hwyIG",shadowContainer:"frontend-components-VideoClipper-module__shadowContainer--OtL7e"};var l=Object.defineProperty,a=Object.defineProperties,v=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,L=(ee,z,re)=>z in ee?l(ee,z,{enumerable:!0,configurable:!0,writable:!0,value:re}):ee[z]=re,S=(ee,z)=>{for(var re in z||(z={}))M.call(z,re)&&L(ee,re,z[re]);if(w)for(var re of w(z))C.call(z,re)&&L(ee,re,z[re]);return ee},N=(ee,z)=>a(ee,v(z));const R=120,U=({videoElement:ee,start:z,setStart:re,end:se,setEnd:fe,onDurationChange:Ee,storyboard:ge,maxDuration:be,minDuration:me,maxTimelineDuration:pe,minTimelineDuration:Le,looping:je=!1})=>{const[xe,ye]=(0,u.eJ)(0),[Me,We]=(0,u.eJ)(0),[De,Ge]=(0,u.eJ)(0),[pt,wt]=(0,u.eJ)(0),Ht=(0,u.sO)(0),[nt,Ze]=(0,u.eJ)(!1),st=Ve=>{Ze(Ve)};(0,u.d4)(()=>{const Ve=()=>{if(ee){ye(ee.duration);const $e=[R,ee.duration];pe&&$e.push(pe),Ge(Math.min(...$e)),Ee&&Ee(ee.duration)}};return ee&&ee.addEventListener("loadedmetadata",Ve),ee!=null&&ee.duration&&Ve(),()=>{ee&&ee.removeEventListener("loadedmetadata",Ve)}},[ee]),(0,u.d4)(()=>{ee&&(ee.currentTime=z)},[z]),(0,u.d4)(()=>{const Ve=()=>{ee&&wt(ee.currentTime)};if(ee)return ee.addEventListener("timeupdate",Ve),()=>{ee.removeEventListener("timeupdate",Ve)}},[ee]),(0,u.d4)(()=>{const Ve=Math.abs(pt-Ht.current);if(Ht.current=pt,Ve<1){je&&ee&&!nt&&(pt>se||pt<z)&&(ee.currentTime=z);return}if(!nt&&(pt>De||pt<Me)){const $e=De-Me,Qe=Math.min(pt,xe-$e);We(Qe),Ge(Qe+$e)}},[pt]);const Ie=Ve=>{Ve.preventDefault();const $e=Ve.currentTarget.getBoundingClientRect(),Qe=(Ve.clientX-$e.left)/$e.width,ze=De-Me,Ke=(Ve.deltaY>0?-1:1)*ze/4,lt=ze-Ke,vt=Me+Qe*ze,Pt=vt-Qe*lt,Wt=vt+(1-Qe)*lt;pe&&Wt-Pt>pe||Le&&Wt-Pt<Le||(Ge(Math.min(xe,Wt)),We(Math.max(0,Pt)))},Pe=(Ve,$e)=>{re(Ve),fe($e)},Ce=Ve=>{if(me&&Ve+me>=se){re(se-me);return}if(be&&Ve+be<=se){re(se-be);return}re(Ve)},Be=Ve=>{if(me&&Ve-me<=z){fe(z+me);return}if(be&&Ve-be>=z){fe(z+be);return}fe(Ve)};return(0,t.h)("div",{className:p.timeline,onWheel:Ie},xe>0?(0,t.h)(G,{startTimeline:Me,setStartTimeline:We,endTimeline:De,setEndTimeline:Ge,startPosition:z,setStartPosition:Ce,endPosition:se,setEndPosition:Be,setPosition:Pe,playerPosition:pt,duration:xe,onDragging:st,storyboard:ge}):(0,t.h)(I.gq,{alignItems:"center",justifyContent:"center"},(0,t.h)(D.aN,null)))},F=({videoElement:ee,start:z,setStart:re,onDurationChange:se,storyboard:fe,maxTimelineDuration:Ee,minTimelineDuration:ge})=>{const[be,me]=useState(0),[pe,Le]=useState(0),[je,xe]=useState(0),[ye,Me]=useState(0),We=useRef(0),[De,Ge]=useState(!1),pt=nt=>{Ge(nt)};useEffect(()=>{const nt=()=>{if(ee){me(ee.duration);const Ze=[R,ee.duration];Ee&&Ze.push(Ee),xe(Math.min(...Ze)),se&&se(ee.duration)}};return ee&&ee.addEventListener("loadedmetadata",nt),ee!=null&&ee.duration&&nt(),()=>{ee&&ee.removeEventListener("loadedmetadata",nt)}},[ee]),useEffect(()=>{ee&&(ee.currentTime=z)},[z]),useEffect(()=>{const nt=()=>{ee&&Me(ee.currentTime)};if(ee)return ee.addEventListener("timeupdate",nt),()=>{ee.removeEventListener("timeupdate",nt)}},[ee]),useEffect(()=>{const nt=Math.abs(ye-We.current);if(We.current=ye,nt<1){ee&&!De&&(ee.currentTime=z);return}if(!De&&(ye>je||ye<pe)){const Ze=je-pe,st=Math.min(ye,be-Ze);Le(st),xe(st+Ze)}},[ye]);const wt=nt=>{nt.preventDefault();const Ze=nt.currentTarget.getBoundingClientRect(),st=(nt.clientX-Ze.left)/Ze.width,Ie=je-pe,Pe=(nt.deltaY>0?-1:1)*Ie/4,Ce=Ie-Pe,Be=pe+st*Ie,Ve=Be-st*Ce,$e=Be+(1-st)*Ce;Ee&&$e-Ve>Ee||ge&&$e-Ve<ge||(xe(Math.min(be,$e)),Le(Math.max(0,Ve)))},Ht=nt=>{re(nt)};return h("div",{className:css.timeline,onWheel:wt},be>0?h(Q,{startTimeline:pe,setStartTimeline:Le,endTimeline:je,setEndTimeline:xe,startPosition:z,setStartPosition:Ht,playerPosition:ye,duration:be,onDragging:pt,storyboard:fe}):h(FlexRow,{alignItems:"center",justifyContent:"center"},h(Loader,null)))},$=({storyboard:ee,imageUrl:z,x:re,y:se,width:fe,height:Ee,displayWidth:ge,displayHeight:be})=>{const me=(re?re/ee.tile_width:0)*ge,pe=(se?se/ee.tile_height:0)*be,Le={width:`${ge}px`,height:`${be}px`,backgroundImage:`url(${z})`,backgroundPosition:`-${me}px -${pe}px`,backgroundSize:"500%"};return(0,t.h)("div",{style:Le})},G=({startTimeline:ee,setStartTimeline:z,endTimeline:re,setEndTimeline:se,startPosition:fe,setStartPosition:Ee,endPosition:ge,setEndPosition:be,setPosition:me,playerPosition:pe,duration:Le,storyboard:je,onDragging:xe})=>{const ye=(0,u.sO)(null),Me=(0,u.sO)(null),We=(0,u.sO)(ge-fe),De=(0,u.sO)(null),[Ge,pt]=(0,u.eJ)(!1),wt=re-ee,Ht=fe-ee,nt=ge-ee,Ze=pe-ee,st=(0,u.Ye)(()=>Ht/wt*100,[wt,Ht]),Ie=(0,u.Ye)(()=>nt/wt*100,[nt,wt]),Pe=(0,u.Ye)(()=>Ze/wt*100,[Ze,wt]),Ce=`linear-gradient(to right, 
    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(${st}% + 6px), 
    rgba(0,0,0,0) calc(${st}% + 6px), rgba(0,0,0,0) calc(${Ie}% - 6px), 
    rgba(0,0,0,0.5) calc(${Ie}% - 6px), rgba(0,0,0,0.5) 100%)`,Be=(0,u.I4)(Ut=>{const jt=Ut/100*wt;Ee(Math.max(0,jt+ee))},[wt,Ee,ee]),Ve=(0,u.I4)(Ut=>{const jt=Ut/100*wt;be(Math.min(Le,jt+ee))},[Le,wt,be,ee]);(0,u.d4)(()=>{xe(Ge)},[Ge]);const $e=Ut=>{if(Ut.stopPropagation(),Ut.preventDefault(),Ge||!ye.current)return;Me.current=Ut.clientX,We.current=ge-fe;const jt=ye.current.getBoundingClientRect().left,Vt=Ut.clientX-jt,lr=ye.current.getBoundingClientRect().width,Jt=Vt/lr*100;if(!(Jt>=st&&Jt<=Ie)){const Et=ee+Jt/100*wt,gr=y()(Et,0,Le-We.current),Dr=gr+We.current;me(gr,Dr)}},Qe=()=>{document.addEventListener("selectstart",Ke)},ze=()=>{document.removeEventListener("selectstart",Ke)},Ke=Ut=>{Ut.preventDefault(),Ut.stopPropagation()},lt=Ut=>{if(!ye.current)return;Qe(),pt(!1),Me.current=Ut.clientX,We.current=ge-fe;const jt=ye.current.getBoundingClientRect().left,Vt=Ut.clientX-jt,lr=ye.current.getBoundingClientRect().width,Jt=Vt/lr*100,or=Jt>=st&&Jt<=Ie;De.current=or,document.addEventListener("mousemove",Pt),document.addEventListener("mouseup",vt),document.addEventListener("pointerup",vt)},vt=()=>{setTimeout(()=>{pt(!1)},0),Me.current=null,De.current=null,ze(),document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",vt),document.removeEventListener("pointerup",vt)},Pt=Ut=>{if(Me.current===null)return;const jt=Ut.clientX-Me.current;if(jt>5&&pt(!0),!ye.current)return;const Vt=ye.current.getBoundingClientRect().width,lr=jt/Vt*wt,Jt=fe+lr,or=Jt+We.current;De.current?Jt<0?me(0,We.current):or>Le?me(Le-We.current,Le):me(Jt,or):ee-lr>0&&re-lr<=Le&&(z(Math.max(0,ee-lr)),se(Math.min(Le,re-lr)))},Wt=()=>{var Ut,jt;if(!je)return null;const Vt=(jt=(Ut=ye==null?void 0:ye.current)==null?void 0:Ut.getBoundingClientRect().width)!=null?jt:0;if(Vt===0)return null;function lr(Or,wr,br){const Ar=[],jr=Math.floor(Or/br)*br,Ur=Math.ceil(wr/br)*br;for(let Er=jr;Er<=Ur;Er+=br)Ar.push(Er);return Ar}function Jt(Or,wr){return Or.reduce((br,Ar)=>{const jr=Math.abs(Ar.start-wr),Ur=Math.abs(br.start-wr);return jr<Ur?Ar:br})}const or=60*(je.tile_width/je.tile_height),Et=wt/Vt*or,Dr=lr(ee,re,Et).map(Or=>({time:Or,tile:Jt(je.tiles,Or)}));return(0,t.h)(I.gq,{className:p.storyboard},Dr.map(({time:Or,tile:wr},br)=>{const Ar=(Or-ee)/wt*100;return(0,t.h)("div",{style:{position:"absolute",left:`calc(${Ar}% + 6px)`}},(0,t.h)($,{storyboard:je,key:`${wr.x}-${wr.y}-${br}`,imageUrl:je.url,width:je.tile_width,height:je.tile_height,displayHeight:60,displayWidth:je.tile_width/je.tile_height*60,x:wr.x,y:wr.y}))}))};return(0,t.h)("div",{className:p.rail,ref:ye,onMouseDown:lt,onClick:$e},Wt(),(0,t.h)("div",{className:p.nonSelectable,style:{background:Ce,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,t.h)("div",{className:p.ticks},(0,t.h)(ne,{railDuration:wt,startTimeline:ee})),(0,t.h)("div",{className:g()(p.ticks,p.nonSelectable)},(0,t.h)("div",{className:p.selection,style:{left:`calc(${st}% + 6px)`,width:`calc(${Ie-st}% - 12px)`}})),(0,t.h)(j,{divRef:ye,startTimeline:ee,railDuration:re-ee,active:!Ge}),(0,t.h)("div",{className:p.ticks},(0,t.h)(V,{className:`${p.draggable} ${p.draggableLeft}`,railRef:ye,label:(0,T.DL)(fe,!0),position:st,maxPosition:Ie,setPosition:Be,isDragging:Ge,setIsDragging:pt}),(0,t.h)(V,{className:`${p.draggable} ${p.draggableRight}`,railRef:ye,label:(0,T.DL)(ge,!0),position:Ie,minPosition:st,setPosition:Ve,isDragging:Ge,setIsDragging:pt}),(0,t.h)(V,{className:p.playback,railRef:ye,label:(0,T.DL)(pe,!0),position:Pe,isDragging:Ge,setIsDragging:pt,disabled:!0})))},Q=({startTimeline:ee,setStartTimeline:z,endTimeline:re,setEndTimeline:se,startPosition:fe,setStartPosition:Ee,playerPosition:ge,duration:be,storyboard:me,onDragging:pe})=>{const Le=useRef(null),je=useRef(null),xe=useRef(null),[ye,Me]=useState(!1),We=re-ee,De=fe-ee,Ge=ge-ee,pt=useMemo(()=>De/We*100,[We,De]),wt=useMemo(()=>Ge/We*100,[Ge,We]),Ht=useCallback($e=>{const Qe=$e/100*We;Ee(Math.max(0,Qe+ee))},[We,Ee,ee]);useEffect(()=>{pe(ye)},[ye]);const nt=$e=>{if($e.stopPropagation(),$e.preventDefault(),ye||!Le.current)return;je.current=$e.clientX;const Qe=Le.current.getBoundingClientRect().left,ze=$e.clientX-Qe,Ke=Le.current.getBoundingClientRect().width,lt=ze/Ke*100,vt=ee+lt/100*We;Ee(vt)},Ze=()=>{document.addEventListener("selectstart",Ie)},st=()=>{document.removeEventListener("selectstart",Ie)},Ie=$e=>{$e.preventDefault(),$e.stopPropagation()},Pe=$e=>{Le.current&&(Me(!1),je.current=$e.clientX,Ze(),document.addEventListener("mousemove",Be),window.addEventListener("mouseup",Ce))},Ce=()=>{setTimeout(()=>{Me(!1)},0),je.current=null,xe.current=null,st(),document.removeEventListener("mousemove",Be),window.removeEventListener("mouseup",Ce)},Be=$e=>{if(je.current===null)return;const Qe=$e.clientX-je.current;if(Qe>5&&Me(!0),!Le.current)return;const ze=Le.current.getBoundingClientRect().width,Ke=Qe/ze*We;ee-Ke>0&&re-Ke<=be&&(z(Math.max(0,ee-Ke)),se(Math.min(be,re-Ke)))},Ve=()=>{var $e,Qe;if(!me)return null;const ze=(Qe=($e=Le==null?void 0:Le.current)==null?void 0:$e.getBoundingClientRect().width)!=null?Qe:0;if(ze===0)return null;function Ke(jt,Vt,lr){const Jt=[],or=Math.floor(jt/lr)*lr,Et=Math.ceil(Vt/lr)*lr;for(let gr=or;gr<=Et;gr+=lr)Jt.push(gr);return Jt}function lt(jt,Vt){return jt.reduce((lr,Jt)=>{const or=Math.abs(Jt.start-Vt),Et=Math.abs(lr.start-Vt);return or<Et?Jt:lr})}const vt=60*(me.tile_width/me.tile_height),Pt=We/ze*vt,Ut=Ke(ee,re,Pt).map(jt=>({time:jt,tile:lt(me.tiles,jt)}));return h(FlexRow,{className:css.storyboard},Ut.map(({time:jt,tile:Vt},lr)=>{const Jt=(jt-ee)/We*100;return h("div",{style:{position:"absolute",left:`calc(${Jt}% + 6px)`}},h($,{storyboard:me,key:`${Vt.x}-${Vt.y}-${lr}`,imageUrl:me.url,width:me.tile_width,height:me.tile_height,displayHeight:60,displayWidth:me.tile_width/me.tile_height*60,x:Vt.x,y:Vt.y}))}))};return h("div",{className:css.rail,ref:Le,onMouseDown:Pe,onClick:nt},Ve(),h("div",{className:css.ticks},h(ne,{railDuration:We,startTimeline:ee})),h(j,{divRef:Le,startTimeline:ee,railDuration:We,active:!ye}),h("div",{className:css.ticks},h(V,{className:`${css.draggable} ${css.draggableLeft}`,railRef:Le,label:formatSecondsToMMSS(fe,!0),position:pt,setPosition:Ht,isDragging:ye,setIsDragging:Me}),h(V,{className:css.playback,railRef:Le,label:formatSecondsToMMSS(ge,!0),position:wt,isDragging:ye,setIsDragging:Me,disabled:!0})))},K=[{id:"lg",interval:60,tickClassName:p.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:p.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:p.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:p.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],W=ee=>ee>120?"lg":ee>30?"md":ee>5?"sm":"xs",Y=(ee,z,re)=>{const se=Math.floor(ee/re)*re,fe=Math.ceil(z/re)+1;return Array.from({length:fe}).map((Ee,ge)=>({label:(0,T.DL)(se+re*ge),time:se+re*ge-ee}))},ne=({railDuration:ee,startTimeline:z})=>{const re=W(ee),se=K.map(fe=>N(S({},fe),{values:Y(z,ee,fe.interval)}));return(0,t.h)(t.Fragment,null,se.map(fe=>fe.displayOnZoomLevels.includes(re)&&fe.values.map((Ee,ge)=>(0,t.h)("div",{key:ge,className:g()(p.tick,fe.tickClassName,p.nonSelectable),style:{left:`${Ee.time/ee*100}%`}},fe.displayLabelsOnZoomLevels.includes(re)&&(0,t.h)("span",null,Ee.label)))))},V=({railRef:ee,position:z,disabled:re,setPosition:se,label:fe,maxPosition:Ee,minPosition:ge,className:be,onDragStart:me,onDragEnd:pe,showIcon:Le=!0,isDragging:je,setIsDragging:xe})=>{const ye=(0,u.sO)(null),[Me,We]=(0,u.eJ)(!1),De=()=>{document.addEventListener("selectstart",pt)},Ge=()=>{document.removeEventListener("selectstart",pt)},pt=Ze=>{Ze.preventDefault(),Ze.stopPropagation()},wt=Ze=>{re||(xe(!1),Ze.stopPropagation(),We(!0),De(),document.addEventListener("mousemove",nt),document.addEventListener("mouseup",Ht),document.addEventListener("pointerup",Ht),me&&me())},Ht=()=>{setTimeout(()=>{xe(!1)},0),We(!1),Ge(),document.removeEventListener("mousemove",nt),document.removeEventListener("mouseup",Ht),document.removeEventListener("pointerup",Ht),pe&&pe()},nt=Ze=>{if(xe(!0),!ee.current||!ye.current)return;const st=ee.current.getBoundingClientRect().left,Ie=ee.current.getBoundingClientRect().width,Pe=(Ze.clientX-st)/Ie*100;se&&se(Ee!==void 0&&ge!==void 0?Math.min(Ee,Math.max(ge,Pe)):Ee!==void 0?Math.min(Ee,Pe):ge!==void 0?Math.max(ge,Pe):Pe)};return(0,t.h)("div",{className:be,ref:ye,style:{left:`${z}%`},onMouseDown:wt},Le&&(0,t.h)("div",{className:p.handle}),(0,t.h)("div",{className:`${p.tooltip} ${Me?p.visible:p.hidden} ${p.nonSelectable}`},fe))},j=({divRef:ee,startTimeline:z,railDuration:re,active:se})=>{const[fe,Ee]=(0,u.eJ)(null),[ge,be]=(0,u.eJ)(!1),me=je=>{if(ee.current){const xe=ee.current.getBoundingClientRect(),{left:ye,width:Me}=xe,De=(je.clientX-ye)/Me*100,Ge=z+De/100*re;Ee({x:je.clientX-xe.left,time:Ge})}},pe=()=>be(!0),Le=()=>be(!1);return(0,u.d4)(()=>(ee.current&&(ee.current.addEventListener("mousemove",me),ee.current.addEventListener("mouseenter",pe),ee.current.addEventListener("mouseleave",Le)),()=>{ee.current&&(ee.current.removeEventListener("mousemove",me),ee.current.removeEventListener("mouseenter",pe),ee.current.removeEventListener("mouseleave",Le))}),[z,re]),se&&fe&&ge?(0,t.h)("div",{className:g()(p.shadowContainer,p.nonSelectable),style:{left:fe.x}},(0,t.h)("div",{className:p.shadow}),(0,t.h)("div",{className:p.tooltip},(0,T.DL)(fe.time,!0))):null};var te=e(28488),ie=e(3258),ue=e(71054),he=(ee,z,re)=>new Promise((se,fe)=>{var Ee=me=>{try{be(re.next(me))}catch(pe){fe(pe)}},ge=me=>{try{be(re.throw(me))}catch(pe){fe(pe)}},be=me=>me.done?se(me.value):Promise.resolve(me.value).then(Ee,ge);be((re=re.apply(ee,z)).next())});const Z=5,J=60,ae=600,le=5;function oe({videoPlayerRef:ee,videoUpload:z,post:re,onCancel:se,onSubmit:fe,onSubmitLabel:Ee,minClipDuration:ge=1,maxClipDuration:be=Number.MAX_VALUE,minTimelineDuration:me=0,maxTimelineDuration:pe=Number.MAX_VALUE,initialStart:Le,initialEnd:je,showCaptionsButton:xe,elevated:ye}){var Me,We;const[De,Ge]=(0,u.eJ)(Le!=null?Le:0),[pt,wt]=(0,u.eJ)(je!=null?je:30),[Ht,nt]=(0,u.eJ)((0,T.DL)(De,!0)),[Ze,st]=(0,u.eJ)((0,T.DL)(pt,!0)),[Ie,Pe]=(0,u.eJ)(!1),[Ce,Be]=(0,u.eJ)(),[Ve,$e]=(0,u.eJ)(),[Qe,ze]=(0,u.eJ)(),[Ke,lt]=(0,u.eJ)(),[vt,Pt]=(0,u.eJ)(!1),[Wt,Ut]=(0,u.eJ)(!0),jt=!!((We=(Me=re==null?void 0:re.podcastUpload)==null?void 0:Me.transcription)!=null&&We.transcript_url),Vt=(0,T.Jk)(Ht),lr=(0,T.Jk)(Ze),{iString:Jt,iTemplate:or}=(0,te.M1)();(0,u.d4)(()=>{const Er=Ir=>he(this,null,function*(){const{body:{src:Kr}}=yield d().get(`/api/v1/video/upload/${Ir}/storyboard`),rn=yield d().get(Kr);Be(rn.body)});z!=null&&z.id&&Er(z.id)},[z]),(0,u.d4)(()=>{(0,T.ZD)(Ht)!==De&&nt((0,T.DL)(De,!0)),$e(void 0)},[De]),(0,u.d4)(()=>{(0,T.ZD)(Ze)!==pt&&st((0,T.DL)(pt,!0)),ze(void 0)},[pt]);const Et=Er=>{let Ir=!1;return Er<0?(lt(Jt("Start time must be prior to end time")),Ir=!0):Er>be?(lt(Jt("Clip can't be greater than 60 seconds")),Ir=!0):Er<ge?(lt(Jt("Clip must be at least 5 seconds")),Ir=!0):lt(void 0),Ir},gr=(Er,Ir="start",Kr=!1)=>{const rn=(0,T.Jk)(Er);if(Kr||(Ir==="start"?nt(Er):st(Er)),!rn)return(Ir==="start"?$e:ze)(Ir==="start"?or`Start time format must be 0:00.0`:or`End time format must be 0:00.01`),!1;const En=(0,T.ZD)(Er),Pn=Ir==="start"?(0,T.ZD)(Ze)-En:En-(0,T.ZD)(Ht);let an=!1;return Pn<=0?an=!0:(Ir==="start"?$e:ze)(void 0),an=Et(Pn)||an,!an&&!Kr&&(Ir==="start"?(Ge(En),wt((0,T.ZD)(Ze))):(Ge((0,T.ZD)(Ht)),wt(En))),!an},Dr=(Er,Ir=!1)=>gr(Er,"start",Ir),Or=(Er,Ir=!1)=>gr(Er,"end",Ir),wr=(0,u.I4)((Er,Ir)=>{(0,T.fI)(Ir)&&(Er==="start"?Dr(Ir):Or(Ir))},[Ht,Ze]),br=()=>he(this,null,function*(){var Er;Pt(!0),yield fe({start:De,duration:pt-De,render_transcript_as:Ie?"subtitles":void 0,podcast_id:(Er=re==null?void 0:re.podcastUpload)==null?void 0:Er.id}),Pt(!1)}),Ar=Er=>{Le||je||wt(y()(Er/4,ge,30))},jr=()=>{var Er;(0,ie.track)(ie.EVENTS.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:re==null?void 0:re.id,media_upload_id:(Er=re==null?void 0:re.videoUpload)==null?void 0:Er.id,looping:!Wt}),Ut(!Wt)};if(!ee)return null;const Ur=!!Ve||!!Qe||!!Ke;return(0,t.h)("div",null,(0,t.h)(D.hs,{className:g()("force-light-theme",ye?ue.Z.containerElevated:ue.Z.containerInline)},(0,t.h)(D.tu,{gap:16,paddingX:4,flex:"grow"},(0,t.h)(D.gq,{className:ue.Z.videoTrimmerWrapper},(0,t.h)(U,{videoElement:ee,start:De,setStart:Ge,end:pt,setEnd:wt,minDuration:ge,maxDuration:be,maxTimelineDuration:pe,minTimelineDuration:me,looping:Wt,onDurationChange:Ar,storyboard:Ce})),(0,t.h)(t.Fragment,null,(0,t.h)(D.gq,{justifyContent:"space-between",alignItems:"center",disabled:vt,style:{opacity:vt?.5:1}},vt?(0,t.h)(D.gq,{justifyContent:"center",alignItems:"center",marginHeight:8},(0,t.h)(D.gq,{justifyContent:"center",alignItems:"center",gap:8},(0,t.h)(D.aN,null),(0,t.h)(D.xv.Button,{translated:!0,color:"secondary"},"Saving..."))):(0,t.h)(D.gq,{gap:16},(0,t.h)(D.gq,{gap:4,alignItems:"center",onClick:()=>jt&&Pe(!Ie),disabled:!jt,className:`${jt?ue.Z.captionsAvailable:ue.Z.captionsNotAvailable}`},(0,t.h)(D.hU,{title:"loop video",priority:Wt?"primary-theme":"secondary",onClick:jr},(0,t.h)(O.Z,null)),(0,t.h)(D.hU,{disabled:!jt||vt,priority:Ie?"primary-theme":"secondary"},(0,t.h)(c.Z,null))),(0,t.h)(D.gq,{gap:8},(0,t.h)(D.oi,{error:!Vt,value:Ht,onChange:Er=>wr("start",Er.currentTarget.value)}),(0,t.h)(D.oi,{error:!lr,value:Ze,onChange:Er=>wr("end",Er.currentTarget.value)})),(0,t.h)(D.gq,{gap:4,alignItems:"center",justifyContent:"space-between",className:ue.Z.durationContainer},(0,t.h)(D.xv.Button,{size:16,color:"secondary"},(0,T.DL)(pt-De,!0)))),(0,t.h)(D.gq,{gap:8},(0,t.h)(D.zx,{priority:"primary-theme",fill:"empty",onClick:se},Jt("Cancel")),(0,t.h)(D.zx,{priority:"primary-theme",onClick:br,disabled:Ur||vt},Ee))),Ur&&(0,t.h)(D.tu,null,Ve&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},Ve)),Qe&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},Qe)),Ke&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},Ke)))))))}},50557:(H,E,e)=>{"use strict";e.d(E,{p:()=>v});var t=e(6400),u=e(94184),s=e.n(u),g=e(34755),P=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(w,M,C)=>M in w?P(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,D=(w,M)=>{for(var C in M||(M={}))f.call(M,C)&&T(w,C,M[C]);if(c)for(var C of c(M))d.call(M,C)&&T(w,C,M[C]);return w},I=(w,M)=>y(w,O(M)),p=(w,M)=>{var C={};for(var L in w)f.call(w,L)&&M.indexOf(L)<0&&(C[L]=w[L]);if(w!=null&&c)for(var L of c(w))M.indexOf(L)<0&&d.call(w,L)&&(C[L]=w[L]);return C};const a=w=>{var M=w,{fill:C}=M,L=p(M,["fill"]);return(0,t.h)(g.l,I(D({},L),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:C||"white"}}),(0,t.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:C||"white"}))},v=({name:w,label:M,info:C,checked:L,disabled:S,onChange:N,isRow:R=!0,className:U})=>{const F=(0,t.h)(t.Fragment,null,(0,t.h)("span",{className:s()("big-checkbox",{checked:L,disabled:S}),onClick:()=>!S&&(N==null?void 0:N(!L)),onKeyDown:$=>{$.key===" "&&(N==null||N(!L))},role:"checkbox","aria-checked":L,"aria-label":M||w,tabIndex:0},(0,t.h)(a,{fill:"#ffffff"})));return(0,t.h)("label",{className:s()("big-checkbox-input",U,{"big-checkbox-input-row":R})},!R&&F,(0,t.h)("div",{onClick:()=>{(M||C)&&!S&&(N==null||N(!L))}},M,C&&(0,t.h)("div",{className:"info"},C)),R&&F,(0,t.h)("input",{type:"hidden",name:w,"data-testid":w,value:String(L)}))}},7922:(H,E,e)=>{"use strict";e.d(E,{Z:()=>w,k:()=>M});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(17025),y=e.n(P),O=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(C,L,S)=>L in C?O(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,p=(C,L)=>{for(var S in L||(L={}))T.call(L,S)&&I(C,S,L[S]);if(d)for(var S of d(L))D.call(L,S)&&I(C,S,L[S]);return C},l=(C,L)=>c(C,f(L)),a=(C,L)=>{var S={};for(var N in C)T.call(C,N)&&L.indexOf(N)<0&&(S[N]=C[N]);if(C!=null&&d)for(var N of d(C))L.indexOf(N)<0&&D.call(C,N)&&(S[N]=C[N]);return S};const w=C=>{var L=C,{children:S,className:N=void 0,disabled:R=void 0,loading:U=void 0,type:F="button",href:$=void 0,localNavigation:G=!1,onClick:Q=void 0,forwardedRef:K=void 0,newTab:W=void 0,style:Y=void 0}=L,ne=a(L,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab","style"]);const V=j=>{if(R||U){j&&j.preventDefault();return}Q?Q(j):$?(0,P.redirect)($,{event:j,local_navigation:G,newTab:W}):F!=="submit"&&console.log("No onClick set!")};return(0,t.h)("button",l(p({tabIndex:0},ne),{type:F,className:g()("button",N,{disabled:R}),disabled:R||U,onClick:V,ref:K,style:Y}),U?"Please wait...":S)},M=(0,u.forwardRef)((C,L)=>{var S=C,{onClick:N,href:R,localNavigation:U,newTab:F}=S,$=a(S,["onClick","href","localNavigation","newTab"]);const G=R?Q=>{N&&(N.call(Q.target,Q),Q.defaultPrevented)||(0,P.redirect)(R,{event:Q,local_navigation:U,newTab:F})}:N;return(0,t.h)("button",l(p({tabIndex:0},$),{ref:L,onClick:G}))})},99105:(H,E,e)=>{"use strict";e.d(E,{Z:()=>P});var t=e(6400),u=(f,d,T)=>new Promise((D,I)=>{var p=v=>{try{a(T.next(v))}catch(w){I(w)}},l=v=>{try{a(T.throw(v))}catch(w){I(w)}},a=v=>v.done?D(v.value):Promise.resolve(v.value).then(p,l);a((T=T.apply(f,d)).next())});const s="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let g=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=O);class P extends t.Component{componentDidMount(){return u(this,null,function*(){yield c(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:d}){return(0,t.h)("div",{className:d})}}function y(){const f=document.getElementsByTagName("script")[0],d=document.createElement("script");d.type="text/javascript",d.async=!0,d.defer=!0,d.src=s,f.parentNode.insertBefore(d,f)}function O(){if(g){const f=g;g=!0;for(const d of f)d()}}function c(){return new Promise(f=>{g===!0?f():g===!1?(g=[f],y()):g.push(f)})}},44454:(H,E,e)=>{"use strict";e.d(E,{EJ:()=>c.E,Fx:()=>D,ZP:()=>T});var t=e(6400),u=e(94184),s=e.n(u),g=e(17025),P=e.n(g),y=e(7922),O=e(26059),c=e(22939);const f="active",d=.7;class T extends t.Component{constructor(p,l){if(super(p,l),this.onDocumentMouseUp=a=>{!(0,g.isRootOrChild)(a.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))},this.onDocumentKeyDown=a=>{a.key==="Escape"&&this.state.active&&this.close()},this.onWindowResize=()=>{this.placeDropdown()},this.placeDropdown=()=>{var a,v;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const w=this.base.getBoundingClientRect(),M=w.width/(this.state.active?1:d),C=w.right+(M-w.width)/2,L=w.left-(M-w.width)/2,S=typeof window!="undefined"&&window.innerWidth;if(M>=S)return;const N=typeof window!="undefined"&&window.getComputedStyle(this.base),R=!isNaN(parseFloat(N.left))&&parseFloat(N.left),U=!isNaN(parseFloat(N.right))&&parseFloat(N.right),F=(a=this.state.originalLeft)!=null?a:N.left,$=(v=this.state.originalRight)!=null?v:N.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:F}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:$}),L<0?typeof this.state.left=="number"?this.setState({left:this.state.left-L,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+L}):typeof U=="number"?this.setState({left:null,right:U+L}):this.setState({left:(R||0)-L,right:null}):C>=S&&(typeof this.state.left=="number"?this.setState({left:this.state.left-C+S,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+C-S}):typeof R=="number"?this.setState({left:R-C+S,right:null}):this.setState({left:null,right:(U||0)+C-S}))},typeof window!="undefined"&&(window!=null&&window.matchMedia)){const a=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:a.matches};const v=w=>{this.setState({isMobileWidth:w.matches})};a.addEventListener?a.addEventListener("change",v):a.addListener&&a.addListener(v)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:p=null}={}){this.blockToggle||(0,g.stateTransaction)(this,l=>{p===null&&(p=!l.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[p?"add":"remove"]("modal-in"),this.setState({active:p},()=>{this.props.onToggle&&this.props.onToggle({active:p})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:p,attachOnActive:l,noDrawerCloseButton:a},{active:v}){const w=(0,t.toChildArray)(this.props.children),M={},C={};typeof this.state.left=="number"?(M.left=`${this.state.left}px`,M.right="unset",C.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(M.left="unset",M.right=`${this.state.right}px`,C.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const L=this.useDrawerStyle();return(0,t.h)(t.Fragment,null,L&&(0,t.h)("div",{className:s()("dropdown-drawer-backdrop",{[f]:v}),onclick:S=>{S.stopPropagation(),this.drawerBackdropClicked()}}),(!l||v||L)&&(0,t.h)("ul",{className:s()("dropdown-menu",this.props.className,{[f]:v,"no-rect":this.props.noRectWhenClosed,drawer:L,tooltip:!L,"no-place":!!this.props.noPlace}),style:M},!p&&!this.useDrawerStyle()&&(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"dropdown-menu-tail",style:C}),(0,t.h)("div",{className:"dropdown-menu-tail-shadow",style:C})),(0,t.h)("div",{className:s()("dropdown-menu-wrapper",this.props.wrapperClassName)},L&&!a&&(0,t.h)(y.k,{className:"drawer-close-button",onClick:S=>{S.stopPropagation(),this.close()}},(0,t.h)(O.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?w:w.map(S=>(0,t.h)("li",null,S)))))}}class D extends t.Component{constructor(p){super(p),this.onDocumentMouseUp=l=>{!(0,g.isRootOrChild)(l.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))},this.onDocumentKeyDown=l=>{l.key==="Escape"&&this.close()},this.onWindowResize=()=>{this.placeDropdown()}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:p=null}={}){this.blockToggle||(0,g.stateTransaction)(this,l=>{p===null&&(p=!l.active),this.setState({active:p},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const p=(0,t.toChildArray)(this.props.children);return this.props.noList?(0,t.h)("div",{className:s()("dropdown-menu tooltip",this.props.className,{[f]:this.state.active}),ref:this.props.forwardedRef},(0,t.h)("div",{className:"dropdown-menu-wrapper"},p)):(0,t.h)("ul",{className:s()("dropdown-menu tooltip",this.props.className,{[f]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,t.h)("div",{className:"dropdown-menu-wrapper"},p.map(l=>(0,t.h)("li",null,l))))}}},22939:(H,E,e)=>{"use strict";e.d(E,{E:()=>u});var t=e(30396);function u(){const s=(0,t.sO)(null);return[s,()=>{var P;return(P=s.current)==null?void 0:P.toggle()}]}},43615:(H,E,e)=>{"use strict";e.d(E,{FF:()=>ee,Pn:()=>ae,ZP:()=>Z});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(71375),y=e(49770),O=e(58718),c=e(52743),f=e(28488),d=e(67963),T=e(62017),D=e(17025),I=e(84040),p=e(51126),l=e(62246),a=e(43887),v=e(97868),w=e(33510),M=e(44695);const C=40,L=.5*C,S=.2,N=2;function R(se){return{width:(se-1)*C*(1-S)+C+2*N,height:C+2*N}}function U({faces:se}){const Ee=se.slice(0).reverse().map(({id:me,photo_url:pe},Le)=>({id:me,photo_url:pe||getDefaultUserPhotoById(me),x:(se.length-Le-1)*(1-S)*C+N})),{width:ge,height:be}=R(se.length);return h("svg",{version:"1.1",width:ge,height:be,viewBox:`0 0 ${ge} ${be}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,Ee.map(({id:me,photo_url:pe,x:Le})=>h("pattern",{id:`image-${me}`,x:Le,y:N,patternUnits:"userSpaceOnUse",height:C,width:C},h("image",{height:C,width:C,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:pe})))),Ee.map(({id:me,x:pe})=>h("circle",{cx:pe+L,cy:L+N,r:L,fill:`url(#image-${me})`,stroke:"#fff","stroke-width":N})))}var F=e(80332),$=e(79786),G=e(30105);const Q={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var K=Object.defineProperty,W=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,te=(se,fe,Ee)=>fe in se?K(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):se[fe]=Ee,ie=(se,fe)=>{for(var Ee in fe||(fe={}))V.call(fe,Ee)&&te(se,Ee,fe[Ee]);if(ne)for(var Ee of ne(fe))j.call(fe,Ee)&&te(se,Ee,fe[Ee]);return se},ue=(se,fe)=>W(se,Y(fe)),he=(se,fe)=>{var Ee={};for(var ge in se)V.call(se,ge)&&fe.indexOf(ge)<0&&(Ee[ge]=se[ge]);if(se!=null&&ne)for(var ge of ne(se))fe.indexOf(ge)<0&&j.call(se,ge)&&(Ee[ge]=se[ge]);return Ee};function Z(se){var fe=se,{faces:Ee,secondaryFaces:ge,maximum:be=5,pileLabel:me,modalLabel:pe,secondaryLabel:Le,secondaryHref:je,enableModal:xe,className:ye,totalCount:Me,detailUtmSource:We,onDialogOpen:De,showFaces:Ge=!0,showBlanks:pt=!1,relativeLinks:wt=!1}=fe,Ht=he(fe,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[nt,Ze]=(0,u.eJ)(!1),[st,Ie]=(0,u.eJ)(!1),Ce=Ee.concat((ge==null?void 0:ge.filter(Be=>!Ee.find(Ve=>Ve.id===Be.id)))||[]).filter(({photo_url:Be})=>pt?!0:!!Be).slice(0,be);return(0,t.h)(p.hs,{alignItems:"center",gap:8,flex:"grow",className:g()("facepile",ye)},Ge&&(0,t.h)(J,ue(ie({},Ht),{className:ye,faces:Ce,maximum:be,showBlanks:pt,relativeLinks:wt})),me&&(0,t.h)(oe,{label:me,clickable:!!(xe&&Ee.length),onClick:()=>{!xe||!(Ee!=null&&Ee.length)||(Ze(!0),De&&De())}}),Le&&(0,t.h)(a.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),Le&&(0,t.h)(oe,{label:Le,clickable:!!(xe&&(ge!=null&&ge.length)),href:je,onClick:je?void 0:()=>{!xe||!(ge!=null&&ge.length)||(Ie(!0),De&&De())}}),nt&&(0,t.h)(ee,{isOpen:nt,modalLabel:pe,faces:Ee,totalCount:Me,onClose:()=>Ze(!1),utmSource:We}),st&&ge&&(0,t.h)(ee,{isOpen:st,modalLabel:Le,faces:ge,totalCount:ge.length,onClose:()=>Ie(!1),utmSource:We}))}function J({faces:se,loading:fe,className:Ee,clickable:ge=!0,hoverProfiles:be,faceUtmSource:me,elevated:pe,showBlanks:Le=!1,maximum:je=5,size:xe=40,relativeLinks:ye=!1}){const Me=(0,D.isMobileBrowser)(),We=se.filter(({photo_url:De})=>Le?!0:!!De).slice(0,je);return(0,t.h)(p.hs,{alignItems:"center"},!fe&&We.length>0&&(0,t.h)(p.hs,{alignItems:"center",className:g()(Q.faces,Q[`size-${xe}`],Ee)},We.map(({id:De,name:Ge,photo_url:pt,className:wt,tooltipTitle:Ht,tooltipContent:nt,noLink:Ze},st)=>{const Ie=(0,c.getReaderProfileUrl)({id:De,name:Ge},{utm_source:me,noBase:!!ye}),Pe=(0,t.h)($.e,{className:g()("facepile-face",Q.face,Q[`size-${xe}`],wt,st===0&&Q.first,st===We.length-1&&Q.last,pe&&Q.elevated),style:{zIndex:We.length-st},maxWidth:xe*2,src:(0,c.imginary)(pt||(0,c.getDefaultUserPhotoById)(De),64)});return Ze||!ge?Pe:(0,t.h)(F.ProfileHoverCard,{disabled:!be||Me,key:De,subject:{id:De,name:Ge,photo_url:pt},utmSource:me},(0,t.h)(G.L,{disabled:!Ht&&!nt,title:Ht,content:nt,className:"inverse bottom"},(0,t.h)(p.hs,{as:"a",flex:"auto",href:Ie,target:"_blank",rel:"noopener"},Pe)))})),fe&&(0,t.h)(le,{maximum:je,size:xe}))}function ae({pub:se,post:fe}){var Ee;const ge=(0,c.imginary)(`${(0,c.getBaseUrl)(se)}/p/${fe.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:be,width:me}=R((Ee=fe==null?void 0:fe.publishedBylines)==null?void 0:Ee.length);return(0,t.h)("img",{src:ge,width:me,height:be})}function le({maximum:se,size:fe}){return(0,t.h)(p.hs,{gap:12},new Array(se).fill(null).map(()=>(0,t.h)(w.Vm,{type:"circle",height:fe,width:fe})))}function oe({label:se,clickable:fe,href:Ee,onClick:ge}){return(0,t.h)(a.xv.B4,null,(0,t.h)(T.hh,{className:fe?Q.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:fe?"hover-underline":"none",onClick:ge,href:Ee},se))}function ee(se){var fe=se,{isOpen:Ee,onClose:ge}=fe,be=he(fe,["isOpen","onClose"]);return(0,t.h)(l.u_,{isOpen:!!Ee,onClose:ge,width:500},(0,t.h)(z,ie({onClose:ge},be)))}function z({faces:se,modalLabel:fe,onClose:Ee,openLinksInNewTab:ge,totalCount:be,utmSource:me}){const{iString:pe,iTemplate:Le,iPlural:je}=(0,f.M1)(),xe=(be||0)-se.length;return(0,t.h)(t.Fragment,null,(0,t.h)(p.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,t.h)(a.xv.H2,null,fe),Ee&&(0,t.h)(I.hU,{onClick:Ee},(0,t.h)(P.Z,{height:20}))),(0,t.h)(p.tu,{overflowY:"auto",className:Q.column},(0,t.h)(p.tu,{gap:4,padding:8,flex:"grow"},se.map(ye=>(0,t.h)(re,{face:ye,openLinksInNewTab:ge,utmSource:me})),xe>0&&(0,t.h)(p.hs,{gap:16,alignItems:"center",padding:8},(0,t.h)(p.hs,{className:Q.avatarOther,alignItems:"center",justifyContent:"center"},(0,t.h)(y.Z,{className:Q.avatarOtherIcon,size:20})),(0,t.h)(a.xv.B4,{color:"secondary"},"+",je("%1 other reader","%1 other readers",xe))))))}function re({face:se,openLinksInNewTab:fe,utmSource:Ee}){const{iString:ge,iTemplate:be}=(0,f.M1)(),{id:me,name:pe,photo_url:Le,primary_publication:je,writes:xe,className:ye,noLink:Me}=se,We=Ee||"facepile-modal",De=(0,c.getReaderProfileUrl)({id:me,name:pe},{utm_source:We}),Ge=(0,d.aF)(),pt=(0,O.Sv)(se,We);return(0,t.h)(p.hs,{key:me,flex:"grow"},Me?(0,t.h)(p.hs,{gap:16,padding:8,radius:12,className:Q.row,alignItems:"center",flex:"grow"},(0,t.h)(v.BG,{user:se,pub:je,size:40,className:ye}),(0,t.h)(p.tu,{minWidth:0,flex:"grow"},(0,t.h)(a.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(Q.link,g()({"no-name":!(pe||"").trim().length}))},pe))):(0,t.h)(p.hs,ie({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:Q.row,href:De},fe?{target:"_blank"}:{}),(0,t.h)(v.BG,{user:se,pub:je,size:40,className:ye}),(0,t.h)(p.tu,{minWidth:0,flex:"grow"},(0,t.h)(F.ProfileHoverCard,{disabled:(0,D.isMobileBrowser)(),subject:{id:me,name:pe,photo_url:Le},utmSource:We,className:Q.link},(0,t.h)(a.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(Q.link,g()({"no-name":!(pe||"").trim().length}))},pe)),xe&&je&&(0,t.h)(M.Sm,{disabled:(0,D.isMobileBrowser)(),publication_id:je==null?void 0:je.id,className:Q.link},(0,t.h)(a.xv.B4,{color:"secondary",decoration:"hover-underline",className:g()(Q.link,{"no-name":!(pe||"").trim().length})},xe))),Ge&&Ge.id!==me&&(0,t.h)(I.zx,{fill:"empty",priority:pt.isFollowing?"secondary":"primary",className:Q.button,onClick:wt=>{wt.preventDefault(),pt.toggle()}},pt.isFollowing?ge("Following"):ge("Follow"))))}},8925:(H,E,e)=>{"use strict";e.d(E,{GP:()=>C,UD:()=>w,ZP:()=>R,ew:()=>N,lQ:()=>a});var t=e(6400),u=e(94184),s=e.n(u),g=e(80569),P=e.n(g),y=e(83322),O=e(3258),c=Object.defineProperty,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(U,F,$)=>F in U?c(U,F,{enumerable:!0,configurable:!0,writable:!0,value:$}):U[F]=$,I=(U,F)=>{for(var $ in F||(F={}))d.call(F,$)&&D(U,$,F[$]);if(f)for(var $ of f(F))T.call(F,$)&&D(U,$,F[$]);return U},p=(U,F)=>{var $={};for(var G in U)d.call(U,G)&&F.indexOf(G)<0&&($[G]=U[G]);if(U!=null&&f)for(var G of f(U))F.indexOf(G)<0&&T.call(U,G)&&($[G]=U[G]);return $},l=(U,F,$)=>new Promise((G,Q)=>{var K=ne=>{try{Y($.next(ne))}catch(V){Q(V)}},W=ne=>{try{Y($.throw(ne))}catch(V){Q(V)}},Y=ne=>ne.done?G(ne.value):Promise.resolve(ne.value).then(K,W);Y(($=$.apply(U,F)).next())});function a(U,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const $={};return F&&F.stripe_user_id?y.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(F.stripe_country)&&($.stripeAccount=F.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(U,$)}function v(U,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(F!=null&&F.stripe_user_id))return null;const $={stripeAccount:F.stripe_user_id};return window.Stripe(U,$)}function w(U){return U.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}function M(U,F,{email:$,name:G,country:Q,themeVariables:{color_theme_accent:K,color_theme_bg_contrast_2:W,print_on_pop:Y,print_on_web_bg_color:ne,print_secondary_on_web_bg_color:V}={}}={}){const j={theme:"flat",variables:{colorBackground:W||void 0,colorPrimary:K||void 0,colorPrimaryText:Y||void 0,colorText:ne||void 0,colorTextPlaceholder:V||void 0,colorTextSecondary:V||void 0}},te=U.elements({clientSecret:F,appearance:j,locale:window._preloads&&window._preloads.language||"auto"});return{elements:te,paymentElement:te.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:$,name:G,address:{country:Q}}},terms:{card:"never"}})}}class C extends t.Component{componentDidMount(){this.props.element&&this.props.element.mount(this.elementContainer)}componentDidUpdate(F){this.props.element&&!F.element&&this.props.element.mount(this.elementContainer)}componentWillUnmount(){if(this.props.element)try{this.props.element.unmount(this.elementContainer)}catch(F){}}render({className:F,element:$,isPaymentElement:G}){if(!(!$&&!G))return(0,t.h)("div",{className:s()("fancy-stripe",F,{"payment-element":G})},(0,t.h)("div",{ref:Q=>this.elementContainer=Q}))}}class L extends t.Component{constructor(F,$){if(super(F,$),F.stripe&&F.pub.stripe_country){(0,O.track)(O.EVENTS.APPLE_PAY_SETUP_STARTED);try{const G=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),Q=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:G});this.state={paymentRequest:G,stripeButton:Q}}catch(G){console.error(G),(0,O.track)(O.EVENTS.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return l(this,null,function*(){let F=!1;if(this.state.paymentRequest){try{const $=yield this.state.paymentRequest.canMakePayment();$&&$.applePay&&(F=!0)}catch($){console.error($)}(0,O.track)(O.EVENTS.APPLE_PAY_SETUP_FINISHED,{success:F})}yield this.setState({canMount:F}),F?(this.button||(yield new Promise($=>setTimeout($,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",$=>this.onTokenReceived($)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(F){let $=!1;for(const G of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(F[G]!==this.props[G]||G==="coupon"&&F[G]&&F[G].loading&&(!this.props[G]||!this.props[G].loading)){$=!0;break}$&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(F){}}onTokenReceived(F){return l(this,null,function*(){(0,O.track)(O.EVENTS.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:F.payerEmail,name:F.payerName,stripe_token:F.token}),F.complete("success"),(0,O.track)(O.EVENTS.APPLE_PAY_SUCCEEDED)}catch($){console.error("Apple Pay submission failed:",F,$),F.complete("fail"),(0,O.track)(O.EVENTS.APPLE_PAY_FAILED,{reason:$.message})}})}getPaymentTotal(){var F;const{pub:$,plan:G,quantity:Q,coupon:K,notRecurring:W,variableAmount:Y}=this.props;let ne=0,V=Math.max(0,G.trial_period_days||0,K&&!K.error&&!K.loading&&K.trial_period_days||0,$.trial_end_override&&Math.ceil(($.trial_end_override-Date.now()/1e3)/60/60/24));W&&(V=0);const te=(((F=G.metadata)==null?void 0:F.founding)&&Y||G.amount)*(Q||1);let ie=te;K&&!K.error&&!K.loading&&(K.percent_off?ie=Math.round(ie*(1-(K.percent_off_precise||K.percent_off)/100)):K.amount_off&&(ie=Math.max(0,ie-K.amount_off)),ie<=0&&(ie=te,K.duration==="once"?G.interval==="year"?ne+=12*G.interval_count:ne+=G.interval_count:K.duration==="repeating"&&(ne+=K.duration_in_months)));let ue;return W?ue="one-time":(ue=`${this.props.plan.interval}ly`,this.props.quantity>1&&(ue+=" per person"),ne?(V>15&&(ne+=parseInt(V/30)),ue+=` with ${ne}-month trial`):V&&(ue+=` with ${V}-day trial`)),{label:ue,amount:ie}}render({children:F,className:$,error:G},{canMount:Q}){if(!(typeof Q!="undefined"&&!Q&&typeof window!="undefined"))return(0,t.h)("div",{className:"apple-pay-parent-container"},Q?(0,t.h)("div",{className:`apple-pay-element ${$||""}`,ref:K=>this.button=K}):(0,t.h)("p",{className:`apple-pay-loader ${$||""}`},"Loading\u2026"),G&&(0,t.h)("div",{className:"error"},G),F)}}class S extends t.Component{render(F,$){var G=F,{children:Q,ref:K}=G,W=p(G,["children","ref"]);return(0,t.h)("div",{className:"fancy-input"},(0,t.h)("input",I({ref:Y=>this._input=Y},W)),Q)}blur(){this._input&&this._input.blur()}}class N extends Error{constructor(F){super(F),this.response={body:{error:this.message}}}}class R extends t.Component{constructor(F,$){super(F,$),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=a(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement||(this._stripeCardOrPaymentElement=w(this._stripe)),this._connectedStripe=v(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const F=[];if(this.base){const $=Array.from(this.base.getElementsByTagName("*"));for(const G of $)["INPUT","TEXTAREA","SELECT"].includes(G.nodeName)&&G.getAttribute("name")&&G.id!=="g-recaptcha-response"&&F.push(G)}return F}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const F of this.getInputs())F.blur&&F.blur(),F.type==="checkbox"?F.checked=!1:F.type==="select"?F.selectedIndex=-1:F.type==="radio"?F.checked=!1:F.target?F.target.value="":F.value=""}handleStripeChange({error:F}){F?this.setState({_stripeError:F.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",F=>this.handleStripeChange(F))}componentDidUpdate(F){const{country:$,email:G,name:Q,stripeClientSecret:K,themeVariables:W,useStripePaymentElement:Y,isPlatformCustomer:ne}=this.props;Y&&K!==F.stripeClientSecret&&(K?(this.setState({loading:!0}),{elements:this._stripeElements,paymentElement:this._stripeCardOrPaymentElement}=M(ne?this._stripe:this._connectedStripe,K,{email:G,name:Q,country:$,themeVariables:W}),this.setState({loading:!1})):F.stripeClientSecret&&(this._stripeCardOrPaymentElement.destroy(),this._stripeCardOrPaymentElement=null))}componentWillUnmount(){this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.destroy()}onInputBlur(F){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&F.target&&F.target.value&&!F.target._blurTracked&&((0,O.track)(`${this.props.analyticsName} Input Filled`,{name:F.target.name}),F.target._blurTracked=!0)}onPaymentRequestAttempt(F){return l(this,null,function*(){const $=yield this.handleSubmitAsync(null,F);if($)throw $})}handleSubmit(F){F&&F.preventDefault(),this.handleSubmitAsync(F).catch($=>{console.error($)})}handleSubmitAsync(F){return l(this,arguments,function*($,G={}){var Q,K;if($&&$.preventDefault(),this.props.analyticsName&&(0,O.track)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const W=this.props.method?this.props.method:"post";let Y=null;if(this.stripeElement&&!G.stripe_token&&!this.props.useStripePaymentElement){const{token:te,error:ie}=this._stripe?yield this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(te)Y=te;else{this.setState({loading:!1,_stripeError:ie&&ie.message}),this.props.analyticsName&&(console.log("error",ie),(0,O.track)(`${this.props.analyticsName} Missing Payment`,{type:ie&&ie.type,code:ie&&ie.code,decline_code:ie&&ie.decline_code,reason:ie&&ie.message}));return}}let ne={};for(const te of this.getInputs())te.blur&&te.blur(),te.type=="checkbox"?ne[te.name]=!!te.checked:te.type=="radio"?te.checked&&(ne[te.name]=te.value):te.type==="select"?ne[te.name]=te.options[te.selectedIndex].value:ne[te.name]=te.value;if(Object.keys(G).forEach(te=>{!ne[te]&&G[te]&&(ne[te]=G[te])}),Y&&(ne.stripe_token=Y),this.props.prepareData)try{const te=yield this.props.prepareData(ne,$);te&&(ne=te)}catch(te){throw this.setState({loading:!1}),te}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let V,j;try{if(this.props.performSubmit)this.props.useStripePaymentElement?V=yield this.props.performSubmit(ne,{confirmSetup:te=>(this.props.isPlatformCustomer?this._stripe:this._connectedStripe).confirmSetup({elements:this._stripeElements,redirect:"if_required",confirmParams:te})}):V=yield this.props.performSubmit(ne);else if(this.props.action){const te=P()[W](this.props.action);this.props.method&&this.props.method==="get"?V=yield te.query(ne):V=yield te.send(ne)}else this.props.onSubmit&&this.props.onSubmit(ne)}catch(te){j=te}if((Q=V==null?void 0:V.body)!=null&&Q.confirmPaymentUrl&&V.body.clientSecret&&this._connectedStripe){(0,O.track)(O.EVENTS.PAYMENT_CONFIRMATION_STARTED);const te=yield this._connectedStripe.confirmCardPayment(V.body.clientSecret);if(te.error){(0,O.track)(O.EVENTS.PAYMENT_CONFIRMATION_FAILED,{error:(K=te.error)==null?void 0:K.message});const ie={error:te.error.message||"Failed to confirm payment"};j={response:{body:ie,text:JSON.stringify(ie)}}}else(0,O.track)(O.EVENTS.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!j)this.props.onSuccess&&this.props.onSuccess(V,ne);else if(this.processErrors(j.response),this.props.onError&&this.props.onError(j),!j.response)throw j;return j})}processErrors(F){const $={},G=[];if(F&&F.body&&F.body.errors){const Q=this.getInputs();F.body.errors.forEach(K=>{this.props.noInlineErrors!==!0&&K.param&&Q.filter(W=>W.getAttribute("name")===K.param).length>0?$[K.param]?(console.log("Discarding repeated error"),console.log(K)):$[K.param]=K:G.push(K)})}else F&&F.body&&typeof F.body.error=="string"?G.push({msg:F.body.error}):G.push({msg:"Something went wrong"});this.setState({_paramErrors:$,_otherErrors:G}),this.props.analyticsName&&(0,O.track)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify($),otherErrors:JSON.stringify(G)})}render(F,$){const G=F.autoLock&&$.loading||F.loading;let Q=!1,K=!1;const W=Y=>{const ne=[];return(0,t.toChildArray)(Y).forEach(V=>{if(!V)return null;if((V.type===S||V.type==="input"||V.type==="textarea"||V.type==="select")&&V.props&&V.props.name){const j=V.props.name;if(ne.push((0,t.cloneElement)(V,{disabled:G||V.props.disabled,onChange:te=>{var ie,ue;const he=((ie=V.props)==null?void 0:ie.onChange)||((ue=V.props)==null?void 0:ue.onInput);he&&he(te),this.props.onChange&&this.props.onChange(te)},onInput:te=>{V.props&&V.props.onInput&&V.props.onInput(te),this.props.onInput&&this.props.onInput(te)},onBlur:te=>{this.onInputBlur(te),V.props&&V.props.onBlur&&V.props.onBlur(te)}})),$._paramErrors[j]&&!G){const te=$._paramErrors[j];te.msgHTML?ne.push((0,t.h)("div",{className:"error",name:j,dangerouslySetInnerHTML:{__html:te.msgHTML}})):ne.push((0,t.h)("div",{className:"error",name:j},te.msg||"Invalid"))}}else if(V.props&&V.props.type==="submit")ne.push((0,t.cloneElement)(V,{disabled:G||V.props.disabled,onClick:j=>{V.props&&V.props.onClick&&V.props.onClick(j)!==!1&&this.handleSubmit(j)}}));else if(V.props&&V.props.id==="error-container"){if($._otherErrors&&!G){const j=$._otherErrors.map(te=>te.msgHTML?(0,t.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:te.msgHTML}}):(0,t.h)("div",{className:"error other-error"},te.msg)).concat(V.props&&V.props.children?(0,t.toChildArray)(V.props.children):[]);ne.push((0,t.cloneElement)(V,{},j))}}else if(V.type===C){if(Q)throw new Error("Can only handle one stripe element");Q=!0,ne.push((0,t.cloneElement)(V,{ref:j=>{V.props&&V.props.ref&&V.props.ref(j),this.stripeElement=j},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement})),($._stripeError||!this._stripeCardOrPaymentElement)&&!G&&typeof window!="undefined"&&ne.push((0,t.h)("div",{className:s()("error",F.stripeErrorClassName),role:"alert"},$._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(V.type===L){if(K)throw new Error("Can only handle one stripe payment request button");K=!0,ne.push((0,t.cloneElement)(V,{ref:j=>{V.props&&V.props.ref&&V.props.ref(j),this.stripePaymentRequestButton=j},stripe:this._stripe,onSuccess:j=>(V.props&&V.props.onSuccess&&V.props.onSuccess(j),this.onPaymentRequestAttempt(j))}))}else V.props&&V.props.children?ne.push((0,t.cloneElement)(V,{},W(V.props.children))):ne.push(V)}),ne};return(0,t.h)("form",I({className:`form ${F.className||""}`,action:F.noJsAction||F.action,method:F.method&&["get","post"].includes(F.method.toLowerCase())&&F.method.toLowerCase()||"post",autoComplete:F.autoComplete,onSubmit:Y=>this.handleSubmit(Y),noValidate:!0},F.enctype&&{enctype:F.enctype}),W(F.children))}}},84420:(H,E,e)=>{"use strict";e.d(E,{Z:()=>ae});var t=e(6400),u=e(94184),s=e.n(u),g=e(7922),P=e(8925),y=e(28488),O=e(78515),c=e(3258),f=e(72496),d=e(17025),T=e(30396),D=e(5285),I=e(92271),p=e(51126),l=e(43887);const a={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},v=({emailSuggestions:le,currentEmail:oe,onAccept:ee,onReject:z})=>{const re=(0,d.isMobileBrowser)(),[se,fe]=(0,T.eJ)(!1),[Ee,ge]=(0,T.eJ)(null),be=(0,T.sO)(null),me=xe=>{fe(!1),(0,c.track)(c.EVENTS.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:oe,email_suggested:xe}),z&&z()},pe=le&&oe&&le[oe]&&le[oe]!=oe.trim(),Le=xe=>{fe(!1),(0,c.track)(c.EVENTS.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:oe,email_suggested:xe}),ee(xe)};(0,T.d4)(()=>{if(pe){const xe=le[oe];(0,c.track)(c.EVENTS.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:oe,email_suggested:xe}),ge(xe),fe(!0)}else fe(!1)},[pe,le,oe]);const{iString:je}=(0,y.M1)();return(0,t.h)("div",{className:a.animationWrapper},(0,t.h)(D.u,{show:se,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:be},(0,t.h)(p.hs,{className:a.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,t.h)(p.tu,{className:a.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,t.h)(l.xv,{translated:!0,size:16,font:"display",className:a.secondaryText},"Did you mean"," ",(0,t.h)(l.xv,{as:"span",weight:"semibold",className:a.primaryText},I18N.p(Ee||"")),"?"),(0,t.h)(p.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:a.buttonWrapper},(0,t.h)(I.z,{onClick:()=>Le(Ee),className:a.buttonFill,variant:"themed-primary"},je(re?"Yes":"Yes, Subscribe with correction")),(0,t.h)(I.z,{className:a.buttonFill,variant:"secondary",onClick:()=>me(Ee)},je("No")))))))};var w=e(23279),M=e.n(w),C=e(80569),L=e.n(C),S=e(83868),N=e.n(S),R=(le,oe,ee)=>new Promise((z,re)=>{var se=ge=>{try{Ee(ee.next(ge))}catch(be){re(be)}},fe=ge=>{try{Ee(ee.throw(ge))}catch(be){re(be)}},Ee=ge=>ge.done?z(ge.value):Promise.resolve(ge.value).then(se,fe);Ee((ee=ee.apply(le,oe)).next())});const U=(le,oe)=>R(void 0,null,function*(){const ee=yield L().get("/api/v1/check-email").query({email:le});oe([le,ee.body])}),F=M()((le,oe)=>R(void 0,null,function*(){yield U(le,oe)}),200),$=le=>R(void 0,null,function*(){return N()(le)?new Promise((oe,ee)=>{F(le,oe)}):[]});var G=e(52743),Q=e(83322);const K={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnWelcomePage:"frontend-components-free_email_form-module__emailInputOnWelcomePage--dlR6i",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",emailInputExpectTruncation:"frontend-components-free_email_form-module__emailInputExpectTruncation--feM6p",emailInputWrapper:"frontend-components-free_email_form-module__emailInputWrapper--BXNrb",emailInputWrapperExpectTruncation:"frontend-components-free_email_form-module__emailInputWrapperExpectTruncation--PrvaL",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var W=e(59009),Y=Object.defineProperty,ne=Object.defineProperties,V=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ue=(le,oe,ee)=>oe in le?Y(le,oe,{enumerable:!0,configurable:!0,writable:!0,value:ee}):le[oe]=ee,he=(le,oe)=>{for(var ee in oe||(oe={}))te.call(oe,ee)&&ue(le,ee,oe[ee]);if(j)for(var ee of j(oe))ie.call(oe,ee)&&ue(le,ee,oe[ee]);return le},Z=(le,oe)=>ne(le,V(oe)),J=(le,oe,ee)=>new Promise((z,re)=>{var se=ge=>{try{Ee(ee.next(ge))}catch(be){re(be)}},fe=ge=>{try{Ee(ee.throw(ge))}catch(be){re(be)}},Ee=ge=>ge.done?z(ge.value):Promise.resolve(ge.value).then(se,fe);Ee((ee=ee.apply(le,oe)).next())});class ae extends t.Component{constructor(oe){super(oe),this.handleEmailChange=()=>{const ee=this.emailInput.value;ee&&(this.setState({currentEmail:ee}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(ee))&&$(ee).then(z=>{const[re,se]=z;this.setState({emailSuggestions:Z(he({},this.state.emailSuggestions),{[re]:se})})}))},this._onSuccess=ee=>J(this,null,function*(){const{iTemplate:z}=this.context;ee.body.prompt_to_login||c.signup(),ee.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(ee):alert(z`Confirmation required: we sent an email to ${ee.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==ee.body.email&&(0,O.a)({freeSignupEmail:ee.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(ee))}),this.onSuccess=ee=>J(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,G.getQueryItem)("referralCode")?window.campaign.identify({email:ee.body.email},()=>this._onSuccess(ee)):yield this._onSuccess(ee)}),this.onAcceptSuggestion=ee=>{this.emailInput.value=ee,this.form.handleSubmit(null,!0)},this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return J(this,null,function*(){var oe;const{autoFocus:ee,disabled:z}=this.props;this.getPrefilledEmail()?this.emailInput.value=this.getPrefilledEmail():ee&&!(this.getPrefilledEmail()||z)&&!(0,d.isMobileBrowser)()&&((oe=this.emailInput)==null||oe.focus())})}onLoadingState(oe){this.setState({loading:oe,requires_confirmation:!1})}onError(oe){oe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(oe)}render({children:oe,className:ee,disabled:z,expectTruncation:re,isWelcomePageColor:se,loginRedirect:fe,next:Ee,onAccentBackground:ge,pub:be,referralCode:me,showLogin:pe,showTerms:Le,source:je,submitButtonText:xe,useSubscribeLink:ye,user:Me,utm_campaign:We,onMaybeLater:De,onPrepareData:Ge},{loading:pt,requires_confirmation:wt,currentEmail:Ht}){var nt,Ze,st,Ie,Pe,Ce;const Be=je==="treatment_bold_fade",Ve=((st=(Ze=(nt=(0,G.getQueryItem)("referring_pub_ids"))==null?void 0:nt.split)==null?void 0:Ze.call(nt,","))==null?void 0:st[0])||void 0,$e=((Ce=(Pe=(Ie=(0,G.getQueryItem)("referring_pub_ids"))==null?void 0:Ie.split)==null?void 0:Pe.call(Ie,","))==null?void 0:Ce.slice(1))||void 0,Qe=this.getPrefilledEmail(),{iString:ze,language:Ke}=this.context;return(0,t.h)("div",{className:K.container},(0,t.h)(P.ZP,{ref:lt=>this.form=lt,className:s()(ee,K.form),noInlineErrors:!0,action:(0,G.pathWithQuery)("/api/v1/free"),noJsAction:(0,G.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:lt=>{wt&&(lt.resend_confirmation=!0),Ge&&Ge(lt)},onChangeLoadingState:this.onLoadingState.bind(this),onError:lt=>this.onError(lt),onSuccess:lt=>this.onSuccess(lt),typoFound:lt=>this.setState({emailSuggestion:lt}),disableSubmit:ye},(0,t.h)("input",{type:"hidden",name:"first_url",value:f.xY}),(0,t.h)("input",{type:"hidden",name:"first_referrer",value:f.ip}),(0,t.h)("input",{type:"hidden",name:"current_url",value:f.UE}),(0,t.h)("input",{type:"hidden",name:"current_referrer",value:f.xU}),(0,t.h)("input",{type:"hidden",name:"referral_code",value:me}),(0,t.h)("input",{type:"hidden",name:"source",value:je}),(0,t.h)("input",{type:"hidden",name:"referring_pub_id",value:Ve}),(0,t.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:$e}),(0,t.h)("div",{className:K.sideBySideWrap},!!Qe&&(0,d.inputPrefillHack)(),(0,t.h)("div",{className:s()(K.emailInputWrapper,{[K.emailInputWrapperExpectTruncation]:re})},(0,t.h)("input",{className:s()("pencraft",K.emailInput,{[K.emailInputOnAccentBackground]:ge,[K.emailInputExpectTruncation]:re,[K.emailInputOnWelcomePage]:se}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:lt=>this.emailInput=lt,type:"email",name:Be?"email-pop":"email",readOnly:!!(this.getSavedEmail()||pt||z),disabled:!!(pt||z),placeholder:ze("Type your email..."),value:Ht||Qe||null})),(0,t.h)(g.Z,{className:s()("rightButton primary subscribe-btn",K.button,{pop:Be,[K.buttonOnAccentBackground]:ge}),type:"submit",disabled:!!(pt||z),onClick:lt=>{ye&&(location.href=(0,G.getSubscribeUrl)(be,{addBase:!0,user:Me,utm_source:W.UTM_SOURCE.substack,utm_medium:W.UTM_MEDIUM.web,utm_campaign:We,next:Ee}))}},(0,t.h)("span",{className:`button-text ${Be?"pop":""}`},xe||(0,Q.getSubscribeText)(be,{language:Ke})))),wt?(0,t.h)("div",null,(0,t.h)(l.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,t.h)("br",null),(0,t.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,t.h)("div",{id:"error-container"}),pe||Le||oe?(0,t.h)("div",{className:s()("subtle-help-text below-input",K.links)},pe&&(this.getSavedEmail()?(0,t.h)("a",{className:"login-button",href:(0,G.getSignoutUrl)({for_pub:be.subdomain}),native:!0},ze("Not you?")):(0,t.h)("a",{className:"login-button",href:(0,G.getSigninUrl)({for_pub:be.subdomain,redirect:fe}),native:!0},ze("Login"))),Le&&[(0,t.h)("a",{className:"legal",href:(0,G.getPublisherPrivacyUrl)({pub:be}),target:"_blank",native:!0},ze("Privacy")),(0,t.h)("a",{className:"legal",href:(0,G.getPublisherTermsUrl)({pub:be}),target:"_blank",native:!0},ze("Terms")),(0,t.h)("a",{className:"legal",href:(0,G.getInfoCollectionUrl)(),target:"_blank",native:!0},ze("Information collection notice"))],oe):null),(0,t.h)(v,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}ae.contextType=y.wj},86791:(H,E,e)=>{"use strict";e.d(E,{Z:()=>s});var t=e(30396);function u(g,P){(0,t.d4)(()=>{function y(c){const f=c.target;g.current&&!g.current.contains(f)&&P()}function O(c){(c.key==="Escape"||c.keyCode===27)&&P()}return document.addEventListener("mousedown",y),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",O)}},[g,P])}const s=u},45634:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{name:v,children:w}=a,M=D(a,["name","children"]);return(0,t.h)(u.l,T(d({},M),{name:v,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),w)}},32127:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,t.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,t.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},97737:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}))},1782:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,t.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,t.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{fill:v="#1C110B"}=a,w=D(a,["fill"]);return(0,t.h)(u.l,T(d({},w),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:v}}),(0,t.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},26059:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,t.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},32673:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,t.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,t.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}))},46595:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,t.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,t.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,t.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,t.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},40946:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,t.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M16 18.5V8.5",stroke:p.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}))},71765:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,t.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},14846:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}))},36377:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,t.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,t.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,t.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,t.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,t.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},54813:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,t.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,t.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,t.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},64484:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,t.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,t.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,t.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},11851:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{color:v="#262626"}=a,w=D(a,["color"]);return(0,t.h)(u.l,T(d({},w),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,t.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:v}),(0,t.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:v,stroke:v}))}},15440:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(13808),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?g(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>P(l,y(a));function I(l){return(0,t.h)(s.l,D(T({},l),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(u.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))}const p=I},63295:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(7617),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?g(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>P(l,y(a));const p=l=>(0,t.h)(s.l,D(T({},l),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(u.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},92604:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(84146),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?g(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>P(l,y(a));const p=l=>(0,t.h)(s.l,D(T({},l),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(u.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},12650:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(8618),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?g(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>P(l,y(a));const p=l=>(0,t.h)(s.l,D(T({},l),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(u.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},43498:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(4675),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?g(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>P(l,y(a));const p=l=>(0,t.h)(s.l,D(T({},l),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(u.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},11628:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":p.strokeWidth,fill:p.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},31517:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,t.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,t.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,t.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},70073:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{color:v="white"}=a,w=D(a,["color"]);return(0,t.h)(u.l,T(d({},w),{name:"PhoneOutline",svgParams:{height:24,width:24,stroke:v,fill:"none"}}),(0,t.h)("path",{d:"M16.7778 2.3877H8.22222C7.54721 2.3877 7 3.28313 7 4.3877V18.3877C7 19.4923 7.54721 20.3877 8.22222 20.3877H16.7778C17.4528 20.3877 18 19.4923 18 18.3877V4.3877C18 3.28313 17.4528 2.3877 16.7778 2.3877Z"}))}},11762:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,t.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,t.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,t.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},93830:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,t.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}))},97864:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,t.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}))},48093:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{fill:v="white"}=a,w=D(a,["fill"]);return(0,t.h)(u.l,T(d({},w),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:v}}),(0,t.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,t.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))}},27247:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{color:v="white"}=a,w=D(a,["color"]);return(0,t.h)(u.l,T(d({},w),{name:"RoundedSquareOutline",svgParams:{height:24,width:24,stroke:v,fill:"none"}}),(0,t.h)("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"}))}},32823:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{strokeWidth:v=1.5}=a,w=D(a,["strokeWidth"]);return(0,t.h)(u.l,T(d({},w),{strokeWidth:v,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,t.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))}},7775:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},68227:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,t.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325807"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,t.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,t.h)("defs",null,(0,t.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,t.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,t.h)("linearGradient",{id:"c"},(0,t.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,t.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,t.h)("linearGradient",{id:"a"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,t.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,t.h)("clipPath",{id:"clipCircle"},(0,t.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,t.h)("g",null),(0,t.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,t.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,t.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,t.h)("stop",{"stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,t.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,t.h)("clipPath",{id:"clip0_23936_14598"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325810"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},15516:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l});var t=e(6400),u=e(22850),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(a,v,w)=>v in a?g(a,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):a[v]=w,T=(a,v)=>{for(var w in v||(v={}))c.call(v,w)&&d(a,w,v[w]);if(O)for(var w of O(v))f.call(v,w)&&d(a,w,v[w]);return a},D=(a,v)=>P(a,y(v)),I=(a,v)=>{var w={};for(var M in a)c.call(a,M)&&v.indexOf(M)<0&&(w[M]=a[M]);if(a!=null&&O)for(var M of O(a))v.indexOf(M)<0&&f.call(a,M)&&(w[M]=a[M]);return w};const l=a=>{var v=a,{svgParams:w}=v,M=I(v,["svgParams"]);return(0,t.h)(s.l,D(T({},M),{name:"SubstackIcon",svgParams:T({height:1e3,width:1e3,fill:u.Hu,stroke:"none"},w)}),(0,t.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,t.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,t.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))}},33705:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l});var t=e(6400),u=e(22850),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(a,v,w)=>v in a?g(a,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):a[v]=w,T=(a,v)=>{for(var w in v||(v={}))c.call(v,w)&&d(a,w,v[w]);if(O)for(var w of O(v))f.call(v,w)&&d(a,w,v[w]);return a},D=(a,v)=>P(a,y(v)),I=(a,v)=>{var w={};for(var M in a)c.call(a,M)&&v.indexOf(M)<0&&(w[M]=a[M]);if(a!=null&&O)for(var M of O(a))v.indexOf(M)<0&&f.call(a,M)&&(w[M]=a[M]);return w};const l=a=>{var v=a,{color:w=u.Hu}=v,M=I(v,["color"]);return(0,t.h)(s.l,D(T({},M),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:w,stroke:"none"}}),(0,t.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,t.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,t.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,t.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,t.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,t.h)("path",{d:"M16 0H0V2H16V0Z"}))},51736:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(l,a,v)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,d=(l,a)=>{for(var v in a||(a={}))O.call(a,v)&&f(l,v,a[v]);if(y)for(var v of y(a))c.call(a,v)&&f(l,v,a[v]);return l},T=(l,a)=>g(l,P(a)),D=(l,a)=>{var v={};for(var w in l)O.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&y)for(var w of y(l))a.indexOf(w)<0&&c.call(l,w)&&(v[w]=l[w]);return v};const p=l=>{var a=l,{fill:v="#FF6719"}=a,w=D(a,["fill"]);return(0,t.h)(u.l,T(d({},w),{fill:v,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:v,stroke:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(H,E,e)=>{"use strict";e.d(E,{Z:()=>I});var t=e(6400),u=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?s(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>g(p,P(l));const I=p=>(0,t.h)(u.l,T(d({},p),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},34755:(H,E,e)=>{"use strict";e.d(E,{l:()=>T});var t=e(6400),u=e(52743),s=e(25702),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(D,I,p)=>I in D?g(D,I,{enumerable:!0,configurable:!0,writable:!0,value:p}):D[I]=p,f=(D,I)=>{for(var p in I||(I={}))y.call(I,p)&&c(D,p,I[p]);if(P)for(var p of P(I))O.call(I,p)&&c(D,p,I[p]);return D},d=(D,I)=>{var p={};for(var l in D)y.call(D,l)&&I.indexOf(l)<0&&(p[l]=D[l]);if(D!=null&&P)for(var l of P(D))I.indexOf(l)<0&&O.call(D,l)&&(p[l]=D[l]);return p};const T=D=>{var I=D,{name:p,svgParams:l,isStatic:a,height:v,fill:w,stroke:M,version:C=4,strokeWidth:L=1.8,strokeLinecap:S,strokeLinejoin:N,alt:R,additionalStaticParams:U={},children:F}=I,$=d(I,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const G=v?(l.width||1)*v/(l.height||1):l.width||1,Q=v||l.height||1;return a?(0,t.h)(s.Z,f(f({src:(0,u.imginary)((0,u.pathWithQuery)(`/icon/${p}`,{v:C||4,height:Q*2,fill:w,stroke:M,strokeWidth:L*2,strokeLinecap:S,strokeLinejoin:N}),G*2,{format:"png",crop:"scale"}),width:G,height:Q,style:{maxWidth:`${G}px`},alt:R||""},U),$)):(0,t.h)("svg",f({role:"img",style:v?{height:`${Q}px`,width:`${G}px`}:void 0,width:G,height:Q,viewBox:l.viewBox||`0 0 ${l.width} ${l.height}`,fill:w||l.fill||"none",strokeWidth:L||typeof L=="number"?Number(L):typeof l.strokeWidth=="number"?l.strokeWidth:1,stroke:M||l.stroke||"#000",strokeLinecap:S,strokeLinejoin:N,xmlns:"http://www.w3.org/2000/svg"},$),(0,t.h)("g",null,(0,t.h)("title",null,R||""),F))}},25702:(H,E,e)=>{"use strict";e.d(E,{Z:()=>D});var t=e(6400),u=e(30396),s=e(46505),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(I,p,l)=>p in I?g(I,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):I[p]=l,f=(I,p)=>{for(var l in p||(p={}))y.call(p,l)&&c(I,l,p[l]);if(P)for(var l of P(p))O.call(p,l)&&c(I,l,p[l]);return I},d=(I,p)=>{var l={};for(var a in I)y.call(I,a)&&p.indexOf(a)<0&&(l[a]=I[a]);if(I!=null&&P)for(var a of P(I))p.indexOf(a)<0&&O.call(I,a)&&(l[a]=I[a]);return l};const D=I=>{const p=I,{ampProps:l}=p,a=d(p,["ampProps"]);return(0,u.qp)(s.E).isAmp?(0,t.h)("amp-img",f(f({},l),a)):(0,t.h)("img",f({},a))}},49786:(H,E,e)=>{"use strict";e.d(E,{hF:()=>Y,_q:()=>K,xt:()=>W,G0:()=>G,RH:()=>Q});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(36808),y=e(65578),O=e(59009),c=e(85928),f=e.n(c),d=e(20501),T=e(83322),D=e(63270),I=e(3258),p=e(36868),l=e(17025),a=e(84040),v=e(51126),w=e(62246),M=e(43887);const C={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var L=Object.defineProperty,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(ne,V,j)=>V in ne?L(ne,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):ne[V]=j,F=(ne,V)=>{for(var j in V||(V={}))N.call(V,j)&&U(ne,j,V[j]);if(S)for(var j of S(V))R.call(V,j)&&U(ne,j,V[j]);return ne};const $="like_upsell_last_shown_at",G=()=>{const ne=P.get($);if(ne){const V=f()(ne),j=f()().subtract(30,"days");if(V.isAfter(j))return!1}return!0},Q=ne=>{P.set($,f()().format(),F({expires:365*10},!ne.custom_domain&&{domain:`.${new URL((0,d.getBaseUrl)()).hostname}`}))},K=({pub:ne})=>{var V,j;const te=(0,D.xR)(),[ie,ue]=(0,u.eJ)((V=ne==null?void 0:ne.plans)==null?void 0:V[0]),he=te.getConfigFor("disable_monthly_subscriptions"),Z=te.getConfigFor("disable_annual_subscriptions");return(0,t.h)(v.tu,{gap:20},(0,t.h)(v.tu,{gap:4},(0,t.h)(M.xv.H4,{weight:"semibold"},"Support ",ne.name),(0,t.h)(M.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",ne.name," with a subscription?")),(0,t.h)("form",{className:C.form},(0,t.h)(v.tu,{gap:12},(j=ne==null?void 0:ne.plans)==null?void 0:j.map(J=>{if(!(J.interval==="month"&&he)&&!(J.interval==="year"&&Z))return(0,t.h)("label",{className:C.label,key:J.id},(0,t.h)(v.gq,{gap:12,alignItems:"center"},(0,t.h)("input",{name:"plan",type:"radio",value:J.id,onInput:()=>ue(J),checked:ie&&ie.id===J.id,className:g()({[C.selectedInput]:ie&&ie.id===J.id},C.input)}),(0,t.h)(v.gq,{gap:8},(0,t.h)(M.xv.B4,{as:"span",weight:"semibold",color:ie&&ie.id===J.id?"primary":"secondary"},(0,T.getPlanTitle)(J,ne.language)),(0,t.h)(M.xv.B4,{as:"span",color:"secondary"},(0,T.planBasePricing)(J)))))}))),(0,t.h)(a.zx,{onClick:()=>{(0,I.track)(I.EVENTS.LIKE_UPSELL_PLAN_SELECTED),(0,l.redirect)((0,d.getSubscribeUrl)(ne,{params:F({utm_source:O.UTM_SOURCE.likeButtonUpsell},ie&&{selectedPlanId:ie.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},W=({pub:ne,onClose:V,shareDialogRef:j})=>(0,t.h)(v.tu,{gap:20},(0,t.h)(v.tu,{gap:4},(0,t.h)(M.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,t.h)(M.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,t.h)(a.zx,{onClick:()=>{var te;(0,I.track)(I.EVENTS.LIKE_UPSELL_SHARE_CLICKED),(te=j.current)==null||te.open(),V==null||V()},grow:!0,priority:"primary-theme"},"Share")),Y=({user:ne,pub:V,post:j})=>{const te=(0,u.sO)(),ie=G(),[ue,he]=(0,u.eJ)(ie),[Z,J]=(0,u.eJ)(ie);(0,u.d4)(()=>{(!ie||ne!=null&&ne.is_contributor||ne!=null&&ne.is_admin)&&(0,l.removeQueryParam)("show_reaction_upsell")},[ie,ne]),(0,u.d4)(()=>{Z&&ue&&((0,I.track)(I.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,p.P)(ne,V)?"share":"paid"}),Q(V))},[Z,ue,V,ne]);const ae=()=>{he(!ue),J(!1),(0,l.removeQueryParam)("show_reaction_upsell")};return ne&&!ne.is_contributor&&!ne.is_admin&&Z?(0,t.h)(t.Fragment,null,(0,t.h)(w.u_,{isOpen:ue,onClose:ae},(0,t.h)(w.fe,null,(0,p.P)(ne,V)?(0,t.h)(W,{pub:V,onClose:ae,shareDialogRef:te}):(0,t.h)(K,{pub:V}))),(0,t.h)(y.ZP,{ref:te,user:ne,pub:V,post:j})):null}},65726:(H,E,e)=>{"use strict";e.d(E,{Z:()=>d});var t=e(6400),u=Object.defineProperty,s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(T,D,I)=>D in T?u(T,D,{enumerable:!0,configurable:!0,writable:!0,value:I}):T[D]=I,O=(T,D)=>{for(var I in D||(D={}))g.call(D,I)&&y(T,I,D[I]);if(s)for(var I of s(D))P.call(D,I)&&y(T,I,D[I]);return T},c=(T,D)=>{var I={};for(var p in T)g.call(T,p)&&D.indexOf(p)<0&&(I[p]=T[p]);if(T!=null&&s)for(var p of s(T))D.indexOf(p)<0&&P.call(T,p)&&(I[p]=T[p]);return I};const d=T=>{var D=T,{children:I,href:p,onClick:l}=D,a=c(D,["children","href","onClick"]);return(0,t.h)("a",O(O({role:"button",tabIndex:0,href:p!=null?p:"javascript:void(0)"},l&&{onClick:v=>{v.stopPropagation(),l(v)}}),a),I)}},86602:(H,E,e)=>{"use strict";e.r(E),e.d(E,{chatMentionsSearch:()=>R,default:()=>C,mentionsSearch:()=>S});var t=e(6400),u=e(80569),s=e.n(u),g=e(20501),P=e(92643),y=e(44695),O=e(80332);const c={mention:"frontend-components-mention-module__mention--UisMf"};var f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(U,F,$)=>F in U?f(U,F,{enumerable:!0,configurable:!0,writable:!0,value:$}):U[F]=$,a=(U,F)=>{for(var $ in F||(F={}))I.call(F,$)&&l(U,$,F[$]);if(D)for(var $ of D(F))p.call(F,$)&&l(U,$,F[$]);return U},v=(U,F)=>d(U,T(F)),w=(U,F,$)=>new Promise((G,Q)=>{var K=ne=>{try{Y($.next(ne))}catch(V){Q(V)}},W=ne=>{try{Y($.throw(ne))}catch(V){Q(V)}},Y=ne=>ne.done?G(ne.value):Promise.resolve(ne.value).then(K,W);Y(($=$.apply(U,F)).next())});const C=({id:U,type:F,name:$,url:G,photo_url:Q,uuid:K,mentionText:W,isStatic:Y=!1,isEditorContext:ne=!1})=>{if(Y)return(0,t.h)("span",{className:c.mention,"data-component-name":"MentionStatic"},(0,t.h)("a",{href:(0,g.getMentionsUrl)(F,U,$,G)},$||"Substack user"));if(F==="user"){const V={id:U,name:$||"Substack user",photo_url:Q};return(0,t.h)(P.am,null,(0,t.h)(O.ProfileHoverCard,{subject:V,utmSource:"mention"},(0,t.h)("a",{className:c.mention,href:ne?void 0:(0,g.getMentionsUrl)(F,U,$,G),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:$,id:U,type:F,url:G,photo_url:Q,uuid:K}),onClick:j=>j.stopPropagation(),"data-component-name":"MentionUser"},W!=null?W:$)))}return F==="pub"?(0,t.h)(y.Sm,{publication_id:U,utmSource:"mention"},(0,t.h)("a",{className:c.mention,href:G,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:$,id:U,type:F,url:ne?void 0:(0,g.getMentionsUrl)(F,U,$,G),uuid:K}),onClick:V=>V.stopPropagation(),"data-component-name":"MentionPub"},W!=null?W:$)):(0,t.h)("a",{className:c.mention,target:"_blank",rel:"noopener",href:(0,g.getMentionsUrl)(F,U,$,G),"data-attrs":JSON.stringify({name:$,id:U,type:F,url:G,photo_url:Q,uuid:K}),"data-component-name":"Mention"},W!=null?W:$)},L={},S=(U,...F)=>w(void 0,[U,...F],function*($,{pathname:G="/api/v1/posts/mention"}={}){if(L[$])return L[$];const Q=yield s().get(G).query({query:$}),{profiles:K,publications:W}=Q.body,Y=new Map;return K&&K.length&&Y.set("Writers",K.map(ne=>v(a({},ne),{type:"user"}))),W&&W.length&&Y.set("Publications",W==null?void 0:W.map(ne=>v(a({},ne),{type:"pub",url:(0,g.getPublicationAppLinkUrl)({subdomain:ne.subdomain}),photo_url:ne.logo_url}))),L[$]=Y,Y}),N={},R=(U,...F)=>w(void 0,[U,...F],function*($,{pathname:G="/api/v1/community/mention"}={}){const Q=`${G}-${$}`;if(N[Q])return N[Q];const K=yield s().get(G).query({query:$}),{results:W}=K.body,Y=new Map;return W&&Y.set("Writers",W.map(ne=>v(a({},ne),{type:"user",id:ne.user_id}))),N[Q]=Y,Y})},63397:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l,p:()=>a});var t=e(6400),u=e(94184),s=e.n(u),g=e(71375),P=e(17025),y=e.n(P),O=e(84040),c=Object.defineProperty,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(v,w,M)=>w in v?c(v,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):v[w]=M,I=(v,w)=>{for(var M in w||(w={}))d.call(w,M)&&D(v,M,w[M]);if(f)for(var M of f(w))T.call(w,M)&&D(v,M,w[M]);return v},p=(v,w,M)=>new Promise((C,L)=>{var S=U=>{try{R(M.next(U))}catch(F){L(F)}},N=U=>{try{R(M.throw(U))}catch(F){L(F)}},R=U=>U.done?C(U.value):Promise.resolve(U.value).then(S,N);R((M=M.apply(v,w)).next())});class l extends t.Component{constructor(w,M){super(w,M),this.onDocumentKeyDown=C=>{C.key==="Escape"&&!this.props.noExit&&!(0,P.isFocused)(this.base)&&this.close()},this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(w){w&&(this._callback=w);const M=document.getElementsByTagName("html")[0];(0,P.hasClass)(M,"modal-in")||(0,P.addClass)(M,"modal-in"),this.setState({display:!0,open:!0})}open(w){return p(this,null,function*(){w&&(this._callback=w);const M=document.getElementsByTagName("html")[0];(0,P.hasClass)(M,"modal-in")||(0,P.addClass)(M,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(C=>{this.setState({display:!0},()=>{this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),C()})},50)})})})}close(w){return p(this,null,function*(){this.isOpen()&&this.onBeforeClose(w)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(w)===!1||((0,P.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(M=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(w),this.props.onClose&&this.props.onClose(w),this._callback&&this._callback(w),M()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(w){var M,C;w.stopPropagation(),(C=(M=this.props).onClick)==null||C.call(M,w),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&w.target&&this.container&&this.close()}onClickInner(w){var M,C;w.stopPropagation(),(C=(M=this.props).onClick)==null||C.call(M,w)}render(){const w=this.state.open?"in":"out",M=this.state.display===!1?"gone":"",C=this.props.variant==="structured",L=!this.state.open;return(0,t.h)("div",{className:s()("modal typography",w,M,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":C,popup:this.popup}),inert:L,onClick:S=>this.onClickOuter(S),"data-testid":this.props.testID,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{ref:S=>this.content=S,className:s()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,t.h)("div",I({className:s()({container:!C}),ref:S=>this.container=S,onClick:S=>this.onClickInner(S)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,P.isMobileBrowser)())&&(C?(0,t.h)("div",{className:"structured-modal__close-button"},(0,t.h)(O.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,t.h)(g.Z,{size:20,color:"secondary"}))):(0,t.h)(O.hU,{"data-testid":"close-modal",className:s()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,t.h)(g.Z,{size:20,color:"secondary"}))),C?(0,t.h)("div",{className:"structured-modal__wrapper"},(0,t.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,t.h)("h3",null,this.props.modalTitle):(0,t.h)("h3",null,"\xA0")),(0,t.h)("div",{className:"structured-modal__body"},(0,t.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,t.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:w},M){return w}}class a extends l{constructor(w,M){super(w,M),this.popup=!0}}},80012:(H,E,e)=>{"use strict";e.d(E,{l:()=>M,y:()=>w});var t=e(6400),u=e(30396),s=e(50308),g=e.n(s),P=e(80569),y=e.n(P),O=e(39776),c=e(52743),f=e(83322),d=e(3258),T=e(17025),D=e.n(T),I=e(44454),p=e(46595),l=e(22702),a=e(65726),v=(C,L,S)=>new Promise((N,R)=>{var U=G=>{try{$(S.next(G))}catch(Q){R(Q)}},F=G=>{try{$(S.throw(G))}catch(Q){R(Q)}},$=G=>G.done?N(G.value):Promise.resolve(G.value).then(U,F);$((S=S.apply(C,L)).next())});class w extends t.Component{constructor(){super(...arguments),this.toggleTopExclusion=L=>(0,T.stateTransaction)(this,(S,N)=>v(this,[S,N],function*(R,{post:U,onChange:F}){if(R.topExcluding)return;this.setState({topExcluding:L.id});const $=U.top_exclusions.includes(L.id),G=`/api/v1/publication/${L.id}/exclusion/${U.id}`;try{$?(yield y().del(G),U.top_exclusions.splice(0)):(yield y().post(G),U.top_exclusions.splice(0),U.top_exclusions.push(L.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(Q){console.error("Failed to exclude post:",Q),alert((0,T.getNetworkErrorMessage)(Q));return}finally{this.setState({topExcluding:null})}F&&(yield F({post:U}))})),this.toggleSectionPin=(L,S)=>(0,T.stateTransaction)(this,(N,R)=>v(this,[N,R],function*(U,{post:F,onChange:$}){if(U.pinning)return;this.setState({sectionPinning:S});const G=`/api/v1/publication/${L.id}/section/${S}/pin/${F.id}`;try{F.is_section_pinned?(yield y().del(G),F.is_section_pinned=!1):(yield y().post(G),F.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(Q){console.error("Failed to pin post:",Q),alert((0,T.getNetworkErrorMessage)(Q));return}finally{this.setState({sectionPinning:null})}$&&(yield $({post:F}))})),this.togglePin=L=>(0,T.stateTransaction)(this,(S,N)=>v(this,[S,N],function*(R,{post:U,onChange:F}){if(R.pinning)return;this.setState({pinning:L.id});const $=U.pins.includes(L.id),G=`/api/v1/publication/${L.id}/pin/${U.id}`;try{$?(yield y().del(G),U.pins.splice(U.pins.indexOf(L.id),1)):(yield y().post(G),L.multiple_pins||U.pins.splice(0),U.pins.push(L.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(Q){console.error("Failed to pin post:",Q),alert((0,T.getNetworkErrorMessage)(Q));return}finally{this.setState({pinning:null})}F&&(yield F({post:U}))})),this.sendEmail=()=>v(this,null,function*(){const{post:L}=this.props,S={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[L.audience];if(!confirm(`Send this published post as an email to ${S}?`))return;const N=`/api/v1/drafts/${L.id}/publish`;try{yield y().post(N).send({send:!0,only_send:!0}),location.reload()}catch(R){console.error("Failed to send post:",R),alert((0,T.getNetworkErrorMessage)(R))}}),this.clearCache=()=>v(this,null,function*(){const{post:L}=this.props;try{yield y().put(`/api/v1/posts/${L.id}/clear_cache`),location.reload()}catch(S){console.error("Failed to clear post from cache"),alert((0,T.getNetworkErrorMessage)(S))}}),this.duplicatePost=()=>v(this,null,function*(){this.setState({duplicating:!0});const{pub:L,post:S}=this.props;try{const N=yield y().post(`/api/v1/posts/${S.id}/duplicate`);(0,T.redirect)((0,c.getEditPostUrlById)(L,N.body.id,N.body.editor_v2),{local_navigation:!1})}catch(N){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,T.getNetworkErrorMessage)(N))}})}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:L,post:S,hidePinning:N,user:R,emailSent:U,allowSendEmail:F,className:$,useDrawerOnMobile:G,handleCrossPost:Q,onToggleMenu:K},{pinning:W,sectionPinning:Y,topExcluding:ne,duplicating:V}){let j=null;S.section_id&&L.sections&&L.sections.length&&(j=L.sections.find(ie=>ie.id===S.section_id));const te=!!(0,O.default)("enable_post_summarization");return(0,t.h)(I.ZP,{attachOnActive:!0,ref:ie=>this.editMenu=ie,className:$,useDrawerOnMobile:G,onToggle:K},(0,t.h)(a.Z,{href:(0,c.getPostUrl)(L,S,{edit:!0}),onClick:g()},"Edit post"),!N&&S.slug&&[(0,f.isPinnable)(L)&&S.section_id&&(S.section_name||(j==null?void 0:j.name))&&(0,t.h)(a.Z,{onClick:()=>this.toggleSectionPin(L,S.section_id)},[S.is_section_pinned^Y===S.section_id?"Unpin from":"Pin on",` ${S.section_name||(j==null?void 0:j.name)}`]),(0,f.isPinnable)(L)&&(0,t.h)(a.Z,{onClick:()=>this.togglePin(L)},[S.pins.includes(L.id)^W===L.id?"Unpin from":"Pin on",j?` ${L.name}`:" homepage"])],S.slug&&S.type!=="adhoc_email"&&[(0,t.h)(a.Z,{onClick:()=>this.toggleTopExclusion(L)},[S.top_exclusions.includes(L.id)^ne===L.id?"Include in":"Exclude from"," Top"])],(0,t.h)(a.Z,{disabled:V,onClick:()=>this.duplicatePost()},V?"Duplicating":"Duplicate"," to drafts"),!U&&F&&S.is_published&&(0,t.h)(a.Z,{onClick:()=>this.sendEmail()},"Send as email"),(R==null?void 0:R.is_global_admin)&&(0,t.h)(a.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(R==null?void 0:R.is_global_admin)&&(0,t.h)(a.Z,{href:`${(0,c.getBaseUrl)({subdomain:"admin"})}/posts/${S.id}`},"View post in admin"),(0,t.h)(a.Z,{onClick:()=>{window.open((0,c.getPostDetailsShareCenterUrl)(L,S.id))}},"View shareable images"),!!(te&&this.props.onSummaryOpen)&&(0,t.h)(a.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),Q&&(0,t.h)(a.Z,{onClick:Q},"Cross post"))}}w.state={duplicating:!1};function M({pub:C,post:L,iconHeight:S,hidePinning:N,user:R,emailSent:U,allowSendEmail:F,showUpdatedIcons:$,dropdownClassName:G,iconClassName:Q}){const K=(0,u.sO)();return(0,t.h)(t.Fragment,null,(0,t.h)(a.Z,{onClick:()=>{K.current.isOpen()||(0,d.track)(d.EVENTS.EDIT_POST_DROPDOWN_MENU_OPENED),K.current.toggle()}},$?(0,t.h)(l.Z,{stroke:"#262626",height:S,className:Q}):(0,t.h)(p.Z,{stroke:"#757575",height:S,className:Q})),(0,t.h)(w,{ref:K,pub:C,post:L,hidePinning:N,user:R,emailSent:U,allowSendEmail:F,className:G}))}},31058:(H,E,e)=>{"use strict";e.d(E,{PA:()=>Mr,mt:()=>gn,_2:()=>zr,Mp:()=>ka,L9:()=>Ba,RY:()=>ca,pD:()=>Oa,yT:()=>ci,Ng:()=>Qn,fh:()=>Wo,Su:()=>Xr,TJ:()=>Uo,z5:()=>Co,Er:()=>Wn,Cz:()=>to,F6:()=>Vn,sV:()=>hn,vk:()=>go,c1:()=>So});var t=e(6400),u=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(12297),O=e.n(y),c=e(23493),f=e.n(c),d=e(80587),T=e(77951),D=e(95951),I=e(65207),p=e(13808),l=e(18794),a=e(8618),v=e(31131),w=e(67358),M=e(80569),C=e.n(M),L=e(66298),S=e(34755),N=Object.defineProperty,R=Object.defineProperties,U=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,Q=(at,ct,mt)=>ct in at?N(at,ct,{enumerable:!0,configurable:!0,writable:!0,value:mt}):at[ct]=mt,K=(at,ct)=>{for(var mt in ct||(ct={}))$.call(ct,mt)&&Q(at,mt,ct[mt]);if(F)for(var mt of F(ct))G.call(ct,mt)&&Q(at,mt,ct[mt]);return at},W=(at,ct)=>R(at,U(ct));const ne=at=>(0,t.h)(S.l,W(K({},at),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,t.h)(L.Z,{height:24,stroke:at.stroke,fill:at.fill,strokeWidth:at.strokeWidth}));var V=e(55489),j=e(65578),te=e(17087),ie=e(59009),ue=e(82626),he=e(85928),Z=e.n(he),J=e(6385),ae=e(91613),le=e(52743),oe=e(20501),ee=e(83322),z=e(2405),re=e(28488),se=e(85065),fe=e(32076),Ee=e(63270),ge=e(18597),be=e(52273),me=e(3258),pe=e(8479),Le=e(35225),je=e(36868),xe=e(17025),ye=e(84040),Me=e(51126),We=e(43028),De=e(62246),Ge=e(43887),pt=e(75425),wt=e(16742),Ht=e(25597),nt=e(3323),Ze=e(44454),st=e(45634),Ie=Object.defineProperty,Pe=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Qe=(at,ct,mt)=>ct in at?Ie(at,ct,{enumerable:!0,configurable:!0,writable:!0,value:mt}):at[ct]=mt,ze=(at,ct)=>{for(var mt in ct||(ct={}))Ve.call(ct,mt)&&Qe(at,mt,ct[mt]);if(Be)for(var mt of Be(ct))$e.call(ct,mt)&&Qe(at,mt,ct[mt]);return at},Ke=(at,ct)=>Pe(at,Ce(ct));const vt=at=>(0,t.h)(st.Z,Ke(ze({},at),{name:"ActivationUsersIcon"}),(0,t.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));var Pt=e(15440),Wt=e(63295),Ut=e(12650),jt=e(43498),Vt=e(11628),lr=Object.defineProperty,Jt=Object.defineProperties,or=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,Or=(at,ct,mt)=>ct in at?lr(at,ct,{enumerable:!0,configurable:!0,writable:!0,value:mt}):at[ct]=mt,wr=(at,ct)=>{for(var mt in ct||(ct={}))gr.call(ct,mt)&&Or(at,mt,ct[mt]);if(Et)for(var mt of Et(ct))Dr.call(ct,mt)&&Or(at,mt,ct[mt]);return at},br=(at,ct)=>Jt(at,or(ct));const jr=at=>(0,t.h)(S.l,br(wr({},at),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,t.h)(v.Z,{height:24,stroke:at.stroke,fill:at.fill,strokeWidth:at.strokeWidth}));var Ur=e(31517),Er=e(11762),Ir=e(49786),Kr=e(80012),rn=e(80332),En=e(91801),Pn=e(13045),an=e(96427),Fn=e(39493),In=e(71943);const _n={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var jn=Object.defineProperty,xt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,Xe=(at,ct,mt)=>ct in at?jn(at,ct,{enumerable:!0,configurable:!0,writable:!0,value:mt}):at[ct]=mt,ot=(at,ct)=>{for(var mt in ct||(ct={}))Rt.call(ct,mt)&&Xe(at,mt,ct[mt]);if(xt)for(var mt of xt(ct))Zt.call(ct,mt)&&Xe(at,mt,ct[mt]);return at},Ue=(at,ct,mt)=>new Promise((Yt,ir)=>{var vr=Sr=>{try{sr(mt.next(Sr))}catch(Cr){ir(Cr)}},Pr=Sr=>{try{sr(mt.throw(Sr))}catch(Cr){ir(Cr)}},sr=Sr=>Sr.done?Yt(Sr.value):Promise.resolve(Sr.value).then(vr,Pr);sr((mt=mt.apply(at,ct)).next())});const tt={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},ft={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},Ct={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},yt=({pub:at,post:ct,user:mt,open:Yt,setOpen:ir,placeholderText:vr=""})=>{const Pr=Z()().add(2,"minutes"),[sr,Sr]=(0,s.eJ)(null),[Cr,Yr]=(0,s.eJ)(vr),[Gr,Vr]=(0,s.eJ)(!1),[nn,vn]=(0,s.eJ)(!0),[Hn,Ne]=(0,s.eJ)(tt.PREAMBLE),[Je,ht]=(0,s.eJ)(null),[Bt,ur]=(0,s.eJ)(null),[Nr,fn]=(0,s.eJ)(!0),[Sn,mn]=(0,s.eJ)(!0),[Mn,To]=(0,s.eJ)(!1),[jo,Yo]=(0,s.eJ)(Z()().add(1,"day").toDate()),[lo,Io]=(0,s.eJ)(""),{getConfigFor:Di}=(0,Ee.xR)(),Ai={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Bt],Fa=Nr?"Send":"Publish",Ca=Mn&&jo?Z()(jo).max(Pr).fromNow():"",Ta=`${Fa} cross-post ${Nr?Ai:""} ${Ca}`,Po=sr==null?void 0:sr.find(on=>on.id===Je),ra=(0,pt.pm)();(0,s.d4)(()=>{Yt&&!sr&&nn&&(()=>Ue(void 0,null,function*(){var Jo;try{const qn=yield C().get("/api/v1/restack/restackable-pubs"),Xo=((Jo=qn==null?void 0:qn.body)==null?void 0:Jo.publications)||[];Sr(Xo),vn(!1),Xo.length>0&&(ht(Xo[0].id),ur("everyone"))}catch(qn){console.error("Failed to load user profile for restacking: ",qn)}}))()},[Yt,mt,nn,vn,sr,Sr]),(0,s.d4)(()=>{Yt&&sr&&sr.length===0&&!nn&&(0,xe.redirect)((0,le.getStartPublishingUrl)())},[Yt,sr,nn]);const ro=(on,Jo)=>{ir(!Yt,Jo),Ne(tt.PREAMBLE),Io(null),vn(!1),Jo&&(Yr(""),(0,me.track)(me.EVENTS.RESTACK_POST_SUBMITTED,{restacked_publication_id:at.id,restacked_post_id:ct.id,restacking_user_id:mt.id,restacking_publication_id:Po.id,restacking_blurb:Cr}),ra.popToast(qn=>(0,t.h)(pt.FN,ot({text:Mn?`This post is scheduled to cross-post ${Ca}`:"This post was cross-posted to your subscribers"},qn)))),(0,me.track)(me.EVENTS.CROSS_POST_MODAL_CLOSED,{didRestack:Jo})},Wa=()=>Ue(void 0,null,function*(){(0,me.track)(me.EVENTS.CROSS_POST_MODAL_SUBMIT_CLICKED),vn(!0);try{if(Mn){const on=Z()(jo).max(Pr).toDate();yield C().post(`/api/v1/restack/${ct.id}/schedule`).send({audience:Bt,restackingPubId:Po.id,introText:Cr,sendEmail:Nr,publishToWeb:Sn,scheduledAt:on})}else yield C().post(`/api/v1/restack/${ct.id}`).send({audience:Bt,restackingPubId:Po.id,introText:Cr,sendEmail:Nr,publishToWeb:Sn});(0,me.track)(me.EVENTS.CROSS_POST_MODAL_SUBMITTED),ro({},!0);return}catch(on){if((0,me.track)(me.EVENTS.CROSS_POST_MODAL_SUBMIT_FAILED,{error:(0,xe.getNetworkErrorMessage)(on,"Could not retrieve error message")}),console.error("Failed to restack post:",on),on instanceof TypeError)throw Io("An unknown error ocurred. This post was not recommended."),vn(!1),on;Io((0,xe.getNetworkErrorMessage)(on,"This post could not be recommended.")),vn(!1)}});return(0,t.h)(De.u_,{isOpen:Yt,onClose:ro},(0,t.h)(De.xB,{includeClose:!0,onClose:ro,title:"Cross-post to your Substack"}),(0,t.h)("div",{"data-testid":"modal-ref-id",className:_n.modalWrap},Hn===tt.PREAMBLE?(0,t.h)(Me.tu,{gap:24,paddingTop:12},(0,t.h)(Me.tu,{gap:16},(0,t.h)("textarea",ot({className:_n.textarea,placeholder:"Say why this post is worth reading...",onChange:on=>{Gr||(Vr(!0),(0,me.track)(me.EVENTS.CROSS_POST_MODAL_TYPING_STARTED)),Yr(on.target.value)},value:Cr,maxLength:"800"},In.J)),(0,t.h)(Me.tu,{gap:12,className:_n.postPreview,paddingX:16,paddingY:16},(0,t.h)(Me.gq,{alignItems:"center",gap:8},(0,t.h)(Fn.Z,{pub:at,size:24,logo_url:at.logo_url,linkify:!1,className:_n.pubIcon,noMargin:!0}),(0,t.h)(Ge.xv.B4,{color:"primary",weight:"semibold",size:14},at.name)),(0,t.h)(Me.tu,{gap:4},(0,t.h)(Ge.xv.H4,{weight:"semibold"},ct.title),(0,t.h)(Ge.xv.B3,{color:"secondary"},(0,ee.formatEllipsis)(((ct.truncated_body_text||"").replace(ue.Substitutions.PUBLICATION_NAME,at.name)||ct.subtitle||"").substring(0,100)))))),lo&&(0,t.h)(Ge.xv.B4,{color:"accent-red"},lo),(0,t.h)(ye.zx,{priority:"primary-theme",onClick:()=>{if((0,me.track)(me.EVENTS.CROSS_POST_MODAL_CONTINUE_CLICKED),!Cr){Io("Please write something to your subscribers to continue"),(0,me.track)(me.EVENTS.CROSS_POST_MODAL_CONTINUE_FAILED);return}Io(""),Ne(tt.AUDIENCE_SELECTION),(0,me.track)(me.EVENTS.CROSS_POST_MODAL_CONTINUED)},disabled:nn||!Cr,className:"restack-modal-button "},"Continue")):(0,t.h)(Me.tu,{gap:24,paddingTop:12},(0,t.h)(Me.tu,{gap:20},(0,t.h)(Me.tu,{gap:8},(0,t.h)(Ge.xv.B3,null,"Post to"),(0,t.h)(an.P,{value:Po.id,onChange:on=>{ur("everyone"),ht(Number(on))},className:_n.select},sr.map(on=>(0,t.h)("option",{value:on.id},on.name)))),(0,t.h)(Me.tu,{gap:8},(0,t.h)(Ge.xv.B3,null,"Send to"),(0,t.h)(an.P,{value:Bt,onChange:on=>ur(on),className:_n.select},((Po==null?void 0:Po.payments_state)==="enabled"?(0,J.getAudiencesForPublicListing)():["everyone"]).map(on=>(0,t.h)("option",{value:on},ft[on]))))),(0,t.h)(Me.tu,{gap:12},(0,t.h)(Ge.xv.B3,null,"Delivery"),(0,t.h)(Pn.ji,{value:Nr,label:"Send cross-post via email",onChange:on=>fn(on)}),(0,t.h)(Pn.ji,{value:Sn,label:"Publish cross-post to web",onChange:on=>mn(on)}),(0,t.h)(Pn.ji,{value:Mn,label:"Schedule time to publish cross-post",onChange:on=>To(on),contentBelow:(0,t.h)(Pn.HZ,{expanded:Mn},(0,t.h)(Me.tu,{paddingTop:8},(0,t.h)(Pn.Tz,{value:jo!=null?jo:new Date,max:Z()().add(92,"days").toDate(),onChange:on=>{Yo(new Date(on.currentTarget.value))}})))})),lo&&(0,t.h)(Ge.xv.B4,{color:"accent-red"},lo),(0,t.h)(ye.zx,{priority:!Nr&&!Sn?"secondary":"primary-theme",onClick:Wa,disabled:nn||!Nr&&!Sn,className:"restack-modal-button "},Ta))))};var Te=Object.defineProperty,Ye=Object.defineProperties,dt=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,dr=(at,ct,mt)=>ct in at?Te(at,ct,{enumerable:!0,configurable:!0,writable:!0,value:mt}):at[ct]=mt,pr=(at,ct)=>{for(var mt in ct||(ct={}))Kt.call(ct,mt)&&dr(at,mt,ct[mt]);if(Nt)for(var mt of Nt(ct))_r.call(ct,mt)&&dr(at,mt,ct[mt]);return at},mr=(at,ct)=>Ye(at,dt(ct)),Jr=(at,ct,mt)=>new Promise((Yt,ir)=>{var vr=Sr=>{try{sr(mt.next(Sr))}catch(Cr){ir(Cr)}},Pr=Sr=>{try{sr(mt.throw(Sr))}catch(Cr){ir(Cr)}},sr=Sr=>Sr.done?Yt(Sr.value):Promise.resolve(Sr.value).then(vr,Pr);sr((mt=mt.apply(at,ct)).next())});function Xr(at,ct){return at==="button"&&ct==="verbose"?16:at==="button"?20:at==="tabs"?24:at==="compressed"?16:at==="large-on-dark"?20:0}const Mr=2,sn=({isFullWidth:at,children:ct})=>at?(0,t.h)(Me.gq,{className:"post-ufi-button-wrapper",gap:8},ct):ct;function zr({post:at,pub:ct,user:mt,style:Yt,justified:ir,isStatic:vr,hideReactions:Pr,hideComments:sr,hideShare:Sr,hideSavePost:Cr,useShareLabel:Yr,allowEdit:Gr,editButtonIsLast:Vr,onChange:nn,addedPodcastComments:vn,hidePinning:Hn,showEmailSent:Ne,allowSendEmail:Je,footerHidden:ht,onCommentsClick:Bt,onClipClick:ur,labelStyle:Nr,showPreamble:fn,preambleConfig:Sn={},position:mn,hideByDisabling:Mn,showRestackButton:To,showRestackModal:jo,showClipping:Yo,hideFeedRestackButton:lo,onToggleMenu:Io,postReactionToken:Di}){const Ai=(0,ge.Tf)(),{showPins:Fa,showAudience:Ca,showDate:Ho,showDatetime:Ta,showAuthor:Po,showPublicationName:ra,showCrossPostedPublicationName:ro}=Sn;Pr=Pr||!ct.community_enabled||!at.slug||at.is_draft;const Wa=O()(Object.values((at==null?void 0:at.reactions)||{})),on=Ne?!!at.email_sent_at:null,Jo=(0,z.LC)(),qn=Gr&&(mt==null?void 0:mt.is_contributor)&&!Jo,Xo=On({post:at,pub:ct,user:mt,defaultOpen:To&&jo&&mn!=="post-footer"&&mn!=="post-footer-full-width"}),di=mt&&(0,t.h)(Fo,{style:Yt,pub:ct,post:at,user:mt,hidePinning:Hn,emailSent:on!=null?on:void 0,allowSendEmail:Je,footerHidden:ht,canBeCrossPosted:To,onToggleMenu:Io}),Ni=!lo&&ct.community_enabled&&at.slug&&!at.is_draft,ja=To&&!fn&&(Mn||Pr&&sr&&Sr&&!qn),Ia=Nr==="counts-or-none"&&Wa?"count":Nr==="labels"?"cta":"none",Ha=Nr==="counts-or-none"&&at.comment_count?"count":Nr==="labels"?"cta":"none",no=mt&&at.videoUpload&&(0,te.a)(mt,at,at.videoUpload),fi=mn==="post-footer-full-width";return(0,t.h)("div",{className:P()("post-ufi",`style-${Yt}`,{justified:ir,themed:Ai,"single-full-width-button":ja,"vertically-stacked":mn==="shows-episode-player"})},(0,t.h)(sn,{isFullWidth:fi},fn&&Sn&&(0,t.h)(Ua,{pub:ct,post:at,showPins:Fa,showAudience:Ca,showDate:Ho,showDatetime:Ta,showEmailSent:Ne,showAuthor:Po,showPublicationName:ra,showCrossPostedPublicationName:ro}),qn&&!Vr&&di,Yo&&at.videoUpload&&(0,t.h)(nt.O,{post:at,mediaUpload:at.videoUpload,disabled:!no,onClipClick:ur,style:Yt}),(Mn||!Pr)&&(0,t.h)(Zn,{post:at,pub:ct,user:mt,labelStyle:Mn&&Pr?"none":Ia,style:Yt,onChange:nn,isStatic:vr,isDisabled:Mn&&Pr||mn==="shows-episode-player"&&!mt,postReactionToken:Di}),(Mn||!sr)&&(0,t.h)(ua,{post:at,pub:ct,isStatic:vr,labelStyle:Mn&&sr?"none":Ha,style:Yt,count:at.comment_count+(vn||0),onClick:Bt,isDisabled:Mn&&sr}),Ni&&mt&&(0,t.h)(pn,{pub:ct,post:at,onChange:nn,style:Yt,onToggleMenu:Io}),!Sr&&(0,t.h)(V.s,{post:at,pub:ct,user:mt,trigger:{style:Yt,labelStyle:Yr?"cta":"none",isStatic:vr},position:mn})),(0,t.h)(sn,{isFullWidth:fi},!Cr&&!To&&mt&&(0,t.h)(ko,{post:at,labelStyle:Ha,position:mn,style:Yt,onChange:nn}),qn&&Vr&&di,To&&!qn&&mn==="post-header"&&(0,t.h)(t.Fragment,null,(0,t.h)(We.v2,{trigger:(0,t.h)(ye.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,t.h)(d.Z,{size:20}))},mt&&(0,t.h)(Sa,{onClick:Xo.open,post:at,pub:ct,user:mt}),(0,t.h)(Zo,{post:at,onChange:nn}))),To&&!qn&&fi&&(0,t.h)(t.Fragment,null,!Cr&&(0,t.h)(ko,{post:at,labelStyle:"verbose",position:mn,style:"button",onChange:nn}),mt&&(0,t.h)(wa,{onClick:Xo.open,post:at,pub:ct,user:mt,style:"button"}))),Xo.modal)}function On({pub:at,user:ct,post:mt,defaultOpen:Yt=!1}){const[ir,vr]=(0,s.eJ)(Yt);return(0,s.d4)(()=>{Yt&&ct&&(0,me.track)(me.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:at.id,restacked_post_id:mt.id,restacking_user_id:ct.id,is_from_email:!0})},[Yt,at,mt,ct]),{open:()=>vr(!0),modal:(0,t.h)(yt,{pub:at,user:ct,post:mt,open:ir,setOpen:vr})}}function zn(){const ct=typeof window=="undefined",mt=250,[Yt,ir]=(0,s.eJ)(ct?0:window.pageYOffset),[vr,Pr]=(0,s.eJ)(!1),sr=100,Sr=(0,s.Ye)(()=>Date.now()+1e3,[]),Cr=(0,s.sO)(0);return(0,s.d4)(()=>{if(ct)return;const Yr=f()(()=>{const Gr=Date.now(),Vr=(Gr-Cr.current)/1e3,vn=(Yt-window.pageYOffset)/Vr;Cr.current=Gr,!(window.pageYOffset<0)&&(Gr<Sr?Pr(!1):-vn>sr?Pr(!0):vn>sr&&Pr(!1),ir(window.pageYOffset))},mt);return window.addEventListener("scroll",Yr),()=>window.removeEventListener("scroll",Yr)},[ct,Yt,ir,Pr,Sr,Cr,!1]),vr}function gn({post:at,pub:ct,user:mt,isStatic:Yt,onChange:ir,allowEdit:vr,hidePinning:Pr,showEmailSent:sr,allowSendEmail:Sr,hideComments:Cr,onCommentsClick:Yr,showRestackButton:Gr,showRestackModal:Vr,setFooterShown:nn,postReactionToken:vn}){const Hn=zn(),Ne=(0,pt.pm)();return(0,s.d4)(()=>{Ne.addOffset(64*(Hn?1:-1)),nn&&nn(!Hn)},[Hn,nn]),(0,t.h)(Me.hs,{alignItems:"center",padding:8,className:P()("mobile-footer-ufi",{hidden:Hn})},(0,t.h)(zr,{post:at,pub:ct,user:mt,isStatic:Yt,justified:!0,style:"tabs",onChange:ir,allowEdit:vr,editButtonIsLast:!0,hidePinning:Pr,showEmailSent:sr,allowSendEmail:Sr,footerHidden:Hn,labelStyle:"counts-or-none",hideComments:Cr,onCommentsClick:Yr,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:Vr,showRestackButton:Gr,postReactionToken:vn}))}function wn({post:at,pub:ct,user:mt,surface:Yt,onChange:ir,subscribePromptRef:vr,postReactionToken:Pr}){const sr=!!(at!=null&&at.reaction),Sr=(0,z.LC)(),Cr=(0,pe.ib)({pathname:(0,oe.pathWithQuery)(Sr?`/api/v1/cross-post/${at==null?void 0:at.id}/reaction`:`/api/v1/post/${at==null?void 0:at.id}/reaction`,{token:Pr}),method:"POST",deps:[at==null?void 0:at.id]}),Yr=(0,Le.S)({user:mt,noBase:!1});return{isLiked:sr,toggle:()=>Jr(this,null,function*(){var Gr;if(Cr.isLoading)return"error";sr||!Yr()&&mt&&!mt.is_admin&&!mt.is_contributor&&(vr!=null&&vr.current)&&(0,Ir.G0)()&&((0,me.track)(me.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:mt!=null&&mt.is_free_subscribed?(0,je.P)(mt,ct)?"share":"paid":"free"}),vr.current.open(),(0,Ir.RH)(ct));const{reaction:Vr,reactions:nn,reactor_names:vn}=(0,En.fS)(mt,at);at.reaction=Vr,at.reactions=nn,at.reactor_names=vn,ir==null||ir({post:at});const Hn=yield Cr.refetch(Vr?{method:"POST",json:{reaction:"\u2764",surface:Yt}}:{method:"DELETE"}),Ne=(Gr=Hn==null?void 0:Hn.response)==null?void 0:Gr.status;if(Ne){const{reaction:Je,reactions:ht,reactor_names:Bt}=(0,En.fS)(mt,at);at.reaction=Je,at.reactions=ht,at.reactor_names=Bt,ir==null||ir({post:at})}return Ne===401?"unauthorized":Ne?"error":Vr?"liked":"unliked"})}}function hn(){const at=Bo();return(mt,Yt,...ir)=>Jr(this,[mt,Yt,...ir],function*(vr,Pr,{tabId:sr}={}){yield(0,pe.rd)(`/api/v1/post/${vr}/reaction`,Pr?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:sr}}:{method:"DELETE",json:{tabId:sr}}),at(Pr)})}function Zn({post:at,pub:ct,user:mt,style:Yt,labelStyle:ir,onChange:vr,isStatic:Pr,isDisabled:sr,postReactionToken:Sr}){const Cr=O()(Object.values((at==null?void 0:at.reactions)||{})),Yr=ir==="count"?(0,ee.numberToString)(Cr||0):ir==="cta"?"Like":null;return(0,t.h)(eo,{post:at,pub:ct,user:mt,onChange:vr,isStatic:Pr,style:Yt,postReactionToken:Sr},({isLiked:Gr,handleLike:Vr})=>(0,t.h)(Qn,{style:Yt,state:Gr?"liked":void 0,icon:(0,t.h)(Ut.Z,{className:"icon",height:Xr(Yt),strokeWidth:Mr}),onClick:sr?()=>{}:Vr,noLabel:ir==="none",isDisabled:sr},Yr))}function Hr({style:at,onClick:ct}){return(0,t.h)(Qn,{style:at,state:void 0,icon:(0,t.h)(T.Z,{className:"icon",height:Xr(at),strokeWidth:Mr}),"aria-label":"menu",onClick:ct})}function pn({pub:at,post:ct,style:mt,onChange:Yt,onToggleMenu:ir}){const{canRestack:vr,isRestacked:Pr,restacks:sr,menuItems:Sr,nuxModal:Cr}=(0,wt.K)({pub:at,post:ct,onRestack:Vr=>{Yt==null||Yt({post:mr(pr({},ct),{restacked:Vr,restacks:sr+(Vr?1:-1)})})}});if(!vr)return null;const Yr=!at.community_enabled,Gr=(0,t.h)(Qn,{style:mt,state:Pr?"restacked":void 0,icon:(0,t.h)(Ur.Z,{className:"icon",height:Xr(mt),strokeWidth:Mr}),noLabel:sr===0,"aria-label":"menu",isDisabled:Yr},sr.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,t.h)(t.Fragment,null,Cr,Yr?Gr:(0,t.h)(We.v2,pr({trigger:Gr},ir&&{onOpen:()=>{ir({active:!0})},onClose:()=>{ir({active:!1})}}),Sr))}function mo({postId:at,isOpen:ct,onClose:mt}){const Yt=(0,Ee.xR)(),{iString:ir}=(0,re.M1)(),[vr,Pr]=(0,s.eJ)(),sr=Yt.getConfigFor("enable_post_summarization")==!0,Sr=(0,s.sO)(!1),Cr=(0,s.I4)(()=>{Sr.current=!0,C().post(`/api/v1/posts/${at}/summary`).then(Yr=>{var Gr;(Gr=Yr.body)!=null&&Gr.summary&&Pr(Yr.body.summary)}).finally(()=>{Sr.current=!1})},[at]);return(0,s.d4)(()=>{ct&&sr&&!vr&&!Sr.current&&Cr()},[ct,Cr,sr,vr]),sr?(0,t.h)(De.u_,{isOpen:ct,onClose:mt,width:750},(0,t.h)(De.xB,{includeClose:!0,title:ir("Reader guide"),onClose:mt}),(0,t.h)(Me.tu,{padding:16,paddingBottom:32},vr?(0,t.h)("div",{dangerouslySetInnerHTML:{__html:vr}}):(0,t.h)(Me.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,t.h)("div",{className:"embed-loader"})))):null}function Eo({post:at,pub:ct,user:mt,onChange:Yt,showRestackModal:ir,canBeCrossPosted:vr,onSummaryOpen:Pr}){const sr="button",Cr=(0,Ee.xR)().getConfigFor("enable_post_summarization")==!0,Yr=On({pub:ct,user:mt,post:at,defaultOpen:ir&&vr}),Gr=()=>{Yr.open(),(0,me.track)(me.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:ct.id,restacked_post_id:at.id,restacking_user_id:mt.id,is_from_email:!1})};return(0,t.h)(t.Fragment,null,(0,t.h)(We.v2,{trigger:(0,t.h)(Qn,{style:sr,icon:(0,t.h)(d.Z,{className:"icon edit-icon",size:Xr(sr),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},mt&&(0,t.h)(Zo,{post:at,onChange:Yt,showIcon:!0}),Cr&&(0,t.h)(We.sN,{icon:(0,t.h)(D.Z,{height:24,strokeWidth:2}),onClick:Pr},"Reader guide"),vr&&(0,t.h)(We.sN,{icon:(0,t.h)(jt.Z,null),onClick:Gr},"Cross post"),mt&&(0,t.h)(We.sN,{icon:(0,t.h)(I.Z,null),href:(0,oe.getReaderPostUrl)(at.id)},"Substack Reader")),Yr.modal)}function Yn(at){var ct;const mt=O()(Object.values(((ct=at.post)==null?void 0:ct.reactions)||{}));return(0,t.h)(Zn,mr(pr({},at),{labelStyle:mt>0?"count":"none"}))}const _o=({pub:at,user:ct})=>{const[mt,Yt]=(0,s.eJ)(ct==null?void 0:ct.email),[ir,vr]=(0,s.eJ)(!1),{iString:Pr}=(0,re.M1)();return(0,t.h)(Me.tu,{gap:20},(0,t.h)(Me.tu,{gap:4},(0,t.h)(Ge.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(at.name)),(0,t.h)(Ge.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,t.h)(Me.tu,{gap:12},(0,t.h)("input",{disabled:!!(ct!=null&&ct.email),value:mt,onChange:sr=>Yt(sr.currentTarget.value)}),(0,t.h)(ye.zx,{onClick:()=>Jr(void 0,null,function*(){(0,me.track)(me.EVENTS.LIKE_UPSELL_FREE_SUBSCRIBED,{email:mt}),vr(!0);try{const sr=yield C().post("/api/v1/free").send({email:mt,source:"like-button-upsell"}),{referral_token:Sr}=sr.body;(0,me.signup)(),(0,xe.redirect)((0,oe.getSubscribeUrl)(at,{params:{utm_source:ie.UTM_SOURCE.likeButtonUpsell,just_signed_up:!0,referral_token:Sr}}),{local_navigation:!1})}catch(sr){alert((0,xe.getNetworkErrorMessage)(sr))}}),grow:!0,disabled:ir,priority:"primary-theme"},Pr(ir?"Please wait...":"Subscribe"))))};function eo({post:at,pub:ct,user:mt,onChange:Yt,isStatic:ir,children:vr,style:Pr,postReactionToken:sr}){const Sr=(0,s.sO)(),Cr=(0,s.sO)(),{isLiked:Yr,toggle:Gr}=wn({post:at,pub:ct,user:mt,subscribePromptRef:Sr,onChange:Yt,postReactionToken:sr}),Vr=(0,s.sO)(),[nn,vn]=(0,s.eJ)(!1),Hn=(0,s.I4)(Ne=>Jr(this,null,function*(){var Je;(Je=Ne==null?void 0:Ne.stopPropagation)==null||Je.call(Ne),(yield Gr())==="unauthorized"&&vn(!0)}),[Gr]);return(0,s.d4)(()=>{!(Vr!=null&&Vr.current)||!nn||Vr.current.open()},[nn]),(0,t.h)("div",{className:P()("like-button-container","post-ufi-button",`style-${Pr}`,Yr&&"state-liked")},vr({isLiked:Yr,handleLike:Hn}),!ir&&nn&&(0,t.h)(En.oq,{modalRef:Vr,user:mt,pub:ct,onClose:()=>vn(!1),react:Gr}),mt&&!mt.is_admin&&!mt.is_contributor&&(Pr==="button"||Pr==="tabs")&&(0,t.h)(Ze.Fx,{ref:Sr,className:P()("subscribe-prompt-dropdown",!(mt!=null&&mt.is_free_subscribed)&&"free"),hideMenuTail:!0},mt!=null&&mt.is_free_subscribed?(0,je.P)(mt,ct)?(0,t.h)(Ir.xt,{pub:ct,onClose:()=>{var Ne;return(Ne=Sr.current)==null?void 0:Ne.close()},shareDialogRef:Cr}):(0,t.h)(Ir._q,{pub:ct}):(0,t.h)(_o,{pub:ct,user:mt})),!ir&&(0,t.h)(j.ZP,{ref:Cr,user:mt,pub:ct,post:at}))}function go({post:at,defaultSaved:ct,isSaved:mt,trackSurface:Yt}){var ir;return zo({postId:at.id,defaultSaved:(ir=ct!=null?ct:at.is_saved)!=null?ir:!1,isSaved:mt,trackSurface:Yt})}function zo({postId:at,defaultSaved:ct,isSaved:mt,trackSurface:Yt}){const[ir,vr]=(0,s.eJ)(ct),Pr=mt!=null?mt:ir,{refetch:sr,isLoading:Sr}=(0,pe.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:at},deps:[at]}),Cr=(0,se.yH)(),Yr=So();return{isSaved:Pr,onSave:()=>(Sr||(sr({method:Pr?"DELETE":"POST"}).then(()=>{Cr.refetch()}),vr(!Pr),Yr(!Pr),(0,me.track)(me.EVENTS.POST_SAVED,{post_id:at,surface:Yt})),!Pr)}}function Uo(at,ct,mt){return Jr(this,arguments,function*(Yt,ir,{surface:vr}){yield(0,pe.rd)("/api/v1/posts/saved",{method:ir?"POST":"DELETE",json:{post_id:Yt}}),(0,me.track)(me.EVENTS.POST_SAVED,{post_id:Yt,surface:vr,is_saved:ir})})}function So(){const at=(0,pt.pm)(),{iString:ct}=(0,re.M1)();return mt=>{mt?at.popToast(Yt=>(0,t.h)(pt.FN,mr(pr({},Yt),{text:ct("Post saved"),Icon:p.Z,cta:ct("View"),href:(0,le.getSavedPostsUrl)()}))):at.popToast(Yt=>(0,t.h)(pt.FN,mr(pr({},Yt),{text:ct("Post unsaved"),Icon:l.Z})))}}function Bo(){const at=(0,pt.pm)(),{iString:ct}=(0,re.M1)();return mt=>{mt?at.popToast(Yt=>(0,t.h)(pt.FN,mr(pr({},Yt),{text:ct("Post liked"),Icon:a.Z}))):at.popToast(Yt=>(0,t.h)(pt.FN,mr(pr({},Yt),{text:ct("Post unliked"),Icon:a.Z})))}}function ko({style:at,post:ct,isSaved:mt,labelStyle:Yt,position:ir,onChange:vr}){const{isSaved:Pr,onSave:sr}=go({defaultSaved:mt,post:ct,isSaved:ct.is_saved,trackSurface:ir}),{iString:Sr}=(0,re.M1)(),Cr=()=>{const Yr=sr();vr({post:mr(pr({},ct),{is_saved:Yr})})};return(0,t.h)(Qn,{state:Pr?"saved":void 0,style:at,icon:(0,t.h)(Pt.Z,{className:"icon",height:Xr(at,Yt==="verbose"?"verbose":null),strokeWidth:Mr}),noLabel:Yt==="none",verboseLabel:Yt==="verbose",onClick:Cr},Yt==="cta"||Yt==="verbose"?Sr("Save"):null)}function Zo({post:at,isSaved:ct,onChange:mt,showIcon:Yt}){const{onSave:ir}=go({defaultSaved:ct,post:at,isSaved:at.is_saved}),{iString:vr}=(0,re.M1)(),Pr=()=>{const Sr=ir();mt({post:mr(pr({},at),{is_saved:Sr})})},sr=at.is_saved?"var(--color-accent-substack)":void 0;return(0,t.h)(We.sN,{icon:Yt?(0,t.h)(p.Z,{style:{stroke:sr,fill:sr}}):void 0,onClick:Pr},at.is_saved?vr("Unsave"):vr("Save"))}function ua({style:at,count:ct,labelStyle:mt,post:Yt,pub:ir,isStatic:vr,onClick:Pr,isDisabled:sr}){const{iString:Sr}=(0,re.M1)();let Cr;return Yt!=null&&Yt.comment_url_override?Cr=Yt.comment_url_override:vr?Cr=`${ue.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`:ir&&(Cr=(0,le.getPostUrl)(ir,Yt,{comments:!0})),(0,t.h)(Qn,{style:at,icon:(0,t.h)(Wt.Z,{className:"icon",height:Xr(at),strokeWidth:Mr}),href:sr?null:Cr,onClick:sr?()=>{}:Yr=>{Pr?Pr(Yr):(Yr==null||Yr.preventDefault(),window.location.href=Cr)},noLabel:mt==="none",className:"post-ufi-comment-button",isDisabled:sr},mt==="cta"&&Sr("Comment"),mt==="count"&&(0,ee.numberToString)(ct||0))}function Oa({post:at,user:ct,pub:mt,style:Yt,labelStyle:ir,isStatic:vr,onChange:Pr,position:sr}){const Sr=(0,s.sO)(),Cr=(0,s.I4)(()=>{(0,me.track)(me.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:sr}),Sr.current.open()},[]),{iString:Yr}=(0,re.M1)();let Gr;at.share_url_override?Gr=at.share_url_override:vr?at?Gr=ue.Substitutions.SHARE_URL:Gr=ue.Substitutions.SHARE_PUB_URL:Gr="javascript:void(0)";const Vr=ir==="none";return(0,t.h)(t.Fragment,null,(0,t.h)(Qn,{style:Yt,icon:Vr?(0,t.h)(v.Z,{className:"icon",height:Xr(Yt),strokeWidth:Mr}):null,onClick:Cr,href:Gr,noLabel:ir==="none",className:P()(!Vr&&"no-icon")},ir==="cta"&&Yr("Share")),!vr&&(0,t.h)(j.ZP,{ref:Sr,user:ct,pub:mt,post:at,onChange:Pr}))}function wa({post:at,user:ct,pub:mt,onClick:Yt,style:ir}){const{iString:vr}=(0,re.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(Qn,{style:ir,icon:(0,t.h)(jt.Z,{className:"icon",height:Xr(ir,"verbose"),strokeWidth:Mr}),onClick:()=>{(0,me.track)(me.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:mt.id,restacked_post_id:at.id,restacking_user_id:ct.id,is_from_email:!1}),Yt()},noLabel:!1,verboseLabel:!0,title:vr("Cross-Post")},vr("Cross-post")))}function Sa({post:at,user:ct,pub:mt,onClick:Yt}){const ir=()=>{(0,me.track)(me.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:mt.id,restacked_post_id:at.id,restacking_user_id:ct.id,is_from_email:!1}),Yt()},{iString:vr}=(0,re.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(We.sN,{onClick:ir},vr("Cross-post")))}function Fo({style:at,pub:ct,post:mt,user:Yt,hidePinning:ir,emailSent:vr,allowSendEmail:Pr,footerHidden:sr,showRestackModal:Sr,canBeCrossPosted:Cr,onSummaryOpen:Yr,onToggleMenu:Gr}){const Vr=(0,s.sO)();sr&&Vr.current&&Vr.current.close();const nn=On({post:mt,pub:ct,user:Yt,defaultOpen:Sr&&Cr}),vn=()=>{nn.open(),(0,me.track)(me.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:ct.id,restacked_post_id:mt.id,restacking_user_id:Yt.id,is_from_email:!1})};return(0,t.h)("div",{className:P()("edit-button-container","post-ufi-button",`style-${at}`)},(0,t.h)(Qn,{onClick:()=>Vr.current.open(),style:at,icon:(0,t.h)(d.Z,{className:"icon edit-icon",size:Xr(at),strokeWidth:2}),noLabel:!0}),(0,t.h)(Kr.y,{ref:Vr,pub:ct,post:mt,user:Yt,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:ir,emailSent:vr,allowSendEmail:Pr,handleCrossPost:Cr&&vn,onSummaryOpen:Yr,onToggleMenu:Gr}),nn.modal)}const Qn=(0,u.forwardRef)(({icon:at,children:ct,state:mt,style:Yt,onClick:ir,href:vr,noLabel:Pr,verboseLabel:sr,noBorder:Sr,className:Cr,isDisabled:Yr,iconPosition:Gr="left",title:Vr},nn)=>(0,t.h)("a",{role:"button",className:P()("post-ufi-button",`style-${Yt}`,Cr,mt?`state-${mt}`:void 0,Yr?"state-disabled":void 0,ct&&!Pr?"has-label":"no-label",Sr?"no-border":"with-border",sr?"verbose-label":""),title:Vr,href:vr,onClick:vn=>{ir&&(vn.stopPropagation(),ir(vn))},ref:nn},Gr==="left"&&at,!Pr&&ct&&(0,t.h)("div",{className:"label"},ct),Gr==="right"&&at)),Co=({pub:at,post:ct,showAuthor:mt})=>!!(mt&&at.bylines_enabled&&(0,ee.getPrintedByline)(at,ct)),Wn=({pub:at,post:ct,showAuthor:mt,showPhoto:Yt,isMobileWidth:ir})=>Co({pub:at,post:ct,showAuthor:mt})&&!to({pub:at,post:ct,showAuthor:mt})&&!Vn({pub:at,post:ct,showAuthor:mt,showPhoto:Yt})&&!ir,to=({pub:at,post:ct,showAuthor:mt})=>Co({pub:at,post:ct,showAuthor:mt})&&(0,ee.getBylineUsers)(ct).length>1,Vn=({pub:at,post:ct,showAuthor:mt,showPhoto:Yt})=>{var ir;return Co({pub:at,post:ct,showAuthor:mt})&&Yt&&((ir=(0,ee.getBylineUsers)(ct)[0])==null?void 0:ir.photo_url)&&at.byline_images_enabled};function Wo({post:at,showDatetime:ct,isStatic:mt,fromPostPage:Yt,showReactions:ir,language:vr="en"}){const Pr=at.reactions?Object.values(at.reactions).reduce((Sr,Cr)=>Sr+Cr,0):0,sr=Yt&&!mt&&ir&&Pr>=70&&Pr<100;return ct&&sr?Z()(at.post_date).locale(vr).standardDatetimeWithYear():ct&&!sr?Z()(at.post_date).locale(vr).standardDatetime():mt?Z()(at.post_date).locale(vr).standardDate():sr?Z()(at.post_date).locale(vr).standardDate({full:sr}):Z()(at.post_date).locale(vr).standardDateOrTime()}function Ua({pub:at,post:ct,showPins:mt,showAudience:Yt,showDate:ir,showDatetime:vr,showEmailSent:Pr,showAuthor:sr,showPublicationName:Sr,showCrossPostedPublicationName:Cr}){const Yr=(0,ge.Tf)(),Gr=!!(sr&&at.bylines_enabled&&(0,ee.getPrintedByline)(at,ct)),Vr=!1,nn=ir&&ct.post_date&&!ct.is_draft,vn=Pr?!!ct.email_sent_at:null,{iString:Hn,iTemplate:Ne,language:Je}=(0,re.M1)();return(0,t.h)("div",{className:P()("ufi-preamble",{themed:Yr})},Cr&&ct.restacked_pub_name?(0,t.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},Ne`Published on ${ct.restacked_pub_name}`):null,Pr&&vn&&(0,t.h)("div",{className:"email-sent",title:Hn("This post was sent as an email")},(0,t.h)(w.Z,{className:"post-ufi-preamble-icon",size:16})),mt&&ct.is_section_pinned&&(0,t.h)("div",{className:"pinned"},(0,t.h)(Er.Z,{className:"post-ufi-preamble-icon"})),ct.type==="adhoc_email"?(0,t.h)("div",{className:"audience-adhoc"},(0,t.h)(vt,{className:"post-ufi-preamble-icon"})):Yt&&(0,J.isPaidAudience)(ct.audience)&&(0,t.h)("div",{className:"audience-lock"},(0,t.h)(Ht.Z,{audience:ct.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),Wn({pub:at,post:ct,showAuthor:Gr,isMobileWidth:Vr})&&(0,t.h)("div",{className:"ufi-preamble-label author"},(0,ee.getBylineUsers)(ct).length>0?(0,ee.oxfordComma)((0,ee.getBylineUsers)(ct).map(ht=>(0,t.h)(t.Fragment,null,(0,t.h)(rn.ProfileHoverCard,{subject:ht,utmSource:"byline"},(0,t.h)("a",{href:(0,le.getProfileUrl)(ht,at,{base:!0}),onClick:Bt=>Bt.stopPropagation()},ht.name))))):(0,ee.getPrintedByline)(at,ct)),Sr&&(0,t.h)("div",{className:"post-publication-name"},at.name),nn&&(0,t.h)("div",{className:"ufi-preamble-label post-date",title:Z()(ct.post_date).toISOString()},(0,t.h)("time",{dateTime:Z()(ct.post_date).toISOString()},Wo({post:ct,showDatetime:vr,language:Je}))))}const ca=({pub:at,post:ct,user:mt,onChange:Yt,postReactionToken:ir})=>(0,Ee.xR)().getConfigFor("like_posts_enabled")&&at.community_enabled?(0,t.h)(Yn,{style:"button",post:ct,pub:at,user:mt,onChange:Yt,postReactionToken:ir}):null,Ba=({pub:at,post:ct,onClick:mt})=>{const Yt=(0,ee.showCommentsOnPost)({publication:at,post:ct}),{comment_count:ir}=ct;return Yt?(0,t.h)(ua,{post:ct,pub:at,labelStyle:ir>0?"count":"none",style:"button",count:ir,onClick:mt}):null};function ka({hideBottomBorder:at,post:ct,pub:mt,user:Yt,onChange:ir,onCommentsClick:vr,onClipClick:Pr,showRestackModal:sr=!1,showTranscriptionButton:Sr,onTranscriptionClick:Cr,themeVariables:Yr,postReactionToken:Gr}){const Vr=(0,z.LC)(),nn=(Yt==null?void 0:Yt.is_contributor)&&!Vr,{getSettingFor:vn}=(0,fe.So)(),Hn=!ct.is_draft&&(0,ae.x)(Yt,{enable_restacking:!!vn("enable_restacking")},ct,mt,!1),[Ne,Je]=(0,s.eJ)(!1),ht=Yt&&ct.videoUpload&&(0,te.a)(Yt,ct,ct.videoUpload);return(0,t.h)(Me.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:at?void 0:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,t.h)(Me.hs,{gap:8},(0,t.h)(ca,{post:ct,pub:mt,user:Yt,onChange:ir,postReactionToken:Gr}),(0,t.h)(Ba,{pub:mt,post:ct,onClick:vr}),(0,t.h)(pn,{pub:mt,post:ct,onChange:ir,style:"button"}),Sr&&(0,t.h)(Hr,{style:"button",onClick:Cr})),(0,t.h)(Me.hs,{gap:8},(0,t.h)(V.s,{post:ct,pub:mt,user:Yt,trigger:{style:"button",labelStyle:"cta"},showClipping:ct.type==="video",disableClipping:!ht,onClipClick:Pr}),nn?(0,t.h)(Fo,{style:"button",pub:mt,post:ct,user:Yt,showRestackModal:sr,canBeCrossPosted:Hn,onSummaryOpen:()=>Je(!0)}):(Yt||Hn)&&(0,t.h)(Eo,{post:ct,pub:mt,user:Yt,onChange:ir,showRestackModal:sr,canBeCrossPosted:Hn,onSummaryOpen:()=>Je(!0)})),(0,t.h)(mo,{postId:ct.id,isOpen:Ne,onClose:()=>Je(!1)}))}function ci({isFooter:at,customization:{showAppUpsell:ct,showShare:mt,showComments:Yt,showReactions:ir,showListen:vr,showSave:Pr,showRestack:sr,showCommentRestack:Sr}}){const Cr=at?"email-ufi-2-bottom":"email-ufi-2-top",Yr=!at&&(sr||vr||Pr),Gr=at,{iString:Vr}=(0,re.M1)();return!at&&!mt&&!Yt&&!ir&&!vr&&!Pr&&sr?(0,t.h)(be.YF,{className:"email-ufi-2-empty",width:"100%"},(0,t.h)("tr",{height:1},(0,t.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,t.h)(be.YF,{className:Cr,width:"100%"},sr&&at&&(0,t.h)(t.Fragment,null,(0,t.h)(da,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.YF,{width:"100%",className:"email-ufi-2-row"},(0,t.h)("tr",null,(0,t.h)("td",{width:"95%"},mt&&(0,t.h)(be._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:ue.Substitutions.SHARE_URL},(0,t.h)(Vt.Z,pr({},so)),(0,t.h)("span",{className:"email-button-text"},Vr("Share"))))),(0,t.h)(da,null))))),(0,t.h)(da,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.YF,{width:"100%"},(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.zK,{gap:8,style:Yr?void 0:{margin:"0 auto"}},ir?Gr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:ue.Substitutions.REACTION_URL},(0,t.h)(Ut.Z,pr({},so)),(0,t.h)("span",{className:"email-button-text"},Vr("Like"))):(0,t.h)(ta,{href:ue.Substitutions.REACTION_URL},(0,t.h)(Ut.Z,pr({},so))):null,Yt?Gr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:`${ue.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Wt.Z,pr({},so)),(0,t.h)("span",{className:"email-button-text"},Vr("Comment"))):(0,t.h)(ta,{href:`${ue.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Wt.Z,pr({},so))):null,mt&&ct&&(Gr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:ue.Substitutions.SHARE_URL},(0,t.h)(jr,pr({},so)),(0,t.h)("span",{className:"email-button-text"},Vr("Share"))):(0,t.h)(ta,{href:ue.Substitutions.SHARE_URL},(0,t.h)(jr,pr({},so)))),Sr&&(Gr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:`${ue.Substitutions.RESTACK_COMMENT_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Ur.Z,pr({},so)),(0,t.h)("span",{className:"email-button-text"},Vr("Restack"))):(0,t.h)(ta,{href:`${ue.Substitutions.RESTACK_COMMENT_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Ur.Z,pr({},so)))))),(0,t.h)("td",{align:"right"},(0,t.h)(be.zK,{gap:8},mt&&!ct&&!at&&(0,t.h)(be._i,{aClassName:"email-button-outline",href:ue.Substitutions.SHARE_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text"},Vr("Share"))),ct&&!at&&(0,t.h)(be._i,{aClassName:"email-button-outline",href:ue.Substitutions.POST_APP_LINK_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text",style:{marginRight:4}},Vr("READ IN APP")),(0,t.h)(ne,mr(pr({},so),{className:P()("icon","text-icon")}))))))))),(0,t.h)(da,null))}function da(){return(0,t.h)("tr",{height:16},(0,t.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const so={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function ta({size:at=38,href:ct,children:mt}){return(0,t.h)(be.YF,{width:at},(0,t.h)("tr",null,(0,t.h)("td",{align:"center"},(0,t.h)("a",{className:"email-icon-button",href:ct,style:{width:at}},mt))))}},77190:(H,E,e)=>{"use strict";e.d(E,{_0:()=>te,EB:()=>ie});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(80569),y=e.n(P),O=e(43887),c=e(52743),f=e(96702),d=e(28488),T=e(3258),D=e(17025),I=e(50557),p=e(7922),l=e(19237),a=(he,Z,J)=>new Promise((ae,le)=>{var oe=re=>{try{z(J.next(re))}catch(se){le(se)}},ee=re=>{try{z(J.throw(re))}catch(se){le(se)}},z=re=>re.done?ae(re.value):Promise.resolve(re.value).then(oe,ee);z((J=J.apply(he,Z)).next())});const w=({photoUrl:he,newPhotoUrl:Z,newPhotoOrientation:J,updatePhoto:ae})=>{const le=(0,u.sO)(null),oe=()=>a(void 0,null,function*(){const ee=le.current.files[0];if(le.current.value="",!ee){ae({newPhotoUrl:null,newPhotoOrientation:null});return}let z;try{z=yield(0,D.getDataUrlFromFile)(ee)}catch(se){console.error("Failed to get data URL from file:",se),alert(se.message);return}let re;try{re=yield(0,D.getExifOrientationFromFile)(ee)}catch(se){console.error("Failed to extract EXIF data from file:",se)}ae({newPhotoUrl:z,newPhotoOrientation:re})});return(0,t.h)("div",{className:"profile-photo-wrap"},he&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Z||(0,c.imginary)(he,144)})`,transform:(0,D.transformExifOrientation)(J)}}),!he&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,c.imginary)(c.DEFAULT_PHOTO_URL,144)})`,transform:(0,D.transformExifOrientation)(J)}}),(0,t.h)(p.Z,{onClick:()=>{((0,D.isIE)()||(0,D.isFirefox)())&&le.current.click()}},(0,t.h)("input",{ref:le,type:"file",name:"photo",accept:"image/*",onChange:oe}),(0,t.h)("div",{className:"add-photo-fab",onClick:ee=>{ee.preventDefault(),le.current.click()}},(0,t.h)(l.Z,{size:20,color:"var(--color-light-primary)"}))))};var M=e(8925),C=e(63397),L=e(39493),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(he,Z,J)=>Z in he?S(he,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):he[Z]=J,Q=(he,Z)=>{for(var J in Z||(Z={}))F.call(Z,J)&&G(he,J,Z[J]);if(U)for(var J of U(Z))$.call(Z,J)&&G(he,J,Z[J]);return he},K=(he,Z)=>N(he,R(Z)),W=(he,Z)=>{var J={};for(var ae in he)F.call(he,ae)&&Z.indexOf(ae)<0&&(J[ae]=he[ae]);if(he!=null&&U)for(var ae of U(he))Z.indexOf(ae)<0&&$.call(he,ae)&&(J[ae]=he[ae]);return J},Y=(he,Z,J)=>new Promise((ae,le)=>{var oe=re=>{try{z(J.next(re))}catch(se){le(se)}},ee=re=>{try{z(J.throw(re))}catch(se){le(se)}},z=re=>re.done?ae(re.value):Promise.resolve(re.value).then(oe,ee);z((J=J.apply(he,Z)).next())});const ne=({sub:he,onSetVisibility:Z,source:J})=>{const ae=he.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:ae,logo_url:ae.logo_url||ae.author_photo_url}),h("span",null,ae.name)),h("div",{className:"right"},h(BigCheckbox,{checked:he.visibility==="public",onChange:()=>Z(he.visibility==="public"?"private":"public")})))},V=({profile:he,onFinalizeVisibility:Z,onSetVisibility:J,source:ae})=>{const{iString:le}=useI18N();if(!he)return;const oe=he.subscriptions.every(({visibility:se})=>se==="public"),ee=()=>{J(he.subscriptions.reduce((se,{publication:fe})=>K(Q({},se),{[fe.id]:oe?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:he.subscriptions.length})},z=se=>fe=>{J(he.subscriptions.reduce((Ee,{visibility:ge,publication:be})=>K(Q({},Ee),{[be.id]:be.id===se.id?fe:ge}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:fe})},re=h("button",{className:"small",onClick:ee},le(oe?"Hide all":"Show all"));return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},re),h("div",{className:"edit-sub-visibility-frame"},he.subscriptions.map(se=>h(ne,{sub:se,onSetVisibility:z(se.publication),source:ae}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:Z},le("Done"))))};class j extends t.Component{constructor(Z,J){var ae;super(Z,J),this.formRef=(0,t.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:Z.user&&Z.user.is_magic?Z.user.email:null},Z.isPostInvite&&!((ae=Z.user)!=null&&ae.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var Z,J,ae;this.props.autoSubmit&&(this.isComplete()?(Z=this.formRef.current)==null||Z.handleSubmit():(ae=(J=this.props).onAutoSubmitFailed)==null||ae.call(J))}isComplete(){const{user:Z,needsPhoto:J}=this.props;return Z&&!Z.is_magic&&Z.name&&(!J||Z.photo_url)}onFileInputChanged(){return Y(this,null,function*(){const Z=this.fileInput.files[0];if(this.fileInput.value="",!Z){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let J;try{J=yield(0,D.getDataUrlFromFile)(Z)}catch(le){console.error("Failed to get data URL from file:",le),alert(le.message);return}let ae;try{ae=yield(0,D.getExifOrientationFromFile)(Z)}catch(le){console.error("Failed to extract EXIF data from file:",le)}this.setState({newPhotoUrl:J,newPhotoOrientation:ae})})}onError(Z){var J,ae;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(ae=(J=this.props).onAutoSubmitFailed)==null||ae.call(J)),this.setState({sentLoginEmail:!1}),Z.status===401&&this.sendLoginEmail()}createDefaultPublication(Z,J){return Y(this,null,function*(){const{iTemplate:ae}=this.props;try{const le=yield y().get("/api/v1/publication/suggestion"),oe=J||ae`${Z} on Substack`;yield y().post("/api/v1/publication").send({name:Z,subdomain:le.body.subdomain,hero_text:oe,tos:!0})}catch(le){(0,T.track)(T.EVENTS.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",le)}})}sendLoginEmail(){return Y(this,null,function*(){const Z=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!Z)){this.setState({loading:!0});try{yield y().post("/api/v1/email-login").send({email:Z,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(J){console.error("Failed send login email:",J)}this.setState({loading:!1})}})}render({className:Z,user:J,numVisibleSubscriptions:ae,numSubscriptions:le,freeSignup:oe,freeSignupEmail:ee,initialPhotoUrl:z,needsPhoto:re,optionalPhoto:se,showHandle:fe=!0,token:Ee,text:ge,onSuccess:be,prepareData:me,pageTitle:pe,primaryEligiblePublications:Le,isPostInvite:je,complete:xe,profileExists:ye,onSkip:Me,onEditReadVisibility:We,barebones:De,onEditRecommendations:Ge,numRecommendationsToMake:pt,noSubscribeCta:wt,style:Ht,iString:nt,iPlural:Ze},{newPhotoUrl:st,newPhotoOrientation:Ie,newName:Pe,newHandle:Ce,newEmail:Be,loading:Ve,sentLoginEmail:$e,sentAccountConfirmationEmail:Qe,newBio:ze,createPublication:Ke}){const lt=st||z||(0,f.ln)(J,{noFallbackToSignedOut:!0}),vt=typeof pe=="string"?pe:this.isComplete()?nt("Update your profile"):nt("Create your profile"),Pt=Pe||J&&J.name||"",Wt=Ce||(J==null?void 0:J.handle)||"",Ut=typeof ze=="string"?ze:J&&J.bio||"",jt=(Vt,lr)=>Y(this,null,function*(){if(Vt.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}Ke&&(yield this.createDefaultPublication(Pt,Ut)),be(Vt,lr)});return(0,t.h)("div",{className:g()("profile-updater",Z),style:Ht},(0,t.h)("h2",{className:"page-title profile-updater-title"},vt),(lt||re||se)&&(0,t.h)(w,{photoUrl:lt,newPhotoUrl:st,newPhotoOrientation:Ie,updatePhoto:({newPhotoOrientation:Vt,newPhotoUrl:lr})=>this.setState({newPhotoOrientation:Vt,newPhotoUrl:lr}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,t.h)(M.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:me,onSuccess:jt,onError:Vt=>this.onError(Vt),noInlineErrors:!0,loading:Ve,autoLock:!0},(0,t.h)("label",{htmlFor:"name"},nt("Name (Required)")),(0,t.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:nt("Type your name..."),name:"name",id:"name",value:Pt,onInput:Vt=>this.setState({newName:Vt.target.value})}),fe&&(0,t.h)(t.Fragment,null,(0,t.h)("label",{htmlFor:"handle"},nt("Handle")),(0,t.h)("input",{type:"text",className:"profile-name",placeholder:nt("Type your handle..."),name:"handle",id:"handle",value:Wt,onInput:Vt=>this.setState({newHandle:Vt.target.value})})),!De&&(0,t.h)("label",{htmlFor:"bio"},"Bio"),!De&&(0,t.h)("textarea",{className:"profile-bio",placeholder:nt("Say something about yourself..."),name:"bio",id:"bio",value:Ut,onInput:Vt=>this.setState({newBio:Vt.target.value})}),je&&(0,t.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),je&&(0,t.h)("div",{className:"bio-guest-tip"},nt("Tip: this will be shown at the bottom of your guest post")),je&&Le&&(J==null?void 0:J.has_publication)&&Le.length>1&&(0,t.h)(t.Fragment,null,(0,t.h)("label",null,nt("Publication to display")),(0,t.h)("div",{className:"primary-publication-selector"},Le.map((Vt,lr)=>(0,t.h)("label",{className:"publication-selector-row",for:`primary-radio-${Vt.id}`},(0,t.h)("input",{id:`primary-radio-${Vt.id}`,type:"radio",name:"primary_publication_user_id",value:Vt.id,checked:lr===0}),(0,t.h)(L.Z,{pub:Vt.publication,logo_url:(0,c.imginary)(Vt.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Vt.publication.name}),(0,t.h)("div",{className:"primary-publication-name"},Vt.publication.name))))),(!J||J.is_magic)&&!ee&&!je&&(0,t.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:Be,onInput:Vt=>this.setState({newEmail:Vt.target.value})}),!wt&&!(J&&(J.is_subscribed||J.is_free_subscribed)||oe)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," ",nt("Subscribe to the newsletter")),je&&!(J!=null&&J.has_publication)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:Ke,onChange:Vt=>this.setState({createPublication:Vt.target.checked})}),nt("Create a Substack publication for me")),(0,t.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,t.h)("input",{type:"hidden",name:"photo_url",value:lt}),(0,t.h)("input",{type:"hidden",name:"user_id",value:(J==null?void 0:J.id)||""}),(0,t.h)("input",{type:"hidden",name:"needs_photo",value:!!re}),(0,t.h)("input",{type:"hidden",name:"token",value:Ee}),xe&&(0,t.h)("input",{type:"hidden",name:"complete",value:!0}),(0,t.h)("div",{id:"error-container"},$e&&(0,t.h)(O.xv,{as:"div",translated:!0,className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,t.h)("b",null,I18N.p(Be))," with a link that you can use to sign in."),Qe&&(0,t.h)("div",{className:"error other-error"},nt("We have sent you a confirmation email. Please check your inbox before continuing."))),(0,t.h)("p",{className:g()("left",{hidden:!(typeof ae=="number"&&le>0&&We)})},ye?Ze("1 subscription is displayed on your profile","%1 subscriptions are displayed on your profile",ae):Ze("1 subscription will be displayed on your profile","%1 subscriptions will be displayed on your profile",ae)," ","(",(0,t.h)("a",{onClick:We},nt("edit")),")"),!ye&&Ge&&pt>0&&(0,t.h)("p",{className:"left second"},Ze("1 recommendation will be made on your publication","%1 recommendations will be made on your publication",pt)," ","(",(0,t.h)("a",{onClick:Ge},"edit"),")"),(0,t.h)("div",{className:"modal-ctas"},(0,t.h)("p",{className:g()("skip",{hidden:!Me})},(0,t.h)("a",{className:"small",onClick:Me||(()=>{})},nt("Skip for now"))),(0,t.h)(p.Z,{className:"primary",type:"submit"},ge||nt("Save")),je&&(0,t.h)(t.Fragment,null,(0,t.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,t.h)(O.xv,{translated:!0,as:"div",className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,t.h)("a",{href:`${(0,c.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}const te=(0,d.fz)(j);class ie extends C.p{renderChildren(){const Z=this.props,{ref:J,onBeforeClose:ae,contributor:le}=Z,oe=W(Z,["ref","onBeforeClose","contributor"]);return(0,t.h)("div",{className:"profile-updater-modal"},le?(0,t.h)(ue,K(Q({},oe),{onSuccess:()=>this.close(!0)})):(0,t.h)(te,K(Q({},oe),{onSuccess:()=>this.close(!0)})))}}const ue=({profile:he,user:Z,pub:J,onSuccess:ae,isOwnProfile:le})=>{const oe=(0,u.sO)(),{iString:ee,iTemplate:z}=(0,d.M1)(),[re,se]=(0,u.eJ)(null),[fe,Ee]=(0,u.eJ)(null),ge=re||he&&he.photo_url,[be,me]=(0,u.eJ)(he.name),[pe,Le]=(0,u.eJ)(he.bio),je=()=>Y(void 0,null,function*(){var xe;const ye=(xe=oe.current)!=null&&xe.files?oe.current.files[0]:null;if(oe.value="",!ye){se(null),Ee(null);return}let Me;try{Me=yield(0,D.getDataUrlFromFile)(ye)}catch(De){console.error("Failed to get data URL from file:",De),alert(De.message);return}let We;try{We=yield(0,D.getExifOrientationFromFile)(ye)}catch(De){console.error("Failed to extract EXIF data from file:",De)}se(Me),Ee(We)});return(0,t.h)("div",{className:"profile-updater"},(0,t.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,t.h)("div",{className:"profile-photo-wrap"},ge&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${re||(0,c.imginary)(he.photo_url,144)})`,transform:(0,D.transformExifOrientation)(fe)}}),(0,t.h)(p.Z,{onClick:()=>{((0,D.isIE)()||(0,D.isFirefox)())&&oe.click()}},!ge&&ee("Set photo"),(0,t.h)("input",{ref:oe,type:"file",name:"photo",accept:"image/*",onChange:()=>je()}))),(0,t.h)(M.ZP,{method:"patch",action:`/api/v1/publication/users/${he.id}`,onSuccess:ae,autoLock:!0},(0,t.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:be,onInput:xe=>me(xe.target.value)}),(0,t.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:pe,onInput:xe=>Le(xe.target.value)}),(0,t.h)("input",{type:"hidden",name:"photo_url",value:ge}),(0,t.h)("span",{className:"notice"},(0,t.h)(O.xv,{translated:!0,as:"p"},(0,t.h)("b",null,"Note:")," This is a contributor profile, viewable by ",I18N.p(J.name),"'s readers."),le&&(0,t.h)(O.xv,{translated:!0,as:"p"},"You may also edit your"," ",(0,t.h)("a",{native:!0,href:`${(0,c.getReaderProfileUrl)(Z)}`},"personal profile"),".")),(0,t.h)(p.Z,{className:"primary",type:"submit"},ee("Update profile"))))}},91801:(H,E,e)=>{"use strict";e.d(E,{E6:()=>Q,dJ:()=>j,fS:()=>K,oq:()=>te,xl:()=>ne});var t=e(6400),u=e(94184),s=e.n(u),g=e(12297),P=e.n(g),y=e(80569),O=e.n(y),c=e(82626),f=e(52743),d=e(83322),T=e(28488),D=e(78515),I=e(3258),p=e(17025),l=e.n(p),a=e(51126),v=e(43887),w=e(84420),M=e(12650),C=e(63397),L=Object.defineProperty,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(ie,ue,he)=>ue in ie?L(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:he}):ie[ue]=he,F=(ie,ue)=>{for(var he in ue||(ue={}))N.call(ue,he)&&U(ie,he,ue[he]);if(S)for(var he of S(ue))R.call(ue,he)&&U(ie,he,ue[he]);return ie},$=(ie,ue,he)=>new Promise((Z,J)=>{var ae=ee=>{try{oe(he.next(ee))}catch(z){J(z)}},le=ee=>{try{oe(he.throw(ee))}catch(z){J(z)}},oe=ee=>ee.done?Z(ee.value):Promise.resolve(ee.value).then(ae,le);oe((he=he.apply(ie,ue)).next())});const G="\u2764",Q=(ie,ue,he)=>{const{reaction:Z,reactions:J,reactor_names:ae}=W(ie,ue,he);Y(ue,Z,J,ae)},K=(ie,ue)=>W(ie,ue,!ue.reaction),W=(ie,ue,he)=>{let{reaction:Z,reactions:J={},reactor_names:ae=[]}=ue;return J=F({},J),ae=[...ae],he&&!Z?(Z=G,J[Z]=J[Z]?J[Z]+1:1,ie&&ie.is_public_admin&&ae.push(ie.name||"author")):!he&&Z&&(J[G]=J[G]?J[G]-1:0,ie&&ie.is_public_admin&&(ae=ae.filter(le=>le!==(ie.name||"author"))),Z=null),{reaction:Z,reactions:J,reactor_names:ae}},Y=(ie,ue,he,Z)=>{ie.reaction=ue,ie.reactions=he,ie.reactor_names=Z};function ne(ie,ue,he,Z){const J=(0,f.pathWithQuery)(`/api/v1/${ue?"comment":"post"}/${ie.id}/reaction`,{token:Z});return he?O().post(J).send({reaction:G}):O().delete(J)}class V extends t.Component{constructor(){super(...arguments),this.state={includeModal:!1},this.modalRef=(0,t.createRef)(null),this.react=ue=>$(this,null,function*(){if(this.props.isStatic)return;ue&&ue.stopPropagation();const Z=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(Z),this.props.noSelfUpdate)return;const J=yield(0,p.stateLock)(this,"locked",(ae,le)=>$(this,null,function*(){const oe=le.comment||le.post,ee=ne(oe,!!le.comment,Z,le.token),{reaction:z,reactions:re,reactor_names:se}=K(le.user,oe);this.notifyParent({reactions:re,reaction:z,reactor_names:se});let fe;try{yield ee}catch(Ee){fe=Ee,this.notifyParent(oe)}return{error:fe,reaction:z}}));return J&&J.error&&(J.error.response&&J.error.response.statusCode===401?yield this.reactionRejected(J.reaction):alert((0,p.getNetworkErrorMessage)(J.error))),!!J&&!J.error})}notifyParent({reaction:ue,reactions:he,reactor_names:Z}){const J=F({},this.props.post),ae=this.props.comment&&F({},this.props.comment);Y(ae||J,ue,he,Z),this.props.onChange&&this.props.onChange({post:J,comment:ae})}reactionRejected(ue){return $(this,null,function*(){(0,I.track)(I.EVENTS.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!ue}),yield new Promise(he=>{this.state.includeModal?this.modalRef.current.open(he):this.setState({includeModal:!0},()=>this.modalRef.current.open(he))})})}render({className:ue,user:he,pub:Z,comment:J,height:ae,isStatic:le,post:oe,buttonStyle:ee,hideReactionCount:z,countInParenthesesStyle:re,iString:se}){const fe=J||oe,Ee=fe.reaction,ge=fe.reactions||{},be=P()(Object.values(ge));let me;return oe&&oe.reaction_url_override?me=oe.reaction_url_override:le?me=c.Substitutions.REACTION_URL:me="javascript:void(0)",(0,t.h)(v.xv,{as:"span",decoration:"hover-underline",color:Ee?"accent-red":"pub-secondary-text",className:ue},this.props.render?this.props.render({liked:Ee,numReactions:be>0?(0,d.numberToString)(be):null,onClick:pe=>{this.react(pe)}}):(0,t.h)("a",{href:me,className:s()("like-button",{button:ee,"post-meta-button":ee,liked:Ee}),onClick:pe=>this.react(pe)},(0,t.h)(a.hs,{gap:6,alignItems:"center",className:ue},le?(0,t.h)(M.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:ae,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,t.h)(a.hs,{className:"reaction-container"},(0,t.h)(M.Z,{className:"animation"}),!Ee&&(0,t.h)(M.Z,{strokeWidth:2,height:ae,fill:"transparent",stroke:"var(--color-secondary-themed)"}),Ee&&(0,t.h)(M.Z,{height:ae,strokeWidth:2})),re?(0,t.h)(v.xv.Meta,{color:Ee?"accent-red":"pub-secondary-text",className:"like-count"},se(Ee?"Liked":"Like"),!z&&be>0?` (${(0,d.numberToString)(be)})`:""):!z&&be>0?(0,t.h)("span",{className:"like-count"},(0,d.numberToString)(be)):ee?(0,t.h)("span",{className:"like-count"},se("Like")):null)),!le&&this.state.includeModal&&(0,t.h)(te,{modalRef:this.modalRef,user:he,pub:Z,comment:J,react:this.react}))}}const j=(0,T.fz)(V);function te({comment:ie,pub:ue,user:he,modalRef:Z,onClose:J,react:ae}){const{iString:le}=(0,T.M1)();return(0,t.h)(C.Z,{ref:Z,onClose:J},(0,t.h)(a.tu,{alignItems:"center",paddingTop:80,gap:24},(0,t.h)(v.xv.H2,null,le(ie?"Subscribe to like this comment":"Subscribe to like this post")),(0,t.h)(w.Z,{user:he,pub:ue,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:oe=>$(this,null,function*(){const ee=oe&&oe.body&&oe.body.email;oe&&oe.body&&oe.body.prompt_to_login||!(yield ae())?window.location.href=(0,f.getSigninUrl)({for_pub:ue.subdomain,email:ee}):Z!=null&&Z.current&&((0,D.a)({freeSignup:!0,freeSignupEmail:ee}),yield Z.current.close())})})))}},58682:(H,E,e)=>{"use strict";e.d(E,{u:()=>p});var t=e(6400),u=e(30396),s=e(65862),g=e(19723),P=e(26059),y=e(17025),O=e(13045),c=e(96427),f=e(22434);const d={iconContainer:"frontend-components-reporting-reporting_shared-module__iconContainer--rnbfC",link:"frontend-components-reporting-reporting_shared-module__link--dWGqs",confirmModal:"frontend-components-reporting-reporting_shared-module__confirmModal--thDTw",confirmDescription:"frontend-components-reporting-reporting_shared-module__confirmDescription--LavbT"};var T=(a,v,w)=>new Promise((M,C)=>{var L=R=>{try{N(w.next(R))}catch(U){C(U)}},S=R=>{try{N(w.throw(R))}catch(U){C(U)}},N=R=>R.done?M(R.value):Promise.resolve(R.value).then(L,S);N((w=w.apply(a,v)).next())});const D=["Select a reason","hate","private_information","plagiarism","impersonation","illegal_activity","spam","pornography","other"],I=({category:a})=>{switch(a){case"Select a reason":return"Select a reason";default:return(0,f.H)({category:a})}};function p({isOpen:a,pub:v,onClose:w,onSubmit:M,canReportToAdmins:C=!1}){const[L,S]=(0,u.eJ)(D[0]),[N,R]=(0,u.eJ)(null),[U,F]=(0,u.eJ)(!1),[$,G]=(0,u.eJ)(!1),[Q,K]=(0,u.eJ)(!C),{popToast:W}=(0,O.pm)();return(0,u.d4)(()=>{a&&(S(D[0]),K(!C))},[a,C]),(0,u.d4)(()=>{G(Q?L!==D[0]:!!N)},[Q,L,N]),C&&!v?(console.error("Must supply pub if reporting to pub admins is possible"),null):(0,t.h)(t.Fragment,null,(0,t.h)(O.u_,{isOpen:a,onClose:w,disableCloseOnBackdropClick:U||Q},(0,t.h)(O.tu,{paddingTop:16,paddingX:16,gap:16},(0,t.h)(O.gq,{justifyContent:"space-between",alignItems:"center"},(0,t.h)(O.tu,{className:d.iconContainer,justifyContent:"center",alignItems:"center",radius:"circle"},(0,t.h)(s.Z,{size:20,color:"var(--color-accent-red)"})),(0,t.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:w,"aria-label":"close"},(0,t.h)(P.Z,null))),(0,t.h)(l,{onReportToSubstackClicked:()=>{K(!0)},reportingToSubstack:Q,pub:v!=null?v:null}),Q&&(0,t.h)(t.Fragment,null,(0,t.h)(O.tu,{gap:8},(0,t.h)(O.xv.B4,{weight:"bold"},"Reason"),(0,t.h)(c.P,{value:L,onChange:Y=>{S(Y)}},D.map(Y=>(0,t.h)("option",{value:Y,key:Y},I({category:Y})))))),(0,t.h)(O.tu,{gap:8},(0,t.h)(O.gq,{justifyContent:"space-between"},(0,t.h)(O.xv.B4,{weight:"bold"},Q?"Additional details":"Reason"),Q&&(0,t.h)(O.xv.B4,{color:"secondary"},"Optional")),(0,t.h)(O.gx,{onChange:Y=>{R(Y.currentTarget.value||null)},placeholder:"Describe why you're reporting this..."}))),(0,t.h)(O.mz,{includeDivider:!1,alignment:"center",primaryButton:(0,t.h)(O.zx,{disabled:!$,priority:"destructive",onClick:()=>{F(!0)}},"Submit")})),(0,t.h)(O.u_,{className:d.confirmModal,isOpen:U,onClose:()=>{F(!1)}},(0,t.h)(O.xB,{title:(0,t.h)(O.gq,{justifyContent:"center"},(0,t.h)(O.xv.H4,{weight:"bold"},"Submit report?")),description:(0,t.h)(O.tu,{className:d.confirmDescription},(0,t.h)(O.xv.B3,{color:"secondary"},Q?"Reported content will be reviewed and removed if it violates our Content Guidelines.":`Your report and profile will be shared with the ${v==null?void 0:v.name} admins.`)),includeClose:!1}),(0,t.h)(O.mz,{includeDivider:!1,alignment:"center",primaryButton:(0,t.h)(O.zx,{priority:"destructive",onClick:()=>T(this,null,function*(){F(!1);try{yield M({reportCategory:Q?L:null,details:N,reportedToSubstack:Q})}catch(Y){console.error("could not submit report",Y),W(()=>(0,t.h)(O.FN,{text:`Something went wrong ${(0,y.getNetworkErrorMessage)(Y)}`}));return}W(()=>(0,t.h)(O.FN,{text:"Your report was submitted",Icon:g.Z}))})},"Report"),secondaryButton:(0,t.h)(O.zx,{priority:"secondary",onClick:()=>{F(!1)}},"Cancel")})))}function l({reportingToSubstack:a,pub:v,onReportToSubstackClicked:w}){return a?(0,t.h)(O.tu,{gap:8},(0,t.h)(O.xv.H4,null,"Report to Substack"),(0,t.h)(O.xv.B3,{color:"secondary"},"Report content that violate's Substack's"," ",(0,t.h)("a",{className:d.link,href:"https://substack.com/content",target:"_blank",rel:"noreferrer"},"Content Guidelines")," ","below. Your report is anonymous and only viewed by Substack.")):(0,t.h)(t.Fragment,null,(0,t.h)(O.tu,{gap:8},(0,t.h)(O.xv.H4,null,"Report to the ",v==null?void 0:v.name," admins"),(0,t.h)(O.tu,{gap:16},(0,t.h)(O.xv.B3,{color:"secondary"},"Your report and profile will be shared with the ",v==null?void 0:v.name," admins, since at Substack we believe publication owners are best able to moderate their communities."),(0,t.h)(O.xv.B3,{color:"secondary"},"If you believe something violates Substack's"," ",(0,t.h)("a",{className:d.link,href:"https://substack.com/content",target:"_blank",rel:"noreferrer"},"Content Guidelines"),", you can"," ",(0,t.h)("a",{className:d.link,onClick:()=>{w()}},"report it to Substack")," ","instead."))))}},79786:(H,E,e)=>{"use strict";e.d(E,{e:()=>w});var t=e(6400),u=e(94184),s=e.n(u),g=e(4508),P=e(52743),y=e(20501);const O={img:"frontend-components-responsive_img-module__img--Pgjj2","object-fit-cover":"frontend-components-responsive_img-module__object-fit-cover--l2ul8"};var c=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,p=(M,C,L)=>C in M?c(M,C,{enumerable:!0,configurable:!0,writable:!0,value:L}):M[C]=L,l=(M,C)=>{for(var L in C||(C={}))D.call(C,L)&&p(M,L,C[L]);if(T)for(var L of T(C))I.call(C,L)&&p(M,L,C[L]);return M},a=(M,C)=>f(M,d(C)),v=(M,C)=>{var L={};for(var S in M)D.call(M,S)&&C.indexOf(S)<0&&(L[S]=M[S]);if(M!=null&&T)for(var S of T(M))C.indexOf(S)<0&&I.call(M,S)&&(L[S]=M[S]);return L};function w(M){var C=M,{src:L,maxWidth:S,imageSizingCss:N,imageProps:R={},alt:U="",className:F,imageRef:$,ignorePicture:G,objectFit:Q,radius:K,useRetinaSizing:W,imageIsFixedWidth:Y}=C,ne=v(C,["src","maxWidth","imageSizingCss","imageProps","alt","className","imageRef","ignorePicture","objectFit","radius","useRetinaSizing","imageIsFixedWidth"]);const V=W?[S*2,S*3]:[],j=Math.max(...V,S);let te=null;N?te=N:Y?te=`${S}px`:te="100vw";const ie=J=>{if(R!=null&&R.height){const ae=S/R.height;return{height:Math.floor(J/ae),aspect:null}}return{}},ue=Array.from(new Set([...P.WEB_RESPONSIVE_IMAGE_WIDTHS,S,...V]));ue.sort((J,ae)=>J-ae);const he=ue.map(J=>({width:J,src:(0,y.imginary)(L,J,l(l({},R),ie(J)))})).filter(J=>J.width<=j),Z=ue.map(J=>({width:J,src:(0,y.imginary)(L,J,a(l(l({},R),ie(J)),{format:"webp"}))})).filter(J=>J.width<=j);return(0,t.h)("picture",{style:G?{display:"contents"}:void 0},Z.length>1?(0,t.h)("source",{type:"image/webp",srcset:Z.map(J=>`${J.src} ${J.width}w`).join(", "),sizes:te}):(0,t.h)("source",{type:"image/webp",srcset:(0,y.imginary)(L,S,a(l({},R),{format:"webp"}))}),(0,t.h)("img",a(l({className:s()(O.img,F,Q&&O[`object-fit-${Q}`],(0,g.yK)({radius:K})),src:(0,y.imginary)(L,S,R),sizes:te,alt:U,srcset:he.length>1?he.map(J=>`${J.src} ${J.width}w`).join(", "):void 0},ne),{width:S,height:R==null?void 0:R.height,ref:$})))}},65578:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>_n});var t=e(6400),u=e(98661),s=e(91004),g=e(83322),P=e(52743),y=e(28488),O=e(3258),c=e(90304),f=e(17025),d=e(51126),T=e(43028),D=e(43887),I=e(7922),p=e(46595),l=e(34755),a=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(xt,Rt,Zt)=>Rt in xt?a(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,N=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))C.call(Rt,Zt)&&S(xt,Zt,Rt[Zt]);if(M)for(var Zt of M(Rt))L.call(Rt,Zt)&&S(xt,Zt,Rt[Zt]);return xt},R=(xt,Rt)=>v(xt,w(Rt));const F=xt=>(0,t.h)(l.l,R(N({},xt),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,t.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}));var $=e(54813),G=e(64484),Q=Object.defineProperty,K=Object.defineProperties,W=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,j=(xt,Rt,Zt)=>Rt in xt?Q(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,te=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))ne.call(Rt,Zt)&&j(xt,Zt,Rt[Zt]);if(Y)for(var Zt of Y(Rt))V.call(Rt,Zt)&&j(xt,Zt,Rt[Zt]);return xt},ie=(xt,Rt)=>K(xt,W(Rt));const he=xt=>(0,t.h)(l.l,ie(te({},xt),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,t.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:xt.fill,stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:xt.fill,stroke:"none"}));var Z=Object.defineProperty,J=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,z=(xt,Rt,Zt)=>Rt in xt?Z(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,re=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))oe.call(Rt,Zt)&&z(xt,Zt,Rt[Zt]);if(le)for(var Zt of le(Rt))ee.call(Rt,Zt)&&z(xt,Zt,Rt[Zt]);return xt},se=(xt,Rt)=>J(xt,ae(Rt));const Ee=xt=>(0,t.h)(l.l,se(re({},xt),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,t.h)("g",null,(0,t.h)("g",null,(0,t.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))));var ge=Object.defineProperty,be=Object.defineProperties,me=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,xe=(xt,Rt,Zt)=>Rt in xt?ge(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,ye=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))Le.call(Rt,Zt)&&xe(xt,Zt,Rt[Zt]);if(pe)for(var Zt of pe(Rt))je.call(Rt,Zt)&&xe(xt,Zt,Rt[Zt]);return xt},Me=(xt,Rt)=>be(xt,me(Rt));const De=xt=>(0,t.h)(l.l,Me(ye({},xt),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,t.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,t.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,t.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})));var Ge=e(7775),pt=e(74957),wt=Object.defineProperty,Ht=Object.defineProperties,nt=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,Pe=(xt,Rt,Zt)=>Rt in xt?wt(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,Ce=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))st.call(Rt,Zt)&&Pe(xt,Zt,Rt[Zt]);if(Ze)for(var Zt of Ze(Rt))Ie.call(Rt,Zt)&&Pe(xt,Zt,Rt[Zt]);return xt},Be=(xt,Rt)=>Ht(xt,nt(Rt));const $e=xt=>(0,t.h)(l.l,Be(Ce({},xt),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,t.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}));var Qe=Object.defineProperty,ze=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable,Wt=(xt,Rt,Zt)=>Rt in xt?Qe(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,Ut=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))vt.call(Rt,Zt)&&Wt(xt,Zt,Rt[Zt]);if(lt)for(var Zt of lt(Rt))Pt.call(Rt,Zt)&&Wt(xt,Zt,Rt[Zt]);return xt},jt=(xt,Rt)=>ze(xt,Ke(Rt));const lr=xt=>(0,t.h)(l.l,jt(Ut({},xt),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,t.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}));var Jt=e(63397),or=e(79786),Et=e(37812),gr=e(59009),Dr=Object.defineProperty,Or=Object.defineProperties,wr=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,Ar=Object.getPrototypeOf,jr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Er=Reflect.get,Ir=(xt,Rt,Zt)=>Rt in xt?Dr(xt,Rt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):xt[Rt]=Zt,Kr=(xt,Rt)=>{for(var Zt in Rt||(Rt={}))jr.call(Rt,Zt)&&Ir(xt,Zt,Rt[Zt]);if(br)for(var Zt of br(Rt))Ur.call(Rt,Zt)&&Ir(xt,Zt,Rt[Zt]);return xt},rn=(xt,Rt)=>Or(xt,wr(Rt)),En=(xt,Rt,Zt)=>Er(Ar(xt),Zt,Rt),Pn=(xt,Rt,Zt)=>new Promise((Xe,ot)=>{var Ue=Ct=>{try{ft(Zt.next(Ct))}catch(yt){ot(yt)}},tt=Ct=>{try{ft(Zt.throw(Ct))}catch(yt){ot(yt)}},ft=Ct=>Ct.done?Xe(Ct.value):Promise.resolve(Ct.value).then(Ue,tt);ft((Zt=Zt.apply(xt,Rt)).next())});const an=(0,u.forwardRef)((xt,Rt)=>(0,t.h)(I.Z,rn(Kr({},xt),{className:"share-action",forwardedRef:Rt}),(0,t.h)("div",{className:"action-icon"},(0,t.h)(p.Z,null)),(0,t.h)(D.xv.B4,{translated:!0,color:"secondary"},"Other"))),Fn=({pub:xt,post:Rt,profile:Zt,comment:Xe})=>{let ot=typeof document!="undefined"?document.title:"",Ue="",tt="";const ft=(0,P.getBaseUrl)(xt).replace(/^https?:\/\//,"").replace(/\/$/);return Xe?(ot=Xe.name?`Comment by ${Xe.name} on ${xt.name}`:`Comment on ${xt.name}`,Ue=(0,g.truncateText)(Xe.body,100),tt=Rt.cover_image||null):Rt?(ot=Rt.title||Rt.draft_title,Ue=ft,tt=Rt.cover_image||null):xt?(ot=xt.name,Ue=ft,tt=xt.logo_url):Zt&&(ot=Zt.name,Ue=Zt.bio,tt=(0,P.getUserPhotoUrl)(Zt)),(0,t.h)(d.gq,{className:`social-preview-box ${Rt?"post":xt?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,t.h)("div",{className:"social-image-box"},(Rt||xt)&&tt&&(0,t.h)(or.e,{className:"social-image",src:tt,alt:"",maxWidth:120,loading:"lazy"}),!Rt&&!xt&&tt&&(0,t.h)(Et.cy,{className:"social-image",imageUrl:tt,size:52}),!tt&&(0,t.h)($.Z,{className:"social-image-default"})),(0,t.h)(d.tu,{paddingLeft:12,paddingY:8},(0,t.h)(D.xv.H4,null,ot),(0,t.h)(D.xv.B4,{color:"secondary"},Ue)))},In=class extends Jt.p{constructor(xt,Rt){super(xt,Rt),this.noFullscreen=!0}open(){return Pn(this,null,function*(){const xt="direct",Rt={title:(0,s.B8)(Kr({},this.props)),url:this.props.shareUrl||(0,s.O1)(xt,Kr({medium:this.state.medium},this.props))};if((0,f.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(Rt))try{yield navigator.share(Rt),(0,O.track)(O.EVENTS.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"}),(0,c.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(Zt){if(Zt.name==="AbortError")return;(0,O.track)(O.EVENTS.NATIVE_SHARE_FAILED,{errorName:Zt.name,errorMessage:Zt.message})}En(In.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,O.track)(O.EVENTS.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||gr.UTM_CAMPAIGN.default})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:xt,pub:Rt,profile:Zt,comments:Xe,commentId:ot,shareUrl:Ue,sharePrompt:tt}){const ft=Xe||ot?"discussion":xt?"post":Rt?"publication":Zt?"profile":null,Ct=tt||(ft?this.context.iTemplate`Share this ${ft}`:this.context.iString("Share")),yt=Xe&&ot&&Xe.find(Te=>Te.id===ot);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"share-dialog-title"},Ct),(0,t.h)(d.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(xt||Rt||Zt)&&(0,t.h)(Fn,{post:xt,pub:Rt,profile:Zt,comment:yt}),(0,t.h)(jn,rn(Kr({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,s.B8)(Kr({},this.props)),shareUrl:Ue||(0,s.O1)(null,Kr({medium:this.state.medium},this.props))}))))}};let _n=In;_n.contextType=y.wj;function jn(xt){const Rt=()=>{var Zt;(Zt=xt.onChange)==null||Zt.call(xt)};return(0,t.h)(d.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,t.h)(I.Z,{onClick:()=>{(0,s.Ui)(Kr({},xt)),Rt()},className:"share-action"},(0,t.h)("div",{className:"action-icon"},(0,t.h)(Ge.Z,null)),(0,t.h)(D.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,t.h)(I.Z,{className:"share-action",onClick:()=>{(0,s.Po)(Kr({},xt)),Rt()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)($e,null)),(0,t.h)(D.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,t.h)(I.Z,{className:"share-action",onClick:()=>{(0,s.WZ)(Kr({},xt)),Rt()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(pt.Z,null)),(0,t.h)(D.xv.B4,{translated:!0,color:"secondary"},"Email")),!xt.disableNotes&&(0,t.h)(I.Z,{className:"share-action",onClick:()=>{(0,s.BZ)(Kr({},xt)),Rt()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(he,null)),(0,t.h)(D.xv.B4,{color:"secondary"},"Note")),(0,t.h)(T.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,t.h)(an,null),onOpen:()=>{(0,O.track)(O.EVENTS.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:xt.medium||"web",post_id:xt.post?xt.post.id:null,utm_campaign:xt.utm_campaign||gr.UTM_CAMPAIGN.default})}},(0,t.h)(T.sN,{onClick:()=>{(0,s.lc)(Kr({},xt)),Rt()},icon:(0,t.h)(G.Z,null)},"Linkedin"),(0,t.h)(T.sN,{onClick:()=>{(0,s.sn)(Kr({},xt)),Rt()},icon:(0,t.h)(De,null)},"Reddit"),(0,t.h)(T.sN,{onClick:()=>{(0,s.b6)(Kr({},xt)),Rt()},icon:(0,t.h)(F,null)},"Hacker News"),(0,t.h)(T.sN,{onClick:()=>{(0,s.Vn)(Kr({},xt)),Rt()},icon:(0,t.h)(Ee,null)},"Pinterest"),(0,t.h)(T.sN,{onClick:()=>{(0,s.Wn)(Kr({},xt)),Rt()},icon:(0,t.h)(lr,null)},"Twitter")))}},30105:(H,E,e)=>{"use strict";e.d(E,{L:()=>g});var t=e(6400),u=e(94184),s=e.n(u);const g=({children:P,title:y="",content:O="",className:c="",showFirst:f=!1,disabled:d=!1})=>d?(0,t.h)(t.Fragment,null,P):(0,t.h)("div",{className:`popover-container ${c}`},(0,t.h)("div",{className:s()("popover typography",{showfirst:f})},(0,t.h)("div",{className:"content"},y&&(0,t.h)("strong",null,y),O&&(0,t.h)("section",null,O)),(0,t.h)("div",{className:"popover-tail"})),P)},71943:(H,E,e)=>{"use strict";e.d(E,{J:()=>D,Z:()=>I});var t=e(6400),u=e(83322),s=e(17025),g=e.n(s),P=Object.defineProperty,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?P(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>{var a={};for(var v in p)O.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&y)for(var v of y(p))l.indexOf(v)<0&&c.call(p,v)&&(a[v]=p[v]);return a};const D={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class I extends t.Component{constructor(){super(...arguments),this.onWindowResize=l=>{this.setAutoHeight()},this.onKeyDown=l=>(this.props.inline&&l.key==="Enter"&&l.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(l)),this.onInput=l=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(l)),this.onBlur=()=>{var l;if(this.props.inline){const a=(l=this.base)==null?void 0:l.value,v=(0,u.sanitizeInlineText)(a);a&&a!==v&&(this.base.value=v,this.props.onInput&&this.props.onInput(event))}}}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(l,a,v){l.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,s.stateTransaction)(this,l=>{this.base.style.height="";const a=window.getComputedStyle(this.base),v=parseInt(a.getPropertyValue("height")),w=parseInt(a.getPropertyValue("padding-top"))+parseInt(a.getPropertyValue("padding-bottom")),M=parseInt(a.getPropertyValue("line-height")),C=Math.min(Math.round((this.base.scrollHeight-w)/M),this.props.maxLines||1/0);this.base.style.height=`${Math.max(C*M+w,v)}px`,this.base.style.height!==l.height&&this.setState({height:this.base.style.height})}))}render(l,{height:a}){var v=l,{children:w,ref:M,style:C,onKeyDown:L,onInput:S,inline:N,autoHeight:R,maxLines:U}=v,F=T(v,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return R&&(C=Object.assign({},C,{height:a})),(0,t.h)("textarea",d(d({style:C,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},D),F),w)}}},86575:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>l,g1:()=>D});var t=e(6400),u=e(30396),s=e(80569),g=e.n(s),P=e(85928),y=e.n(P),O=e(83322),c=e(3258),f=e(66141);const d=(a,{timeout:v=5e3,className:w="",dismissable:M=!1,beforeDismiss:C=null}={},L)=>{L=L||document.body;const S=document.createElement("div");S.setAttribute("id","toast"),S.setAttribute("role","alert"),w&&S.classList.add(w),L.appendChild(S);const N=()=>{C&&C(),S.classList.remove("in"),setTimeout(()=>{S.remove()},500)};(0,t.render)([(0,t.h)("p",null,a),M&&(0,t.h)("a",{className:"dismiss",onClick:N},"Dismiss")],S),setTimeout(()=>{S.classList.add("in")}),!M&&setTimeout(N,v)},T=({children:a,className:v,dismissKey:w,dismissDurationInSeconds:M,beforeDismiss:C,container:L})=>{const[S,N]=(0,f.Z)(w,M,C);if(!S)return d(a,{className:v,beforeDismiss:N,dismissable:!0},L)},D=({user:a,pub:v,container:w})=>{if(!(!a||!v||!a.is_subscribed))return(0,t.h)(p,{pub:v,container:w})},I=a=>{if(a&&a.cardExpiresAt){const v=y()(a.expiry).subtract(O.GRACE_PERIOD_DAYS,"day"),w=y()(a.cardExpiresAt),M=y()().add(12,"day");return w.isBefore(v)&&v.isBefore(M)}return!1},p=({pub:a,container:v})=>{const[w,M]=(0,u.eJ)(null);if((0,u.d4)(()=>{g().get("/api/v1/subscription").then(C=>M(C.body)).catch(C=>{console.error("Failed to fetch subscription data: ",C)})},[]),I(w))return(0,t.h)(T,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*O.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,c.track)(c.EVENTS.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:v},"Your credit card is expiring soon."," ",(0,t.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,c.track)(c.EVENTS.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${a.name}`,".")},l=d},37812:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>N,cy:()=>Q,m1:()=>R});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(52743),y=e(3258),O=e(11688),c=e(32127),f=e(1782),d=e(36377),T=e(25702),D=e(77190),I=e(79786),p=e(35570),l=e(83379),a=Object.defineProperty,v=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,C=(K,W,Y)=>W in K?a(K,W,{enumerable:!0,configurable:!0,writable:!0,value:Y}):K[W]=Y,L=(K,W)=>{for(var Y in W||(W={}))w.call(W,Y)&&C(K,Y,W[Y]);if(v)for(var Y of v(W))M.call(W,Y)&&C(K,Y,W[Y]);return K};const S=33;class N extends t.Component{constructor(){super(...arguments),this.onClick=W=>{if(this.props.onClick)this.props.onClick(W);else if(this.props.modalProfile)W.preventDefault(),W.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,y.track)(y.EVENTS.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1}}static getSubject(W){return W?W.author_id?{id:W.author_id,name:W.author_name,photo_url:(0,P.getUserPhotoUrl)(W,{preferAuthorPhoto:!0}),publications:W.subdomain?[W]:[]}:W.user_id?{id:W.user_id,name:W.name,photo_url:(0,P.getUserPhotoUrl)(W),publications:[]}:{id:W.id,name:W.name,photo_url:(0,P.getUserPhotoUrl)(W),publications:[]}:{id:null,name:null,photo_url:P.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(W){return!!N.getSubject(W).photo_url}isSelf(){return this.props.user&&this.props.user.id===N.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.url?this.props.url:this.props.isAuthor?(0,P.getProfileUrl)(N.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,P.getReaderProfileUrl)(N.getSubject(this.props.subject))}onBeforeProfileClose(W){if(W)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:W,pub:Y,user:ne,badge:V,freeSignup:j,freeSignupEmail:te,token:ie,isStatic:ue,size:he,modalProfile:Z,isBanned:J,lazy:ae,tooltip:le,noLink:oe,className:ee}){he=he||S;const z=N.getSubject(W);return(0,t.h)("div",{className:g()("user-head",{banned:J},ee)},oe?(0,t.h)(R,{photo_url:z.photo_url,size:he,isStatic:ue,isBanned:J,lazy:ae,badge:V,tooltip:le,className:"default-pointer"}):(0,t.h)("a",{href:ue||!Z?this.profileUrl():null,onClick:this.onClick},(0,t.h)(R,{photo_url:z.photo_url,size:he,isStatic:ue,isBanned:J,lazy:ae,badge:V,tooltip:le})),this.props.modalProfile&&!ue&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,t.h)(D.EB,{ref:re=>this.profile=re,user:ne,freeSignup:j,freeSignupEmail:te,needsPhoto:!0,token:ie,onBeforeClose:re=>this.onBeforeProfileClose(re)}):(0,t.h)(l.FI,{ref:re=>this.profile=re,profileUser:z,pub:Y,isBanned:J})))}}const R=({photo_url:K,size:W,isStatic:Y,isBanned:ne,lazy:V,badge:j,tooltip:te,style:ie,expandable:ue,children:he,className:Z})=>{const[J,ae]=(0,u.eJ)(!1),le=!K&&!!he,oe={founding:(0,t.h)(d.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:te}),author:(0,t.h)(c.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:te})}[j];return(0,t.h)("div",{onClick:()=>{ue&&ae(!0)},className:g()("profile-img-wrap",Z)},le?he:V?(0,t.h)(F,L({},{photo_url:K,size:W,isStatic:Y,badge:j,style:ie})):(0,t.h)($,L({},{photo_url:K,size:W,isStatic:Y,badge:j,style:ie})),oe&&(0,t.h)("div",{className:"profile-img-badge",title:te},oe),ne&&(0,t.h)(f.Z,null),(0,t.h)(O.cr,{module:"./ImageViewerModal",resolve:ee=>ee.ImageViewerModal,onRequest:()=>e.e(5661).then(e.bind(e,55661)),showModal:J,modalContent:[{src:le?he:K,attrs:{src:le?he:K}}],onClose:()=>{ae(!1)},step:0,includeDownloadButton:!1}))},U=(K,W)=>(0,P.imginary)(K,W*2,{height:W*2,crop:"fill"}),F=({photo_url:K,size:W,isStatic:Y,badge:ne,style:V})=>{const[j,te]=(0,p.Z)({}),ie=!te||te.isIntersecting?K:P.DEFAULT_PHOTO_URL;return(0,t.h)(G,{url:U(ie,W),size:W,ref:j,badge:ne,isStatic:Y,style:V})},$=({photo_url:K,size:W,isStatic:Y,badge:ne,style:V})=>(0,t.h)(G,{url:U(K,W),size:W,badge:ne,isStatic:Y,style:V}),G=({url:K,size:W,isStatic:Y,ref:ne,badge:V,className:j})=>Y?(0,t.h)(T.Z,{className:j,src:(0,P.imginary)(K,W*2,{height:W*2,crop:"fill"}),ref:ne,height:W,width:W,alt:V||""}):(0,t.h)(I.e,{className:j,src:K,imageProps:{height:W*2,crop:"fill"},maxWidth:W*2,ref:ne,alt:V||""}),Q=({imageUrl:K,alt:W,size:Y,className:ne})=>(0,t.h)(G,{className:`user-photo ${ne||""}`,url:K,badge:W,size:Y})},83379:(H,E,e)=>{"use strict";e.d(E,{FI:()=>S,fi:()=>R});var t=e(6400),u=e(94184),s=e.n(u),g=e(80569),P=e.n(g),y=e(85928),O=e.n(y),c=e(52743),f=e(83322),d=e(1782),T=e(63397),D=Object.defineProperty,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(U,F,$)=>F in U?D(U,F,{enumerable:!0,configurable:!0,writable:!0,value:$}):U[F]=$,v=(U,F)=>{for(var $ in F||(F={}))p.call(F,$)&&a(U,$,F[$]);if(I)for(var $ of I(F))l.call(F,$)&&a(U,$,F[$]);return U},w=(U,F)=>{var $={};for(var G in U)p.call(U,G)&&F.indexOf(G)<0&&($[G]=U[G]);if(U!=null&&I)for(var G of I(U))F.indexOf(G)<0&&l.call(U,G)&&($[G]=U[G]);return $},M=(U,F,$)=>new Promise((G,Q)=>{var K=ne=>{try{Y($.next(ne))}catch(V){Q(V)}},W=ne=>{try{Y($.throw(ne))}catch(V){Q(V)}},Y=ne=>ne.done?G(ne.value):Promise.resolve(ne.value).then(K,W);Y(($=$.apply(U,F)).next())});const C=92;class L extends t.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(F){!this.props.manualLoad&&F.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return M(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const F=yield P().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:F.body})}catch(F){console.error("Failed to load profile:",F)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:F}){var $;const G=(($=this.getProfileUser().publications)==null?void 0:$.filter(Q=>Q.id!==F.id))||[];return(0,t.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,t.h)(R,{photo_url:(0,c.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:F}),(0,t.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,t.h)("div",{className:"user-profile-status"},this.getProfileUser().id===F.author_id?(0,t.h)("b",null,"Author of ",F.name):this.getProfileUser().subscribed_at?`Subscriber to ${F.name} since ${O()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),G.length>0&&(0,t.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,f.oxfordComma)(G.map(Q=>(0,t.h)("a",{href:Q.base_url,native:!0},Q.name)))),this.props.isBanned&&(0,t.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",F.name))}}class S extends T.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const F=this.props,{ref:$}=F,G=w(F,["ref"]);return(0,t.h)("div",{className:"user-profile-modal"},(0,t.h)(L,v({ref:Q=>this.profile=Q,manualLoad:!0},G)))}}const N=({children:U,email:F,pub:$})=>(0,t.h)("a",{target:"_blank",href:(0,c.getSubscriberDetailsUrl)($,F)},U),R=({photo_url:U,size:F=C,banned:$=!1,email:G="",className:Q="",pub:K=null,children:W=void 0})=>{const Y=(0,t.h)("img",{className:"user-profile-head",height:F,width:F,src:(0,c.imginary)(U,F*2,{height:F*2,crop:"fill"})});return(0,t.h)("div",{className:s()(Q,"profile-image-wrapper")},G&&K?(0,t.h)(N,{email:G,pub:K},Y):Y,$&&(0,t.h)(d.Z,{height:F}),W)}},25346:(H,E,e)=>{"use strict";e.d(E,{Z:()=>G});var t=e(6400),u=e(94184),s=e.n(u),g=e(13045),P=e(52743),y=e(83322),O=e(3258),c=e(90304),f=e(17025),d=e.n(f),T=e(7922),D=e(93830),I=e(92379),p=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(Q,K,W)=>K in Q?p(Q,K,{enumerable:!0,configurable:!0,writable:!0,value:W}):Q[K]=W,M=(Q,K)=>{for(var W in K||(K={}))a.call(K,W)&&w(Q,W,K[W]);if(l)for(var W of l(K))v.call(K,W)&&w(Q,W,K[W]);return Q};const C=5,L="video:playback_location:",S=4*60,N=5,R=60,U=3,F=60,$={hls:"application/x-mpegURL",mp4:"video/mp4"};class G extends t.Component{constructor(K,W){var Y;super(K,W),this.player=null,this.previewHiddingTimeout=null,this.containerRef=(0,t.createRef)(),this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var V;(V=f.globalPlaybackNotifier)==null||V.emit("play",this),this.setState({playing:!0}),this.track(O.EVENTS.VIDEO_PLAY_BUTTON_CLICKED)},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.track(O.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:V=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),V&&this.player&&!(0,f.isIOs)()&&!this.props.doNotResetOnEnd&&(this.player.currentTime=0),(0,f.exitFullscreen)(),(0,f.exitPictureInPicture)(),this.props.onFinishVideo&&this.props.onFinishVideo()},this.onPreviewClick=()=>{var V,j;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(V=this.player)==null||V.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(j=this.player)==null||j.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3e3)))},this.onContextMenu=V=>{V.preventDefault()},this.onAllSourcesFailed=()=>{var V,j;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(j=(V=this.props).onPlaybackFailed)==null||j.call(V)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=V=>{this!==V&&this.player&&(this.track(O.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=V=>{var j;this.props.noKeyboardShortcuts||V.metaKey||V.altKey||V.ctrlKey||document.activeElement!==document.body||!this.player||((j=f.globalPlaybackNotifier)==null?void 0:j.listenerCount("play"))>1&&this.player.paused||(V.key==="f"?(0,f.isFullscreen)()?(0,f.exitFullscreen)()&&V.preventDefault():((0,f.goFullscreen)(this.player)&&V.preventDefault(),this.player.paused&&this.player.play()):V.key===" "&&!(0,f.isFullscreen)()?(V.preventDefault(),this.player.paused?this.player.play():this.player.pause()):V.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):V.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const ne=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:ne,currentTime:0,waiting:!0,duration:(Y=K.mediaUpload.duration)!=null?Y:null,autoPlay:K.autoPlay,playing:!1,attemptingToPlay:K.autoPlay,previewHidden:ne!==null&&ne>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1,failedAutoplay:!1}}componentDidMount(){var K;this._initHlsjs(),(K=f.globalPlaybackNotifier)==null||K.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),!this.props.isStatic&&window&&window._preloads.mux_env_key&&e.e(4125).then(e.t.bind(e,54125,23)).then(W=>{const Y=W.default||W;Y.monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:Y.utils.now()}})})}componentWillUnmount(){var K;this.setPlaybackRestoreLocation(),(K=f.globalPlaybackNotifier)==null||K.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(K,W){var Y,ne,V;if((this.props.noPreview!==K.noPreview||this.props.noControls!==K.noControls||this.props.noKeyboardShortcuts!==K.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof W.waiting!="number"){const{useHLSJS:j,browserCanPlayHLS:te,HLSerrored:ie}=this.state;this.track(O.EVENTS.VIDEO_BUFFERING_STARTED,{use_hlsjs:j,browser_can_play_hls:te,hls_errored:ie})}this.state.playing&&!W.playing&&!this.state.waiting&&typeof W.waiting=="number"&&this.track(O.EVENTS.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-W.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(W.currentTime)&&Math.floor(this.state.currentTime)%C===0&&this.track(O.EVENTS.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),is_clip:(Y=this.props.isClip)!=null?Y:!1}),!this.state.playing&&W.playing&&((ne=this.player)!=null&&ne.ended)&&this.track(O.EVENTS.VIDEO_PLAYBACK_COMPLETED,{is_clip:(V=this.props.isClip)!=null?V:!1})}getPlaybackLocationKey(){return`${L}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>S){const K=(0,c.mM)(this.getPlaybackLocationKey());if((K==null?void 0:K.currentTime)>N&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-K.currentTime>R){const W=Date.now()-K.watchedAt>F?U:0,Y=Math.max(0,K.currentTime-W);if(Y)return Y}}return null}setPlaybackRestoreLocation(){var K;this.playbackEnabled()&&((K=this.player)!=null&&K.currentTime)&&(0,c.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(K,W={}){const Y=this.props.mediaUpload.post_id;Y&&(0,O.track)(K,Object.assign({post_id:Y,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},W))}render(K,W){const{height:Y,width:ne}=(0,y.videoPlayerDimensions)(K.mediaUpload,{isStatic:K.isStatic}),V={paddingBottom:`${Math.min(60,100*Y/ne).toFixed(4)}%`},j=s()("video-player",{"video-player-clip":K.clippingMode});return(0,t.h)("div",{ref:this.containerRef,className:s()("video-player-wrapper",K.className,{"with-preview":!W.previewHidden,"is-static":K.isStatic,"full-width":ne>=960,"video-player-wrapper-clip":K.clippingMode}),onClick:this.onPreviewClick},this.href()?(0,t.h)("a",{className:j,href:this.href(),style:V},this.renderPlayer(this.props,this.state)):(0,t.h)("div",{className:j,style:V},this.renderPlayer(this.props,this.state)),(0,t.h)(I.ie,{visible:this.props.clippingMode,videoPlayerRef:this.player,containerRef:this.containerRef,videoUpload:this.props.mediaUpload,post:this.props.post,onCancel:()=>{var te,ie;return(ie=(te=this.props).onClippingModeCancel)==null?void 0:ie.call(te)}}))}renderPlayer({hidePlayButton:K,mediaUpload:W,pub:Y,reaction_token:ne=null,isStatic:V,noControls:j,noPreview:te,renderPlayButton:ie,startMuted:ue,usePreview:he},{autoPlay:Z,attemptingToPlay:J,previewHidden:ae,useHLSJS:le,browserCanPlayHLS:oe,HLSerrored:ee,failedAutoplay:z}){const re=!te&&!ae,se=V||!this.playbackEnabled(),fe=(0,P.updateQuery)(`/api/v1/video/upload/${W.id}/src`,{token:ne,override_publication_id:Y==null?void 0:Y.id,preview:he});let Ee=[];return oe?Ee=["hls","mp4"]:le?Ee=[]:(0,f.isAndroid)()?Ee=["hls","mp4"]:ee?Ee=["mp4"]:Ee=["hls","mp4"],[this.playbackEnabled()&&!V&&typeof window!="undefined"&&(0,t.h)("video",{ref:ge=>this.player=ge,controls:!j&&!re,controlsList:"nodownload",autoPlay:Z&&!z&&this.playbackEnabled(),poster:`${(0,P.getMediaUploadThumbnailUrl)(W)}?refresh=${W.updated_at}`,muted:ue},Ee.map((ge,be)=>(0,t.h)("source",{src:(0,P.updateQuery)(fe,{type:ge}),type:$[ge],onError:be===Ee.length-1?this.onAllSourcesFailed:void 0}))),re&&!K&&(0,t.h)(t.Fragment,null,se&&(0,t.h)("img",{className:"video-player-preview","data-testid":V?"video-player-static-preview-image":"",width:550,src:(0,P.getMediaUploadThumbnailUrlForPlayer)(W,{pub:Y,isStatic:V,variant:"shows"}),"data-component-name":"VideoPlayer-PreviewImg"}),!V&&!ie&&(0,t.h)("div",{className:s()("video-player-button",{"no-text":!this.cta()})},(0,t.h)("a",{className:"primary",href:this.href(),native:!0},(0,t.h)(T.Z,{className:s()({loading:J&&this.playbackEnabled()})},(0,t.h)(D.Z,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,t.h)("span",null,this.cta())))),!V&&ie&&(0,t.h)(g.xu,{position:"absolute",style:{left:"50%",top:"50%",transform:"translate(-50%,-50%)"}},ie()))]}_initHlsjs(){const K=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(K){this.setState({browserCanPlayHLS:K});return}e.e(7631).then(e.t.bind(e,67631,23)).then(W=>{this._initHlsjsWrapped(W.default)})}_initHlsjsWrapped(K){const W=this,Y=K.isSupported();if(!K.isSupported()){this.setState({useHLSJS:Y});return}this.hls!=null&&this.hls.destroy();const ne={},V=new K(M({enableWorker:!1},ne));this.player!=null&&V.attachMedia(this.player);const{mediaUpload:j,pub:te,reaction_token:ie=null}=this.props,ue=(0,P.updateQuery)(`/api/v1/video/upload/${j.id}/src`,{token:ie,override_publication_id:te==null?void 0:te.id,type:"hls",preview:this.props.usePreview});V.on(K.Events.MEDIA_ATTACHED,()=>{V.loadSource(ue),V.on(K.Events.MANIFEST_PARSED,()=>{var he;this.state.autoPlay&&((he=this.player)==null||he.play().catch(()=>{console.log("Unable to autoplay prior to user interaction with the dom."),this.setState({failedAutoplay:!0,attemptingToPlay:!1})}))})}),V.on(K.Events.ERROR,function(he,Z){if(Z.fatal)switch(Z.type){case K.ErrorTypes.NETWORK_ERROR:W.setState({useHLSJS:!1}),W.hls.destroy(),V.startLoad();break;case K.ErrorTypes.MEDIA_ERROR:V.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=V,this.hlsModule=K}}},61040:(H,E,e)=>{"use strict";e.d(E,{Yq:()=>Z,CH:()=>ie,KG:()=>te});var t=e(6400),u=e(30396),s=e(87184),g=e(83322),P=e(34755),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(J,ae,le)=>ae in J?y(J,ae,{enumerable:!0,configurable:!0,writable:!0,value:le}):J[ae]=le,I=(J,ae)=>{for(var le in ae||(ae={}))d.call(ae,le)&&D(J,le,ae[le]);if(f)for(var le of f(ae))T.call(ae,le)&&D(J,le,ae[le]);return J},p=(J,ae)=>O(J,c(ae));const a=J=>(0,t.h)(P.l,p(I({},J),{name:"LucideMute",svgParams:{height:24,width:24,stroke:J.stroke,strokeWidth:J.strokeWidth}}),(0,t.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}));var v=e(8479),w=e(17025),M=e(13045),C=e(43028),L=e(67963),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(J,ae,le)=>ae in J?S(J,ae,{enumerable:!0,configurable:!0,writable:!0,value:le}):J[ae]=le,Q=(J,ae)=>{for(var le in ae||(ae={}))F.call(ae,le)&&G(J,le,ae[le]);if(U)for(var le of U(ae))$.call(ae,le)&&G(J,le,ae[le]);return J},K=(J,ae)=>N(J,R(ae)),W=(J,ae,le)=>new Promise((oe,ee)=>{var z=fe=>{try{se(le.next(fe))}catch(Ee){ee(Ee)}},re=fe=>{try{se(le.throw(fe))}catch(Ee){ee(Ee)}},se=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(z,re);se((le=le.apply(J,ae)).next())});const Y={mutes:[],blocks:[],blocked:[]},ne=(0,t.createContext)({result:Y,refetch:()=>null});ne.displayName="UserBlockContext";function V({user:J,children:ae}){var le;const oe=useFetch({pathname:"/api/v1/blocks/ids",deps:[J],auto:!!J});return h(ne.Provider,{value:{result:(le=oe.result)!=null?le:Y,refetch:oe.refetch}},ae)}function j(){return(0,u.qp)(ne)}function te(J){const{result:{mutes:ae,blocks:le,blocked:oe}}=(0,u.qp)(ne);return J?ae.includes(J)?"muting":le.includes(J)?"blocking":oe.includes(J)?"blocked":null:null}function ie(J,ae){const le=(0,L.aF)(),oe=!!(le&&J&&le.id!==J.id),ee=j(),z=te(J==null?void 0:J.id),re=(0,M.pm)(),se=(0,g.guessFirstName)((J==null?void 0:J.name)||""),fe=()=>W(this,null,function*(){if(J){try{yield(0,v.rd)(`/api/v1/blocks/${J.id}`,{method:"POST",json:{type:"mute",surface:ae}})}catch(pe){re.popToast(Le=>(0,t.h)(M.FN,K(Q({},Le),{text:(0,w.getNetworkErrorMessage)(pe)})));return}ee.refetch(),re.popToast(pe=>(0,t.h)(M.FN,K(Q({},pe),{text:`${J.name||"User"} muted`,Icon:a})))}}),Ee=()=>W(this,null,function*(){if(J){try{yield(0,v.rd)(`/api/v1/blocks/${J.id}`,{method:"DELETE",query:{surface:ae}})}catch(pe){re.popToast(Le=>(0,t.h)(M.FN,K(Q({},Le),{text:(0,w.getNetworkErrorMessage)(pe)})));return}ee.refetch(),re.popToast(pe=>(0,t.h)(M.FN,K(Q({},pe),{text:`${J.name||"User"} unmuted`,Icon:a})))}}),ge=()=>W(this,null,function*(){if(J){try{yield(0,v.rd)(`/api/v1/blocks/${J.id}`,{method:"POST",json:{type:"block",surface:ae}})}catch(pe){re.popToast(Le=>(0,t.h)(M.FN,K(Q({},Le),{text:(0,w.getNetworkErrorMessage)(pe)})));return}ee.refetch(),re.popToast(pe=>(0,t.h)(M.FN,K(Q({},pe),{text:`${J.name||"User"} blocked`,Icon:s.Z})))}}),be=()=>W(this,null,function*(){if(J){try{yield(0,v.rd)(`/api/v1/blocks/${J.id}`,{method:"DELETE",query:{surface:ae}})}catch(pe){re.popToast(Le=>(0,t.h)(M.FN,K(Q({},Le),{text:(0,w.getNetworkErrorMessage)(pe)})));return}ee.refetch(),re.popToast(pe=>(0,t.h)(M.FN,K(Q({},pe),{text:`${J.name||"User"} unblocked`,Icon:s.Z})))}}),me=[];return oe&&(z!=="blocking"&&me.push((0,t.h)(C.sN,{icon:(0,t.h)(a,null),onClick:z==="muting"?Ee:fe},z==="muting"?"Unmute":"Mute")),me.push((0,t.h)(C.sN,{icon:(0,t.h)(s.Z,null),onClick:z==="blocking"?be:ge},z==="blocking"?"Unblock":"Block"))),me}const ue=(0,t.createContext)(!1);ue.displayName="MuteFreeZone";function he({muteFree:J=!0,children:ae}){return h(ue.Provider,{value:J},ae)}function Z(){return(0,u.qp)(ue)}},2405:(H,E,e)=>{"use strict";e.d(E,{LC:()=>P,uL:()=>g});var t=e(6400),u=e(30396);const s=(0,t.createContext)(null);s.displayName="CrossPostContext";function g({crossPost:y=null,children:O}){return(0,t.h)(s.Provider,{value:y},O)}function P(){return(0,u.qp)(s)}},29910:(H,E,e)=>{"use strict";e.d(E,{Cq:()=>g,UN:()=>P,_j:()=>s});var t=e(6400),u=e(30396);const s=(0,t.createContext)({isSubstack:!1,customDomain:null});s.displayName="DomainInfoContext";function g(){return(0,u.qp)(s)}function P({value:y,children:O}){const c=(0,u.Ye)(()=>y,Object.values(y));return(0,t.h)(s.Provider,{value:c},O)}},4190:(H,E,e)=>{"use strict";e.d(E,{Vt:()=>S,f9:()=>R,jc:()=>N,kx:()=>L,ng:()=>C,xu:()=>v});var t=e(6400),u=e(98661),s=e(30396),g=e(80569),P=e.n(g),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(U,F,$)=>F in U?y(U,F,{enumerable:!0,configurable:!0,writable:!0,value:$}):U[F]=$,I=(U,F)=>{for(var $ in F||(F={}))d.call(F,$)&&D(U,$,F[$]);if(f)for(var $ of f(F))T.call(F,$)&&D(U,$,F[$]);return U},p=(U,F)=>O(U,c(F)),l=(U,F,$)=>new Promise((G,Q)=>{var K=ne=>{try{Y($.next(ne))}catch(V){Q(V)}},W=ne=>{try{Y($.throw(ne))}catch(V){Q(V)}},Y=ne=>ne.done?G(ne.value):Promise.resolve(ne.value).then(K,W);Y(($=$.apply(U,F)).next())}),a;const v={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},w=typeof window!="undefined"&&window._preloads||v,M=typeof window!="undefined"?(a=window._preloads)==null?void 0:a.siteConfigs:{},C=(U,F)=>{const $=Y=>{if(!Y||!U)return null;const ne=U[Y];return ne===void 0?null:ne},G=Y=>{if(!Y)return null;const ne=$(Y);if(ne&&typeof ne=="string"&&ne!=="experiment")return{intendedVariant:ne,shouldLog:!1};if(F.variantOverrides&&Y in F.variantOverrides)return{intendedVariant:F.variantOverrides[Y],shouldLog:!1};const V=F.experimentExposures||{};if(V[Y])return{intendedVariant:V[Y],shouldLog:!1};const j=F.experimentFeatures||{};return j[Y]?{intendedVariant:j[Y],shouldLog:!0}:null};return{getExperimentVariant:Y=>{const ne=G(Y);return ne?ne.intendedVariant:null},exposeExperiment:Y=>l(void 0,null,function*(){const{intendedVariant:ne,shouldLog:V}=G(Y)||{};if(!V)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const j=window._preloads.experimentExposures;j[Y]=ne;try{yield P().post("/api/v1/experiment_exposure").send({experiment_name:Y,variant_name:ne})}catch(te){delete j[Y]}}return!0}),getExposedVariant:Y=>{if(!Y)return null;const ne=$(Y);if(ne&&typeof ne=="string"&&ne!=="experiment")return ne;if(F.variantOverrides&&Y in F.variantOverrides)return F.variantOverrides[Y];const V=F.experimentExposures||{};return V[Y]?V[Y]:null}}},L=(0,t.createContext)(C(M,w));L.displayName="ExperimentsContext";function S({siteConfigs:U={},experimentInfo:F,children:$}){const G=F||w,Q=(0,s.Ye)(()=>C(U,G),[U,...Object.values(G)]);return(0,t.h)(L.Provider,{value:Q},$)}function N(){return(0,s.qp)(L)}const R=U=>{const F=(0,u.forwardRef)(($,G)=>{const Q=N();return(0,t.h)(U,p(I(I({},Q),$),{ref:G}))});return F.displayName=`withExperimentsContext(${U.displayName||U.name||"Anonymous"})`,F}},58718:(H,E,e)=>{"use strict";e.d(E,{OK:()=>he,Rc:()=>ue,oh:()=>j,Sv:()=>te,yr:()=>ie,Xe:()=>Y,oJ:()=>ne});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(82569),y=e.n(P),O=e(95591),c=e(69518),f=e(60779),d=e(59386),T=e(26686),D=e(4508),I=e(50292),p=e(83322),l=e(8479),a=e(17025),v=e(13045),w=e(43028),M=e(61040),C=e(67963);const L={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(Z,J,ae)=>J in Z?S(Z,J,{enumerable:!0,configurable:!0,writable:!0,value:ae}):Z[J]=ae,Q=(Z,J)=>{for(var ae in J||(J={}))F.call(J,ae)&&G(Z,ae,J[ae]);if(U)for(var ae of U(J))$.call(J,ae)&&G(Z,ae,J[ae]);return Z},K=(Z,J)=>N(Z,R(J)),W=(Z,J,ae)=>new Promise((le,oe)=>{var ee=se=>{try{re(ae.next(se))}catch(fe){oe(fe)}},z=se=>{try{re(ae.throw(se))}catch(fe){oe(fe)}},re=se=>se.done?le(se.value):Promise.resolve(se.value).then(ee,z);re((ae=ae.apply(Z,J)).next())});function Y(){return(0,T._)("/api/v1/feed/following")}function ne(){const{mutate:Z}=(0,O.kY)();return(...J)=>Z("/api/v1/feed/following",...J)}function V(Z){const{data:J}=Y();return(J!=null?J:[]).includes(Z!=null?Z:0)}function j(Z,J){const{isFollowing:ae,toggle:le}=te(Z,J),oe=(0,C.aF)(),ee=(0,M.KG)(Z==null?void 0:Z.id),z=!!(oe&&Z&&oe.id!==Z.id)&&!ee,re=(0,p.guessFirstName)((Z==null?void 0:Z.name)||""),se=[];return z&&se.push((0,t.h)(w.sN,{icon:ae?(0,t.h)(d.m,{stroke:"var(--color-primary)"}):(0,t.h)(f.w,{stroke:"var(--color-primary)"}),onClick:le},ae?`Unfollow ${re}`:`Follow ${re}`)),se}function te(Z,J){const ae=(0,C.aF)(),{onboardingModalRef:le}=(0,I.SJ)(),oe=V(Z==null?void 0:Z.id),{mutate:ee,data:z}=Y(),re=(0,v.pm)(),se=(0,p.guessFirstName)((Z==null?void 0:Z.name)||""),fe=ge=>W(this,null,function*(){if(Z){if(!ae&&le.current){le.current.open();return}ee((be=[])=>ge?[...be,Z.id]:y()(be,Z.id),{revalidate:!1});try{yield(0,l.rd)(`/api/v1/feed/${Z.id}/follow`,{method:ge?"POST":"DELETE",json:{surface:J}}),re.popToast(be=>(0,t.h)(v.FN,K(Q({},be),{Icon:ge?c.$:d.m,text:ge?`Followed ${se}`:`Unfollowed ${se}`})))}catch(be){re.popToast(me=>(0,t.h)(v.FN,K(Q({},me),{text:(0,a.getNetworkErrorMessage)(be)})));return}}});return{isFollowing:oe,toggle:()=>fe(!oe),isLoaded:!!z}}function ie(Z,J){const{isFollowing:ae,toggle:le}=te(Z,J),[oe,ee]=(0,u.eJ)(!1);return{isFollowing:ae,buttonProps:{onClick:()=>{le(),ae||ee(!0)},onMouseLeave:()=>ee(!1),className:g()(L.followButton,oe&&L.justFollowed)},css:L}}const ue=(0,D.E7)({className:L.on,as:"span"}),he=(0,D.E7)({className:L.off,as:"span"})},28488:(H,E,e)=>{"use strict";e.d(E,{M1:()=>M,_7:()=>C,fz:()=>L,wj:()=>w});var t=e(6400),u=e(98661),s=e(30396),g=e(36808),P=e.n(g),y=e(3258),O=e(18349),c=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,p=(S,N,R)=>N in S?c(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,l=(S,N)=>{for(var R in N||(N={}))D.call(N,R)&&p(S,R,N[R]);if(T)for(var R of T(N))I.call(N,R)&&p(S,R,N[R]);return S},a=(S,N)=>f(S,d(N));const v="preferred_language",w=(0,t.createContext)({language:"en",baseLanguage:"en",preferredLanguage:P().get(v),iString:(S,...N)=>S,iContext:(S,N)=>N,iPlural:(S,N,R)=>R>1?N:S,iTemplate:(S,...N)=>(0,O.defaultTemplateTranslate)(S,...N),iCombo:(S,N,R,U,...F)=>N,setPreferredLanguage:S=>{}});w.displayName="I18NContext";function M(){return(0,s.qp)(w)}function C({children:S,language:N="en",preferredLanguage:R}){const[U,F]=(0,s.eJ)(()=>R);(0,s.d4)(()=>{U?P().set(v,U):P().remove(v)},[U]);const $=(0,s.Ye)(()=>{const G=U||N;return l({language:G,baseLanguage:N,preferredLanguage:U,setPreferredLanguage:K=>{(0,y.track)(y.EVENTS.PREFERRED_LANGUAGE_SET,{from:G,to:K,surface:"writer-signup"}),F(K)}},O.I18N.i(G))},[N,U]);return(0,t.h)(w.Provider,{value:$},S)}function L(S){const N=(0,u.forwardRef)((R,U)=>{const F=M();return(0,t.h)(S,a(l(l({},F),R),{ref:U}))});return N.displayName=`withI18NContext(${S.displayName||S.name||"Anonymous"})`,N}},85065:(H,E,e)=>{"use strict";e.d(E,{N$:()=>L,lR:()=>N,yH:()=>$});var t=e(6400),u=e(30396),s=e(80569),g=e.n(s),P=e(6742),y=e(35442),O=e(63503),c=e(8479),f=e(17025),d=e.n(f),T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(Q,K,W)=>K in Q?T(Q,K,{enumerable:!0,configurable:!0,writable:!0,value:W}):Q[K]=W,w=(Q,K)=>{for(var W in K||(K={}))l.call(K,W)&&v(Q,W,K[W]);if(p)for(var W of p(K))a.call(K,W)&&v(Q,W,K[W]);return Q},M=(Q,K)=>D(Q,I(K)),C=(Q,K,W)=>new Promise((Y,ne)=>{var V=ie=>{try{te(W.next(ie))}catch(ue){ne(ue)}},j=ie=>{try{te(W.throw(ie))}catch(ue){ne(ue)}},te=ie=>ie.done?Y(ie.value):Promise.resolve(ie.value).then(V,j);te((W=W.apply(Q,K)).next())});function L({defaultState:Q,shouldLoad:K=!0,shouldPoll:W=!1,activityToken:Y,children:ne}){return(0,t.h)(R,{defaultState:Q==null?void 0:Q.activity,shouldLoad:K,shouldPoll:W,activityToken:Y},(0,t.h)(G,{shouldLoad:K},ne))}const S=(0,t.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>C(void 0,null,function*(){return!0}),markAllAsRead:()=>C(void 0,null,function*(){}),hasLoadedOnce:!1});S.displayName="NotificationsContext";function N(){return(0,u.qp)(S)}function R({defaultState:Q,shouldLoad:K=!0,shouldPoll:W=!1,activityToken:Y,children:ne}){const V=(0,c.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:K,initialResult:Q,query:{token:Y}}),j=!(0,P.th)(),te=()=>C(this,null,function*(){const ue=yield g().post("/api/v1/activity/unread").send({after:new Date().toISOString(),token:Y});V.setResult(ue.body)});(0,O.Z)(()=>C(this,null,function*(){var ue;if(W&&K&&(0,f.isWindowVisible)()){const he=((ue=V.result)==null?void 0:ue.count)||0,Z=yield V.refetch(),J=!(Z instanceof Error)&&Z.count||0;if(he!==J)return!0}}),6e4);const ie=V.result!=null?V.result.count:0;return(0,u.d4)(()=>{var ue;try{(ue=navigator.setAppBadge)==null||ue.call(navigator,ie)}catch(he){console.warn(he)}},[ie]),(0,t.h)(S.Provider,{value:{lastViewedAt:V.result!=null?V.result.lastViewedAt:null,activityUnreadCount:ie,activityUnreadAtMax:V.result!=null?V.result.max:!1,refetch:V.refetch,markAllAsRead:te,hasLoadedOnce:V.hasLoadedOnce}},(0,t.h)(y.Metadata,{badge:j?ie:void 0}),ne)}const U={count:0,max:!1,refetch:()=>C(void 0,null,function*(){return!0}),markAllAsRead:()=>C(void 0,null,function*(){}),hasLoadedOnce:!1},F=(0,t.createContext)(U);F.displayName="SavedPostsContext";function $(){return(0,u.qp)(F)}function G({shouldLoad:Q=!0,children:K}){const W=(0,c.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:Q,initialResult:U}),Y=()=>W.refetch({method:"PUT"});return(0,t.h)(F.Provider,{value:M(w({},W.result),{refetch:W.refetch,markAllAsRead:Y,hasLoadedOnce:W.hasLoadedOnce})},K)}},92643:(H,E,e)=>{"use strict";e.d(E,{Un:()=>d,am:()=>f});var t=e(6400),u=e(30396),s=e(80569),g=e.n(s),P=e(95788),y=e(67963),O=(T,D,I)=>new Promise((p,l)=>{var a=M=>{try{w(I.next(M))}catch(C){l(C)}},v=M=>{try{w(I.throw(M))}catch(C){l(C)}},w=M=>M.done?p(M.value):Promise.resolve(M.value).then(a,v);w((I=I.apply(T,D)).next())});const c=(0,t.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});c.displayName="ProfileContext";function f({value:T,handle:D,children:I}){const[p,l]=(0,u.eJ)({profile:null,loading:!1}),[a,v]=(0,u.eJ)(new Map(T?[[D||T.id,{profile:T,loading:!1}]]:[])),w={viewerProfile:p,setViewerProfile:(0,u.I4)((M,C)=>{l(L=>L.profile===M&&L.loading===C?L:{profile:M,loading:C})},[]),profiles:a,setProfile:(0,u.I4)((M,C,L)=>{v(S=>{var N,R;if(((N=S.get(M))==null?void 0:N.profile)===C&&((R=S.get(M))==null?void 0:R.loading)===L)return S;const U=new Map(S);return U.set(M,{profile:C,loading:L}),U})},[])};return(0,t.h)(c.Provider,{value:w},I)}function d({subjectId:T,subjectName:D,delayLoading:I}){const p=(0,y.aF)(),{viewerProfile:l,setViewerProfile:a,profiles:v,setProfile:w}=(0,u.qp)(c),[M,C]=(0,u.eJ)(null);if(typeof T=="string")if(T.includes("-")){const F=T.split("-");T=F[0],D=F.slice(1).join("-")}else T.startsWith("@")&&(T=T.slice(1));const L=v.get(T),S=(0,u.I4)(F=>O(this,null,function*(){a(l.profile,!0);const $=(0,P.H)(F.name,{hashIfEmpty:!0});try{const G=yield g().get(`/api/v1/user/${F.id}-${$}/public_profile/self`).then(Q=>Q.body);a(G,!1)}catch(G){G instanceof Error&&C(G),a(null,!1)}}),[l,a,C]),N=L==null?void 0:L.profile,R=l.profile,U=(0,u.I4)(F=>O(this,null,function*(){!R&&p&&S(p),w(F,N,!0);try{const $=D&&(0,P.H)(D,{hashIfEmpty:!0}),G=yield $?g().get(`/api/v1/user/${F}-${$}/public_profile`).then(Q=>Q.body):g().get(`/api/v1/user/${F}/public_profile`).then(Q=>Q.body);w(F,G,!1)}catch($){$ instanceof Error&&C($),w(F,N,!1)}}),[N,w,D,R,S,p]);return(0,u.d4)(()=>{!I&&!(L!=null&&L.profile)&&!(L!=null&&L.loading)&&!M&&U(T),!I&&!l.loading&&!l.profile&&!M&&p&&S(p)},[I,T,U,L,M,l,S,p]),{loading:!!(L!=null&&L.loading),viewerProfile:l.profile,subjectProfile:L==null?void 0:L.profile,refetch:U,error:M}}},71720:(H,E,e)=>{"use strict";e.d(E,{G:()=>P,I:()=>y});var t=e(6400),u=e(30396),s;const g=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.pub:null,P=(0,t.createContext)(g);P.displayName="PubContext";function y(){return(0,u.qp)(P)}},32076:(H,E,e)=>{"use strict";e.d(E,{Iz:()=>C,So:()=>L,us:()=>M,vz:()=>w});var t=e(6400),u=e(98661),s=e(30396),g=e(8479),P=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(S,N,R)=>N in S?P(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,D=(S,N)=>{for(var R in N||(N={}))f.call(N,R)&&T(S,R,N[R]);if(c)for(var R of c(N))d.call(N,R)&&T(S,R,N[R]);return S},I=(S,N)=>y(S,O(N)),p=(S,N,R)=>new Promise((U,F)=>{var $=K=>{try{Q(R.next(K))}catch(W){F(W)}},G=K=>{try{Q(R.throw(K))}catch(W){F(W)}},Q=K=>K.done?U(K.value):Promise.resolve(K.value).then($,G);Q((R=R.apply(S,N)).next())}),l;const a=typeof window!="undefined"?(l=window._preloads)==null?void 0:l.publicationSettings:{},v=S=>({getSettingFor:R=>{if(!R||!S)return null;const U=S[R];return U===void 0?null:U}}),w=(0,t.createContext)(I(D({},v(a)),{changeSetting:()=>Promise.resolve(void 0)}));w.displayName="PublicationSettingsContext";const M=S=>{const N=(0,u.forwardRef)((R,U)=>{const F=L();return(0,t.h)(S,I(D(D({},F),R),{ref:U}))});return N.displayName=`withPubSettingsContext(${S.displayName||S.name||"Anonymous"})`,N};function C({settings:S={},children:N}){const[R,U]=(0,s.eJ)(S),F=G=>p(this,null,function*(){U(D(D({},R),G));try{yield(0,g.rd)("/api/v1/publication_settings",{method:"PUT",json:G})}catch(Q){console.error(Q)}}),$=(0,s.Ye)(()=>I(D({},v(R)),{changeSetting:F}),[R]);return(0,t.h)(w.Provider,{value:$},N)}function L(){return(0,s.qp)(w)}},63270:(H,E,e)=>{"use strict";e.d(E,{QA:()=>a,Xz:()=>l,vC:()=>v,xR:()=>M,xY:()=>w});var t=e(6400),u=e(98661),s=e(30396),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(C,L,S)=>L in C?g(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,T=(C,L)=>{for(var S in L||(L={}))c.call(L,S)&&d(C,S,L[S]);if(O)for(var S of O(L))f.call(L,S)&&d(C,S,L[S]);return C},D=(C,L)=>P(C,y(L)),I;const p=typeof window!="undefined"?(I=window._preloads)==null?void 0:I.siteConfigs:{},l=C=>({allConfigs:C,getConfigFor:S=>{if(!S||!C)return null;const N=C[S];return N===void 0?null:N}}),a=(0,t.createContext)(l(p));a.displayName="SiteConfigsContext";function v({siteConfigs:C={},children:L}){const S=(0,s.Ye)(()=>l(C),[C]);return(0,t.h)(a.Provider,{value:S},L)}const w=C=>{const L=(0,u.forwardRef)((S,N)=>{const R=M();return(0,t.h)(C,D(T(T({},R),S),{ref:N}))});return L.displayName=`withSiteConfigContext(${C.displayName||C.name||"Anonymous"})`,L};function M(){return(0,s.qp)(a)}},18597:(H,E,e)=>{"use strict";e.d(E,{Tf:()=>g,ze:()=>P});var t=e(6400),u=e(30396);const s=(0,t.createContext)({hasThemedBackground:!1});s.displayName="ThemeContext";function g(){var y;return!!((y=(0,u.qp)(s))!=null&&y.hasThemedBackground)}function P({value:y,children:O}){const c=(0,u.Ye)(()=>y,Object.values(y));return(0,t.h)(s.Provider,{value:c},O)}},67963:(H,E,e)=>{"use strict";e.d(E,{SE:()=>N,St:()=>M,aF:()=>L,dr:()=>C});var t=e(6400),u=e(30396),s=e(8479),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(U,F,$)=>F in U?g(U,F,{enumerable:!0,configurable:!0,writable:!0,value:$}):U[F]=$,T=(U,F)=>{for(var $ in F||(F={}))c.call(F,$)&&d(U,$,F[$]);if(O)for(var $ of O(F))f.call(F,$)&&d(U,$,F[$]);return U},D=(U,F)=>P(U,y(F)),I=(U,F,$)=>new Promise((G,Q)=>{var K=ne=>{try{Y($.next(ne))}catch(V){Q(V)}},W=ne=>{try{Y($.throw(ne))}catch(V){Q(V)}},Y=ne=>ne.done?G(ne.value):Promise.resolve(ne.value).then(K,W);Y(($=$.apply(U,F)).next())}),p,l,a;const v=typeof window!="undefined"?(p=window._preloads)==null?void 0:p.user:null,w=(a=typeof window!="undefined"&&((l=window._preloads)==null?void 0:l.userSettings))!=null?a:{},M=(0,t.createContext)({user:v,setUser:()=>{},userSettings:w,changeSetting:()=>{}});M.displayName="UserContext";function C({defaultValue:U,userSettings:F,children:$}){const[G,Q]=(0,u.eJ)(U||v),[K,W]=(0,u.eJ)(F!=null?F:w),Y=(V,j,te)=>I(this,null,function*(){if(!G)return;const ie=K[V];W(D(T({},K),{[V]:j}));const ue=te==="bool"||!te&&typeof j=="boolean"?j:void 0,he=te==="datetime"||!te&&typeof j=="string"?j:void 0,Z=te==="text"?j:void 0;try{yield(0,s.rd)("/api/v1/user-setting",{method:"PUT",json:{type:V,value_bool:ue,value_datetime:he,value_text:Z}})}catch(J){if(J instanceof s.kp)alert(J.getMessage()),W(ae=>D(T({},ae),{[V]:ie}));else throw J}}),ne=(0,u.Ye)(()=>({user:G,setUser:Q,userSettings:K,changeSetting:Y}),[G,K]);return(0,t.h)(M.Provider,{value:ne},$)}function L(){return(0,u.qp)(M).user}function S(){return useContext(M).userSettings}function N(){return(0,u.qp)(M)}const R=U=>{const F=$=>{const G=useContext(M);return h(U,T({user:G},$))};return F.displayName=`withUserContext(${U.name||U.displayName||"Anonymous"})`,F}},46505:(H,E,e)=>{"use strict";e.d(E,{E:()=>g});var t=e(6400),u=e(32076),s=e(63270);const g=(0,t.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function P({isAmp:y,isFreeSubscribed:O,isFreemail:c,siteConfigValues:f,children:d,isPledged:T,publicationSettings:D}){return h(g.Provider,{value:{isStatic:!0,isAmp:y,isFreeSubscribed:O!==!1,isFreemail:c,siteConfigValues:f,isPledged:T}},h(SiteConfigsProvider,{siteConfigs:f},h(PublicationSettingsProvider,{settings:D},d)))}},95504:(H,E,e)=>{"use strict";var t=e(6400),u=e(30396),s=e(94184),g=e(3258),P=e(59009),y=e(82626),O=e(52743),c=e(83322),f=e(25702),d=e(28488),T=e(43887),D=e(46505),I=e(52273);const p={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var l=Object.defineProperty,a=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,M=(ne,V,j)=>V in ne?l(ne,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):ne[V]=j,C=(ne,V)=>{for(var j in V||(V={}))v.call(V,j)&&M(ne,j,V[j]);if(a)for(var j of a(V))w.call(V,j)&&M(ne,j,V[j]);return ne},L=(ne,V)=>{var j={};for(var te in ne)v.call(ne,te)&&V.indexOf(te)<0&&(j[te]=ne[te]);if(ne!=null&&a)for(var te of a(ne))V.indexOf(te)<0&&w.call(ne,te)&&(j[te]=ne[te]);return j};function S({pub:ne,upsell:V,unsubscribe_url:j,unsubscribeOverrideText:te,hasApp:ie,hideStartWriting:ue}){return h(N,{upsell:V,hasApp:ie,hideStartWriting:ue},h(F,{pub:ne,unsubscribe_url:j,unsubscribeOverrideText:te}))}function N({upsell:ne,children:V,hasApp:j,hideStartWriting:te}){return h("div",{className:classnames("footer",css.footer)},!j&&ne&&h(Fragment,null,h("div",{className:css.footerSection},ne),h("div",{className:css.divider})),V&&h("div",{style:{paddingBottom:24}},V),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!ne&&!j&&h($,null),!te&&h(G,null)))}function R({primary:ne,secondary:V,replaceAppButtonsWithCTA:j}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},ne),h(Text.B4,{color:"secondary",style:{marginBottom:16}},V),!j&&h("div",null,h(K,{utm_source:UTM_SOURCE.substack,utm_campaign:UTM_CAMPAIGN.appMarketing}),h(W,{utm_source:UTM_SOURCE.substack,utm_campaign:UTM_CAMPAIGN.appMarketing})),j&&h("div",null,h(ThemedEmailButtonMod,{href:j.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},j.text)))}function U({children:ne}){return h("div",{className:classnames("footer")},ne)}function F({pub:ne,unsubscribe_url:V,unsubscribeOverrideText:j}){const{iString:te}=useI18N(),ie=joinLines(ne.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,ne.copyright),ie&&ie.split(`
`).reduce((ue,he)=>(ue.push(h("br",null),he),ue),[]),V!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:V||Substitutions.UNSUBSCRIBE_URL},h("span",null,j||te("Unsubscribe"))))])}function $(){const{iString:ne,language:V}=useI18N(),j=`${getSubstackUrl()}/img/email/generic-app-button${V!=="en"?`-${V}`:""}.png`,te={en:131,es:135,it:135,fr:135,de:147,"de-machine":147,pt:135,"pt-br":135};return h("a",{href:getAppStoreRedirectUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.emailFooterButton})},h(Q,{alt:ne("Get the app"),src:j,pixelRatio:3,width:te[V],height:40}))}function G(){const{iString:ne,language:V}=useI18N(),j=`${getSubstackUrl()}/img/email/publish-button${V!=="en"?`-${V}`:""}.png`,te={en:135,es:182,it:164,fr:184,de:203,"de-machine":203,pt:184,"pt-br":184};return h("a",{href:Substitutions.START_WRITING_URL},h(Q,{alt:ne("Start writing"),src:j,pixelRatio:3,width:te[V],height:40}))}function Q(ne){var V=ne,{src:j,pixelRatio:te,width:ie}=V,ue=L(V,["src","pixelRatio","width"]);let he;const{isAmp:Z}=useContext(EmailRenderingContext);if(typeof URL=="undefined")he=null;else{let J;try{J=new URL(j)}catch(le){J=new URL(getSubstackUrl()+j)}const ae=Array(te).fill(0).map((le,oe)=>{if(oe===0)return imginary(j,ie);const ee=new URL(J),[z,re]=ee.pathname.split("."),se=oe+1;return ee.pathname=`${z}@${se}x.${re}`,imginary(ee.toString(),ie*se)});Z?j=ae[ae.length-1]:(j=ae[1]||ae[0],he=ae.map((le,oe)=>oe===0?le:`${le} ${oe+1}x`).join(", "))}return h(Img,C({src:j,srcset:he,width:ie},ue))}function K({utm_campaign:ne,utm_source:V}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:ne,utm_source:V}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:V,app_store:"ios"})}},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function W({utm_campaign:ne,utm_source:V}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:ne,utm_source:V}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:V,app_store:"android"})}},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const Y=({text:ne="Tweet",href:V})=>h("a",{className:css.twitter,href:V},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},ne))},57491:(H,E,e)=>{"use strict";var t=e(6400),u=e(30396),s=e(83322),g=e(46505),P=e(95504),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(N,R,U)=>R in N?y(N,R,{enumerable:!0,configurable:!0,writable:!0,value:U}):N[R]=U,T=(N,R)=>{for(var U in R||(R={}))c.call(R,U)&&d(N,U,R[U]);if(O)for(var U of O(R))f.call(R,U)&&d(N,U,R[U]);return N},D=(N,R)=>{var U={};for(var F in N)c.call(N,F)&&R.indexOf(F)<0&&(U[F]=N[F]);if(N!=null&&O)for(var F of O(N))R.indexOf(F)<0&&f.call(N,F)&&(U[F]=N[F]);return U};const I="550",p=N=>{var R=N,{children:U,className:F}=R,$=D(R,["children","className"]);return h("table",T({role:"presentation",className:F,width:"auto"},$),U)},l=({children:N,className:R,width:U=I})=>(0,t.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{className:"content",width:U}),(0,t.h)("td",null)),(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{align:"left",className:R?`content ${R}`:"content",width:U},(0,t.h)("div",null,N)),(0,t.h)("td",null))),a=({text:N})=>(0,t.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},N," ","\xA0\u200C".repeat(200)),v=({children:N,className:R,description:U,title:F="Email from Substack"})=>h("html",null,h("head",null,h("title",null,F),h("meta",{charset:"utf-8"})),h("body",{className:R},U&&h(a,{text:U}),N)),w=({title:N,description:R,children:U,bodyClassName:F="email-body",className:$="",emailWidth:G=""})=>{const{isAmp:Q}=(0,u.qp)(g.E);return(0,t.h)("html",T({},{amp4email:Q?!0:void 0,"data-css-strict":Q?!0:void 0}),(0,t.h)("head",null,(0,t.h)("meta",{charset:"utf-8"}),!Q&&(0,t.h)("title",null,N),Q&&(0,t.h)(t.Fragment,null,(0,t.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,t.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,t.h)("body",{className:F},R&&(0,t.h)(a,{text:R}),(0,t.h)(l,T({className:$},G&&{width:G}),U)))},M=({title:N,description:R,children:U,className:F,width:$})=>h("html",null,h("head",null,h("title",null,N),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},R&&h(a,{text:R}),h(l,{className:F,width:$},U))),C=()=>{const N=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},N)},L=({delta:N,className:R,withPercent:U})=>{const F=N<0?"negative":N>0?"positive":"neutral";return F==="neutral"?h("span",{className:`${R} neutral`},"\u2013"):h("span",{className:`${R} ${F}`},F==="positive"?`+${numberToString(N)}${U?"%":""}`:`${numberToString(N)}${U?"%":""}`)},S={EmailDocument:w}},52273:(H,E,e)=>{"use strict";e.d(E,{NS:()=>V,_i:()=>W,zK:()=>he,i$:()=>ue,YF:()=>ae,Bj:()=>Y,b9:()=>ne});var t=e(6400),u=e(94184),s=e.n(u),g=e(39693),P=e(32542),y=e(14531),O=e(74806),c=e(52743),f=e(83322),d=e(45809),T=e(25702),D=e(19696),I=e(9178),p=e(57491),l=e(95504);const a={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var v=Object.defineProperty,w=Object.defineProperties,M=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,N=(z,re,se)=>re in z?v(z,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):z[re]=se,R=(z,re)=>{for(var se in re||(re={}))L.call(re,se)&&N(z,se,re[se]);if(C)for(var se of C(re))S.call(re,se)&&N(z,se,re[se]);return z},U=(z,re)=>w(z,M(re)),F=(z,re)=>{var se={};for(var fe in z)L.call(z,fe)&&re.indexOf(fe)<0&&(se[fe]=z[fe]);if(z!=null&&C)for(var fe of C(z))re.indexOf(fe)<0&&S.call(z,fe)&&(se[fe]=z[fe]);return se};function $(z){return h(G,U(R({},z),{unsubscribe_url:"%%unsubscribe_url%%"}))}function G({pub:z=wwwPub,description:re,noPromo:se,children:fe,noLogo:Ee,noFooter:ge,unsubscribe_url:be,hasApp:me}){const pe=(z.id===0||!!getLogo(z))&&!Ee;return h(J,{description:re},h(ue,{gap:16},compact([pe&&h(PubIcon,{pub:z.is_www?U(R({},z),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):z,size:40}),fe,ge?null:se?h(K,{pub:z,unsubscribe_url:be}):h(Q,{pub:z,unsubscribe_url:be,hasApp:me}),h(SignatureFoldBreaker,null)])))}function Q(z){var re=z,{pub:se,unsubscribe_url:fe}=re,Ee=F(re,["pub","unsubscribe_url"]);return se?h(EmailFooter,R({pub:se,unsubscribe_url:fe==null?!1:fe},Ee)):null}function K({pub:z,unsubscribe_url:re}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:z,unsubscribe_url:re==null?!1:re}))}function W({children:z,href:re,testId:se,tableClassName:fe,tdClassName:Ee,aClassName:ge,alt:be,download:me,target:pe,style:Le}){return(0,t.h)(ae,{className:fe,style:Le},(0,t.h)("tr",null,(0,t.h)("td",{className:Ee,align:"center"},re?(0,t.h)("a",{href:re,className:s()(ge),"data-test-id":se,alt:be,download:me,target:pe},z):(0,t.h)("span",{className:ge,"data-test-id":se},z))))}function Y(z={children:"",noUnderline:!1}){return(0,t.h)(W,U(R({},z),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function ne(z){var re=z,{fullWidth:se,priority:fe="primary",aClassName:Ee}=re,ge=F(re,["fullWidth","priority","aClassName"]);return(0,t.h)(W,U(R({},ge),{tableClassName:se?a.fullWidth:void 0,aClassName:s()(se&&a.fullWidth,a.emailButtonA,Ee),tdClassName:s()(se&&a.fullWidth,a.emailButtonTd,a[`priority_${fe}`])}))}function V({src:z,size:re,framed:se}){return(0,t.h)(T.Z,{className:s()(y.A.avatar,a.avatar,se&&a.framed),src:(0,c.imginary)(z),style:{width:re,height:re,minWidth:re,minHeight:re,objectFit:"cover",margin:0,display:"inline"},width:re,height:re})}function j({src:z,size:re}){return h(Img,{className:css.icon,src:imginary(z),style:{width:re,height:re,minWidth:re,minHeight:re,objectFit:"cover",margin:0},width:re,height:re})}const te=(0,D.L)("email-text-button","a"),ie=(0,D.L)("email-text-b4 email-text-secondary","div");function ue({children:z,gap:re=0,style:se}){const fe=(0,t.toChildArray)(z),Ee=[];for(const be of fe.slice(0,-1))Ee.push((0,t.h)("tr",null,(0,t.h)("td",null,be))),re>0&&Ee.push((0,t.h)("tr",{height:re},(0,t.h)("td",null)));const ge=fe[fe.length-1];return ge&&Ee.push((0,t.h)("tr",null,(0,t.h)("td",null,ge))),(0,t.h)(ae,{style:se},Ee)}function he({children:z,gap:re=0,style:se,verticalAlign:fe="middle",growLastChild:Ee}){const ge=(0,t.toChildArray)(z),be=[];for(const pe of ge.slice(0,-1))be.push((0,t.h)("td",{style:{verticalAlign:fe}},pe)),re>0&&be.push((0,t.h)("td",{width:re,style:`min-width: ${re}px`}));const me=ge[ge.length-1];if(me){const pe={verticalAlign:fe};Ee&&(pe.width="100%"),be.push((0,t.h)("td",{style:pe},me))}return(0,t.h)(ae,{style:se},(0,t.h)("tr",null,be))}function Z({users:z,post:re,pub:se,user:fe}){return h(FormattedArray,{array:z,limit:3,formatter:Ee=>h("a",{href:getReaderProfileUrl(Ee)},anonymousName(Ee,re,se,fe))})}function J({children:z,description:re}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:re},h(ae,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},z),h("td",{style:{color:"transparent"}},"\xA0"))))}function ae(z){var re=z,{children:se}=re,fe=F(re,["children"]);return(0,t.h)("table",R({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},fe),se)}function le(z){var re=z,{src:se}=re,fe=F(re,["src"]);return h(Img,R({src:getSubstackUrl()+se},fe))}function oe(z){var re=z,{src:se,width:fe,height:Ee}=re,ge=F(re,["src","width","height"]);return h(Img,R({src:imginary(se,fe*2,{height:Ee&&Ee*2})},ge))}function ee(){return h("div",{className:css.emailSeparator})}},78515:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l,a:()=>v});var t=e(98661),u=e(6400),s=e(36808),g=e.n(s),P=e(18349),y=e(52743),O=e(3258),c=e(17025),f=e.n(c),d=e(37888),T=e(33291);e(14369);const D="entry",I="ajs_anonymous_id";let p;function l(N){var R,U,F;if(p)throw new Error("Cannot re-render the things");p=N,window._preloads&&(window._preloads.original_url=window.location.href),(0,O.initAnalytics)(),(0,d.j0)((U=(R=window._preloads)==null?void 0:R.user)==null?void 0:U.id),L(),w(),M(),(F=window._preloads)!=null&&F.language&&typeof window._preloads.customPublicationThemePreviewId=="undefined"&&P.supportedNonEnglishLanguages.indexOf(window._preloads.language)>-1&&window.fetch?a(C,window._preloads.language):C(),S()}function a(N,R){fetch(`/api/v1/i18n/translations?language=${R}`,{method:"GET"}).then(U=>U.json()).then(U=>{P.I18N.l(R,U)}).finally(()=>{N()})}function v(N){let R=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const U in N)(typeof N[U]=="object"&&N[U]!==null||N[U]!==window._preloads[U])&&(window._preloads[U]=N[U],R=!0);R&&C()}function w(){const N=(0,y.parseQuery)(window.location.href);if(!N.token&&!N.lli||!window.history.replaceState)return;delete N.token,delete N.lli;const R=`${(0,y.pathWithQuery)(window.location.pathname,N)}${window.location.hash}`;window.history.replaceState({},document.title,R)}function M(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const N=window.history.pushState;history.pushState=function(R,U,F){var $;const G=N.apply(history,arguments);return(($=R==null?void 0:R.resetScroll)!=null?$:!0)&&F.indexOf("#")===-1&&window.scrollTo(0,0),G}}function C(){if(!p)return;const N=document.getElementById(D);(0,u.render)((0,u.h)(p,{initialData:window._preloads}),N||document.body)}function L(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let N;try{N=JSON.parse(s.get(I))}catch(R){}N||(N=(0,c.uuidV4)(),s.set(I,JSON.stringify(N),{expires:365})),window._analyticsConfig.anonymousId=N}}function S(){var N;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(N=window._preloads.user)!=null&&N.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},67565:(H,E,e)=>{"use strict";e.d(E,{k:()=>ae,y:()=>V});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(27484),y=e.n(P),O=e(65445),c=e(47467),f=e(18130),d=e(59009),T=e(85870),D=e(20501),I=e(16495),p=e(79786),l=e(84040),a=e(51126),v=e(43887),w=e(97868),M=e(41474),C=e(73413),L=e(44396),S=e(52543),N=e(66337),R=e(89447),U=e(62017),F=e(95406),$=e(28967),G=Object.defineProperty,Q=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,Y=(le,oe,ee)=>oe in le?G(le,oe,{enumerable:!0,configurable:!0,writable:!0,value:ee}):le[oe]=ee,ne=(le,oe)=>{for(var ee in oe||(oe={}))K.call(oe,ee)&&Y(le,ee,oe[ee]);if(Q)for(var ee of Q(oe))W.call(oe,ee)&&Y(le,ee,oe[ee]);return le};function V({attachments:le,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re}){if(le.length===0)return null;const se=le.filter(Ee=>Ee.type==="image"),fe=le.filter(Ee=>Ee.type!=="image");return(0,t.h)(t.Fragment,null,se.length>0&&(0,t.h)(I.q,{readOnly:oe,isRestack:ee,assets:se.map(Ee=>({src:Ee.imageUrl,explicit:Ee.explicit}))}),fe.map(Ee=>(0,t.h)(j,{attachment:Ee,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re})))}function j({attachment:le,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re}){var se;return(0,T.bP)(le)?(0,t.h)(ie,{attachment:le,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re}):le.type==="image"?(0,t.h)(I.q,{readOnly:oe,isRestack:ee,assets:[le.imageUrl],onClick:z}):le.type==="link"?(0,t.h)(Z,ne({readOnly:oe,onClick:z,isExplicit:le.explicit},le.linkMetadata)):le.type==="comment"?(0,t.h)(ue,{readOnly:oe,publication:(se=le.publication)!=null?se:void 0,post:le.post,comment:le.comment,onAttachmentClick:z,utm_content:re}):le.type==="post"?le.postSelection?(0,t.h)(R.s,{readOnly:oe,attachment:le,onClick:z}):(0,t.h)(N.I,{readOnly:oe,publication:le.publication,post:le.post,onClick:z}):le.type==="publication"?(0,t.h)(he,{readOnly:oe,publication:le.publication,onClick:z}):(0,t.h)(te,{attachment:le})}function te({}){return(0,t.h)(a.hs,null)}function ie({attachment:le,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re}){const se=[T.sC.YouBlocked,T.sC.YouMuted].includes(le.reason)&&!!le.hidden_attachment,[fe,Ee]=(0,u.eJ)(!1);return fe&&le.hidden_attachment?(0,t.h)(j,{attachment:le.hidden_attachment,readOnly:oe,isRestack:ee,onAttachmentClick:z,utm_content:re}):(0,t.h)(a.hs,{bg:"elevated",border:"detail",justifyContent:se?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,t.h)(v.xv.B4,{color:"secondary",align:"center"},le.reason===T.sC.YouBlocked?"This note is from someone you blocked.":le.reason===T.sC.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),se&&(0,t.h)(l.kG,{resetCss:!0,onClick:()=>{var ge;(0,M.Kr)(le.id,le.reason,{noteId:(ge=le.hidden_attachment)==null?void 0:ge.id}),Ee(!0)}},(0,t.h)(v.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function ue({comment:le,publication:oe,readOnly:ee,onAttachmentClick:z,utm_content:re}){var se,fe,Ee;const{truncatedBodyJson:ge}=(0,F.Z)(le,{characterTruncationLimit:280,characterTruncationThreshold:280});return(0,t.h)(a.tu,{className:$.Z.post,as:ee?"div":"a",bg:"elevated",border:"detail",radius:12,href:ee?void 0:(0,D.getFeedCommentUrl)(le),onClick:()=>z==null?void 0:z({commentId:le.id}),padding:12,gap:8},(0,t.h)(a.hs,{gap:8,alignItems:"center"},(0,t.h)(f.r,{href:(0,D.getReaderProfileUrl)(le.user,{noBase:C.L,utm_content:d.UTM_CONTENT.substackFeedItem,utm_source:re!=null?re:void 0}),showBack:!0},(0,t.h)(w.qE,{size:20,user:le.user})),(0,t.h)(a.hs,{alignItems:"center",gap:8},(0,t.h)(v.xv.B4,{weight:"medium"},ee?le.user.name:(0,t.h)(U.xG,{user:le.user,utm_source:d.UTM_SOURCE.substackFeedItem,utm_content:re},le.user.name)),(0,t.h)(J,{comment:le}))),le.body&&(0,t.h)(v.xv.B4,{className:$.Z.feedCommentBodyInner},le.hidden?oe&&(0,t.h)("i",null,"This comment is only visible to paid subscribers of"," ",oe.name):ge&&(0,t.h)(S.x,{content:ge})),((fe=(se=le.attachments)==null?void 0:se.length)!=null?fe:0)>0&&(0,t.h)(V,{isRestack:!0,attachments:(Ee=le.attachments)!=null?Ee:[],onAttachmentClick:z,utm_content:re}))}function he({publication:le,readOnly:oe,onClick:ee}){var z;return(0,t.h)(Z,{image:(z=le.logo_url)!=null?z:void 0,title:le.name,description:le.hero_text,url:le.base_url,onClick:ee,host:le.base_url.replace(/^https?:\/\//,""),readOnly:oe,isExplicit:le.explicit})}function Z({image:le,title:oe,description:ee,url:z,host:re,readOnly:se,isExplicit:fe,onClick:Ee}){const ge=(0,L.XA)(),{isHidden:be,onShow:me}=(0,c.Sl)(!!fe);return(0,t.h)(a.hs,{className:$.Z.post,position:"relative",padding:12,gap:12,as:se?"div":"a",bg:"elevated",border:"detail",radius:12,href:se?void 0:z,onClick:Ee,rel:"nofollow noopener ugc",target:"_blank"},(0,t.h)(a.tu,{gap:2,flex:"grow",minWidth:0},(0,t.h)(v.xv.Meta,{color:"secondary",ellipsis:!0},re),ge?(0,t.h)(v.xv.B4,{clamp:1},oe):(0,t.h)(v.xv.B3,{clamp:2,weight:"medium"},oe),ee&&(0,t.h)(v.xv.B4,{as:"p",color:"secondary",clamp:ge?1:2},ee)),le?(0,t.h)(p.e,{className:g()($.Z.linkImage,ge&&$.Z.mobile),src:le,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}):(0,t.h)(a.hs,{alignItems:"center",justifyContent:"center",radius:12,className:g()($.Z.linkImage,$.Z.linkImagePlaceholder,ge&&$.Z.mobile)},(0,t.h)(O.Z,null)),be&&(0,t.h)(c.HU,{onShow:me}))}function J({post:le,comment:oe}){return(0,t.h)(v.xv.B4,{color:"secondary"},y()((oe==null?void 0:oe.date)||(le==null?void 0:le.post_date)).fromNowShort())}function ae(le){var oe;switch(le.type){case"post":return le.postSelection?(0,D.getPostUrl)(le.publication,le.post,{urlParams:{selection:le.postSelection.id}}):le.post.canonical_url;case"comment":return(0,D.getFeedCommentUrl)(le.comment);case"publication":return le.publication.base_url;case"link":return(oe=le.linkMetadata.url)!=null?oe:null;default:return null}}},52543:(H,E,e)=>{"use strict";e.d(E,{x:()=>D});var t=e(6400),u=e(74691),s=e.n(u),g=e(36487),P=e(51041),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p};function D({content:p}){return(0,t.h)(I,{content:p})}function I({content:p}){var l,a,v,w,M,C,L;if(p.type==="text"){const N=(v=(a=(l=p.marks)==null?void 0:l.find(F=>F.type==="link"))==null?void 0:a.attrs)==null?void 0:v.href,R=N?(0,g.u)(N):p.text;let U=(0,t.h)(t.Fragment,null,R);if(p.marks)for(const F of p.marks)F.type==="link"?U=(0,t.h)("a",T({className:"note-link"},F.attrs),U):F.type==="bold"?U=(0,t.h)("strong",null,U):F.type==="italic"?U=(0,t.h)("em",null,U):F.type==="strike"?U=(0,t.h)("s",null,U):F.type==="code"&&(U=(0,t.h)("code",null,U));return U}const S=(w=p.content)==null?void 0:w.filter(N=>!!N).map(N=>(0,t.h)(I,{content:N}));if(p.type==="substack_mention"){const{id:N,label:R,mentionType:U,url:F}=(M=p.attrs)!=null?M:{};return N&&R?(0,t.h)(P.p,{id:N,label:R,type:U,url:F}):null}if(p.type==="doc")return(0,t.h)("div",{className:"ProseMirror FeedProseMirror"},S);if(p.type==="paragraph")return(0,t.h)("p",null,S);if(p.type==="heading"){const N=`h${s()(((L=(C=p.attrs)==null?void 0:C.level)!=null?L:1)+1,2,6)}`;return(0,t.h)(N,null,S)}return p.type==="blockquote"?(0,t.h)("blockquote",null,S):p.type==="codeBlock"?(0,t.h)("pre",null,(0,t.h)("code",null,S)):p.type==="orderedList"?(0,t.h)("ol",null,S):p.type==="bulletList"?(0,t.h)("ul",null,S):p.type==="listItem"?(0,t.h)("li",null,S):null}},47467:(H,E,e)=>{"use strict";e.d(E,{HU:()=>D,Sl:()=>d,cD:()=>T});var t=e(6400),u=e(30396),s=e(23260),g=e(20964),P=e(84040),y=e(9738),O=e(51126),c=e(43887),f=e(33970);function d(I){const p=(0,g.M)(),[l,a]=(0,u.eJ)(I&&!p);return{isHidden:l,onShow:()=>a(!1)}}function T({onShow:I,description:p}){return(0,t.h)(D,{onShow:I},(0,t.h)(y.C,null,(0,t.h)(O.tu,{gap:4,textAlign:"center"},(0,t.h)(c.xv.B4,{weight:"bold"},"Explicit content"),(0,t.h)(c.xv.B4,{color:"secondary"},p)),(0,t.h)(P.zx,{className:f.Z.showAnyway,priority:"secondary",outline:"none"},"Show anyway")))}function D({onShow:I,children:p}){return(0,t.h)(O.tu,{justifyContent:"center",alignItems:"center",position:"absolute",inset:0,bg:"glass-inverted-thick",gap:16,cursor:"pointer",onClick:l=>{l.preventDefault(),I()}},(0,t.h)(s.Z,{size:24,stroke:"var(--color-white)"}),p)}},60779:(H,E,e)=>{"use strict";e.d(E,{w:()=>u});var t=e(6400);function u({size:s=20,stroke:g="var(--color-light-secondary)"}){return(0,t.h)("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:g,xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(H,E,e)=>{"use strict";e.d(E,{$:()=>D});var t=e(6400),u=Object.defineProperty,s=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(I,p,l)=>p in I?u(I,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):I[p]=l,f=(I,p)=>{for(var l in p||(p={}))y.call(p,l)&&c(I,l,p[l]);if(P)for(var l of P(p))O.call(p,l)&&c(I,l,p[l]);return I},d=(I,p)=>s(I,g(p)),T=(I,p)=>{var l={};for(var a in I)y.call(I,a)&&p.indexOf(a)<0&&(l[a]=I[a]);if(I!=null&&P)for(var a of P(I))p.indexOf(a)<0&&O.call(I,a)&&(l[a]=I[a]);return l};function D(I){var p=I,{size:l=20,stroke:a="var(--color-light-secondary)"}=p,v=T(p,["size","stroke"]);return(0,t.h)("svg",d(f({},v),{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},51041:(H,E,e)=>{"use strict";e.d(E,{p:()=>P});var t=e(6400),u=e(80332),s=e(44695),g=e(2731);function P({id:c,label:f,type:d,url:T}){return(0,t.h)("span",{className:"node-substack_mention"},d==="pub"?(0,t.h)(O,{id:c,url:T,label:f}):(0,t.h)(y,{id:c,label:f}))}function y({id:c,label:f}){return(0,t.h)(u.ProfileHoverCard,{inline:!0,subject:{id:c,name:f}},(0,t.h)("a",{className:"substack-mention",href:(0,g.GR)(c,f)},"@",f))}function O({id:c,url:f,label:d}){return(0,t.h)(s.Sm,{publication_id:c,inline:!0},(0,t.h)("a",{className:"substack-mention",href:f},"@",d))}},89447:(H,E,e)=>{"use strict";e.d(E,{s:()=>w});var t=e(6400),u=e(94184),s=e.n(u),g=e(2564),P=e(6385),y=e(20501),O=e(80332),c=e(16527),f=e(51126),d=e(43887),T=e(97868),D=e(73413),I=e(44396),p=e(70762),l=e(62017),a=e(28967);const v="notes_quote_attachment";function w({attachment:C,readOnly:L,onClick:S}){const N=(0,I.XA)(),{postSelection:R,post:U,publication:F,author:$}=C,G=$!=null?$:(0,P.getPostAuthor)(F,U),Q=(0,p._)({publication:F,subscriptionSource:v,publicationName:F.name}),K=(0,t.h)(T.qE,{size:36,user:G});return(0,t.h)(f.tu,{className:a.Z.quote,as:L?"div":"a",border:"detail",radius:12,onClick:W=>{S&&S(),!N&&D.L&&!L&&(0,c.Q)(W,(0,y.getPostUrl)(F,U,{noBase:!N,feedViewer:!N,urlParams:{selection:R.id}}))},href:L?void 0:(0,y.getPostUrl)(F,U,{feedViewer:!1,urlParams:{selection:R.id}})},(0,t.h)(f.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,t.h)(d.xv,{font:"serif",className:s()(a.Z.quoteText,N&&a.Z.mobile)},"\u201C",M(R.text),"\u201D")),(0,t.h)(f.hs,{className:a.Z.quoteBottom,alignItems:"center",paddingX:N?12:16,paddingY:N?8:12,gap:12},(0,t.h)(f.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},L?K:(0,t.h)(O.ProfileHoverCard,{subject:G,dontStopPropagation:!0,utmSource:"feed"},K),(0,t.h)(f.tu,{minWidth:0,flex:"grow"},(0,t.h)(d.xv.B4,{weight:"medium",ellipsis:!0},L?G.name:(0,t.h)(l.Zg,{user:G,ellipsis:!0,utm_source:v})),(0,t.h)(f.hs,{gap:6,minWidth:0},(0,t.h)(d.xv.B4,{color:"secondary",ellipsis:!0},U.title),Q.showCta&&(0,t.h)(t.Fragment,null,(0,t.h)(d.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,t.h)(d.xv.B4,{color:Q.isSubscribed?"secondary":"substack"},(0,t.h)(l.hh,{href:"javascript:void",onClick:L?void 0:Q.isSubscribed?Q.unsubscribe:Q.subscribe},Q.isSubscribed?"Subscribed":"Subscribe")))))),(0,t.h)(g.Z,{size:24,color:"var(--color-secondary)"})))}function M(C){return C.replace(/[“]/g,"\u2018").replace(/[”]/g,"\u2019").replace(/["]/g,"'")}},66337:(H,E,e)=>{"use strict";e.d(E,{I:()=>M});var t=e(6400),u=e(94184),s=e.n(u),g=e(47467),P=e(72307),y=e(79675),O=e(67256),c=e(52743),f=e(20501),d=e(79786),T=e(16527),D=e(51126),I=e(43887),p=e(73413),l=e(33510),a=e(9178),v=e(44396),w=e(28967);function M({post:C,publication:L,readOnly:S,onClick:N}){var R,U;const F=(0,v.XA)(),{isHidden:$,onShow:G}=(0,g.Sl)(!!(L.explicit||C.explicit||C.cover_image_is_explicit||(R=C.videoUpload)!=null&&R.explicit)),{isPaid:Q,isFreeSubscribed:K}=(0,P.Y0)(L.id),W=C.cover_image,Y=C.videoUpload,ne=C.podcastUpload&&!C.videoUpload;let V;if(Y&&C.videoUpload)V=(0,t.h)(y.L,{disableAutoPlay:$,isFreeSubscribed:K,isSubscribed:Q,mediaUpload:C.videoUpload,post:C,pub:L,startMuted:!0});else if(ne){const j=C.section_id&&L.sections&&(U=L.sections.find(te=>te.id===C.section_id))!=null?U:null;V=(0,t.h)(O.lU,{isFreeSubscribed:K,isSubscribed:Q,post:C,pub:L,section:j,variant:"notes-embed"})}else C.cover_image&&(V=(0,t.h)(d.e,{className:s()(w.Z.postImage,F&&w.Z.mobile),imageProps:{smartCrop:!0,aspect:F?"3:2":"2:1"},src:C.cover_image,maxWidth:1e3}));return(0,t.h)(D.tu,{as:S?"div":"a",className:w.Z.post,position:"relative",bg:"elevated",border:"detail",radius:12,onClick:j=>{N&&N(),!S&&p.L&&(0,T.Q)(j,(0,f.getPostUrl)(L,C,{noBase:!0,feedViewer:!0}))},href:S?void 0:(0,f.getPostUrl)(L,C,{feedViewer:!1}),minWidth:0},V,!ne&&(0,t.h)(D.tu,{gap:4,padding:12,borderTop:W?"detail":"transparent"},(0,t.h)(D.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,t.h)(a.F,{pub:L,size:20}),(0,t.h)(I.xv.Meta,{ellipsis:!0},S?L.name:(0,t.h)(l.zr,{href:(0,c.getPubUrl)(L)},L.name))),(0,t.h)(I.xv.B3,{clamp:F?1:2,color:"primary",weight:"medium"},C.title),(0,t.h)(I.xv.B4,{clamp:2,color:"secondary"},C.description)),$&&(0,t.h)(g.cD,{onShow:G,description:"This post was hidden by your settings."}))}},62017:(H,E,e)=>{"use strict";e.d(E,{xG:()=>S,Zg:()=>L,hh:()=>N});var t=e(6400),u=e(94184),s=e.n(u),g=e(2731),P=e(80332),y=e(67963),O=e(43887),c=e(73413),f=e(18130);const d={link:"frontend-feed-TextLink-module__link--VuuIc"};var T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(R,U,F)=>U in R?T(R,U,{enumerable:!0,configurable:!0,writable:!0,value:F}):R[U]=F,w=(R,U)=>{for(var F in U||(U={}))l.call(U,F)&&v(R,F,U[F]);if(p)for(var F of p(U))a.call(U,F)&&v(R,F,U[F]);return R},M=(R,U)=>D(R,I(U)),C=(R,U)=>{var F={};for(var $ in R)l.call(R,$)&&U.indexOf($)<0&&(F[$]=R[$]);if(R!=null&&p)for(var $ of p(R))U.indexOf($)<0&&a.call(R,$)&&(F[$]=R[$]);return F};function L(R){var U=R,{user:F,utm_source:$,utm_content:G,ellipsis:Q,useYou:K,onClick:W}=U,Y=C(U,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const ne=(0,y.aF)(),V=(F==null?void 0:F.id)||(F==null?void 0:F.user_id)||0,j=K&&(ne==null?void 0:ne.id)===V?"You":F.name;return(0,t.h)(S,w({user:F,utm_source:$,utm_content:G,ellipsis:Q,onClick:W},Y),j)}function S(R){var U=R,{user:F,utm_source:$,utm_content:G,children:Q,onClick:K}=U,W=C(U,["user","utm_source","utm_content","children","onClick"]);const Y=M(w({},F),{id:F.author_id||F.user_id||F.id,name:F.user_profile_name||F.author_name||F.name,handle:(F==null?void 0:F.handle)||(F==null?void 0:F.author_handle)});return(0,t.h)(P.ProfileHoverCard,{subject:Y,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,t.h)(N,w({href:(0,g.NN)(F,{noBase:c.L,utm_content:G,utm_source:$}),onClick:K,showBack:!0},W),Q))}function N(R){var U=R,{weight:F,color:$,decoration:G="hover-underline",ellipsis:Q,native:K,className:W}=U,Y=C(U,["weight","color","decoration","ellipsis","native","className"]);const ne=Y.href,V=ne==null?void 0:ne.match(/^([a-z]+:)?\/\//),j=K!=null?K:V&&!(ne!=null&&ne.startsWith(document.location.origin));return(0,t.h)(O.Zx,{ellipsis:Q,weight:F,color:$,decoration:G},j?(0,t.h)("a",M(w({},Y),{className:s()(W,d.link)})):(0,t.h)(f.r,M(w({},Y),{className:s()(W,d.link)})))}},59386:(H,E,e)=>{"use strict";e.d(E,{m:()=>D});var t=e(6400),u=Object.defineProperty,s=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(I,p,l)=>p in I?u(I,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):I[p]=l,f=(I,p)=>{for(var l in p||(p={}))y.call(p,l)&&c(I,l,p[l]);if(P)for(var l of P(p))O.call(p,l)&&c(I,l,p[l]);return I},d=(I,p)=>s(I,g(p)),T=(I,p)=>{var l={};for(var a in I)y.call(I,a)&&p.indexOf(a)<0&&(l[a]=I[a]);if(I!=null&&P)for(var a of P(I))p.indexOf(a)<0&&O.call(I,a)&&(l[a]=I[a]);return l};function D(I){var p=I,{size:l=20,stroke:a="var(--color-light-secondary)"}=p,v=T(p,["size","stroke"]);return(0,t.h)("svg",d(f({},v),{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:a,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(H,E,e)=>{"use strict";e.d(E,{Fb:()=>Q,KF:()=>F,Ku:()=>U,Zb:()=>$,oM:()=>S,sP:()=>G});var t=e(6400),u=e(94184),s=e.n(u),g=e(85928),P=e.n(g),y=e(20501),O=e(80332),c=e(51126),f=e(43887),d=e(97868),T=e(73413),D=e(18130),I=e(44396),p=e(28967),l=Object.defineProperty,a=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,M=(K,W,Y)=>W in K?l(K,W,{enumerable:!0,configurable:!0,writable:!0,value:Y}):K[W]=Y,C=(K,W)=>{for(var Y in W||(W={}))v.call(W,Y)&&M(K,Y,W[Y]);if(a)for(var Y of a(W))w.call(W,Y)&&M(K,Y,W[Y]);return K},L=(K,W)=>{var Y={};for(var ne in K)v.call(K,ne)&&W.indexOf(ne)<0&&(Y[ne]=K[ne]);if(K!=null&&a)for(var ne of a(K))W.indexOf(ne)<0&&w.call(K,ne)&&(Y[ne]=K[ne]);return Y};function S(K){var W=K,{showGutter:Y=!1,hasAvatar:ne=!0,hasContext:V=!1,onClick:j}=W,te=L(W,["showGutter","hasAvatar","hasContext","onClick"]);const ie=j?ue=>{const{target:he}=ue;he instanceof Element&&he.closest("button, a")||ue.defaultPrevented||j(ue)}:void 0;return(0,t.h)(c.tu,C({className:s()(p.Z.feedUnit,Y?p.Z.showThreadGutter:void 0,V?p.Z.hasContext:void 0,j&&p.Z.hasAction,ne?p.Z.hasAvatar:void 0),gap:4,onClick:ie},te))}const N=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),R=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function U({timestamp:K}){const W=P()(),Y=P()(K),ne=W.diff(Y,"day"),V=W.diff(Y,"year");let j;return V>=1?j=R.format(Y.toDate()):ne>7?j=N.format(Y.toDate()):j=Y.fromNowShort(),(0,t.h)(f.Zx,{color:"secondary"},K&&j)}function F({children:K}){return(0,t.h)(f.xv.B3,null,(0,t.h)(c.hs,{flex:"grow",minWidth:0},(0,t.h)(c.hs,{gap:8,alignItems:"center",flex:"grow"},K)))}function $({user:K,className:W}){const Y=(0,I.XA)();return(0,t.h)(d.qE,{size:Y?36:40,user:K,className:W})}function G({large:K,children:W}){return K?(0,t.h)(f.xv.B2,{className:p.Z.feedCommentBodyInner,color:"primary"},W):(0,t.h)(f.xv.B3,{className:p.Z.feedCommentBodyInner,color:"primary"},W)}function Q({user:K,onClick:W,utm_content:Y}){const ne=(0,D.c)({href:(0,y.getReaderProfileUrl)(K,{noBase:T.L}),state:{showBack:!0},onClick:W,campaign:{content:Y}});return(0,t.h)(c.hs,C({as:"a",flex:"auto",alignSelf:"start"},ne),(0,t.h)(O.ProfileHoverCard,{subject:K,dontStopPropagation:!0,utmSource:"feed"},(0,t.h)($,{user:K})))}},69371:(H,E,e)=>{"use strict";e.d(E,{$U:()=>f,rI:()=>D});var t=e(6400),u=e(98661),s=e(30396),g=e(21288),P=e(9686),y=e(91870),O=e(50292),c=e(10174);function f({state:I,dispatch:p,surface:l,children:a}){const{onboardingModalRef:v}=(0,O.SJ)(),w=(0,s.Ye)(()=>({dispatch:p}),[]);return(0,t.h)(d.Provider,{value:l},(0,t.h)(y.RR.Provider,{value:w},(0,t.h)(y.ev.Provider,{value:I},(0,t.h)(c.Au,null,(0,t.h)(g.qS,null,a,I.isSigningIn&&(0,t.h)(P.I,{onCancel:()=>p({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{p({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var M;p({type:"sign_in",payload:{isSigningIn:!1}}),(M=v.current)==null||M.open()},noExit:I.signInNoExit}))))))}const d=(0,u.createContext)("feed");function T({surface:I,children:p}){return h(d.Provider,{value:I},p)}function D(){return(0,s.qp)(d)}},77883:(H,E,e)=>{"use strict";e.d(E,{G:()=>L});var t=e(6400),u=e(71375),s=e(25380),g=e(58718),P=e(67963),y=e(72496),O=e(8479),c=e(75425),f=e(72307),d=e(3258),T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?T(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,w=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(p)for(var R of p(N))a.call(N,R)&&v(S,R,N[R]);return S},M=(S,N)=>D(S,I(N)),C=(S,N,R)=>new Promise((U,F)=>{var $=K=>{try{Q(R.next(K))}catch(W){F(W)}},G=K=>{try{Q(R.throw(K))}catch(W){F(W)}},Q=K=>K.done?U(K.value):Promise.resolve(K.value).then($,G);Q((R=R.apply(S,N)).next())});function L({publication:S,profileId:N,onSuccess:R=()=>{},source:U}){const F=(0,P.aF)(),$=(0,f.Th)(),G=(0,g.oJ)(),{popToast:Q}=(0,c.pm)(),{isLoading:K,refetch:W}=(0,O.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:S.id,email:F==null?void 0:F.email,visibility:"public",source:U,first_url:y.xY,first_referrer:y.ip,current_url:y.UE,current_referrer:y.xU}});return{isLoading:K,subscribe:()=>C(this,null,function*(){F||Q(Y=>(0,t.h)(c.FN,M(w({},Y),{text:"Something went wrong. Please try again.",Icon:u.Z})));try{yield W(),Q(Y=>(0,t.h)(c.FN,M(w({},Y),{text:`Subscribed to ${S.name}`,Icon:s.Z}))),R(),$.refetch(),N&&G((Y=[])=>Y.includes(N)?Y:[N,...Y],{revalidate:!1}),(0,d.track)(d.EVENTS.FEED_ONE_CLICK_SUBSCRIBE,{source:U,publication_id:S.id})}catch(Y){console.error(Y),Q(ne=>(0,t.h)(c.FN,M(w({},ne),{text:"There was an issue subscribing to this profile.",Icon:u.Z})))}})}}},22850:(H,E,e)=>{"use strict";e.d(E,{Hu:()=>t});const t="#FF6719",u="#318631",s="#792BA9",g="#E07F69",P="#8BD1E0",y="#F7ED92",O="#39a5f7",c="#008080",f="#E06666",d="#FFB347",T="#444444",D="#F4F4F4",I="#AAAAAA",p=18,l=48},15748:(H,E,e)=>{"use strict";e.d(E,{g:()=>l});var t=e(6400),u=e(99869),s=e(75425),g=e(17025),P=e.n(g),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(a,v,w)=>v in a?y(a,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):a[v]=w,I=(a,v)=>{for(var w in v||(v={}))d.call(v,w)&&D(a,w,v[w]);if(f)for(var w of f(v))T.call(v,w)&&D(a,w,v[w]);return a},p=(a,v)=>O(a,c(v));function l(){const a=(0,s.pm)();return v=>{(0,g.copyToClipboard)(v),a.popToast(w=>(0,t.h)(s.FN,p(I({},w),{text:"Link copied",Icon:u.Z})))}}},29542:(H,E,e)=>{"use strict";e.d(E,{$:()=>g});var t=e(52743),u=e(17025),s=e.n(u);const g=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:P=>{document.location.href=`itpc://${(0,t.stripProtocol)(P)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:P=>{document.location.href=`podcast://${(0,t.stripProtocol)(P)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:P=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(P).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:P=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(P)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:P=>{document.location.href=`pktc://subscribe/${(0,t.stripProtocol)(P)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:P=>{document.location.href=`downcast://${(0,t.stripProtocol)(P)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:P=>{document.location.href=`podcastaddict://${(0,t.stripProtocol)(P)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:P=>{(0,u.copyToClipboard)(P),document.location.href=`castros://subscribe/${(0,t.stripProtocol)(P)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:P=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(P)}`}}]},39776:(H,E,e)=>{"use strict";e.r(E),e.d(E,{SiteConfigGate:()=>P,default:()=>g,getConfigFor:()=>s});var t=e(6400),u=e(63270);function s(y){var O;if(!y||typeof window=="undefined"||!((O=window._preloads)!=null&&O.siteConfigs))return null;const c=window._preloads.siteConfigs[y];return c===void 0?null:c}const g=s;function P({configKey:y,children:O,value:c=!0}){return(0,u.xR)().getConfigFor(y)==c?(0,t.h)(t.Fragment,null,O):null}},35225:(H,E,e)=>{"use strict";e.d(E,{S:()=>L});var t=e(6400),u=e(8618),s=e(59009),g=e(85928),P=e.n(g),y=e(61782),O=e(52743),c=e(13833),f=e(75425),d=e(3258),T=e(90304),D=Object.defineProperty,I=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(S,N,R)=>N in S?D(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,M=(S,N)=>{for(var R in N||(N={}))a.call(N,R)&&w(S,R,N[R]);if(l)for(var R of l(N))v.call(N,R)&&w(S,R,N[R]);return S},C=(S,N)=>I(S,p(N));function L({user:S,noBase:N}){const R=(0,f.pm)(),U=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const F="has_seen_like_nux",$=(0,T.mM)(F),G=y.L;return $&&S&&!S.has_seen_like_nux?(U(),!1):!S||!S.profile_set_up_at||S.subscription_visibility==="private"||!S.activity_likes_enabled||$||S.has_seen_like_nux||P()((S==null?void 0:S.profile_set_up_at)||0).unix()>G?!1:((0,d.track)(d.EVENTS.LIKE_NUX_SHOWN),(0,T.ex)(F,!0),U(),R.popToast(Q=>(0,t.h)(f.Us,C(M({},Q),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,t.h)(t.Fragment,null,(0,t.h)(f.lL,{href:(0,O.getReaderProfileUrl)(S,{utm_source:s.UTM_SOURCE.likeToast,noBase:N})},(0,t.h)(c.Av,null,"OK")),(0,t.h)(f.lL,{href:(0,O.getEditProfileUrl)({params:{utm_source:s.UTM_SOURCE.likeToast}})},(0,t.h)(c.Av,{color:"secondary"},"Settings"))),Icon:u.Z}))),!0)}}},17025:function(H,E,e){"use strict";var t=Object.defineProperty,u=Object.defineProperties,s=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(Z,J,ae)=>J in Z?t(Z,J,{enumerable:!0,configurable:!0,writable:!0,value:ae}):Z[J]=ae,c=(Z,J)=>{for(var ae in J||(J={}))P.call(J,ae)&&O(Z,ae,J[ae]);if(g)for(var ae of g(J))y.call(J,ae)&&O(Z,ae,J[ae]);return Z},f=(Z,J)=>u(Z,s(J)),d=(Z,J,ae)=>new Promise((le,oe)=>{var ee=se=>{try{re(ae.next(se))}catch(fe){oe(fe)}},z=se=>{try{re(ae.throw(se))}catch(fe){oe(fe)}},re=se=>se.done?le(se.value):Promise.resolve(se.value).then(ee,z);re((ae=ae.apply(Z,J)).next())});const{h:T,Fragment:D}=e(6400),{route:I}=e(20042),{getQueryItem:p,pathWithQuery:l,parseQuery:a,getGlobalAccountSettingsUrl:v,getPubAccountSettingsUrl:w,getCurrentUrlForLoginRedirect:M}=e(52743),{centsToPriceString:C,toTitleCase:L,pluralize:S,isZeroDecimalCurrency:N}=e(83322),R=e(8826),{isMobileUserAgent:U,getIosVersion:F}=e(76193),{validatePledgePrices:$}=e(48971),G=e(27484),{Metadata:Q}=e(35442),{getPodcastEpisodeImageUrl:K}=e(63030),{I18N:W}=e(18349);E.getPodcastEpisodeImageUrl=K;const Y=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let ne=typeof window=="undefined"||!window.addEventListener;ne||window.addEventListener("load",()=>{ne=!0},!1),typeof window!="undefined"&&window._preloads,E.globalPlaybackNotifier=typeof window!="undefined"?new R:null,E.windowReady=Z=>{ne?Z():window.addEventListener("load",Z,!1)},E.debounce=function(Z,J,ae=this){let le=null;return function(){clearTimeout(le),le=setTimeout(()=>Z.apply(ae,arguments),J)}},E.couponToString=(Z,J,{language:ae="en"}={})=>{const{iTemplate:le,iPlural:oe}=W.i(ae);if(!Z||Z.loading||Z.error)return;let ee;if(Z.trial_period_days)ee=le`${Z.trial_period_days} day free trial`;else if(Z.extra_seats)ee=oe("an additional seat","%1 additional seats",Z.extra_seats);else if(Z.percent_off)if(Z.duration==="once")if(J)switch(J.interval){case"month":ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off first month`;break;case"year":ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off first year`;break;case"week":ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off first week`;break;case"day":ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off first day`;break}else ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off first payment`;else Z.duration==="repeating"?Z.duration_in_months%12===0?ee=oe("%2% off for 1 year","%2% off for %1 years",Z.duration_in_months/12,Math.round(Z.percent_off_precise||Z.percent_off)):ee=oe("%2% off for 1 month","%2% off for %1 months",Z.duration_in_months,Math.round(Z.percent_off_precise||Z.percent_off)):ee=le`${Math.round(Z.percent_off_precise||Z.percent_off)}% off forever`;else if(Z.amount_off)if(Z.duration==="once")if(J)switch(J.interval){case"month":ee=le`${C(Z.amount_off,J.currency)} off first month`;break;case"year":ee=le`${C(Z.amount_off,J.currency)} off first year`;break;case"week":ee=le`${C(Z.amount_off,J.currency)} off first week`;break;case"day":ee=le`${C(Z.amount_off,J.currency)} off first day`;break}else ee=le`${C(Z.amount_off,J.currency)} off first payment`;else Z.duration==="repeating"?Z.duration_in_months%12===0?ee=oe("%2 off for 1 year","%2 off for %1 years",Z.duration_in_months/12,C(Z.amount_off,J.currency)):ee=oe("%2 off for 1 month","%2 off for %1 months",Z.duration_in_months,C(Z.amount_off,J.currency)):ee=le`${C(Z.amount_off,J.currency)} off forever`;return ee},E.preloadImage=function(Z,J){const ae=new Image;ae.onload=()=>{ae.onload=ae.onerror=null,J&&J(ae)},ae.onerror=ae.onload,ae.src=Z},E.getHostname=Z=>{const J=document.createElement("a");return J.href=Z,(J.hostname||"").replace(/\.localhost$/,"")},E.getPathname=Z=>{const J=document.createElement("a");return J.href=Z,J.pathname||""},E.getPath=Z=>{const J=document.createElement("a");return J.href=Z,(J.pathname||"")+(J.search||"")+(J.hash||"")},E.getNetworkErrorMessage=(Z,J)=>{var ae;return E.getNetworkErrorMessageFromResponse((Z==null?void 0:Z.body)||((ae=Z==null?void 0:Z.response)==null?void 0:ae.body),J)},E.getNetworkErrorBody=Z=>{var J;const ae=(Z==null?void 0:Z.body)||((J=Z==null?void 0:Z.response)==null?void 0:J.body);if(ae&&ae.error)return{msg:ae.error};if(ae&&ae.errors&&ae.errors.length>0)return{html:ae.errors[ae.errors.length-1].msgHTML,msg:ae.errors[ae.errors.length-1].msg}},E.getNetworkErrorMessageFromXhr=(Z,J)=>{let ae;try{ae=JSON.parse(Z&&Z.responseText)}catch(le){}return E.getNetworkErrorMessageFromResponse(ae,J)},E.getNetworkErrorMessageFromResponse=(Z,J)=>(J=J||"Something went wrong",Z&&Z.error?Z.error:Z&&Z.errors&&Z.errors.length>0&&Z.errors[Z.errors.length-1].msg||J),E.getNetworkErrorObjectFromResponse=Z=>{var J,ae;if(!((ae=(J=Z==null?void 0:Z.response)==null?void 0:J.body)!=null&&ae.errors)||Z.response.body.errors.length===0)return null;const le={};for(const oe of Z.response.body.errors)le[oe.param]=oe.msg;return le},E.inputPrefillHack=function(){return[T("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),T("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},E.isBrowser=function(){return typeof window!="undefined"},E.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const Z=navigator.userAgent||navigator.vendor||window.opera;if(U(Z,{checkFirst4:!0}))return!0}return!1},E.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),E.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),E.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),E.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),E.isIOs=()=>!!E.iosVersion(),E.isMac=Z=>(typeof window!="undefined"&&!Z&&(Z=window.navigator),Z?Z.userAgentData&&Z.userAgentData.platform?/macOS/.test(Z.userAgentData.platform):/Mac/.test(Z.platform):!1),E.isSafari=()=>{var Z;return typeof window=="undefined"||!((Z=window.navigator)!=null&&Z.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},E.getModKeyLabel=(Z=E.isMac())=>Z?"\u2318":"^",E.iosVersion=()=>typeof window=="undefined"?null:F(),E.fixSmsUrl=Z=>{const J=E.iosVersion();return J?J>=9?Z.replace("?body=","&body="):Z.replace("?body=",";body="):Z};const V=Z=>((J,ae)=>{let le;const oe=()=>ae.userAgent.match(/ipad|iphone/i),ee=fe=>{le=J.createElement("textArea"),le.value=fe,J.body.appendChild(le)},z=()=>{let fe,Ee;oe()?(fe=J.createRange(),fe.selectNodeContents(le),Ee=Z.getSelection(),Ee.removeAllRanges(),Ee.addRange(fe),le.setSelectionRange(0,999999)):le.select()},re=()=>{J.execCommand("copy"),J.body.removeChild(le)};return{copy:fe=>{ee(fe),z(),re()}}})(document,navigator);E.copyToClipboard=Z=>{if(typeof window=="undefined")return;V(window).copy(Z);const J=ae=>{ae&&ae.clipboardData?(ae.clipboardData.setData("text/plain",Z),ae.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",Z)};E.iosVersion()||window.addEventListener("copy",J),setTimeout(()=>{try{const ae=document.createElement("input");ae.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ae),ae.value=Z,ae.contentEditable=!0,ae.readOnly=!1;const le=document.createRange();le.selectNodeContents(ae);const oe=window.getSelection();oe.removeAllRanges(),oe.addRange(le),ae.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ae)}catch(ae){}window.removeEventListener("copy",J)},0)},E.copyNodeToClipboard=Z=>{try{E.selectNode(Z),document.execCommand("copy")}catch(J){console.error("Failed to copy text:",J)}},E.selectNode=Z=>{try{if(["INPUT","TEXTAREA"].includes(Z.nodeName)&&Z.select)Z.select();else if(document.body.createTextRange){const J=document.body.createTextRange();J.moveToElementText(Z),J.select()}else if(window.getSelection){const J=window.getSelection(),ae=document.createRange();ae.selectNodeContents(Z),J.removeAllRanges(),J.addRange(ae)}else console.warn("Could not select text in node: Unsupported browser")}catch(J){console.error("Failed to select node:",J)}},E.deselectNode=Z=>{try{const J=window.getSelection?window.getSelection():document.selection;J&&J.anchorNode===Z&&(J.empty?J.empty():J.removeAllRanges&&J.removeAllRanges())}catch(J){console.error("Failed to deselect node:",J)}},E.setMetaData=function(Z){return T(Q,c({},Z))},E.getBodyOffset=(Z,J)=>{const ae=`offset${L(J)}`;let le=0;for(;Z&&Z!==document.body;)le+=Z[ae],Z=Z.offsetParent||Z.parentNode;return le},E.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),E.scrollToHash=function(Z){const J=E.getUrlHash();if(!J)return;const ae=document.getElementById(J);ae&&(typeof Z!="number"&&(Z=-122),document.documentElement.scrollTop=Math.max(0,E.getBodyOffset(ae,"top")+Z))},E.mightSupportApplePay=Z=>!(!Z||!Z.stripe_country||Z.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),E.addClass=(Z,J)=>{Z.className+=` ${J}`},E.removeClass=(Z,J)=>{Z.className=Z.className.replace(new RegExp(`\\b${J}\\b`,"g"),"").trim()},E.hasClass=(Z,J)=>new RegExp(`\\b${J}\\b`,"g").test(Z.className),E.isFocused=(...Z)=>E.isRootOrChild(document.activeElement,...Z),E.isRootOrChild=(Z,...J)=>{for(;Z;){for(const ae of J)if(typeof ae=="function"?ae(Z):Z===ae)return!0;Z=Z.parentNode}return!1},E.getRootOrChild=(Z,J,{maxDepth:ae}={})=>{const le=[Z];let oe=0;for(;le.length>0;){oe++;const ee=le.splice(0);for(const z of ee)if(z){if(J(z))return z;(!ae||oe<ae)&&z.children&&le.push(...z.children)}}return null},E.getRootOrParent=(Z,J)=>Z?J(Z)?Z:E.getRootOrParent(Z.parentNode,J):null,E.getVisibilityApi=()=>{let Z,J;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(Z="visibilitychange",J="hidden"):typeof document.msHidden!="undefined"?(Z="msvisibilitychange",J="msHidden"):typeof document.webkitHidden!="undefined"&&(Z="webkitvisibilitychange",J="webkitHidden")),{visibilityChange:Z,hidden:J}},E.isWindowVisible=()=>{const{hidden:Z}=E.getVisibilityApi();return Z?!document[Z]:!0},E.onWindowVisibilityChange=Z=>{const{visibilityChange:J}=E.getVisibilityApi();J&&document.addEventListener(J,Z,!1)},E.offWindowVisibilityChange=Z=>{const{visibilityChange:J}=E.getVisibilityApi();J&&document.removeEventListener(J,Z,!1)},E.disableBackspaceNavigation=()=>{document.addEventListener("keydown",j,!1)},E.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",j,!1)};function j(Z){if(Z.keyCode!==8)return;const J=Z.srcElement||Z.target;if(!J.readonly&&!J.disabled){if(J.isContentEditable)return;if(J.nodeName==="TEXTAREA")return;if(J.nodeName==="INPUT"&&Y.indexOf((J.getAttribute("type")||"").toLowerCase())>-1)return}return Z.preventDefault(),!1}E.getBlob=Z=>new Promise((J,ae)=>{const le=new XMLHttpRequest;le.open("GET",Z,!0),le.responseType="blob",le.onerror=ae,le.onload=oe=>{le.status==200?J(le.response):ae(new Error("Failed to fetch blob"))},le.send()}),E.getDataUrlFromFile=Z=>new Promise((J,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}const le=new FileReader;le.onerror=ae,le.onload=()=>{J(le.result)},le.readAsDataURL(Z)}),E.getExifOrientationFromFile=Z=>new Promise((J,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}if(!window.DataView){ae(new TypeError("DataView API not found"));return}const le=new FileReader;le.onerror=ae,le.onload=()=>{const oe=new DataView(le.result);if(oe.getUint16(0,!1)!=65496)return J(-2);const ee=oe.byteLength;let z=2;for(;z<ee;){if(oe.getUint16(z+2,!1)<=8)return J(-1);const re=oe.getUint16(z,!1);if(z+=2,re==65505){if(oe.getUint32(z+=2,!1)!=1165519206)return J(-1);const se=oe.getUint16(z+=6,!1)==18761;z+=oe.getUint32(z+4,se);const fe=oe.getUint16(z,se);z+=2;for(let Ee=0;Ee<fe;Ee++)if(oe.getUint16(z+Ee*12,se)==274)return J(oe.getUint16(z+Ee*12+8,se))}else{if((re&65280)!=65280)break;z+=oe.getUint16(z,!1)}}J(-1)},le.readAsArrayBuffer(Z)}),E.getImageDataFromFileInput=Z=>d(this,null,function*(){let J,ae;const le=Z!=null&&Z.files?Z.files[0]:null;if(Z.value="",le){try{J=yield E.getDataUrlFromFile(le)}catch(oe){console.error("Failed to get data URL from file:",oe),alert(oe.message);return}try{ae=yield E.getExifOrientationFromFile(le)}catch(oe){console.error("Failed to extract EXIF data from file:",oe)}}return{url:J,orientation:ae}}),E.transformExifOrientation=Z=>{switch(Z){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},E.canScroll=()=>E.maxScroll()>0,E.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,E.getLoginRedirect=({redirect:Z,email:J,justTrying:ae,with_password:le=!1,useOriginalUrl:oe=!1}={})=>(typeof Z!="string"&&(Z=M({useOriginalUrl:oe})),l("/account/login",{redirect:Z||"",email:J||"",with_password:le?"1":"",justTrying:ae||""})),E.redirectToLogin=(Z={})=>{document.location.href=E.getLoginRedirect(Z)},E.redirectToAccount=Z=>{window.location.assign(w(Z))},E.redirectToAccountSettings=()=>{document.location.href=v()},E.base64encode=Z=>{const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ae="",le,oe,ee,z,re,se,fe,Ee=0;for(Z=E.utf8Encode(Z);Ee<Z.length;)le=Z.charCodeAt(Ee++),oe=Z.charCodeAt(Ee++),ee=Z.charCodeAt(Ee++),z=le>>2,re=(le&3)<<4|oe>>4,se=(oe&15)<<2|ee>>6,fe=ee&63,isNaN(oe)?se=fe=64:isNaN(ee)&&(fe=64),ae=ae+J.charAt(z)+J.charAt(re)+J.charAt(se)+J.charAt(fe);return ae},E.utf8Encode=Z=>{let J="";for(let ae=0;ae<Z.length;ae++){const le=Z.charCodeAt(ae);le<128?J+=String.fromCharCode(le):le>127&&le<2048?(J+=String.fromCharCode(le>>6|192),J+=String.fromCharCode(le&63|128)):(J+=String.fromCharCode(le>>12|224),J+=String.fromCharCode(le>>6&63|128),J+=String.fromCharCode(le&63|128))}return J},E.redirectNoScroll=Z=>{const J=[window.scrollX,window.scrollY];E.redirect(Z),window.scrollTo(...J)},E.redirect=(Z,{event:J=null,local_navigation:ae=!0,replace:le=!1,newTab:oe=!1,state:ee=void 0}={})=>{var z;if(J&&J.preventDefault(),Z.trim().startsWith("javascript:"))return;if(Z.startsWith("#")&&ae){window.location.hash!==Z&&(le&&((z=window.history)!=null&&z.replaceState)?window.history.replaceState(ee!=null?ee:window.history.state,null,Z):window.location.hash=Z),E.scrollToHash();return}if(ae&&E.getHostname(Z)&&E.getHostname(Z)!==E.getHostname(window.location.href)&&(ae=!1),oe||J&&(J.metaKey||J.ctrlKey)){window.open(Z,"_blank");return}const re=history.state;if(ae&&I(E.getPath(Z),le)){ee!==void 0?history.replaceState(ee,""):le&&re!==void 0&&history.replaceState(re,""),setTimeout(()=>E.scrollToHash(),0);return}window.location.href=Z},E.setState=(Z,J)=>new Promise(ae=>{Z.setState(J,ae)}),E.stateTransaction=(Z,J)=>new Promise((ae,le)=>{Z.setState((...oe)=>d(this,null,function*(){try{ae(yield J.apply(Z,oe))}catch(ee){le(ee)}}))}),E.stateLock=(Z,J,ae,...le)=>d(this,[Z,J,ae,...le],function*(oe,ee,z,{force:re}={}){return typeof ee=="function"&&(z=ee,ee="lock"),yield E.stateTransaction(oe,(se,...fe)=>d(this,null,function*(){if(se[ee]&&!re)return;yield E.setState(oe,{[ee]:!0});const Ee=yield z.call(oe,se,...fe);return yield E.setState(oe,{[ee]:!1}),Ee}))}),E.getsMessageQuery=Z=>J=>{const ae=a(document.location.href),le=p("message");if(le){delete ae.message;const oe=`${l(document.location.pathname,ae)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,oe)}return T(Z,c({message:le},J))},E.uuidV4=()=>{const Z=window.crypto||window.msCrypto;if(typeof(Z==null?void 0:Z.randomUUID)=="function")return Z.randomUUID();if(Z)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,J=>(J^Z.getRandomValues(new Uint8Array(1))[0]&15>>J/4).toString(16));{let J=new Date().getTime(),ae=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(le){let oe=Math.random()*16;return J>0?(oe=(J+oe)%16|0,J=Math.floor(J/16)):(oe=(ae+oe)%16|0,ae=Math.floor(ae/16)),(le==="x"?oe:oe&3|8).toString(16)})}},E.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,E.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",E.focusElement=Z=>{Z.focus&&Z.focus(),Z.select&&Z.select()},E.getRoleOrOwner=(Z,J)=>Z?Z.user_id===J.author_id?"owner":Z.role:"byline",E.hexWithOpacity=(Z,J)=>{if(!Z)return Z;Z=Z.replace("#","");const ae=parseInt(Z.substring(0,2),16),le=parseInt(Z.substring(2,4),16),oe=parseInt(Z.substring(4,6),16);return`rgba(${ae},${le},${oe},${J/100})`},E.getSelectTheme=({primary:Z,neutral0:J="#f8f8f8",neutral20:ae="#d8d8d8",danger:le="var(--color-accent-red)",dangerLight:oe="var(--color-bg-accent-red)"})=>ee=>f(c({},ee),{colors:f(c({},ee.colors),{primary:Z,primary25:E.hexWithOpacity(Z,25),primary50:E.hexWithOpacity(Z,50),primary75:E.hexWithOpacity(Z,75),neutral0:J,neutral20:ae,danger:le,dangerLight:oe})}),E.removeQueryParam=(Z,{stripHash:J=!1}={})=>{var ae;if(typeof window!="undefined"&&((ae=window.history)!=null&&ae.replaceState)){const le=a(window.location.href);if(!Array.isArray(Z))delete le[Z];else for(const ee of Z)delete le[ee];const oe=`${l(window.location.pathname,le)}${J?"":window.location.hash}`;window.history.replaceState(window.history.state,document.title,oe)}},E.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,E.goFullscreen=Z=>typeof window=="undefined"?!1:Z.requestFullScreen?(Z.requestFullScreen(),!0):Z.webkitRequestFullScreen?(Z.webkitRequestFullScreen(),!0):Z.mozRequestFullScreen?(Z.mozRequestFullScreen(),!0):!1,E.exitFullscreen=()=>{if(!E.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},E.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),E.getVideoBlobDuration=(Z,...J)=>d(this,[Z,...J],function*(ae,{timeout:le=5e3}={}){const oe=document.createElement("video");oe.volume=0;const ee=Promise.race([new Promise((z,re)=>{oe.onloadedmetadata=()=>{oe.onloadedmetadata=null,oe.duration===1/0?(oe.currentTime=Number.MAX_SAFE_INTEGER,oe.ontimeupdate=()=>{oe.ontimeupdate=null,z(oe.duration),oe.currentTime=0}):z(oe.duration)},oe.onerror=se=>re(se.target.error)}),new Promise((z,re)=>{setTimeout(()=>{re(new Error("Blob duration fetching timed out"))},le)})]);return oe.src=typeof ae=="string"||ae instanceof String?ae:window.URL.createObjectURL(ae),ee}),E.downloadSrc=Z=>{const J=document.createElement("a");document.body.appendChild(J),J.href=Z,J.target="_blank",J.click(),document.body.removeChild(J)},E.getCurrencyFormattedPledgePlans=(Z,{skipFoundingPlan:J=!1}={})=>{if(!(Z!=null&&Z.length))return[];const ae=[];for(const le of Z)J&&le.is_founding?ae.push(c({},le)):le.amount?ae.push(f(c({},le),{amount:le.amount})):ae.push(c({},le));return ae},E.validatePledgePlanValues=(Z,J,ae,le)=>{if(ae<=J)return"Your founding price must be greater than your yearly price";const oe=$({value:Z,interval:"month",is_founding:!1,currency:le});if(oe)return oe;const ee=$({value:J,interval:"year",is_founding:!1,currency:le});if(ee)return ee;const z=$({value:ae,interval:"year",is_founding:!0,currency:le});return z||null},E.decimalToPercentString=Z=>{let J=Z;return typeof Z=="string"&&(J=parseFloat(Z)),`${Math.round(J*100)}%`};const te=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),ie=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),ue=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),he=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});E.formatPostDate=(Z,{includeTime:J,language:ae}={})=>{const le=G(Z),oe=G(),{iTemplate:ee}=W.i(ae);return le.isBefore(oe.startOf("year"))?ue.format(le.toDate())+(J?ee` at ${te.format(le.toDate())}`:""):le.isBefore(oe.startOf("day"))?ie.format(le.toDate())+(J?ee` at ${te.format(le.toDate())}`:""):le.isAfter(oe.endOf("year"))?he.format(le.toDate())+(J?ee` at ${te.format(le.toDate())}`:""):le.isAfter(oe.endOf("day"))?ie.format(le.toDate())+(J?ee` at ${te.format(le.toDate())}`:""):te.format(le.toDate())},E.getBanMessage=Z=>{const J=ae=>`We've removed your publication from public view due a violation of Substack's ${ae}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(Z){case"hate":return J("Hate policy");case"illegal":return J("Illegal & Harmful Activities policy");case"impersonation":return J("Impersonation policy");case"plagiarism":return J("Plagiarism policy");case"porn":return J("Nudity, Porn, & Erotica policy");case"private_information":return J("Private Information policy");case"spam":return J("Spam & Phishing policy");default:return J("Content Guidelines, Terms of Service, or Publisher Agreement")}}},11059:(H,E,e)=>{"use strict";e.d(E,{a:()=>c});var t=e(6400),u=e(30396),s=e(4508),g=e(84040),P=e(34394),y=e(62246),O=e(43887);const c=({isOpen:f=!1,title:d,body:T,onClose:D,customPrimaryButton:I,secondaryButton:p,confirmationString:l})=>{const a=(0,u.sO)(null),[v,w]=(0,u.eJ)(!!l);return(0,u.d4)(()=>{f&&l&&w(!0)},[f,l]),(0,t.h)(y.u_,{isOpen:f,onClose:D,initialFocus:a},d&&(0,t.h)(y.xB,{title:d,includeClose:!1}),(0,t.h)(y.fe,null,(0,t.h)(O.xv.B3,null,T),l&&(0,t.h)(s.xu,{paddingTop:16},(0,t.h)(P.o,{onChange:M=>{w(!0),l.toLowerCase()===M.target.value.toLowerCase()&&w(!1)}}))),(0,t.h)(y.mz,{primaryButton:I?(0,t.cloneElement)(I,{ref:a,disabled:v}):(0,t.h)(g.zx,{ref:a,onClick:D,priority:"primary",disabled:v},"OK"),secondaryButton:p}))}},83787:(H,E,e)=>{"use strict";e.d(E,{H:()=>g});var t=e(6400),u=e(30396);const s=150,g=({children:P,expanded:y,renderWhenCollapsed:O,onEnter:c,flex:f})=>{const d=(0,u.sO)(null),[T,D]=(0,u.eJ)(y?"expanded":"collapsed"),[I,p]=(0,u.eJ)(null);return(0,u.d4)(()=>{y&&T==="collapsed"&&D("startExpanding"),T==="startExpanding"&&d.current&&(p(d.current.offsetHeight),D("expanding"),setTimeout(()=>{D("expanded"),c&&c()},s)),!y&&T==="expanded"&&d.current&&(p(d.current.offsetHeight),D("startCollapsing")),T==="startCollapsing"&&(D("collapsing"),setTimeout(()=>{D("collapsed")},s))},[y,T]),(0,t.h)("div",{style:{height:T==="collapsed"||T==="startExpanding"||T==="collapsing"?0:T==="expanding"||T==="startCollapsing"?I:null,transition:`height ${s}ms ease-in-out`,overflow:T==="expanded"?"visible":"hidden",display:f?"flex":"block",flexDirection:"column"}},(0,t.h)("div",{ref:d,style:{paddingTop:.05,paddingBottom:.05,display:f?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(T!=="collapsed"||O)&&P))}},4508:(H,E,e)=>{"use strict";e.d(E,{xu:()=>C,E7:()=>N,oB:()=>S,yK:()=>L});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(39693),y=e.n(P);const O={"border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-unset":"frontend-pencraft-Box-module__border-unset--Pgh1d","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-accent-themed":"frontend-pencraft-Box-module__border-accent-themed--wXyvv","border-top-accent-themed":"frontend-pencraft-Box-module__border-top-accent-themed--TV2H6","border-bottom-accent-themed":"frontend-pencraft-Box-module__border-bottom-accent-themed--o3hw6","border-left-accent-themed":"frontend-pencraft-Box-module__border-left-accent-themed--Zmywv","border-right-accent-themed":"frontend-pencraft-Box-module__border-right-accent-themed--ftXka","border-y-accent-themed":"frontend-pencraft-Box-module__border-y-accent-themed--XSy61","border-detail-dashed-themed":"frontend-pencraft-Box-module__border-detail-dashed-themed--oKBR4","border-top-detail-dashed-themed":"frontend-pencraft-Box-module__border-top-detail-dashed-themed--NPzSp","border-bottom-detail-dashed-themed":"frontend-pencraft-Box-module__border-bottom-detail-dashed-themed--n5yK3","border-left-detail-dashed-themed":"frontend-pencraft-Box-module__border-left-detail-dashed-themed--vhb5U","border-right-detail-dashed-themed":"frontend-pencraft-Box-module__border-right-detail-dashed-themed--DD1Ek","border-y-detail-dashed-themed":"frontend-pencraft-Box-module__border-y-detail-dashed-themed--cB5rf","border-detail-dashed":"frontend-pencraft-Box-module__border-detail-dashed--A7IFA","border-top-detail-dashed":"frontend-pencraft-Box-module__border-top-detail-dashed--O0bJ0","border-bottom-detail-dashed":"frontend-pencraft-Box-module__border-bottom-detail-dashed--iGmUH","border-left-detail-dashed":"frontend-pencraft-Box-module__border-left-detail-dashed--RRBPQ","border-right-detail-dashed":"frontend-pencraft-Box-module__border-right-detail-dashed--VlIJH","border-y-detail-dashed":"frontend-pencraft-Box-module__border-y-detail-dashed--CMeLF","border-radius-small":"frontend-pencraft-Box-module__border-radius-small--iH2PK","border-radius-medium":"frontend-pencraft-Box-module__border-radius-medium--xi5Gs","border-radius-large":"frontend-pencraft-Box-module__border-radius-large--UK0kl","border-radius-circle":"frontend-pencraft-Box-module__border-radius-circle--GTSy9","divider-detail":"frontend-pencraft-Box-module__divider-detail--PNqwC","bg-unset":"frontend-pencraft-Box-module__bg-unset--szbSw","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-tertiary":"frontend-pencraft-Box-module__bg-tertiary--TL9Xa","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7","bg-elevated-secondary":"frontend-pencraft-Box-module__bg-elevated-secondary--pms2j","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-glass-inverted-medium":"frontend-pencraft-Box-module__bg-glass-inverted-medium--uJdVK","bg-glass-inverted-thick":"frontend-pencraft-Box-module__bg-glass-inverted-thick--NJerh","bg-glass-thick":"frontend-pencraft-Box-module__bg-glass-thick--eAkjh","bg-accent-primary":"frontend-pencraft-Box-module__bg-accent-primary--xC4Fn","bg-accent-blue":"frontend-pencraft-Box-module__bg-accent-blue--TWseC","bg-action-blue":"frontend-pencraft-Box-module__bg-action-blue--YawFz",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflow-hidden":"frontend-pencraft-Box-module__overflow-hidden--aAMWF","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"};var c=e(28614),f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=($,G,Q)=>G in $?f($,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):$[G]=Q,a=($,G)=>{for(var Q in G||(G={}))I.call(G,Q)&&l($,Q,G[Q]);if(D)for(var Q of D(G))p.call(G,Q)&&l($,Q,G[Q]);return $},v=($,G)=>d($,T(G)),w=($,G)=>{var Q={};for(var K in $)I.call($,K)&&G.indexOf(K)<0&&(Q[K]=$[K]);if($!=null&&D)for(var K of D($))G.indexOf(K)<0&&p.call($,K)&&(Q[K]=$[K]);return Q};function M($){var G,Q;return $==null?[null,null]:typeof $=="object"?[(G=$.desktop)!=null?G:null,(Q=$.mobile)!=null?Q:null]:[$,null]}const C=(0,u.forwardRef)(function(G,Q){var K=G,{display:W,as:Y,className:ne,direction:V,flex:j,inline:te,wrap:ie,gap:ue,opacity:he,width:Z,height:J,maxWidth:ae,maxHeight:le,minWidth:oe,minHeight:ee,margin:z,padding:re,paddingX:se,paddingY:fe,paddingTop:Ee,paddingBottom:ge,paddingLeft:be,paddingRight:me,pointerEvents:pe,userSelect:Le,justifyContent:je,alignItems:xe,alignSelf:ye,style:Me,border:We,borderTop:De,borderBottom:Ge,borderLeft:pt,borderRight:wt,borderY:Ht,radius:nt,divider:Ze,shadow:st,bg:Ie,overflow:Pe,overflowY:Ce,overflowX:Be,scrollBar:Ve,sizing:$e,ellipsis:Qe,pullX:ze,textAlign:Ke,fontSize:lt,fontWeight:vt,color:Pt,decoration:Wt,font:Ut,fontStyle:jt,isParagraph:Vt,lineHeight:lr,textTransform:Jt,nowrap:or,clamp:Et,position:gr,inset:Dr,cursor:Or,top:wr}=K,br=w(K,["display","as","className","direction","flex","inline","wrap","gap","opacity","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","pointerEvents","userSelect","justifyContent","alignItems","alignSelf","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","shadow","bg","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position","inset","cursor","top"]);const Ar=Y!=null?Y:"div";return(0,t.h)(Ar,a({ref:Q,className:g()(L({display:W,direction:V,flex:j,inline:te,wrap:ie,gap:ue,opacity:he,width:Z,height:J,maxWidth:ae,maxHeight:le,minWidth:oe,minHeight:ee,margin:z,padding:re,paddingX:se,paddingY:fe,paddingTop:Ee,paddingBottom:ge,paddingLeft:be,paddingRight:me,pointerEvents:pe,userSelect:Le,justifyContent:je,alignItems:xe,alignSelf:ye,border:We,borderTop:De,borderBottom:Ge,borderLeft:pt,borderRight:wt,borderY:Ht,radius:nt,divider:Ze,shadow:st,bg:Ie,overflow:Pe,overflowY:Ce,overflowX:Be,scrollBar:Ve,sizing:$e,ellipsis:Qe,pullX:ze,textAlign:Ke,fontSize:lt,fontWeight:vt,color:Pt,decoration:Wt,font:Ut,fontStyle:jt,isParagraph:Vt,lineHeight:lr,textTransform:Jt,nowrap:or,clamp:Et,position:gr,inset:Dr,cursor:Or,top:wr}),ne),style:Me},br))});function L($){var G=$,{reset:Q=!0,color:K,bg:W,flex:Y,inline:ne,border:V,borderTop:j,borderBottom:te,borderLeft:ie,borderRight:ue,borderY:he,radius:Z,divider:J,overflow:ae,overflowY:le,overflowX:oe,scrollBar:ee,sizing:z,ellipsis:re,pullX:se,textAlign:fe,decoration:Ee,font:ge,fontSize:be,fontStyle:me,fontWeight:pe,isParagraph:Le,lineHeight:je,textTransform:xe,nowrap:ye,clamp:Me}=G,We=w(G,["reset","color","bg","flex","inline","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","decoration","font","fontSize","fontStyle","fontWeight","isParagraph","lineHeight","textTransform","nowrap","clamp"]);const De=y()(Object.entries(We).flatMap(([Ge,pt])=>{var wt;return Ge=(wt=U[Ge])!=null?wt:Ge,Array.isArray(Ge)?Ge.map(Ht=>[Ht,pt]):[[Ge,pt]]}).flatMap(([Ge,pt])=>{const[wt,Ht]=M(pt).map(nt=>{var Ze,st;return(st=(Ze=F[Ge])==null?void 0:Ze.call(F,nt))!=null?st:nt});return[wt!=null&&`pc-${Ge}-${wt}`,Ht!=null&&`pc-mobile-${Ge}-${Ht}`]})).join(" ");return g()("pencraft",De,{[O.flexGrow]:Y==="grow",[O.flexFill]:Y==="fill",[O.flexAuto]:Y==="auto"},Q&&"pc-reset",W!=null&&O[`bg-${W}`],ne&&"pc-display-inline-flex",V&&O[`border-${V}`],j&&O[`border-top-${j}`],te&&O[`border-bottom-${te}`],ie&&O[`border-left-${ie}`],ue&&O[`border-right-${ue}`],he&&O[`border-y-${he}`],Z!=null&&`pc-borderRadius-${R(Z)}`,J!=null&&O[`divider-${J}`],ae&&O[`overflow-${ae}`],le&&O[`overflowY-${le}`],oe&&O[`overflowX-${oe}`],ee&&O[`scrollBar-${ee}`],z&&O[`sizing-${z}`],re&&O.ellipsis,se&&O[`pullX-${se}`],K&&c.Z[`color-${K}`],fe&&c.Z[`align-${fe}`],je&&c.Z[`line-height-${je}`],ge&&c.Z[`font-${ge}`],be&&c.Z[`size-${be}`],me&&c.Z[`font-style-${me}`],pe&&c.Z[`weight-${pe}`],xe&&c.Z[`transform-${xe}`],ye&&c.Z.nowrap,Me&&`${c.Z.clamp} ${c.Z[`clamp-${Me}`]}`,Ee&&c.Z[`decoration-${Ee}`],Le&&c.Z.paragraph)}const S=L;function N($){var G=$,{className:Q,displayName:K}=G,W=w(G,["className","displayName"]);const Y=(0,u.forwardRef)((ne,V)=>{var j=ne,{className:te}=j,ie=w(j,["className"]);return(0,t.h)(C,v(a(a({},W),ie),{ref:V,className:g()(Q,te)}))});return Y.displayName=K,Y}function R($){return $===6?"small":$===12?"medium":$===24?"large":$}const U={radius:"borderRadius",direction:"flexDirection",wrap:"flexWrap",paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],shadow:"boxShadow"},F={justifyContent:$=>$==="end"||$==="start"?`flex-${$}`:$,alignItems:$=>$==="end"||$==="start"?`flex-${$}`:$}},84040:(H,E,e)=>{"use strict";e.d(E,{hU:()=>S,kG:()=>C,o6:()=>N,zx:()=>L});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(17025),y=e.n(P),O=e(5668),c=e(43887),f=e(4924),d=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(R,U,F)=>U in R?d(R,U,{enumerable:!0,configurable:!0,writable:!0,value:F}):R[U]=F,v=(R,U)=>{for(var F in U||(U={}))p.call(U,F)&&a(R,F,U[F]);if(I)for(var F of I(U))l.call(U,F)&&a(R,F,U[F]);return R},w=(R,U)=>T(R,D(U)),M=(R,U)=>{var F={};for(var $ in R)p.call(R,$)&&U.indexOf($)<0&&(F[$]=R[$]);if(R!=null&&I)for(var $ of I(R))U.indexOf($)<0&&l.call(R,$)&&(F[$]=R[$]);return F};const C=(0,u.forwardRef)((R,U)=>{var F=R,{onClick:$,href:G,localNavigation:Q,newTab:K,className:W,resetCss:Y,state:ne,replace:V}=F,j=M(F,["onClick","href","localNavigation","newTab","className","resetCss","state","replace"]);const te=G?ie=>{$&&($.call(ie.target,ie),ie.defaultPrevented)||(0,P.redirect)(G,{event:ie,local_navigation:Q,newTab:K,replace:V,state:ne})}:$;return(0,t.h)("button",w(v({tabIndex:0,type:"button"},j),{className:g()("pencraft",W,Y&&f.Z.buttonBase),ref:U,onClick:te,"data-href":G}))});C.displayName="UnstyledButton";const L=(0,u.forwardRef)(function(U,F){var $=U,{className:G,priority:Q="primary",size:K="medium",fill:W="filled",outline:Y,rounded:ne,disabled:V,grow:j,leftIcon:te,rightIcon:ie,allCaps:ue,children:he,hiddenInput:Z,justifyContent:J="center"}=$,ae=M($,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,t.h)(C,v({className:g()(G,f.Z.buttonBase,f.Z.button,f.Z[`priority_${Q}`],f.Z[`size_${K}`],f.Z[`fill_${W}`],Y&&f.Z.outline_none,ne&&f.Z.rounded,j&&f.Z.grow,te!=null&&f.Z.hasLeftIcon,ie!=null&&f.Z.hasRightIcon,J&&"pc-justifyContent-center"),disabled:V,ref:F},ae),te,ue?(0,t.h)(c.xv.Meta,null,he):he,ie,Z&&(0,t.h)(O.U,null,Z))}),S=(0,u.forwardRef)((R,U)=>{var F=R,{className:$,size:G=40,priority:Q="secondary",color:K,fill:W="empty",rounded:Y=!0,inverted:ne,grow:V,shadow:j}=F,te=M(F,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,t.h)(C,v({ref:U,className:g()($,f.Z.iconButton,G!=null&&f.Z[`size_${G}`],Q&&f.Z[`priority_${Q}`],K&&f.Z[`color_${K}`],W&&f.Z[`fill_${W}`],ne&&f.Z.inverted,V&&f.Z.grow,Y&&f.Z.rounded,j&&f.Z[`shadow_${j}`])},te))}),N=R=>{var U=R,{href:F,download:$,className:G,priority:Q="primary",size:K="medium",fill:W="filled",outline:Y,rounded:ne,grow:V}=U,j=M(U,["href","download","className","priority","size","fill","outline","rounded","grow"]);return(0,t.h)("a",v({href:F,download:$,className:g()(G,f.Z.buttonBase,f.Z.button,f.Z[`priority_${Q}`],f.Z[`size_${K}`],f.Z[`fill_${W}`],Y&&f.Z.outline_none,ne&&f.Z.rounded,V&&f.Z.grow)},j))}},91041:(H,E,e)=>{"use strict";e.d(E,{h:()=>M,a:()=>C});var t=e(6400),u=e(94184),s=e.n(u),g=e(49336),P=e(84040),y=e(51126),O=e(43028);const c={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(L,S,N)=>S in L?f(L,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):L[S]=N,a=(L,S)=>{for(var N in S||(S={}))I.call(S,N)&&l(L,N,S[N]);if(D)for(var N of D(S))p.call(S,N)&&l(L,N,S[N]);return L},v=(L,S)=>d(L,T(S)),w=(L,S)=>{var N={};for(var R in L)I.call(L,R)&&S.indexOf(R)<0&&(N[R]=L[R]);if(L!=null&&D)for(var R of D(L))S.indexOf(R)<0&&p.call(L,R)&&(N[R]=L[R]);return N};const M=L=>{var S=L,{attached:N,gap:R=8}=S,U=w(S,["attached","gap"]);return(0,t.h)(y.gq,a({gap:N?0:R,className:s()({[c.attached]:N})},U))},C=L=>{var S=L,{children:N,menuItems:R,fill:U="filled",priority:F="primary",size:$="medium",rounded:G=!1,additionalMenuProps:Q={}}=S,K=w(S,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,t.h)(M,{attached:!0},(0,t.h)(P.zx,v(a({},K),{priority:F,size:$,rounded:G,fill:U==="borderless"?"filled":U,outline:U==="borderless"?"none":void 0}),N),(0,t.h)(O.v2,v(a({},Q),{trigger:(0,t.h)(P.hU,v(a({className:s()({[c.borderless]:U==="borderless"})},K),{priority:F,fill:U,rounded:G,size:$==="small"?32:40}),(0,t.h)(g.Z,{size:$==="small"?12:20}))}),R))}},15187:(H,E,e)=>{"use strict";e.d(E,{Tz:()=>C});var t=e(6400),u=e(94184),s=e.n(u),g=e(85928);const P={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(R,U,F)=>U in R?y(R,U,{enumerable:!0,configurable:!0,writable:!0,value:F}):R[U]=F,I=(R,U)=>{for(var F in U||(U={}))d.call(U,F)&&D(R,F,U[F]);if(f)for(var F of f(U))T.call(U,F)&&D(R,F,U[F]);return R},p=(R,U)=>O(R,c(U)),l=(R,U)=>{var F={};for(var $ in R)d.call(R,$)&&U.indexOf($)<0&&(F[$]=R[$]);if(R!=null&&f)for(var $ of f(R))U.indexOf($)<0&&T.call(R,$)&&(F[$]=R[$]);return F};const a="YYYY-MM-DD",v="YYYY-MM-DDThh:mm";function w(R){var U=R,{className:F,min:$,max:G,value:Q,onChange:K,disabled:W}=U,Y=l(U,["className","min","max","value","onChange","disabled"]);return h("input",p(I({},Y),{type:"date",className:cn(css.datePicker,F),value:Q?dayjs(Q).format(a):"",min:$?dayjs($).format(a):"",max:G?dayjs(G).format(a):"",onChange:K,disabled:W}))}function M(R){var U=R,{className:F,min:$,max:G,value:Q,onChange:K,disabled:W}=U,Y=l(U,["className","min","max","value","onChange","disabled"]);return h("input",p(I({},Y),{type:"datetime-local",className:cn(css.datePicker,F),value:Q?dayjs(Q).format(v):void 0,min:$?dayjs($).format(v):void 0,max:G?dayjs(G).format(v):void 0,onChange:K,disabled:W}))}function C(R){var U=R,{className:F,min:$,max:G,value:Q,onChange:K,disabled:W}=U,Y=l(U,["className","min","max","value","onChange","disabled"]);return(0,t.h)("input",p(I({},Y),{type:"datetime-local",className:s()(P.datePicker,F),value:S(Q),min:S($),max:S(G),onChange:K,disabled:W}))}function L(R){var U=R,{className:F,min:$,max:G,value:Q,onChange:K,disabled:W}=U,Y=l(U,["className","min","max","value","onChange","disabled"]);return h("input",p(I({},Y),{type:"month",className:cn(css.datePicker,F),value:S(Q),min:S($),max:S(G),onChange:K,disabled:W}))}function S(R){return R instanceof Date?`${R.getFullYear()}-${N(R.getMonth()+1)}-${N(R.getDate())}T${N(R.getHours())}:${N(R.getMinutes())}`:R}function N(R){const U=String(R);return U.length<2?`0${U}`:U}},48960:(H,E,e)=>{"use strict";e.d(E,{i:()=>I});var t=e(6400),u=e(94184),s=e.n(u),g=e(51126);const P={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p},D=(p,l)=>{var a={};for(var v in p)c.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&O)for(var v of O(p))l.indexOf(v)<0&&f.call(p,v)&&(a[v]=p[v]);return a};const I=p=>{var l=p,{className:a,weight:v=1,priority:w="detail"}=l,M=D(l,["className","weight","priority"]);return(0,t.h)(g.hs,T({className:s()(P.divider,a,P[`priority_${w}`],v&&P[`weight-${v}`]),flex:"grow"},M),(0,t.h)("hr",null))}},51126:(H,E,e)=>{"use strict";e.d(E,{X2:()=>l,gq:()=>p,hs:()=>I,sg:()=>v,tu:()=>a});var t=e(6400),u=e(98661),s=e(4508),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(w,M,C)=>M in w?g(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,T=(w,M)=>{for(var C in M||(M={}))c.call(M,C)&&d(w,C,M[C]);if(O)for(var C of O(M))f.call(M,C)&&d(w,C,M[C]);return w},D=(w,M)=>P(w,y(M));const I=(0,u.forwardRef)(function(M,C){return(0,t.h)(s.xu,D(T({},M),{display:M.display||"flex",ref:C}))}),p=I,l=p,a=(0,u.forwardRef)(function(M,C){return(0,t.h)(s.xu,D(T({},M),{display:M.display||"flex",direction:"column",ref:C}))}),v=a},94016:(H,E,e)=>{"use strict";e.d(E,{z:()=>C,o:()=>L});var t=e(6400),u=e(30396),s=e(5285),g=e(94184),P=e.n(g),y=e(62372);const O={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var c=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,p=(S,N,R)=>N in S?c(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,l=(S,N)=>{for(var R in N||(N={}))D.call(N,R)&&p(S,R,N[R]);if(T)for(var R of T(N))I.call(N,R)&&p(S,R,N[R]);return S},a=(S,N)=>f(S,d(N)),v=(S,N)=>{var R={};for(var U in S)D.call(S,U)&&N.indexOf(U)<0&&(R[U]=S[U]);if(S!=null&&T)for(var U of T(S))N.indexOf(U)<0&&I.call(S,U)&&(R[U]=S[U]);return R};const w=500,M=250,C=S=>{var N=S,{className:R="",children:U,layerClassName:F,dontStopPropagation:$,as:G}=N,Q=v(N,["className","children","layerClassName","dontStopPropagation","as"]);const K=L(l({className:F},Q)),W=G!=null?G:"div";return(0,t.h)(W,a(l(l({className:R},K.triggerProps),K.hoverProps),{onClick:Y=>{$||Y.stopPropagation()}}),U,K.layer)};function L(S){var N=S,{disabled:R,onFetch:U,onOpen:F,content:$,className:G,layerOptions:Q,hideOnScroll:K=!1}=N,W=v(N,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[Y,ne,V]=(0,y.XI)({delayEnter:w,delayLeave:M,hideOnScroll:K}),j=(0,u.sO)(!1);(0,u.d4)(()=>{Y&&(!j.current&&U&&(j.current=!0,U()),F&&F())},[Y,U,F]);const[te,ie]=(0,u.eJ)(!1),{triggerProps:ue,layerProps:he,renderLayer:Z,layerSide:J}=(0,y.sJ)(l({isOpen:R?!1:Y,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},Q));return{triggerProps:ue,hoverProps:ne,layer:(Y||te)&&!R&&Z((0,t.h)(s.u,{appear:!0,show:Y&&!W.loading,beforeEnter:()=>ie(!0),afterLeave:()=>ie(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",l(l({onClick:()=>{V()},className:P()(G,O.hoverCardBase)},he),ne),$)))}}},56288:(H,E,e)=>{"use strict";e.d(E,{a:()=>D});var t=e(6400),u=e(94184),s=e.n(u);const g={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var P=Object.defineProperty,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?P(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>{var a={};for(var v in p)O.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&y)for(var v of y(p))l.indexOf(v)<0&&c.call(p,v)&&(a[v]=p[v]);return a};const D=p=>{var l=p,{type:a="circular"}=l,v=T(l,["type"]);if(a==="circular")return(0,t.h)(I,d({},v));throw new Error("not implemented")},I=({className:p,size:l="md",dataTestId:a})=>(0,t.h)("div",{"data-testid":a,className:s()(g.circularLoader,g[`size_${l}`],p)})},43028:(H,E,e)=>{"use strict";e.d(E,{v2:()=>ue,sN:()=>he});var t=e(6400),u=e(98661),s=e(30396),g=e(5285),P=e(94184),y=e.n(P),O=e(44396),c=e(71375),f=e(84040),d=e(51126),T=e(5668);const D=(0,u.createContext)({useMobileBottomSheet:!0,close:()=>{}});function I(){return(0,u.useContext)(D)}var p=e(43887);const l={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"};var a=Object.defineProperty,v=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,C=(oe,ee,z)=>ee in oe?a(oe,ee,{enumerable:!0,configurable:!0,writable:!0,value:z}):oe[ee]=z,L=(oe,ee)=>{for(var z in ee||(ee={}))w.call(ee,z)&&C(oe,z,ee[z]);if(v)for(var z of v(ee))M.call(ee,z)&&C(oe,z,ee[z]);return oe},S=(oe,ee)=>{var z={};for(var re in oe)w.call(oe,re)&&ee.indexOf(re)<0&&(z[re]=oe[re]);if(oe!=null&&v)for(var re of v(oe))ee.indexOf(re)<0&&M.call(oe,re)&&(z[re]=oe[re]);return z};const N=(0,u.forwardRef)(({title:oe,subtitle:ee,onClose:z,children:re,className:se},fe)=>(0,t.h)(d.tu,{className:l.root,onClick:z},(0,t.h)(g.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,t.h)(d.tu,{className:y()(l.sheet,se),ref:fe,onClick:Ee=>{Ee.stopPropagation()}},(0,t.h)(d.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,t.h)(d.tu,null,(0,t.h)(p.xv.B3,{weight:"semibold"},oe),(0,t.h)(p.xv.B4,{color:"secondary"},ee)),(0,t.h)(f.hU,{fill:"empty",onClick:()=>{z()},priority:"secondary"},(0,t.h)(c.Z,null))),(0,t.h)(d.tu,{paddingTop:8,overflowY:"auto",className:l.items},re))))),R=(0,u.forwardRef)((oe,ee)=>{var z=oe,{children:re,onClick:se,closeMenu:fe,icon:Ee,rightIcon:ge,className:be,priority:me="primary",disabled:pe,hiddenInput:Le}=z,je=S(z,["children","onClick","closeMenu","icon","rightIcon","className","priority","disabled","hiddenInput"]);const xe=je.href?"a":f.kG,{close:ye}=I();return(0,t.h)(xe,L({className:y()(l.item,l[me],be,{[l.disabled]:!!pe,[l.relative]:!!Le}),resetCss:!0,onClick:Me=>{se==null||se(Me),ye()},ref:ee},je),Ee&&(0,t.cloneElement)(Ee,{size:20,stroke:"var(--color-primary)"}),Ee&&" ",(0,t.h)(p.xv.B4,{color:me==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},re),ge&&(0,t.h)(t.Fragment,null,(0,t.h)(d.hs,{flex:"grow"}),ge&&(0,t.cloneElement)(ge,{size:20,stroke:"var(--color-primary)"})),Le&&(0,t.h)(T.U,null,Le))});var U=e(89581);const F={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var $=Object.defineProperty,G=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,ne=(oe,ee,z)=>ee in oe?$(oe,ee,{enumerable:!0,configurable:!0,writable:!0,value:z}):oe[ee]=z,V=(oe,ee)=>{for(var z in ee||(ee={}))W.call(ee,z)&&ne(oe,z,ee[z]);if(K)for(var z of K(ee))Y.call(ee,z)&&ne(oe,z,ee[z]);return oe},j=(oe,ee)=>G(oe,Q(ee)),te=(oe,ee)=>{var z={};for(var re in oe)W.call(oe,re)&&ee.indexOf(re)<0&&(z[re]=oe[re]);if(oe!=null&&K)for(var re of K(oe))ee.indexOf(re)<0&&Y.call(oe,re)&&(z[re]=oe[re]);return z};function ie(oe){return typeof oe.type=="string"||oe.type.$$typeof===Symbol.for("react.forward_ref")}const ue=(0,u.forwardRef)((oe,ee)=>{var z=oe,{trigger:re,children:se,ariaLabel:fe="View more",hideOnScroll:Ee,layerOptions:ge,layerClassName:be,onOpen:me,onClose:pe,useMobileBottomSheet:Le=!1,mobileBottomSheetTitle:je,mobileBottomSheetSubtitle:xe,stopPropagation:ye=!1,maxHeight:Me=295,padding:We=8,disableMenu:De=!1}=z,Ge=te(z,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);ie(re)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const pt=(0,O.XA)(),{triggerProps:wt,layerProps:Ht,renderLayer:nt,isOpen:Ze,setOpen:st}=(0,U.x)({layerOptions:V({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},ge),hideOnScroll:Ee&&!(Le&&pt),onClose:pe}),[Ie,Pe]=(0,s.eJ)(!1),Ce=()=>{st(!1),pe&&pe()},Be=(0,t.toChildArray)(se).map($e=>(0,t.cloneElement)($e,{useMobileBottomSheet:Le,closeMenu:Ce})),Ve=(0,u.useMemo)(()=>({useMobileBottomSheet:Le,close:Ce}),[pe,Le]);return(0,t.h)(D.Provider,{value:Ve},(0,t.cloneElement)(re,j(V({},wt),{ariaLabel:fe,onClick:$e=>{$e.preventDefault(),ye&&$e.stopPropagation(),De||st(!Ze),!Ze&&me&&me(),Ze&&pe&&pe()}})),(Ze||Ie)&&nt(Le&&pt?(0,t.h)(g.u,{appear:!0,show:Ze,beforeEnter:()=>Pe(!0),afterLeave:()=>Pe(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",V(V({},Ht),Ge),(0,t.h)(N,{title:je,subtitle:xe,onClose:Ce,ref:ee,className:be},Be))):(0,t.h)(g.u,{appear:!0,unmount:!1,show:Ze,beforeEnter:()=>Pe(!0),afterLeave:()=>Pe(!1),className:"tw-duration-fast"},(0,t.h)("div",V(V({},Ht),Ge),(0,t.h)(g.u,{appear:!0,unmount:!1,show:Ze,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,t.h)(Z,V({className:be,ref:ee,padding:We},!Ee&&{style:{maxHeight:Me,overflowY:"auto"}}),Be))))))}),he=(0,u.forwardRef)((oe,ee)=>{const{useMobileBottomSheet:z}=I(),re=(0,O.XA)();return z&&re?(0,t.h)(R,j(V({},oe),{ref:ee})):(0,t.h)(J,j(V({},oe),{ref:ee}))}),Z=(0,u.forwardRef)((oe,ee)=>{var z=oe,{className:re}=z,se=te(z,["className"]);return(0,t.h)(d.tu,V({className:y()(F.menu,"elevated",re),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:ee},se))}),J=(0,u.forwardRef)((oe,ee)=>{var z=oe,{children:re,onClick:se,closeMenu:fe,icon:Ee,rightIcon:ge,suffix:be,priority:me="primary",className:pe,disabled:Le,href:je,download:xe,hiddenInput:ye}=z,Me=te(z,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const We=je?"a":f.kG,{close:De}=I();return(0,t.h)(We,V({className:y()(F.menuItem,F[me],pe,{[F.disabled]:!!Le,[F.relative]:!!ye}),resetCss:!0,onClick:Ge=>{Le||(se&&se(Ge),De?De():fe&&fe())},href:Le?"javascript:void(0)":je,download:xe,ref:ee},Me),Ee&&(0,t.cloneElement)(Ee,{size:24,className:y()(F.icon,Ee.props.className)}),(0,t.h)(p.xv.B4,{color:me==="destructive"?"accent-red":"primary",className:F.text,weight:"semibold",align:"left"},re),be,ge&&(0,t.h)(t.Fragment,null,(0,t.h)(d.hs,{flex:"grow"}),ge&&(0,t.cloneElement)(ge,{size:24,className:y()(F.icon,ge.props.className)})),ye&&(0,t.h)(T.U,null,ye))});function ae({title:oe,children:ee}){return h(FlexColumn,{borderTop:"detail"},oe&&h(Text.Meta,{padding:8,flex:"auto",sizing:"border-box"},oe),ee)}const le=null},53940:(H,E,e)=>{"use strict";e.d(E,{u:()=>L,f:()=>M});var t=e(6400),u=e(98661),s=e(5285),g=e(81583),P=e(94184),y=e.n(P),O=e(50308),c=e.n(O),f=e(44396),d=e(4508),T=e(21958);const D={renderOverReactLaagPortal:"frontend-pencraft-Modal-Modal-module__renderOverReactLaagPortal--TqD1u",container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",bottom:"frontend-pencraft-Modal-Modal-module__bottom--YPMpX",hide:"frontend-pencraft-Modal-Modal-module__hide--a29WN",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f"};var I=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?I(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,w=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(p)for(var R of p(N))a.call(N,R)&&v(S,R,N[R]);return S};const M=(0,T.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),C=({children:S})=>(0,t.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},S),L=({isOpen:S,onClose:N=()=>{},children:R,includeBackdrop:U=!0,position:F="default",opacity:$="medium",radius:G="medium",testId:Q="modal",className:K,onEscape:W,fullscreenMobile:Y,overflow:ne,width:V=440,disableCloseOnBackdropClick:j=!1,initialFocus:te,renderOverReactLaagPortal:ie=!1})=>{const ue=(0,f.XA)(),he=Z=>{const{code:J}=Z;W&&J==="Escape"&&W(Z)};return(0,t.h)(s.u,{show:S,as:u.Fragment},(0,t.h)(g.V,{onMouseDown:Z=>Z.stopPropagation(),onMouseUp:Z=>Z.stopPropagation(),onClick:Z=>Z.stopPropagation(),"data-testid":Q,as:"div",className:y()(ie&&D.renderOverReactLaagPortal,"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto"),onClose:j?c():N,onKeyDown:W?he:void 0,initialFocus:te},(0,t.h)(C,null,U&&(0,t.h)(s.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",{className:$==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,t.h)(s.u.Child,{as:u.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,t.h)(g.V.Panel,{className:y()(K,(0,d.yK)({display:"flex",radius:G}),D.container,D[F],Y?D.fullscreenMobile:D.dynamicMobile),style:w({width:ue||F==="full"?void 0:V,overflow:ne},ue&&Y&&typeof window!="undefined"&&window.innerHeight&&{height:`${window.innerHeight}px`})},R)))))}},29354:(H,E,e)=>{"use strict";e.d(E,{m:()=>d});var t=e(6400),u=e(94184),s=e.n(u),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,c=(I,p,l)=>p in I?g(I,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):I[p]=l,f=(I,p)=>{for(var l in p||(p={}))y.call(p,l)&&c(I,l,p[l]);if(P)for(var l of P(p))O.call(p,l)&&c(I,l,p[l]);return I};const d=I=>I.alignment==="center"?(0,t.h)(D,f({},I)):(0,t.h)(T,f({},I)),T=({primaryButton:I,secondaryButton:p,destructiveButton:l,includeDivider:a,className:v})=>(0,t.h)("div",{className:s()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":a},v)},l&&(0,t.cloneElement)(l,{className:s()("tw-mr-auto",l.props.className)}),p,I),D=({includeDivider:I,primaryButton:p,secondaryButton:l,className:a})=>(0,t.h)("div",{className:s()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":I},a)},p,l)},28079:(H,E,e)=>{"use strict";e.d(E,{r:()=>f,x:()=>c});var t=e(6400),u=e(81583),s=e(94184),g=e.n(s),P=e(26059),y=e(33705),O=e(21958);const c=({isModal:d=!0,onClose:T,includeClose:D=!1,bottomBorder:I,title:p,description:l,as:a="h2",usePubThemeForTitle:v=!1,className:w,pagination:M})=>(0,t.h)("div",{className:g()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",w,{"tw-px-4":!M,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":I})},!p&&!M&&(0,t.h)(y.Z,{alt:"Substack icon",height:24}),M&&(0,t.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},M[0]," OF ",M[1]),D&&(0,t.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:T,"aria-label":"close"},(0,t.h)(P.Z,null)),p&&d&&(0,t.h)(u.V.Title,{as:a,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),l&&d&&(0,t.h)(u.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},l),p&&!d&&(0,t.h)(f,{className:"tw-col-start-1 tw-row-start-1"},p)&&(0,t.createElement)(a,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),l&&!d&&(0,t.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},l)&&(0,t.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},l)),f=(0,O.L)("tw-my-0 tw-font-title","h2")},92106:(H,E,e)=>{"use strict";var t=e(6400),u=e(94184),s=e(51126),g=e(43887);const P={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p},D=(p,l)=>{var a={};for(var v in p)c.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&O)for(var v of O(p))l.indexOf(v)<0&&f.call(p,v)&&(a[v]=p[v]);return a};const I=p=>{var l=p,{icon:a,text:v,textColor:w="secondary",bgColor:M="secondary",paddingX:C=24,paddingY:L=24,border:S,className:N,onClick:R}=l,U=D(l,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,T({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:C,paddingY:L,radius:12,border:S,className:cn(N,css.placeholder,css[`bg_${M}`],css[`text_${w}`],{[css.clickable]:!!R}),onClick:R},U),h(FlexColumn,{gap:8,alignItems:"center"},a,h(Text.B4,{color:w,className:css.text,weight:"bold"},v)))}},70925:(H,E,e)=>{"use strict";e.d(E,{J:()=>v});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(62372);const y={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var O=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(C,L,S)=>L in C?O(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,p=(C,L)=>{for(var S in L||(L={}))T.call(L,S)&&I(C,S,L[S]);if(d)for(var S of d(L))D.call(L,S)&&I(C,S,L[S]);return C},l=(C,L)=>c(C,f(L)),a=(C,L)=>{var S={};for(var N in C)T.call(C,N)&&L.indexOf(N)<0&&(S[N]=C[N]);if(C!=null&&d)for(var N of d(C))L.indexOf(N)<0&&D.call(C,N)&&(S[N]=C[N]);return S};const v=C=>{var L=C,{className:S="",children:N,layerClassName:R,hideOnScroll:U=!1,onClose:F}=L,$=a(L,["className","children","layerClassName","hideOnScroll","onClose"]);const[G,Q]=(0,u.eJ)(!1),K=M(p({open:G,onClose:()=>{Q(!1),F==null||F()},hideOnScroll:U,className:R},$));return w({hideOnScroll:U,setOpen:Q,open:G}),(0,t.h)("div",l(p({className:S},K.triggerProps),{onClick:W=>{Q(!G),W.stopPropagation()}}),typeof N=="function"?N({isOpen:G}):N,K.layer)};function w({hideOnScroll:C,setOpen:L,open:S}){const N=(0,u.I4)(R=>{requestAnimationFrame(()=>{var U;const $=(U=R.target.classList)==null?void 0:U.contains("popoverLayerForScrollDetection");S&&C&&!$&&L(!1)})},[C,L,S]);(0,u.d4)(()=>{if(C)return window.addEventListener("scroll",N,!0),()=>{window.removeEventListener("scroll",N,!0)}},[N,C])}function M({open:C,onClose:L,disabled:S,possiblePlacements:N=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:R,snap:U=!1,onOpen:F,content:$,className:G,layerOptions:Q,closeOnOutsideClick:K=!0}){const W=(0,u.sO)(!1);(0,u.d4)(()=>{C&&!W.current&&F&&(W.current=!0,F())},[C,F]);const{triggerProps:Y,layerProps:ne,renderLayer:V}=(0,P.sJ)(p(p(p({isOpen:S?!1:C,overflowContainer:!1,auto:!0,snap:U,possiblePlacements:N,placement:R,containerOffset:10,triggerOffset:8},K&&{onOutsideClick:()=>L()}),R&&{placement:R}),Q));return{triggerProps:Y,layer:C&&V((0,t.h)("div",p({className:g()("popoverLayerForScrollDetection",y.popoverBase,G)},ne),typeof $=="function"?$({closePopover:L}):$))}}},65414:(H,E,e)=>{"use strict";e.d(E,{r:()=>I});var t=e(6400),u=e(12395),s=e(94184),g=e.n(s),P=e(30058),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(l,a,v)=>a in l?y(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,T=(l,a)=>{for(var v in a||(a={}))c.call(a,v)&&d(l,v,a[v]);if(O)for(var v of O(a))f.call(a,v)&&d(l,v,a[v]);return l},D=(l,a)=>{var v={};for(var w in l)c.call(l,w)&&a.indexOf(w)<0&&(v[w]=l[w]);if(l!=null&&O)for(var w of O(l))a.indexOf(w)<0&&f.call(l,w)&&(v[w]=l[w]);return v};const I=l=>{var a=l,{color:v="default",accessibilityLabel:w="Toggle setting",classNames:M,checked:C,small:L=!1,preflightClassName:S}=a,N=D(a,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const R=v==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return(0,t.h)(P.e,{className:S},(0,t.h)(u.r,T({className:g()(C?R:"tw-bg-neutral-400",L?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",M),checked:C},N),(0,t.h)("span",{className:"tw-sr-only"},w),(0,t.h)("span",{"aria-hidden":"true",className:g()(C?`${L?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",L?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var p=null},43887:(H,E,e)=>{"use strict";e.d(E,{Zx:()=>L,xv:()=>C,hh:()=>oe});var t=e(6400),u=e(94184),s=e.n(u),g=e(28488);const P=ee=>{const z=document.createElement("ROOT");return z.innerHTML=ee,z},y=(ee,z,re)=>{let se="";const fe=ge=>Array.isArray(ge)&&ge.length===2&&ge[1]===null;return(Array.isArray(ee)&&!fe(ee)?ee:[ee]).forEach(ge=>{if(!ge)se+="";else if(ge.type){const be=z.length+1;z.push(ge),se+=`<C${be}>${y(ge.props.children||[],z,re)}</C${be}>`}else if(fe(ge)){const be=ge[0];se+=`%${re.length+1}`,re.push(be)}else se+=ge}),se},O=(ee,z)=>{const re=P(ee),se=fe=>{const Ee=[];return fe.forEach(ge=>{var be,me;if((be=ge.nodeName)!=null&&be.startsWith("C")){const pe=Number(ge.nodeName.replace("C",""))-1,Le=z[pe];if(!Le)return;const je=(me=ge.childNodes)!=null&&me.length?se(ge.childNodes):[],xe=(0,t.cloneElement)(Le,Le.props,je);Ee.push(xe)}else{const pe=ge.data||"";Ee.push(pe)}}),Ee};return se(re.childNodes||[])};var c=e(4508),f=e(28614),d=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(ee,z,re)=>z in ee?d(ee,z,{enumerable:!0,configurable:!0,writable:!0,value:re}):ee[z]=re,v=(ee,z)=>{for(var re in z||(z={}))p.call(z,re)&&a(ee,re,z[re]);if(I)for(var re of I(z))l.call(z,re)&&a(ee,re,z[re]);return ee},w=(ee,z)=>T(ee,D(z)),M=(ee,z)=>{var re={};for(var se in ee)p.call(ee,se)&&z.indexOf(se)<0&&(re[se]=ee[se]);if(ee!=null&&I)for(var se of I(ee))z.indexOf(se)<0&&l.call(ee,se)&&(re[se]=ee[se]);return re};const C=ee=>{var z=ee,{className:re,align:se,size:fe,weight:Ee,transform:ge}=z,be=M(z,["className","align","size","weight","transform"]);be=w(v({},be),{textAlign:se!=null?se:be.textAlign,textTransform:ge!=null?ge:be.textTransform,fontSize:fe!=null?fe:be.fontSize,fontWeight:Ee!=null?Ee:be.fontWeight});const{iString:me,language:pe}=(0,g.M1)();let Le=be.children;if(be.translated&&pe!=="en"){const je=[],xe=[],ye=y(be.children,je,xe),Me=me(ye,...xe);if(Me&&Me!==ye)try{Le=O(Me,je)}catch(We){console.log(`Could not translate ${ye}`,We)}}return(0,t.h)(c.xu,w(v({className:s()(f.Z.reset,re)},be),{children:Le}))},L=ee=>(0,t.h)(C,v({as:"span"},ee)),S=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:s()(f.Z.header1,se)},fe),re)},N=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:s()(f.Z.header2,se)},fe),re)},R=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:s()(f.Z.header3,se)},fe),re)},U=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:s()(f.Z.header4,se)},fe),re)},F=(0,c.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:f.Z.body1}),$=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:s()(f.Z.body2,se)},fe),re)},G=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:s()(f.Z.body3,se)},fe),re)},Q=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:s()(f.Z.body4,se)},fe),re)},K=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:s()(f.Z.meta,se)},fe),re)},W=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:s()(f.Z.digit,se)},fe),re)},Y=ee=>(0,t.h)(C,v({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},ee)),ne=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:s()(se)},fe),re)},V=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({font:"text",color:"primary",className:s()(f.Z.marketingBody,se)},fe),re)},j=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h1",color:"primary",weight:"normal",className:s()(f.Z.marketingHeading1xl,se)},fe),re)},te=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h1",color:"primary",weight:"normal",className:s()(f.Z.marketingHeading1,se)},fe),re)},ie=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h3",color:"primary",weight:"medium",className:s()(f.Z.marketingHeading2,se)},fe),re)},ue=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h3",color:"primary",weight:"medium",className:s()(f.Z.marketingHeading3,se)},fe),re)},he=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h4",color:"primary",weight:"medium",className:s()(f.Z.marketingHeading4,se)},fe),re)},Z=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h5",color:"primary",weight:"normal",className:s()(f.Z.marketingHeading5,se)},fe),re)},J=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h4",color:"primary",weight:"normal",align:"center",className:s()(f.Z.marketingQuote,se)},fe),re)},ae=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h4",color:"primary",weight:"normal",size:28,className:s()(f.Z.marketingSubtitle,se)},fe),re)},le=ee=>{var z=ee,{children:re,className:se}=z,fe=M(z,["children","className"]);return(0,t.h)(C,v({as:"h1",color:"primary",weight:"normal",className:s()(f.Z.stat,se)},fe),re)},oe=(0,c.E7)({as:"a",decoration:"hover-underline"});C.H1=S,C.H2=N,C.H3=R,C.H4=U,C.B1=F,C.B2=$,C.B3=G,C.B4=Q,C.Detail=ne,C.MarketingBody=V,C.MarketingHeading1xl=j,C.MarketingHeading1=te,C.MarketingHeading2=ie,C.MarketingHeading3=ue,C.MarketingHeading4=he,C.MarketingHeading5=Z,C.MarketingQuote=J,C.MarketingSubtitle=ae,C.Meta=K,C.Stat=le,C.Digit=W,C.Button=Y},75425:(H,E,e)=>{"use strict";e.d(E,{FN:()=>L,Us:()=>S,VW:()=>Y,dd:()=>ne,lL:()=>N,pm:()=>V});var t=e(6400),u=e(98661),s=e(30396),g=e(5285),P=e(94184),y=e.n(P),O=e(71375),c=e(13833),f=e(21958),d=e(92271),T=e(51126),D=Object.defineProperty,I=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(j,te,ie)=>te in j?D(j,te,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[te]=ie,M=(j,te)=>{for(var ie in te||(te={}))a.call(te,ie)&&w(j,ie,te[ie]);if(l)for(var ie of l(te))v.call(te,ie)&&w(j,ie,te[ie]);return j},C=(j,te)=>I(j,p(te));function L({text:j,cta:te,onAccept:ie,href:ue,onClose:he,Icon:Z,className:J}){return(0,t.h)(U,{className:y()("tw-items-center",J)},(0,t.h)(T.gq,{className:"tw-flex-1",gap:12},Z&&(0,t.h)(Q,{Icon:Z}),(0,t.h)(F,null,j)),(0,t.h)(T.gq,{className:"tw-flex-none",gap:12},te&&(typeof te=="string"?(ue||ie)&&(0,t.h)(d.z,{look:"flex",onClick:ae=>{he==null||he(),ie==null||ie(ae)},href:ue},(0,t.h)(c.Av,{className:"tw-text-dark-secondary"},te)):te),(0,t.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,t.h)(G,{onClick:he})))}function S({title:j,body:te,buttons:ie,onClose:ue,Icon:he}){return(0,t.h)(U,{className:"tw-max-w-md"},he&&(0,t.h)(Q,{Icon:he}),(0,t.h)(T.tu,{className:"tw-flex-0-5",gap:8},(0,t.h)(T.tu,{className:"tw-flex-0-5",gap:4},(0,t.h)(F,null,j),(0,t.h)($,null,te)),ie&&(0,t.h)(T.gq,{gap:24},ie)),(0,t.h)(G,{onClick:ue}))}function N(j){return(0,t.h)(d.z,M({look:"flex",className:"tw-h-9 tw-items-center"},j))}function R(j){return h("div",{className:K},h(L,M({},j)))}const U=(0,f.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),F=(0,f.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",c.Hj),$=(0,f.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",c.Hj);function G({onClick:j}){return(0,t.h)(d.z,{look:"flex",onClick:j},(0,t.h)(O.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function Q({Icon:j}){return(0,t.h)(j,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const K="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",W=(0,t.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function Y({children:j}){const[te,ie]=(0,s.eJ)(null),[ue,he]=(0,s.eJ)("hidden"),[Z,J]=(0,s.eJ)(0),ae=(0,s.sO)(null),le=()=>{he("hidden")},oe=(z,{ttl:re=5e3}={})=>{ie({element:z({onClose:le}),ttl:re}),he("visible"),ae.current!=null&&clearTimeout(ae.current),ae.current=re===null?null:setTimeout(le,re)},ee=z=>{J(Math.min(Z+z,0))};return(0,t.h)(W.Provider,{value:{popToast:oe,addOffset:ee}},j,(0,t.h)("div",{className:K,style:{transform:`translateY(${Z}px)`}},(0,t.h)(g.u,{appear:!0,show:!!te&&ue==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>ae.current!=null&&clearTimeout(ae.current),onMouseLeave:()=>{ae.current!=null&&clearTimeout(ae.current),te&&(ae.current=te.ttl===null?null:setTimeout(le,te.ttl))}},te==null?void 0:te.element)))}const ne=j=>{const te=(0,u.forwardRef)((ie,ue)=>{const he=V();return(0,t.h)(j,C(M(M({},he),ie),{ref:ue}))});return te.displayName=`withToastContext(${j.name||j.displayName||"Anonymous"})`,te};function V(){return(0,s.qp)(W)}},92630:(H,E,e)=>{"use strict";e.d(E,{u:()=>w,_:()=>M});var t=e(6400),u=e(51126),s=e(25666),g=e(43887);const P={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"};var y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(S,N,R)=>N in S?y(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,I=(S,N)=>{for(var R in N||(N={}))d.call(N,R)&&D(S,R,N[R]);if(f)for(var R of f(N))T.call(N,R)&&D(S,R,N[R]);return S},p=(S,N)=>O(S,c(N)),l=(S,N)=>{var R={};for(var U in S)d.call(S,U)&&N.indexOf(U)<0&&(R[U]=S[U]);if(S!=null&&f)for(var U of f(S))N.indexOf(U)<0&&T.call(S,U)&&(R[U]=S[U]);return R};const a=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],v=["left-start","left-center","left-end","right-start","right-center","right-end"],w=S=>{var N=S,{children:R,text:U,as:F="span",icon:$,hotkeys:G,preferPlacement:Q="top-center",disabled:K,dangerouslySetTooltipZIndex:W,hoverOptions:Y={}}=N,ne=l(N,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex","hoverOptions"]);const{layerProps:V,triggerProps:j,transitionProps:te,renderLayer:ie,shouldShow:ue}=(0,s.l)({layerOptions:{placement:Q,possiblePlacements:v.includes(Q)?v:a},hoverOptions:Y}),he=V,{style:Z}=he,J=l(he,["style"]);return K?(0,t.h)(t.Fragment,null,R):(0,t.h)(t.Fragment,null,(0,t.h)(F,I(I({},j),ne),R),ue&&ie((0,t.h)(M,{transitionProps:te,tooltipProps:p(I({},J),{style:p(I({},Z),{maxWidth:350,zIndex:W||Number.MAX_SAFE_INTEGER})}),icon:$,text:U,hotkeys:G})))};function M({transitionProps:S,tooltipProps:N,icon:R,text:U,hotkeys:F}){const $=!!(F!=null&&F.length)&&(0,t.h)(C,null,F.map((G,Q)=>(0,t.h)(L,{key:Q},G)));return(0,t.h)("div",I({},N),(0,t.h)(s.x,I({},S),(0,t.h)("div",{className:P.tooltip},(0,t.h)(u.gq,{alignItems:"center",gap:8,className:P.tooltipContent},R&&(0,t.h)(t.Fragment,null,(0,t.cloneElement)(R,{size:20})," "),U,$))))}function C({children:S}){return(0,t.h)(g.xv,{as:"div",className:P.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},S)}function L({children:S}){return(0,t.h)(u.hs,{className:P.shortcutKey,alignItems:"center",justifyContent:"center"},(0,t.h)(g.xv.Meta,null,S))}},13833:(H,E,e)=>{"use strict";e.d(E,{xv:()=>w,Hj:()=>v,Av:()=>C,gx:()=>M});var t=e(6400),u=e(94184),s=e.n(u),g=e(19696);const P={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(L,S,N)=>S in L?y(L,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):L[S]=N,I=(L,S)=>{for(var N in S||(S={}))d.call(S,N)&&D(L,N,S[N]);if(f)for(var N of f(S))T.call(S,N)&&D(L,N,S[N]);return L},p=(L,S)=>O(L,c(S)),l=(L,S)=>{var N={};for(var R in L)d.call(L,R)&&S.indexOf(R)<0&&(N[R]=L[R]);if(L!=null&&f)for(var R of f(L))S.indexOf(R)<0&&T.call(L,R)&&(N[R]=L[R]);return N};const a=(0,g.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),v=(0,g.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function w(L){var S=L,{className:N,color:R,as:U="span"}=S,F=l(S,["className","color","as"]);return(0,t.h)(U,p(I({},F),{className:s()(N,R&&P[`color-${R}`])}))}const M="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",C=(0,g.L)(M,w)},64927:(H,E,e)=>{"use strict";e.d(E,{X2:()=>s.X2,oB:()=>u.oB,sg:()=>s.sg,xv:()=>g.xv,zx:()=>t.zx});var t=e(84040),u=e(4508),s=e(51126),g=e(43887)},92271:(H,E,e)=>{"use strict";e.d(E,{z:()=>I});var t=e(6400),u=e(94184),s=e.n(u),g=e(84040),P=e(13833),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(w,M,C)=>M in w?y(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,T=(w,M)=>{for(var C in M||(M={}))c.call(M,C)&&d(w,C,M[C]);if(O)for(var C of O(M))f.call(M,C)&&d(w,C,M[C]);return w},D=(w,M)=>{var C={};for(var L in w)c.call(w,L)&&M.indexOf(L)<0&&(C[L]=w[L]);if(w!=null&&O)for(var L of O(w))M.indexOf(L)<0&&f.call(w,L)&&(C[L]=w[L]);return C};function I(w){var M=w,{className:C,variant:L,look:S="button",fill:N="outline",fixedHeight:R=!0,size:U="medium",leftIcon:F,rightIcon:$,noPadding:G=!1,forwardedRef:Q,children:K}=M,W=D(M,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,t.h)(g.kG,T({className:s()(C,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!v.includes(S)&&"tw-bg-transparent",l.includes(S)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${P.gx}`,a.includes(S)&&!G&&"tw-px-5",R||S=="round"?U==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",S==="button"&&"tw-rounded",S==="round"&&["tw-rounded-full tw-px-4",F&&"tw-pl-[10px]",$&&"tw-pr-[10px]"],S==="circle"&&["tw-justify-center tw-rounded-full",U==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],S==="text"&&`tw-inline ${p}`,S==="reset"&&`tw-inline-block ${p}`,S==="flex"&&`tw-flex ${p}`,L==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:L==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:L==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(S)?N==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:L==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:L==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(S)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:L==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:L==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:Q},W),F,K,$)}const p="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",l=["button","borderless","circle","round"],a=["button","borderless"],v=["button","circle","round"]},53570:(H,E,e)=>{"use strict";e.d(E,{X:()=>a});var t=e(6400),u=e(94184),s=e.n(u),g=e(25380);const P={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(v,w,M)=>w in v?y(v,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):v[w]=M,I=(v,w)=>{for(var M in w||(w={}))d.call(w,M)&&D(v,M,w[M]);if(f)for(var M of f(w))T.call(w,M)&&D(v,M,w[M]);return v},p=(v,w)=>O(v,c(w)),l=(v,w)=>{var M={};for(var C in v)d.call(v,C)&&w.indexOf(C)<0&&(M[C]=v[C]);if(v!=null&&f)for(var C of f(v))w.indexOf(C)<0&&T.call(v,C)&&(M[C]=v[C]);return M};const a=v=>{var w=v,{name:M,size:C="medium",checked:L,disabled:S=!1,error:N=!1,onChange:R,as:U="label",withTheme:F=!1}=w,$=l(w,["name","size","checked","disabled","error","onChange","as","withTheme"]);const G=U;return(0,t.h)(G,{className:s()("pencraft",P.container,P[C],S?P.disabled:P.enabled,L?F?P.checkedWithTheme:P.checked:P.unchecked,N?P.error:"")},L&&(0,t.h)(g.Z,{size:C==="small"?16:24}),(0,t.h)("input",p(I({},$),{className:"pencraft",type:"checkbox",name:M,"data-testid":M,checked:L,disabled:S,onChange:Q=>{var K,W;!S&&R(!L,p(I({},Q.target),{name:(W=(K=Q.target)==null?void 0:K.name)!=null?W:""}))}})))}},72657:(H,E,e)=>{"use strict";e.d(E,{D:()=>s});var t=e(6400),u=e(13045);const s=({errors:g})=>g?(0,t.h)(t.Fragment,null,g.map(P=>(0,t.h)(u.xv.B4,{color:"error",key:P},P))):null},75328:(H,E,e)=>{"use strict";e.d(E,{g:()=>v});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(67963),y=e(17025);const O={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"},c=300,f=8,d=100;class T extends t.Component{constructor(M,C){super(M,C),this.cardRef=(0,t.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,t.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},d)}setIsShown(M){this.setState({isOpen:M,attachCard:M})}onClick(M){M.stopPropagation()}render({content:M,preferPositionLeft:C,className:L,children:S},{attachCard:N,isOpen:R}){var U,F,$;let G={},Q=!1;if(N&&((U=this.wrapperRef)!=null&&U.current)){const{top:K,left:W}=this.wrapperRef.current.getBoundingClientRect(),{height:Y,width:ne}=($=(F=this.cardRef.current)==null?void 0:F.getBoundingClientRect())!=null?$:{};Q=C&&W-ne>0,Q?G={top:K-f-Y,left:W-ne-f,"max-width":c}:G={top:K-f-Y,"max-width":c,left:W}}return(0,t.h)("div",{className:g()(O.portalWrapper,L),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:K=>this.onClick(K),ref:this.wrapperRef},typeof S=="function"?S({}):S,N&&(0,u.createPortal)((0,t.h)("div",{className:g()(O.contentWrapper,{[O.contentWrapperShown]:R,"animate-opacity":!(0,y.isSafari)(),"position-left":Q}),ref:this.cardRef,style:G,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},M),document.body))}}T.defaultProps={delay:d},T.contextType=P.St;const D=T,I={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},p=({content:w})=>(0,t.h)(D,{content:w},(0,t.h)("div",{className:I.learnMoreChip},"?"));var l=e(13045),a=e(72657);const v=(0,u.forwardRef)(({action:w,children:M,className:C,errors:L,helpText:S,details:N,label:R,paddingBottom:U,paddingTop:F,wrapWithLabel:$,disabled:G,compact:Q},K)=>{const W=Q?2:8;return(0,t.h)(l.tu,{ref:K,alignItems:"stretch",className:C,gap:W,paddingBottom:U,paddingTop:F,disabled:G},(0,t.h)(l.tu,{alignItems:"stretch",gap:W,as:$?"label":"div"},R&&(0,t.h)(l.gq,{gap:W,alignItems:"center"},(0,t.h)(l.xv.B4,{weight:"semibold",as:$?"div":"label",color:"primary"},R),S&&(0,t.h)(p,{content:S}),w&&(0,t.h)(l.gq,{flex:"grow",justifyContent:"end"},w)),M&&(0,t.h)("div",{className:g()({"has-error":L})},M)),N&&!Array.isArray(N)&&(0,t.h)(l.xv.Detail,null,N),N&&Array.isArray(N)&&N.length>0&&(0,t.h)(l.tu,{gap:4},N.map(Y=>(0,t.h)(l.xv.Detail,null,Y))),(0,t.h)(a.D,{errors:L}))})},92958:(H,E,e)=>{"use strict";e.d(E,{Y:()=>l});var t=e(6400),u=e(94184),s=e.n(u);const g={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP","radio--accent":"frontend-pencraft-form-Radio-module__radio--accent--GPQc_"};var P=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(a,v,w)=>v in a?P(a,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):a[v]=w,D=(a,v)=>{for(var w in v||(v={}))f.call(v,w)&&T(a,w,v[w]);if(c)for(var w of c(v))d.call(v,w)&&T(a,w,v[w]);return a},I=(a,v)=>y(a,O(v)),p=(a,v)=>{var w={};for(var M in a)f.call(a,M)&&v.indexOf(M)<0&&(w[M]=a[M]);if(a!=null&&c)for(var M of c(a))v.indexOf(M)<0&&d.call(a,M)&&(w[M]=a[M]);return w};const l=a=>{var v=a,{color:w}=v,M=p(v,["color"]);return(0,t.h)("div",{className:s()(g.container)},(0,t.h)("input",I(D({},M),{type:"radio"})),(0,t.h)("span",{className:s()(g.radio,{[g["radio--accent"]]:w==="accent"})}))}},2019:(H,E,e)=>{"use strict";e.d(E,{g:()=>I});var t=e(6400),u=e(30396),s=e(51126),g=e(43887),P=e(75328),y=e(92958),O=Object.defineProperty,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(p,l,a)=>l in p?O(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,D=(p,l)=>{for(var a in l||(l={}))f.call(l,a)&&T(p,a,l[a]);if(c)for(var a of c(l))d.call(l,a)&&T(p,a,l[a]);return p};const I=({horizontal:p,label:l,labelProps:a,name:v,options:w,paddingBottom:M,paddingTop:C,size:L="medium",value:S,variant:N,onChange:R,color:U})=>{const F=(0,u.I4)(G=>{R(G.target.value)},[R]);let $;return N==="boxed"?$=(0,t.h)(s.tu,{gap:8},w.map(({value:G,label:Q,disabled:K,track:W,testid:Y})=>{const ne=G===S;return(0,t.h)(s.gq,{alignItems:"center",as:"label",border:ne?"accent-themed":"detail-themed",gap:8,padding:16,radius:6},(0,t.h)(y.Y,{checked:ne,color:"accent","data-testid":Y,"data-track-input":W,disabled:K,name:v,value:G,onClick:F}),(0,t.h)(g.xv.B4,{as:"span",weight:ne?"semibold":"normal"},Q))})):$=(0,t.h)(s.gq,{gap:L==="medium"?8:16,direction:p?"row":"column"},w.map(({value:G,label:Q,disabled:K,track:W,testid:Y})=>(0,t.h)(s.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,t.h)(y.Y,{color:U,checked:G===S,"data-testid":Y,"data-track-input":W,disabled:K,name:v,value:G,onClick:F}),L==="medium"?(0,t.h)(g.xv.B4,D({as:"span"},a),Q):(0,t.h)(g.xv.B3,D({},a),Q)))),(0,t.h)(P.g,{label:l,paddingBottom:M,paddingTop:C},$)}},34394:(H,E,e)=>{"use strict";e.d(E,{o:()=>a});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(51220),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(v,w,M)=>w in v?y(v,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):v[w]=M,I=(v,w)=>{for(var M in w||(w={}))d.call(w,M)&&D(v,M,w[M]);if(f)for(var M of f(w))T.call(w,M)&&D(v,M,w[M]);return v},p=(v,w)=>O(v,c(w)),l=(v,w)=>{var M={};for(var C in v)d.call(v,C)&&w.indexOf(C)<0&&(M[C]=v[C]);if(v!=null&&f)for(var C of f(v))w.indexOf(C)<0&&T.call(v,C)&&(M[C]=v[C]);return M};const a=(0,u.forwardRef)((v,w)=>{var M=v,{className:C,error:L=!1,type:S="text",width:N,background:R,font:U}=M,F=l(M,["className","error","type","width","background","font"]);return(0,t.h)("input",p(I({},F),{className:g()(C,P.Z.input,{[P.Z.error]:L},U&&P.Z[`font-${U}`]),style:{width:N,background:R},type:S,ref:w}))})},27885:(H,E,e)=>{"use strict";e.d(E,{g:()=>a});var t=e(6400),u=e(98661),s=e(94184),g=e.n(s),P=e(51220),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(v,w,M)=>w in v?y(v,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):v[w]=M,I=(v,w)=>{for(var M in w||(w={}))d.call(w,M)&&D(v,M,w[M]);if(f)for(var M of f(w))T.call(w,M)&&D(v,M,w[M]);return v},p=(v,w)=>O(v,c(w)),l=(v,w)=>{var M={};for(var C in v)d.call(v,C)&&w.indexOf(C)<0&&(M[C]=v[C]);if(v!=null&&f)for(var C of f(v))w.indexOf(C)<0&&T.call(v,C)&&(M[C]=v[C]);return M};const a=(0,u.forwardRef)((v,w)=>{var M=v,{className:C,error:L=!1,font:S}=M,N=l(M,["className","error","font"]);return(0,t.h)("textarea",p(I({ref:w,className:g()(C,P.Z.input,P.Z.textarea,{[P.Z.error]:L},S&&P.Z[`font-${S}`])},N),{type:"text"}))})},5668:(H,E,e)=>{"use strict";e.d(E,{U:()=>s});var t=e(6400);const u={hiddenInput:"frontend-pencraft-internal-HiddenInputWrapper-module__hiddenInput--wQ_AN"},s=({children:g})=>(0,t.h)("div",{className:u.hiddenInput},g)},89581:(H,E,e)=>{"use strict";e.d(E,{x:()=>p});var t=e(30396),u=e(62372);let s=0;function g(l="",a=[]){return(0,t.Ye)(()=>(s++,s=s>Number.MAX_SAFE_INTEGER?1:s,`${l}${s}`),a)}var P=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,T=(l,a,v)=>a in l?P(l,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[a]=v,D=(l,a)=>{for(var v in a||(a={}))f.call(a,v)&&T(l,v,a[v]);if(c)for(var v of c(a))d.call(a,v)&&T(l,v,a[v]);return l},I=(l,a)=>y(l,O(a));const p=({layerOptions:l,hideOnScroll:a,onClose:v}={})=>{const[w,M]=(0,t.eJ)(!1),{triggerProps:C,layerProps:L,renderLayer:S}=(0,u.sJ)(D({isOpen:w,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>{v&&v(),M(!1)}},l)),N=g("trigger"),R=g("dialog");return(0,t.d4)(()=>{if(a){const U=()=>{requestAnimationFrame(()=>{open&&a&&M(!1)})};return window.addEventListener("scroll",U,!0),()=>{window.removeEventListener("scroll",U,!0)}}},[a]),{triggerProps:I(D({},C),{id:N,"aria-expanded":w,"aria-haspopup":"dialog","aria-controls":R}),layerProps:I(D({},L),{id:R,role:"dialog",tabIndex:0,"aria-labeledby":N}),renderLayer:S,isOpen:w,setOpen:M}}},25666:(H,E,e)=>{"use strict";e.d(E,{l:()=>T,x:()=>D});var t=e(6400),u=e(30396),s=e(5285),g=e(62372),P=Object.defineProperty,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(I,p,l)=>p in I?P(I,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):I[p]=l,d=(I,p)=>{for(var l in p||(p={}))O.call(p,l)&&f(I,l,p[l]);if(y)for(var l of y(p))c.call(p,l)&&f(I,l,p[l]);return I};function T({hoverOptions:I,layerOptions:p}={}){const[l,a]=(0,u.eJ)(!1),[v,w]=(0,g.XI)(d({delayEnter:1e3,delayLeave:500},I)),{triggerProps:M,layerProps:C,renderLayer:L}=(0,g.sJ)(d({isOpen:v,auto:!0,triggerOffset:8},p));return{layerProps:C,triggerProps:d(d({},M),w),transitionProps:{show:v,beforeEnter:()=>a(!0),afterLeave:()=>a(!1)},renderLayer:L,shouldShow:v||l}}function D(I){return(0,t.h)(s.u,d({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},I))}},30058:(H,E,e)=>{"use strict";e.d(E,{e:()=>g});var t=e(6400),u=e(94184),s=e.n(u);const g=({className:P,children:y,displayContents:O})=>(0,t.h)("div",{className:s()("tailwind-preflight",P),style:O?{display:"contents"}:{}},y)},96427:(H,E,e)=>{"use strict";e.d(E,{P:()=>C});var t=e(6400),u=e(94184),s=e.n(u),g=e(28488),P=e(99758),y=e(84040),O=e(51126),c=e(43028),f=e(43887);const d={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr",error:"frontend-pencraft-unstable-Select-module__error--TVttO"};var T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?T(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,w=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(p)for(var R of p(N))a.call(N,R)&&v(S,R,N[R]);return S},M=(S,N)=>D(S,I(N));const C=({children:S,className:N,name:R,value:U,onChange:F,disabled:$=!1,placeholder:G="",error:Q=!1})=>{var K;const W=S.find(Y=>Y.props.value===U);return W||console.error("Select: value not found in children. value:",U,"options:",S.map(Y=>Y.props.value)),(0,t.h)(O.gq,{className:s()(d.select,N,{[d.error]:Q}),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,t.h)(f.xv,{className:s()(d.selectedOption,{[d.disabled]:$}),font:"text",size:14,color:Q?"error":$||!U?"secondary":"primary"},(K=W==null?void 0:W.props.children)!=null?K:G),(0,t.h)(P.Z,null),(0,t.h)("select",{name:R,value:U,onChange:Y=>{var ne;F(Y.target.value,M(w({},Y.target),{name:(ne=Y.target.name)!=null?ne:""}))},disabled:$},S))};function L({value:S,options:N,onChange:R,fill:U,disabled:F,className:$,buttonClassName:G,priority:Q,placeholder:K}){var W,Y,ne;const{iString:V}=useI18N();return h(Menu,{className:$,trigger:h(Button,{priority:Q!=null?Q:"secondary",fill:U,disabled:F,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select",className:G},(ne=(Y=(W=N.find(j=>j.value===S))==null?void 0:W.label)!=null?Y:K)!=null?ne:V("Select"))},N.map(j=>h(MenuItem,{onClick:()=>R(j.value)},j.label)))}},95297:(H,E,e)=>{"use strict";e.r(E),e.d(E,{UserBadge:()=>$});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(62372),y=e(51736),O=e(47052),c=e(3258),f=e(51126),d=e(43887),T=e(92630);const D={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var I=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,M=(G,Q,K)=>Q in G?I(G,Q,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[Q]=K,C=(G,Q)=>{for(var K in Q||(Q={}))v.call(Q,K)&&M(G,K,Q[K]);if(a)for(var K of a(Q))w.call(Q,K)&&M(G,K,Q[K]);return G},L=(G,Q)=>p(G,l(Q));const S=100,N={sm:16,md:20,lg:24},R={100:O.Z,1e3:y.Z,1e4:y.Z},U={1e4:{fill:"var(--color-accent-purple)"}},F={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},$=({className:G,isStatic:Q=!1,inline:K=!1,size:W="lg",tier:Y,tooltipOnHover:ne=!1,userId:V})=>{const[j,te]=(0,P.XI)({delayEnter:S,delayLeave:S,hideOnScroll:!0}),ie=j&&!ne,{triggerProps:ue,layerProps:he,renderLayer:Z}=(0,P.sJ)({isOpen:ie,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),J=he.style;(0,u.d4)(()=>{j&&(0,c.track)(c.EVENTS.BESTSELLER_INFO_SHOWN,{tier:Y,form:ne?"tooltip":"popover",hovered_user_id:V})},[j,Y,ne,V]);const ae=N[W];if(!Y)return null;const le=R[Y.toString()],oe=U[Y.toString()],ee=g()(G,K?D.inlineContainer:D.container);return Q&&Y?(0,t.h)("div",{className:ee},(0,t.h)(le,L(C({},oe),{height:ae}))):(0,t.h)("div",L(C(C({},te),ue),{className:ee}),(0,t.h)(T.u,{text:`${F[Y.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!ne},(0,t.h)(le,L(C({},oe),{height:ae}))),ie&&Z((0,t.h)("div",L(C(C({},he),te),{style:J,className:D.popover}),(0,t.h)(f.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,t.h)(le,L(C({},oe),{height:40})),(0,t.h)(f.tu,{alignItems:"center",gap:4},(0,t.h)(d.xv.H3,null,"Bestseller"),(0,t.h)(d.xv.B4,{align:"center"},F[Y.toString()]," of paid subscribers"))))))}},31845:(H,E,e)=>{"use strict";e.d(E,{o:()=>a});var t=e(6400),u=e(51736),s=e(47052),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(v,w,M)=>w in v?g(v,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):v[w]=M,T=(v,w)=>{for(var M in w||(w={}))c.call(w,M)&&d(v,M,w[M]);if(O)for(var M of O(w))f.call(w,M)&&d(v,M,w[M]);return v},D=(v,w)=>P(v,y(w));const I={sm:16,md:20,lg:24},p={100:s.Z,1e3:u.Z,1e4:u.Z},l={1e4:{fill:"var(--color-accent-purple)"}},a=({tier:v,size:w="sm"})=>{if(!v)return null;const M=p[v.toString()],C=l[v.toString()],L=I[w];return(0,t.h)(M,D(T({},C),{height:L}))}},18302:(H,E,e)=>{"use strict";e.d(E,{TB:()=>j,mj:()=>ne,wO:()=>V});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(71212),y=e(80569),O=e.n(y),c=e(42208),f=e(52743),d=e(7922),T=e(44454),D=e(22939),I=e(99758),p=e(32673),l=e(32823),a=e(46209),v=e(65726),w=e(28488),M=e(3258),C=e(29542),L=e(17025),S=e.n(L),N=e(21136),R=Object.defineProperty,U=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(z,re,se)=>re in z?R(z,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):z[re]=se,Q=(z,re)=>{for(var se in re||(re={}))F.call(re,se)&&G(z,se,re[se]);if(U)for(var se of U(re))$.call(re,se)&&G(z,se,re[se]);return z},K=(z,re)=>{var se={};for(var fe in z)F.call(z,fe)&&re.indexOf(fe)<0&&(se[fe]=z[fe]);if(z!=null&&U)for(var fe of U(z))re.indexOf(fe)<0&&$.call(z,fe)&&(se[fe]=z[fe]);return se},W=(z,re,se)=>new Promise((fe,Ee)=>{var ge=pe=>{try{me(se.next(pe))}catch(Le){Ee(Le)}},be=pe=>{try{me(se.throw(pe))}catch(Le){Ee(Le)}},me=pe=>pe.done?fe(pe.value):Promise.resolve(pe.value).then(ge,be);me((se=se.apply(z,re)).next())});const Y=e(39776),ne="hide_media_download_option",V=({feedUrl:z,post:re,pub:se,sectionId:fe,hasAccessToPrivatePodcastFeed:Ee,fileSrc:ge,icon:be})=>{const[me,pe]=(0,u.eJ)(!1),[Le,je]=(0,D.E)(),{iString:xe}=(0,w.M1)();return(0,t.h)("div",{className:"tw-relative"},(0,t.h)("div",{className:g()("tw-font-sans audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",me?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:je},be,(0,t.h)("span",{className:"sm:tw-hidden"},xe("Open in player")),(0,t.h)("span",{className:"tw-hidden sm:tw-block"},xe("Listen on")),(0,t.h)(I.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,t.h)(te,{feedUrl:z,menuRef:Le,post:re,pub:se,sectionId:fe,onToggle:pe,hasAccessToPrivatePodcastFeed:Ee,fileSrc:ge}))},j=({feedUrl:z,pub:re,post:se})=>{(0,M.track)(M.EVENTS.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:z}),document.location.href=(0,f.getPostAppLinkUrl)(re==null?void 0:re.subdomain,se==null?void 0:se.slug,{redirect:"app-marketing",source:"podcast-dropdown"})},te=({feedUrl:z,menuRef:re,post:se,pub:fe,sectionId:Ee,onToggle:ge,hasAccessToPrivatePodcastFeed:be,fileSrc:me})=>{const pe=(0,L.isMobileBrowser)(),Le=()=>{(0,M.track)(M.EVENTS.PODCAST_FEED_URL_COPIED),(0,L.copyToClipboard)(z),alert("Copied")};return(0,t.h)(T.ZP,{ref:re,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:je})=>{(0,M.track)(M.EVENTS.PODCAST_LISTEN_ON_CLICKED),ge(je)}},pe?(0,t.h)(Z,{feedUrl:z,pub:fe,onCopyFeed:Le,onClickSubstackApp:()=>j({feedUrl:z,pub:fe,post:se}),hasAccessToPrivatePodcastFeed:be,fileSrc:me}):(0,t.h)(J,{feedUrl:z,pub:fe,sectionId:Ee,onCopyFeed:Le,onClickSubstackApp:()=>j({feedUrl:z,pub:fe,post:se}),hasAccessToPrivatePodcastFeed:be,fileSrc:me}))},ie=({fileSrc:z})=>Y.getConfigFor(ne)?null:(0,t.h)(ae,{onClick:()=>{(0,L.downloadSrc)((0,f.updateQuery)(z,{download:!0}))}},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(P.Z,null)),(0,t.h)("span",null,"Download MP3")),ue=()=>{const z=["Podcast Addict"],re=["Apple Podcasts"];return C.$.filter(se=>(0,L.isIOs)()?re.includes(se.name):z.includes(se.name))},he=()=>{const z=["Apple Podcasts"],re=[];return C.$.filter(se=>(0,L.isMac)()?z.includes(se.name):re.includes(se.name))},Z=({feedUrl:z,pub:re,onCopyFeed:se,onClickSubstackApp:fe,hasAccessToPrivatePodcastFeed:Ee,fileSrc:ge})=>{var be;const{iString:me}=(0,w.M1)();return(0,t.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,t.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},me("Listen in app")),(0,t.h)(ae,{onClick:fe},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(a.Z,null)),(0,t.h)("span",null,me("Substack App"))),z&&ue().map(({name:pe,icon:Le,onClick:je})=>(0,t.h)(ae,{key:pe,onClick:()=>{(0,M.track)(M.EVENTS.PODCAST_APP_LINK_CLICK,{appName:pe,feedUrl:z}),je(z)}},(0,t.h)("img",{src:Le,alt:`${pe} logo`,className:"tw-w-6"}),(0,t.h)("span",{className:"tw-whitespace-nowrap"},pe))),ge&&(0,t.h)(ie,{fileSrc:ge}),z?(0,t.h)("div",{className:"tw-px-2 tw-pt-2"},(0,t.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},me("Private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},me("Listen to paid episodes on your favorite podcast app with your private RSS feed.")," ",(0,t.h)(oe,null)),(0,t.h)("div",null,(0,t.h)(le,{className:"tw-w-full",onClick:se},(0,t.h)(p.Z,{className:"tw-stroke-pub-secondary-text"}),(0,t.h)("span",null,me("Copy link"))))):Ee?(0,t.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},me("Private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},me("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,t.h)("div",null,(0,t.h)(ee,{pub:re}))):(0,t.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(be=re.podcast_title)!=null?be:"this podcast"),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},me("Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app.")," ",(0,t.h)(oe,null)),(0,t.h)(N.Z,{className:"tw-w-full",pub:re,utmSource:"podcast_post_listen_on"})))},J=({feedUrl:z,pub:re,sectionId:se,onCopyFeed:fe,onClickSubstackApp:Ee,hasAccessToPrivatePodcastFeed:ge,fileSrc:be})=>{const[me,pe]=(0,u.eJ)(!1),[Le,je]=(0,u.eJ)(null),{iString:xe,iTemplate:ye}=(0,w.M1)(),Me=()=>W(void 0,null,function*(){try{(0,M.track)(M.EVENTS.PODCAST_EMAIL_LINK_CLICKED),yield O().post("/api/v1/subscription/send_podcast_email").send({section_id:se}),alert(xe("Email sent")),pe(!0)}catch(We){console.error("Failed to send podcast setup email:",We),je(We)}});return(0,t.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,t.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,t.h)(ae,{onClick:Ee},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(a.Z,null)),(0,t.h)("span",null,"Substack App")),z&&he().map(({name:We,icon:De,onClick:Ge})=>(0,t.h)(ae,{key:We,onClick:()=>{(0,M.track)(M.EVENTS.PODCAST_APP_LINK_CLICK,{appName:We,feedUrl:z}),Ge(z)}},(0,t.h)("img",{src:De,alt:`${We} logo`,className:"tw-w-6"}),(0,t.h)("span",{className:"tw-whitespace-nowrap"},We))),be&&(0,t.h)(ie,{fileSrc:be})),(0,t.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},z?(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},xe("Your private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},xe("Copy your RSS link and paste it in your podcast app.")," ",(0,t.h)(oe,null)),(0,t.h)("div",{className:"tw-flex tw-gap-2"},(0,t.h)(le,{onClick:fe},(0,t.h)(p.Z,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,t.h)("span",null,xe("Copy link"))),(0,t.h)(le,{onClick:Me,disabled:me},(0,t.h)(l.Z,{className:"tw-stroke-pub-secondary-text"}),(0,t.h)("span",null,xe("Email link")))),Le&&(0,t.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,L.getNetworkErrorMessage)(Le))):ge?(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},xe("Your private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},xe("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,t.h)("div",null,(0,t.h)(ee,{pub:re}))):(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},xe("Get a private RSS link for listening")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},re.podcast_title?ye`Subscribe to ${re.podcast_title} to get a private link for listening in your favorite podcast player.`:xe("Subscribe to this podcast to get a private link for listening in your favorite podcast player.")," ",(0,t.h)(oe,null)),(0,t.h)(N.Z,{pub:re,utmSource:"podcast_post_listen_on"}))))},ae=z=>{var re=z,{children:se,href:fe}=re,Ee=K(re,["children","href"]);const ge="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return fe?(0,t.h)("a",Q({className:g()("tw-no-underline",ge),href:fe},Ee),se):(0,t.h)("div",Q({className:g()("tw-cursor-pointer",ge),role:"button"},Ee),se)},le=({children:z,className:re="",disabled:se=!1,onClick:fe})=>(0,t.h)(d.Z,{className:g()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",re),onClick:fe,disabled:se},z),oe=()=>{const{iString:z}=(0,w.M1)();return(0,t.h)("a",{href:c.ty,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},z("Learn about RSS."))},ee=({pub:z})=>{const{iString:re}=(0,w.M1)();return(0,t.h)(le,{className:"tw-w-full",onClick:()=>{}},(0,t.h)(v.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,f.getPodcatcherSetupUrl)(z),onClick:()=>{}},re("Set up feed")))}},21136:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),u=e(94184),s=e.n(u),g=e(20501),P=e(83322),y=e(7922);const c=({className:f,pub:d,utmSource:T})=>{const D=typeof window!="undefined"?window.location.href:"",I=(0,g.getSubscribeUrl)(d,{params:{utm_source:T,simple:!0,next:D}});return(0,t.h)(y.Z,{className:s()("primary tw-text-sm tw-font-semibold",f),href:I},(0,P.getSubscribeText)(d))}},592:(H,E,e)=>{"use strict";var t=e(6400),u=e(98661),s=e(30396),g=e(67963),P=e(3258),y=e(59009),O=e(91004),c=e(86575),f=e(4190),d=e(8479),T=e(13045),D=e(62246),I=e(99574),p=(C,L,S)=>new Promise((N,R)=>{var U=G=>{try{$(S.next(G))}catch(Q){R(Q)}},F=G=>{try{$(S.throw(G))}catch(Q){R(Q)}},$=G=>G.done?N(G.value):Promise.resolve(G.value).then(U,F);$((S=S.apply(C,L)).next())});const l=({isOpen:C,onClose:L,pub:S,post:N,hideEmail:R,hideAssetTitle:U,smallAssetPadding:F,mediaCarousel:$,source:G})=>((0,s.d4)(()=>{C&&(0,P.track)(P.EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:G||(R?"post":"share center")})},[C,R,G]),(0,t.h)(D.u_,{isOpen:C,onClose:L,fullscreenMobile:!0},(0,t.h)(D.xB,{title:"Share to Instagram",onClose:L,includeClose:!0}),(0,t.h)(a,{pub:S,post:N,hideEmail:R,hideAssetTitle:U,smallAssetPadding:F,mediaCarousel:$,source:G}))),a=({pub:C,post:L,hideEmail:S,hideAssetTitle:N,smallAssetPadding:R,mediaCarousel:U,source:F})=>{const $=(0,g.aF)(),G=({step:K,title:W,subtitle:Y,children:ne})=>(0,t.h)(T.gq,{gap:16},(0,t.h)(T.xv.H4,null,K),(0,t.h)(T.tu,{style:{width:"90%"},gap:12},(0,t.h)(T.tu,{gap:4},(0,t.h)(T.xv.H4,null,W),(0,t.h)(T.xv.B4,{color:"secondary"},Y)),ne)),Q=()=>{const[K,W]=(0,s.eJ)(!1);return(0,t.h)(T.tu,{bg:"secondary",radius:12,border:"detail"},(0,t.h)(T.tu,{gap:24,padding:R?8:20},(0,t.h)(T.gq,{gap:12,alignItems:"center"},!N&&(0,t.h)(T.xv.B4,{weight:"bold"},"Shareable images"),!S&&(0,t.h)(T.zx,{size:"small",disabled:K,priority:"secondary",style:{marginLeft:"auto",marginRight:0},onClick:()=>p(void 0,null,function*(){(0,P.track)(P.EVENTS.SHARE_CENTER_MEDIA_ASSETS_EMAILED,{post_id:L.id}),W(!0);try{(yield(0,d.rd)(`/api/v1/press_kit/${L.id}/email`)).success&&(0,c.ZP)("Emails sent successfully.")}catch(Y){(0,P.track)(P.EVENTS.SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED,{post_id:L.id}),(0,c.ZP)("Error sending emails. Please try again.")}finally{W(!1)}})},"Email me assets")),U))};return(0,t.h)(D.fe,null,(0,t.h)(T.tu,{gap:24},(0,t.h)(G,{step:1,title:"Download an image",subtitle:"Substack automatically creates assets from any post to share on Instagram."},(0,t.h)(Q,null)),(0,t.h)(G,{step:2,title:"Copy a link to the post",subtitle:"Add a link to your Instagram story or bio."},(0,t.h)(T.zx,{priority:"secondary",onClick:()=>{(0,O.Ui)({shareUrl:(0,O.O1)(null,{pub:C,post:L,user:$}),pub:C,post:L,utm_campaign:F||(S?y.UTM_CAMPAIGN.postInstagramShareModal:y.UTM_CAMPAIGN.postShareCenter)})}},"Copy Link")),(0,t.h)(G,{step:3,title:"Share on Instagram",subtitle:"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"})))},v=(0,u.memo)(l,(C,L)=>C.post.id===L.post.id&&C.isOpen===L.isOpen),w=({isOpen:C,onClose:L,pub:S,post:N,themeVariables:R,hideEmail:U})=>{const{getExperimentVariant:F,exposeExperiment:$}=(0,f.jc)(),G=F("share_center_default_hide_preview_text")==="treatment";(0,s.d4)(()=>{C&&$("share_center_default_hide_preview_text")},[C,$]);const Q=(0,I.E)(S,N,R,!0,{source:U?"instagram-modal-reader-share":"instagram-modal-share-center",hidePreviewText:G});return(0,t.h)(v,{isOpen:C,pub:S,post:N,onClose:L,mediaCarousel:(0,t.h)(I.H,{inline:!0},Q),hideEmail:U})},M=(0,u.memo)(w,(C,L)=>C.post.id===L.post.id&&C.isOpen===L.isOpen)},99574:(H,E,e)=>{"use strict";e.d(E,{H:()=>U,E:()=>$});var t=e(6400),u=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(56743),O=e(2564),c=e(71278),f=e(28488),d=e(13045),T=e(18349),D=e(83322),I=e(76193),p=e(53150);const l={mediaCarousel:"frontend-publish-share_center-MediaAssetCarousel-module__mediaCarousel--yatYn",pressKitImageContainer:"frontend-publish-share_center-MediaAssetCarousel-module__pressKitImageContainer--qcOIf",scrollContainer:"frontend-publish-share_center-MediaAssetCarousel-module__scrollContainer--YjAQV",carouselParent:"frontend-publish-share_center-MediaAssetCarousel-module__carouselParent--mJlqW",carouselArrow:"frontend-publish-share_center-MediaAssetCarousel-module__carouselArrow--NOyGP",bg:"frontend-publish-share_center-MediaAssetCarousel-module__bg--lN6p2",fade:"frontend-publish-share_center-MediaAssetCarousel-module__fade--LwBBa",visible:"frontend-publish-share_center-MediaAssetCarousel-module__visible--nkiL7",left:"frontend-publish-share_center-MediaAssetCarousel-module__left--Gpyzo",bgSecondary:"frontend-publish-share_center-MediaAssetCarousel-module__bgSecondary--YZnYt",right:"frontend-publish-share_center-MediaAssetCarousel-module__right--VIM7J",containerArrows:"frontend-publish-share_center-MediaAssetCarousel-module__containerArrows--fQe5X"};var a=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(K,W,Y)=>W in K?a(K,W,{enumerable:!0,configurable:!0,writable:!0,value:Y}):K[W]=Y,N=(K,W)=>{for(var Y in W||(W={}))C.call(W,Y)&&S(K,Y,W[Y]);if(M)for(var Y of M(W))L.call(W,Y)&&S(K,Y,W[Y]);return K},R=(K,W)=>v(K,w(W));const U=({inline:K,children:W})=>{const Y=(0,D.isTouchDevice)(),ne=(0,s.sO)(null),{state:V,handleArrowClick:j}=Q(ne),te=K?"secondary":void 0;return(0,t.h)(d.hs,{className:l.scrollContainer,bg:te,alignItems:"center",flex:"grow",paddingX:{desktop:32,mobile:0}},(0,t.h)(d.gq,{className:l.carouselParent,bg:te},!Y&&V.showLeft&&(0,t.h)(d.hs,{bg:K?void 0:"secondary",className:P()(l.fade,l.visible,l.left,l.containerArrows)},(0,t.h)("div",{className:te==="secondary"?l.bgSecondary:l.bg}),(0,t.h)(d.hU,{className:l.carouselArrow,rounded:!0,size:36,onClick:j(-1),fill:K?"filled":"empty"},(0,t.h)(y.Z,null))),(0,t.h)(d.hs,{ref:ne,bg:te,gap:K?8:16,justifyContent:"space-between",className:l.mediaCarousel,paddingY:4,paddingX:{mobile:32,desktop:4}},W),!Y&&V.showRight&&(0,t.h)(d.hs,{bg:K?void 0:"secondary",className:P()(l.fade,l.visible,l.right,l.containerArrows)},(0,t.h)("div",{className:te==="secondary"?l.bgSecondary:l.bg}),(0,t.h)(d.hU,{className:l.carouselArrow,rounded:!0,size:36,onClick:j(1),fill:K?"filled":"empty"},(0,t.h)(O.Z,null)))))},F=(0,u.memo)(({pub:K,post:W,bgColor:Y,textColor:ne,bgImage:V,hidePreviewText:j=!1,aspectRatio:te,text:ie,inline:ue,withButtons:he,onShareFromApp:Z,source:J})=>{const{language:ae}=(0,f.M1)(),le={square:"1:1",stories:"9:16",instagram:"4:5"};return(0,t.h)(d.tu,{gap:ue?4:0,className:l.pressKitImageContainer},(0,t.h)(c.ZP,{pub:K,post:W,style:{bgColor:Y,textColor:ne,aspectRatio:te,bgImage:V,hidePreviewText:j},text:ie,inline:ue,sharePage:!0,withButtons:he,onShareFromApp:Z,source:J,fullHeight:!1}),(0,t.h)(d.xv.Meta,null,(0,p.V)(te,ae).toUpperCase()," ",le[te]))}),$=(K,W,Y,ne=!1,{withButtons:V,onShareFromApp:j,source:te,hidePreviewText:ie}={})=>(0,s.Ye)(()=>Y?G(K,W,Y).map((he,Z)=>(0,t.h)(F,{key:Z,pub:K,post:W,bgColor:he.bgColor,textColor:he.textColor,aspectRatio:he.aspectRatio,bgImage:he.bgImage,hidePreviewText:ie,text:he.text,inline:ne,withButtons:V,onShareFromApp:j,source:te})):[],[K,W,Y,ne,te]),G=(K,W,Y)=>{const ne=Y.web_bg_color||Y.cover_bg_color,V=[],j=[],{iString:te}=T.I18N.i();(W.cover_image||K.cover_photo_url)&&j.push({bgImage:!0,textColor:"#ffffff",text:te("Image")}),ne.toLowerCase()!=="#ffffff"&&j.push({bgColor:"#ffffff",textColor:"#404040",text:te("Black and White")}),j.push({bgColor:ne,textColor:Y.print_on_web_bg_color||Y.cover_print_primary||"#1a1a1a",bgImage:!1,text:te("Background Color")}),Y.background_pop&&j.push({bgColor:Y.background_pop,textColor:Y.print_on_pop,text:te("Accent Color")});const ie=["stories","square"];if(j.length===1)for(const ue of ie)V.push(R(N({},j[0]),{aspectRatio:ue}));else{const ue=j.length;for(let he=0;he<ue;he++)V.push(R(N({},j[he]),{aspectRatio:ie[he%2]}));for(let he=0;he<ue;he++)V.push(R(N({},j[he]),{aspectRatio:ie[(he+1)%2]}))}return V},Q=(K,{initialState:W}={})=>{const[Y,ne]=(0,s.eJ)(W||{showLeft:!1,showRight:!0});return(0,s.d4)(()=>{const{current:j}=K;if(j){const te=()=>{ne(ie=>{let ue=ie;!ue.showLeft&&j.scrollLeft>0?ue=R(N({},ie),{showLeft:!0}):ue.showLeft&&j.scrollLeft<=0&&(ue=R(N({},ie),{showLeft:!1}));const he=j.scrollWidth-j.offsetWidth-4;return!ue.showRight&&j.scrollLeft<he?ue=R(N({},ie),{showRight:!0}):ue.showRight&&j.scrollLeft>=he&&(ue=R(N({},ie),{showRight:!1})),ue})};return j.addEventListener("scroll",te),setTimeout(()=>{te()},1e3),()=>{j.removeEventListener("scroll",te)}}},[K]),{state:Y,handleArrowClick:j=>()=>{const{current:te}=K;te&&te.scrollBy({left:j*Math.min((0,I.isMobile)()?te.offsetWidth-70:te.offsetWidth-150,te.scrollWidth-te.offsetWidth),behavior:"smooth"})}}}},9686:(H,E,e)=>{"use strict";e.d(E,{I:()=>p});var t=e(6400),u=e(30396),s=e(99105),g=e(46209);function P(){const L=(0,u.sO)();return(0,u.d4)(()=>{var S;(S=L.current)==null||S.focus()},[]),L}var y=e(63503),O=e(8479),c=e(17025),f=e(5131),d=e(19696),T=e(34518),D=e(33510),I=(L,S,N)=>new Promise((R,U)=>{var F=Q=>{try{G(N.next(Q))}catch(K){U(K)}},$=Q=>{try{G(N.throw(Q))}catch(K){U(K)}},G=Q=>Q.done?R(Q.value):Promise.resolve(Q.value).then(F,$);G((N=N.apply(L,S)).next())});function p({onCancel:L,onSuccess:S,onSignup:N,noCloseButton:R,noExit:U}){const[F,$]=(0,u.eJ)("email"),[G,Q]=(0,u.eJ)(""),K=()=>{$("mfa")};return(0,t.h)(T.Yy,{className:"",isPopup:!0,onClose:L,noCloseButton:R,noExit:U},(0,t.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,t.h)(g.Z,{className:"reader-nav-logo modal-header-icon"}),(0,t.h)(D.y,null,"Sign in to Substack"),F==="email"?(0,t.h)(a,{onUsePassword:W=>{Q(W),$("password")},onSuccess:W=>{Q(W),$("poll")}}):F==="poll"?(0,t.h)(v,{email:G,onSuccess:S,onChangeMode:$}):F==="mfa"?(0,t.h)(w,{onSuccess:S}):(0,t.h)(l,{email:G,onMfa:K,onSuccess:S})),N&&(0,t.h)(D.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,t.h)("span",null,"First time here?"," ",(0,t.h)(f.zx,{variant:"primary",look:"text",onClick:N},"Create an account"))))}function l({email:L,onSuccess:S,onMfa:N}){const R=(0,O.ib)({pathname:"/api/v1/login",method:"post"}),U=(0,u.sO)(),F=G=>I(this,null,function*(){if(G.preventDefault(),R.isLoading)return;const Q=C(G.currentTarget);U.current&&(Q.captcha_response=U.current.getResponse());const K=yield R.refetch({json:Q});K instanceof Error||(K.mfa_required?N():S())}),$=P();return(0,t.h)(t.Fragment,null,R.error instanceof O.kp&&R.error.response.status===401&&(0,t.h)(s.Z,{ref:U}),(0,t.h)(M,{onSubmit:F,disabled:R.isLoading},(0,t.h)(D.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:L}),(0,t.h)(D.II,{type:"password",name:"password",placeholder:"Your password",ref:$}),R.error&&(0,t.h)(D.Xq,null,(0,c.getNetworkErrorMessage)(R.error)),(0,t.h)(f.zx,{type:"submit",variant:"primary"},R.isLoading?"Signing in...":"Sign in")))}function a({onUsePassword:L,onSuccess:S}){const N=(0,O.ib)({pathname:"/api/v1/email-login",method:"POST"}),R=F=>{if(F.preventDefault(),N.isLoading)return;const $=F.currentTarget.email.value;N.refetch({json:{email:$,redirect:location.pathname}}).then(G=>{G instanceof O.kp||S($)})},U=P();return(0,t.h)(M,{onSubmit:R,disabled:N.isLoading},(0,t.h)(D.II,{type:"email",name:"email",placeholder:"Your email",ref:U}),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,t.h)(f.zx,{type:"submit",variant:"primary"},N.isLoading?"Signing in...":"Sign in with email"),(0,t.h)(f.zx,{variant:"secondary",look:"borderless",onClick:()=>{var F;return L((F=U.current)==null?void 0:F.value)}},"or sign in with password")))}function v({email:L,onSuccess:S,onChangeMode:N}){return(0,y.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(R=>I(this,null,function*(){(yield R.json()).loggedIn&&S()}))},5e3),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,t.h)("b",null,"Check your email"),(0,t.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,t.h)("b",null,L)," ","with a link that you can use to sign in."),(0,t.h)("div",null,"You can also"," ",(0,t.h)(f.zx,{look:"text",onClick:()=>N("email")},(0,t.h)("b",null,"try again"))," ","or"," ",(0,t.h)(f.zx,{look:"text",onClick:()=>N("password")},(0,t.h)("b",null,"sign in using your password")),"."))}function w({onSuccess:L}){const S=(0,O.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),N=R=>{R.preventDefault(),!S.isLoading&&S.refetch({json:C(R.currentTarget)}).then(U=>{U instanceof O.kp||L()})};return(0,t.h)(M,{onSubmit:N,disabled:S.isLoading},(0,t.h)(D.II,{type:"password",name:"code",placeholder:"Your MFA code"}),S.error&&(0,t.h)(D.Xq,null,(0,c.getNetworkErrorMessage)(S.error)),(0,t.h)(f.zx,{type:"submit",variant:"primary"},S.isLoading?"Signing in...":"Sign in"))}const M=(0,d.L)("tw-flex tw-flex-col tw-gap-3","form");function C(L){return Object.fromEntries(Array.from(L.elements).filter(S=>S instanceof HTMLInputElement||S instanceof HTMLTextAreaElement).map(S=>[S.name,S.value]))}},97868:(H,E,e)=>{"use strict";e.d(E,{qE:()=>me,BG:()=>Le,YY:()=>je});var t=e(6400),u=e(94184),s=e.n(u),g=e(83322),P=e(34755),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(xe,ye,Me)=>ye in xe?y(xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:Me}):xe[ye]=Me,I=(xe,ye)=>{for(var Me in ye||(ye={}))d.call(ye,Me)&&D(xe,Me,ye[Me]);if(f)for(var Me of f(ye))T.call(ye,Me)&&D(xe,Me,ye[Me]);return xe},p=(xe,ye)=>O(xe,c(ye)),l=(xe,ye)=>{var Me={};for(var We in xe)d.call(xe,We)&&ye.indexOf(We)<0&&(Me[We]=xe[We]);if(xe!=null&&f)for(var We of f(xe))ye.indexOf(We)<0&&T.call(xe,We)&&(Me[We]=xe[We]);return Me};function a(xe){var ye=xe,{fill:Me="#FF6719"}=ye,We=l(ye,["fill"]);const De=(0,g.colorLuma)(Me)>.6?"black":"white";return(0,t.h)(P.l,p(I({},We),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:Me,stroke:"none"}),(0,t.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:De,stroke:"none"}),(0,t.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:De,stroke:"none"}),(0,t.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:De,stroke:"none"}))}const v=a;var w=Object.defineProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(xe,ye,Me)=>ye in xe?w(xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:Me}):xe[ye]=Me,N=(xe,ye)=>{for(var Me in ye||(ye={}))C.call(ye,Me)&&S(xe,Me,ye[Me]);if(M)for(var Me of M(ye))L.call(ye,Me)&&S(xe,Me,ye[Me]);return xe},R=(xe,ye)=>{var Me={};for(var We in xe)C.call(xe,We)&&ye.indexOf(We)<0&&(Me[We]=xe[We]);if(xe!=null&&M)for(var We of M(xe))ye.indexOf(We)<0&&L.call(xe,We)&&(Me[We]=xe[We]);return Me};function U(xe){var ye=R(xe,[]);return(0,t.h)(P.l,N({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},ye),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const F=U;var $=Object.defineProperty,G=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,W=(xe,ye,Me)=>ye in xe?$(xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:Me}):xe[ye]=Me,Y=(xe,ye)=>{for(var Me in ye||(ye={}))Q.call(ye,Me)&&W(xe,Me,ye[Me]);if(G)for(var Me of G(ye))K.call(ye,Me)&&W(xe,Me,ye[Me]);return xe},ne=(xe,ye)=>{var Me={};for(var We in xe)Q.call(xe,We)&&ye.indexOf(We)<0&&(Me[We]=xe[We]);if(xe!=null&&G)for(var We of G(xe))ye.indexOf(We)<0&&K.call(xe,We)&&(Me[We]=xe[We]);return Me};function V(xe){var ye=ne(xe,[]);return(0,t.h)(P.l,Y({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},ye),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_24306_47333"},(0,t.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const j=V;var te=e(13045),ie=e(52743),ue=e(51126),he=e(11688),Z=e(33510),J=e(9178);const ae={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var le=Object.defineProperty,oe=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,fe=(xe,ye,Me)=>ye in xe?le(xe,ye,{enumerable:!0,configurable:!0,writable:!0,value:Me}):xe[ye]=Me,Ee=(xe,ye)=>{for(var Me in ye||(ye={}))re.call(ye,Me)&&fe(xe,Me,ye[Me]);if(z)for(var Me of z(ye))se.call(ye,Me)&&fe(xe,Me,ye[Me]);return xe},ge=(xe,ye)=>oe(xe,ee(ye)),be=(xe,ye)=>{var Me={};for(var We in xe)re.call(xe,We)&&ye.indexOf(We)<0&&(Me[We]=xe[We]);if(xe!=null&&z)for(var We of z(xe))ye.indexOf(We)<0&&se.call(xe,We)&&(Me[We]=xe[We]);return Me};function me({user:xe,size:ye,className:Me}){const We=(0,ie.getUserPhotoUrl)(xe);return(0,t.h)(Z.t5,{className:s()(ae.avatar,Me),src:We,size:ye})}function pe({user:xe,size:ye,className:Me,badge:We,badgeShape:De="square",showProfileHovercard:Ge}){return(0,ie.getUserPhotoUrl)(xe)?(0,t.h)(ue.gq,{className:ae.avatarContainer},(0,t.h)(he.cr,{module:"@/frontend/components/ProfileHoverCard",resolve:wt=>wt.ProfileHoverCard,onRequest:()=>Promise.all([e.e(8855),e.e(2685),e.e(8534),e.e(1321),e.e(7465)]).then(e.bind(e,80332)),whileLoading:(0,t.h)(me,{user:xe,size:ye,className:Me}),subject:Ee({id:0,name:""},xe),dontStopPropagation:!1,disabled:!Ge},(0,t.h)(me,{user:xe,size:ye,className:Me})),We&&(0,t.h)("div",{className:s()(ae.badge,De&&ae[De])},We)):null}function Le(xe){var ye=xe,{pub:Me}=ye,We=be(ye,["pub"]);return(0,t.h)(pe,ge(Ee({},We),{badge:Me&&(0,t.h)(J.F,{pub:Me,size:16})}))}function je(xe){var ye=xe,{subscriptionType:Me}=ye,We=be(ye,["subscriptionType"]);let De=null,Ge;return Me==="author"?(De=(0,t.h)(v,{height:16,className:ae.subscriptionBadge}),Ge="Author"):Me==="founding"?(De=(0,t.h)(F,{height:16,className:ae.subscriptionBadge}),Ge="Founding member"):Me==="paid"&&(De=(0,t.h)(j,{height:16,className:ae.subscriptionBadge}),Ge="Paid subscriber"),De=De&&Ge?(0,t.h)(te.u,{text:Ge},De):null,(0,t.h)(pe,ge(Ee({},We),{badge:De,badgeShape:"circle"}))}},5131:(H,E,e)=>{"use strict";e.d(E,{zx:()=>I});var t=e(6400),u=e(94184),s=e.n(u),g=e(7922),P=e(19696),y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(a,v,w)=>v in a?y(a,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):a[v]=w,T=(a,v)=>{for(var w in v||(v={}))c.call(v,w)&&d(a,w,v[w]);if(O)for(var w of O(v))f.call(v,w)&&d(a,w,v[w]);return a},D=(a,v)=>{var w={};for(var M in a)c.call(a,M)&&v.indexOf(M)<0&&(w[M]=a[M]);if(a!=null&&O)for(var M of O(a))v.indexOf(M)<0&&f.call(a,M)&&(w[M]=a[M]);return w};function I(a){var v=a,{className:w,variant:M,rounded:C,look:L="button",fixedHeight:S=!0,size:N="medium",hasLeftIcon:R,hasRightIcon:U,forwardedRef:F}=v,$=D(v,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,t.h)(g.k,T({className:s()("reader2-button",w,`reader2-button-${L}`,S&&"fixedHeight",M&&(["text","borderless"].includes(L)?`reader2-button-text-${M}`:`reader2-button-${M}`),(C||L==="circle")&&"reader2-button-rounded",`reader2-button-${N}`,R&&"hasLeftIcon",U&&"hasRightIcon"),ref:F},$))}function p(a){var v=a,{isActive:w=!1,isSmall:M=!1,icon:C,children:L}=v,S=D(v,["isActive","isSmall","icon","children"]);return h("button",T({className:classnames("reader2-button-reset reader2-tab",w&&"active",M&&"small",C?"hasIcon":null)},S),C,L)}const l=(0,P.L)("reader2-button-row")},657:(H,E,e)=>{"use strict";e.d(E,{b4:()=>S,De:()=>N,eK:()=>L});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(2564),y=e(56743),O=e(51126),c=e(5131);const f={scrollBox:"frontend-reader2-Carousel-module__scrollBox--HIlKF",fade:"frontend-reader2-Carousel-module__fade--EqSH7",visible:"frontend-reader2-Carousel-module__visible--iu6OA",bg:"frontend-reader2-Carousel-module__bg--PNWMY",left:"frontend-reader2-Carousel-module__left--TFwbc",right:"frontend-reader2-Carousel-module__right--tgs0W",arrow:"frontend-reader2-Carousel-module__arrow--U6JnW"};var d=e(28967),T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(R,U,F)=>U in R?T(R,U,{enumerable:!0,configurable:!0,writable:!0,value:F}):R[U]=F,w=(R,U)=>{for(var F in U||(U={}))l.call(U,F)&&v(R,F,U[F]);if(p)for(var F of p(U))a.call(U,F)&&v(R,F,U[F]);return R},M=(R,U)=>D(R,I(U)),C=(R,U)=>{var F={};for(var $ in R)l.call(R,$)&&U.indexOf($)<0&&(F[$]=R[$]);if(R!=null&&p)for(var $ of p(R))U.indexOf($)<0&&a.call(R,$)&&(F[$]=R[$]);return F};const L=(R,{inset:U=0,pageSizeAdjust:F=0,initialState:$}={})=>{const[G,Q]=(0,u.eJ)($||{showLeft:!1,showRight:!1});return(0,u.d4)(()=>{const{current:W}=R;if(W){const Y=()=>{Q(ne=>{let V=ne;!V.showLeft&&W.scrollLeft>U?V=M(w({},ne),{showLeft:!0}):V.showLeft&&W.scrollLeft<=U&&(V=M(w({},ne),{showLeft:!1}));const j=W.scrollWidth-W.offsetWidth-4-U;return!V.showRight&&W.scrollLeft<j?V=M(w({},ne),{showRight:!0}):V.showRight&&W.scrollLeft>=j&&(V=M(w({},ne),{showRight:!1})),V})};return W.addEventListener("scroll",Y),setTimeout(()=>{Y()},1e3),()=>{W.removeEventListener("scroll",Y)}}},[]),{state:G,handleArrowClick:W=>()=>{const{current:Y}=R;Y&&Y.scrollBy({left:W*(Y.offsetWidth-F),behavior:"smooth"})}}};function S({direction:R,isVisible:U=!0,onClick:F}){return(0,t.h)("div",{className:g()(f.fade,U&&f.visible,f[R],d.Z.peopleYouMayKnowArrows)},(0,t.h)("div",{className:f.bg}),(0,t.h)(c.zx,{look:"reset",className:f.arrow,onClick:F},R==="right"?(0,t.h)(P.Z,null):(0,t.h)(y.Z,null)))}function N(R){var U=R,{className:F,scrollRef:$}=U,G=C(U,["className","scrollRef"]);return(0,t.h)(O.hs,M(w({},G),{className:g()(f.scrollBox,F),ref:$,overflowX:"auto",scrollBar:"hidden",minWidth:0,onTouchStart:Q=>{const{pageX:K}=Q;K!==void 0&&(K>10&&K<window.innerWidth-10||Q.preventDefault())}}))}},55886:(H,E,e)=>{"use strict";e.d(E,{t:()=>D});var t=e(6400),u=e(4508),s=e(20501),g=e(79786),P=Object.defineProperty,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(p,l,a)=>l in p?P(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,d=(p,l)=>{for(var a in l||(l={}))O.call(l,a)&&f(p,a,l[a]);if(y)for(var a of y(l))c.call(l,a)&&f(p,a,l[a]);return p},T=(p,l)=>{var a={};for(var v in p)O.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&y)for(var v of y(p))l.indexOf(v)<0&&c.call(p,v)&&(a[v]=p[v]);return a};function D(p){var l=p,{className:a,src:v,noStyle:w=!1,loading:M,onError:C}=l,L=T(l,["className","src","noStyle","loading","onError"]);let S,N;return"size"in L?(S=L.size,N=L.size):(S=L.width,N=L.height),(0,t.h)(g.e,{src:v,maxWidth:S*2,className:a,imageProps:{height:N*2,crop:"fill",gravity:"auto"},style:w?void 0:{width:S,height:N},objectFit:"cover",loading:M,onError:C})}function I(p){var l=p,{className:a,src:v,noStyle:w=!1,loading:M,onError:C}=l,L=T(l,["className","src","noStyle","loading","onError"]);let S,N;return"size"in L?(S=L.size,N=L.size):(S=L.width,N=L.height),h(Box,d({as:"img",src:imginary(v)},L))}},15822:(H,E,e)=>{"use strict";e.d(E,{S:()=>I});var t=e(6400),u=e(94184),s=e.n(u),g=e(51126);const P={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p},D=(p,l)=>{var a={};for(var v in p)c.call(p,v)&&l.indexOf(v)<0&&(a[v]=p[v]);if(p!=null&&O)for(var v of O(p))l.indexOf(v)<0&&f.call(p,v)&&(a[v]=p[v]);return a};function I(p){var l=p,{className:a}=l,v=D(l,["className"]);return(0,t.h)(g.hs,T({justifyContent:"center",alignItems:"center",className:s()(P.container,a)},v),(0,t.h)("div",{className:P.drunkSpinner}))}},54520:(H,E,e)=>{"use strict";e.d(E,{SV:()=>d});var t=e(6400),u=e(30396),s=e(20042),g=e(79786),P=e(8479),y=e(11533),O=e(51126),c=e(43887);function f(){const{result:D}=(0,P.Wf)(()=>Promise.all([e.e(2301),e.e(1486)]).then(e.bind(e,71486)).then(I=>I.Sentry),[],{auto:!0});return(0,u.cO)(I=>{console.error(I),D&&D.captureException(I)})}function d({children:D}){const[I,p]=f(),l=(0,u.sO)((0,s.getCurrentUrl)());return(0,y.js)(a=>{I&&l.current!==a&&p(),l.current=a},[]),I?(0,t.h)(T,null):D}function T(){return(0,t.h)(O.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,t.h)(g.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,t.h)(O.tu,{gap:8},(0,t.h)(c.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,t.h)(c.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},11688:(H,E,e)=>{"use strict";e.d(E,{Oe:()=>l,cr:()=>p});var t=e(6400),u=e(8479),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(C,L,S)=>L in C?s(C,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[L]=S,d=(C,L)=>{for(var S in L||(L={}))O.call(L,S)&&f(C,S,L[S]);if(y)for(var S of y(L))c.call(L,S)&&f(C,S,L[S]);return C},T=(C,L)=>g(C,P(L)),D=(C,L)=>{var S={};for(var N in C)O.call(C,N)&&L.indexOf(N)<0&&(S[N]=C[N]);if(C!=null&&y)for(var N of y(C))L.indexOf(N)<0&&c.call(C,N)&&(S[N]=C[N]);return S},I=(C,L,S)=>new Promise((N,R)=>{var U=G=>{try{$(S.next(G))}catch(Q){R(Q)}},F=G=>{try{$(S.throw(G))}catch(Q){R(Q)}},$=G=>G.done?N(G.value):Promise.resolve(G.value).then(U,F);$((S=S.apply(C,L)).next())});function p(C){return(0,t.h)(a,T(d({},C),{key:C.module}))}function l({module:C,onRequest:L,fetchImmediately:S=!0}){const N=w.has(C),R=(0,u.Wf)(()=>M(C,L),[],{auto:S&&!N,initialResult:N?w.get(C):null});return R.error&&console.error(R.error),{error:R.error,isLoading:R.isLoading,result:R.result,fetch:R.refetch}}function a(C){var L=C,{onRequest:S,resolve:N,module:R,whileLoading:U}=L,F=D(L,["onRequest","resolve","module","whileLoading"]);const{error:$,isLoading:G,result:Q}=l({module:R,onRequest:S});return(0,t.h)(t.Fragment,null,$?"Error":G||!Q?U!=null?U:null:(0,t.h)(N(Q),F))}function v(C){return h(p,T(d({},C),{resolve:L=>L.default}))}const w=new Map;function M(C,L){return I(this,null,function*(){let S=w.get(C);return S||(S=yield L(),w.set(C,S)),S})}},18130:(H,E,e)=>{"use strict";e.d(E,{c:()=>v,r:()=>a});var t=e(6400),u=e(98661),s=e(20042),g=e(92298),P=e(13045),y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(w,M,C)=>M in w?y(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,I=(w,M)=>{for(var C in M||(M={}))d.call(M,C)&&D(w,C,M[C]);if(f)for(var C of f(M))T.call(M,C)&&D(w,C,M[C]);return w},p=(w,M)=>O(w,c(M)),l=(w,M)=>{var C={};for(var L in w)d.call(w,L)&&M.indexOf(L)<0&&(C[L]=w[L]);if(w!=null&&f)for(var L of f(w))M.indexOf(L)<0&&T.call(w,L)&&(C[L]=w[L]);return C};const a=(0,u.forwardRef)((w,M)=>{var C=w,{href:L,onClick:S,campaign:N,replace:R,state:U,showBack:F}=C,$=l(C,["href","onClick","campaign","replace","state","showBack"]);U=F?p(I({},U),{showBack:!0}):U;const G=v({href:L,onClick:S,campaign:N,replace:R,state:U});return(0,t.h)(P.xu,I(p(I({as:"a"},$),{ref:M}),G))});function v({onClick:w,href:M,campaign:C,replace:L,state:S}){if(M){let R;try{R=new URL(M)}catch(U){try{R=new URL(`${document.location.origin}${M}`)}catch(F){}}if(R){if(R.origin===document.location.origin&&!C){const U=new URLSearchParams,F={};for(const[$,G]of R.searchParams)$.startsWith("utm_")?$==="utm_campaign"?F.name=G:F[$.replace(/^utm_/,"")]=G:U.append($,G);C=F,M=`${R.pathname}${U}`}else if(R.origin!==document.location.origin&&C){for(const[U,F]of Object.entries(C)){const $=U==="name"?"campaign":U;R.searchParams.set(`utm_${$}`,F)}M=R.toString()}}}return{href:M,onClick:R=>{w==null||w(R),!R.defaultPrevented&&!R.ctrlKey&&!R.shiftKey&&!R.metaKey&&M&&((0,g.j)(I({},C)),R.preventDefault(),R.stopPropagation(),(0,s.route)(M,L),S&&history.replaceState(S,""))}}}},42332:(H,E,e)=>{"use strict";e.d(E,{aw:()=>U,u:()=>F});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(74285),y=e(21958),O=e(5131),c=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,p=($,G,Q)=>G in $?c($,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):$[G]=Q,l=($,G)=>{for(var Q in G||(G={}))D.call(G,Q)&&p($,Q,G[Q]);if(T)for(var Q of T(G))I.call(G,Q)&&p($,Q,G[Q]);return $},a=($,G)=>f($,d(G)),v=($,G)=>{var Q={};for(var K in $)D.call($,K)&&G.indexOf(K)<0&&(Q[K]=$[K]);if($!=null&&T)for(var K of T($))G.indexOf(K)<0&&I.call($,K)&&(Q[K]=$[K]);return Q};function w({hideOnScroll:$}={}){const[G,Q]=useState(!1),K=useRef();return useEffect(()=>{if(G){const W=()=>{Q(!1)},Y=ne=>{ne.key==="Escape"&&Q(!1)};return window.addEventListener("click",W),window.addEventListener("keydown",Y),$&&window.addEventListener("scroll",W,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",W),window.removeEventListener("keydown",Y),window.removeEventListener("scroll",W,{capture:!0})}}},[G]),{ref:K,isOn:G,setIsOn:Q,toggle:()=>{Q(!G)}}}const M={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function C({tetherRef:$,fixTo:G=M,isFixed:Q,offset:K={x:0,y:0},children:W,className:Y}){const ne=(0,u.sO)();return(0,u.bt)(()=>{const V=$.current,j=ne.current;if(!V||!j)return;const te=V.getBoundingClientRect(),ie=j.getBoundingClientRect(),ue=l(l({},M),G);let he=ue.anchorY==="center"?te.top+te.height/2:te[ue.anchorY];ue.tetherY==="bottom"&&(he=window.innerHeight-he),ue.tetherY==="center"&&(he-=ie.height/2);const Z=ue.tetherY==="bottom"?"bottom":"top";let J=ue.anchorX==="center"?te.left+te.width/2:te[ue.anchorX];ue.tetherX==="right"&&(J=window.innerWidth-J),ue.tetherX==="center"&&(J-=ie.width/2);const ae=ue.tetherX==="right"?"right":"left";Z==="top"&&he+ie.height>window.innerHeight?(he=te.top-ie.height,K.y&&(he-=K.y)):K.y&&(he+=K.y),K.x&&(J+=K.x),Q||(he+=window.scrollY,J+=window.scrollX),Object.assign(j.style,{minWidth:`${te.width}px`,[Z]:`${he}px`,[ae]:`${J}px`})},[]),(0,t.h)(P.h,null,(0,t.h)("div",{className:g()("dropdown3",Y),ref:ne,style:{position:Q?"fixed":"absolute"}},W))}const L=(0,y.L)("reader2-menu reader2-font-base");function S($){var G=$,{priority:Q}=G,K=v(G,["priority"]);const W=classnames("reader2-menu-item","reader2-text-button",Q,K.className);return K.href?h("a",a(l({},K),{className:W})):h("div",a(l({},K),{className:W}))}function N({options:$,value:G,onChange:Q,fixedHeight:K=!1}){var W;const Y=w({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:Y.toggle,forwardedRef:Y.ref,fixedHeight:K},(W=$.find(ne=>ne.value===G))==null?void 0:W.label,h(ChevronDown,{size:16}),Y.isOn&&h(C,{tetherRef:Y.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(L,null,$.map(ne=>h(S,{key:ne.value,onClick:()=>Q(ne.value),className:classnames("reader2-split-menu-item selectable",G===ne.value&&"isSelected")},ne.label,G===ne.value&&h(Check,{className:"feather-icon"}))))))}function R($){var G=$,{defaultValue:Q,onChange:K}=G,W=v(G,["defaultValue","onChange"]);const[Y,ne]=useState(Q);return h(N,a(l({},W),{value:Y,onChange:V=>{ne(V),K(V)}}))}function U({onHover:$}={}){const[G,Q]=(0,u.eJ)(!1),K=(0,u.sO)(),W=(0,u.sO)(),Y=(0,u.sO)(),ne=j=>{j.pointerType==="mouse"&&(clearTimeout(Y.current),Q(!0),$&&$())},V=j=>{j.pointerType==="mouse"&&(Y.current=setTimeout(()=>{Q(!1)},200))};return(0,u.d4)(()=>{const j=K.current;if(j)return j.addEventListener("pointerenter",ne),j.addEventListener("pointerleave",V),()=>{j.removeEventListener("pointerenter",ne),j.removeEventListener("pointerleave",V)}},[]),(0,u.d4)(()=>{const j=W.current,te=K.current;if(G&&te){const ie=()=>{Q(!1)};return window.addEventListener("scroll",ie,{capture:!0,passive:!0}),j&&(j.addEventListener("pointerenter",ne),j.addEventListener("pointerleave",V)),()=>{window.removeEventListener("scroll",ie,{capture:!0}),j&&(j.removeEventListener("pointerenter",ne),j.removeEventListener("pointerleave",V))}}},[G]),{ref:K,tooltipRef:W,isHovering:G}}function F({tetherRef:$,children:G}){return(0,t.h)(C,{tetherRef:$,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,t.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},G,(0,t.h)("div",{className:"reader2-tooltip-arrow"},(0,t.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,t.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(H,E,e)=>{"use strict";e.d(E,{Yy:()=>T});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(26059),y=e(74285),O=e(17025),c=e.n(O),f=e(5131),d=e(19696);function T({children:l,className:a,onClose:v,hasClosePill:w,isPopup:M,noExit:C,noExitOnClick:L,noFullscreen:S,noCloseButton:N,testID:R}){const U=(0,u.sO)(),F=$=>{!C&&!L&&M&&(S||window.innerWidth>540)&&($.stopPropagation(),$.preventDefault(),v())};return(0,t.h)(y.h,null,(0,t.h)("div",{className:g()("modal simple-modal wide typography","in",a,{"has-close-pill":w,popup:M}),"data-testid":R,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{className:g()("modal-cell modal-content reader2-modal",{"no-fullscreen":S})},(0,t.h)("div",{className:"modal-clickspace",onClick:F}),(0,t.h)("div",{className:"container",ref:U},!C&&(!N||(0,O.isMobileBrowser)())&&(0,t.h)(f.zx,{className:g()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":w}),onClick:()=>v()},(0,t.h)(P.Z,null)),l))))))}function D({children:l,onCancel:a}){return h(T,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:a},h(I,null,l))}const I=(0,d.L)("simple-modal-pad reader2-confirm-modal"),p=(0,d.L)("buttons")},10174:(H,E,e)=>{"use strict";e.d(E,{Au:()=>Z,i3:()=>J,oC:()=>le,sA:()=>te});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(13639),y=e(59009),O=e(82622),c=e(20501),f=e(77190),d=e(67963),T=e(62952),D=e(8479),I=e(84040),p=e(51126),l=e(62246),a=e(43887),v=e(97868),w=e(91870),M=e(11688),C=e(50292),L=e(44396),S=e(70762),N=e(7980),R=Object.defineProperty,U=Object.defineProperties,F=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,K=(z,re,se)=>re in z?R(z,re,{enumerable:!0,configurable:!0,writable:!0,value:se}):z[re]=se,W=(z,re)=>{for(var se in re||(re={}))G.call(re,se)&&K(z,se,re[se]);if($)for(var se of $(re))Q.call(re,se)&&K(z,se,re[se]);return z},Y=(z,re)=>U(z,F(re)),ne=(z,re)=>{var se={};for(var fe in z)G.call(z,fe)&&re.indexOf(fe)<0&&(se[fe]=z[fe]);if(z!=null&&$)for(var fe of $(z))re.indexOf(fe)<0&&Q.call(z,fe)&&(se[fe]=z[fe]);return se},V=(z,re,se)=>new Promise((fe,Ee)=>{var ge=pe=>{try{me(se.next(pe))}catch(Le){Ee(Le)}},be=pe=>{try{me(se.throw(pe))}catch(Le){Ee(Le)}},me=pe=>pe.done?fe(pe.value):Promise.resolve(pe.value).then(ge,be);me((se=se.apply(z,re)).next())});function j(z){var re=z,{isOpen:se}=re,fe=ne(re,["isOpen"]);return(0,t.h)(l.u_,{className:N.Z.composerModal,isOpen:se,onClose:fe.onClose,fullscreenMobile:!0},(0,t.h)(M.cr,Y(W({},fe),{module:"../feed/NoteComposer",resolve:Ee=>Ee.NoteComposer,onRequest:()=>Promise.all([e.e(9435),e.e(4430),e.e(4679),e.e(4747),e.e(5874),e.e(8534),e.e(361),e.e(7031),e.e(8897),e.e(2926),e.e(8442),e.e(3882),e.e(9608)]).then(e.bind(e,88355)),whileLoading:(0,t.h)("div",{style:{height:410}})})))}function te({disabled:z,parentPubId:re,parentPostId:se,parentCommentId:fe,placeholder:Ee,tabId:ge}){const be=J(),me=(0,d.aF)(),pe=(0,L.XA)(),{requireLogin:Le}=(0,C.SJ)(),je=()=>{z||(me?be.open({parentPubId:re,parentPostId:se,parentCommentId:fe,tabId:ge}):Le==null||Le())},xe=(0,T.h)({onAddFiles:ye=>{be.open({parentPubId:re,parentPostId:se,parentCommentId:fe,initialFiles:ye,tabId:ge})}});return(0,t.h)(p.tu,W({},xe.props),(0,t.h)(p.gq,{gap:12,alignItems:"center",className:g()(N.Z.inlineComposer,{[N.Z.disabled]:z})},me?(0,t.h)(p.hs,{as:"a",flex:"auto",href:(0,c.getReaderProfileUrl)(me,{noBase:!0})},(0,t.h)(v.qE,{size:pe?36:40,user:me})):(0,t.h)(p.hs,{flex:"auto"},(0,t.h)(v.qE,{size:pe?36:40})),(0,t.h)(I.kG,{className:g()(N.Z.inlineComposerButton,{[N.Z.mobile]:pe,[N.Z.disabled]:z,[N.Z.isDropping]:xe.isDragging}),onClick:je,disabled:z,resetCss:!0},(0,t.h)(a.xv.B3,{size:pe?14:16,align:"left",color:"secondary"},Ee||"What's on your mind?")),!pe&&(0,t.h)(I.zx,{disabled:!0,rounded:!0},"Post")))}function ie(){const z=J(),re=useUser(),se=()=>{z.open({})};return re?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:se,shadow:"medium"},h(Plus,{size:24})):null}const ue={isOpen:!1,firstComment:void 0},he=(0,t.createContext)({state:ue,open:()=>V(void 0,null,function*(){throw new Error("Not implemented")})});function Z({children:z}){var re,se,fe;const Ee=(0,d.aF)(),ge=!(Ee!=null&&Ee.name),be=(0,w.I0)(),[me,pe]=(0,u.eJ)(ue),{feedItem:Le}=me,je=le(Le),xe=(Le==null?void 0:Le.type)==="comment"?(se=(re=Le.parentComments)==null?void 0:re[0])!=null?se:Le.comment:null;(0,u.d4)(()=>{Ee&&Promise.all([e.e(9435),e.e(4430),e.e(4679),e.e(4747),e.e(5874),e.e(8534),e.e(361),e.e(7031),e.e(8897),e.e(2926),e.e(8442),e.e(3882),e.e(9608)]).then(e.bind(e,88355))},[Ee]),(0,u.d4)(()=>{me.isOpen&&Promise.all([e.e(5388),e.e(8534),e.e(361),e.e(7031),e.e(8897),e.e(3428),e.e(2926),e.e(8442),e.e(6203),e.e(6272),e.e(3022)]).then(e.bind(e,83097))},[me.isOpen]);const ye=(0,u.Ye)(()=>({state:me,open:De=>new Promise((Ge,pt)=>{pe(Y(W(W({},ue),De),{isOpen:!0,resolve:Ge,reject:pt}))})}),[me]),Me=()=>{var De,Ge;(Ge=(De=document.activeElement)==null?void 0:De.blur)==null||Ge.call(De),pe(Y(W({},me),{isOpen:!1}))},We=!1;return(0,t.h)(he.Provider,{value:ye},z,ge?(0,t.h)(ae,{isOpen:me.isOpen,onClose:Me,onSuccess:()=>pe(Y(W({},me),{isOpen:!0}))}):We?(0,t.h)(l.u_,{isOpen:me.isOpen,onClose:Me,width:316},(0,t.h)(ee,{onClose:Me})):je?(0,t.h)(l.u_,{isOpen:me.isOpen,onClose:Me,width:316},(0,t.h)(oe,{onClose:Me,requirement:je,writerId:(fe=xe==null?void 0:xe.user_id)!=null?fe:0})):(0,t.h)(j,Y(W({},me),{isOpen:me.isOpen,onClose:Me,onSuccess:De=>{var Ge,pt;De.isFirstFeedCommentByUser?pe(Y(W({},me),{firstComment:De})):Me(),be({type:me.editComment?"edit_comment":"new_comment",payload:{comment:De}}),(Ge=me.onCompose)==null||Ge.call(me,De),(pt=me.resolve)==null||pt.call(me,De)},onError:me.reject})),(0,t.h)(l.u_,{isOpen:me.isOpen&&!!me.firstComment},me.firstComment&&(0,t.h)(M.cr,{module:"../feed/NuxModal",resolve:De=>De.FeedNuxShareFirstNote,onRequest:()=>Promise.all([e.e(5388),e.e(8534),e.e(361),e.e(7031),e.e(8897),e.e(3428),e.e(2926),e.e(8442),e.e(6203),e.e(6272),e.e(3022)]).then(e.bind(e,83097)),onClose:Me,comment:me.firstComment})))}function J(){return(0,u.qp)(he)}function ae({isOpen:z,onClose:re,onSuccess:se}){const fe=(0,d.SE)();return(0,t.h)(l.u_,{isOpen:z,onClose:re,fullscreenMobile:!0},(0,t.h)(l.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:re}),(0,t.h)(f._0,{className:N.Z.setupProfileModalContent,pageTitle:"",user:fe.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Ee=>{fe.setUser(Ee.body),se()}}))}function le(z){var re,se;const fe=(0,d.aF)(),Ee=z==null?void 0:z.post,ge=(z==null?void 0:z.type)=="comment"?(se=(re=z.parentComments)==null?void 0:re[0])!=null?se:z.comment:null,{user_id:be}=ge!=null?ge:{};let{reply_minimum_role:me}=ge!=null?ge:{};const pe=(0,S.K)(be!=null?be:0);if(me==null&&(Ee==null?void 0:Ee.write_comment_permissions)==="only_paid"&&(me="paid_subscriber"),!be||!me||z!=null&&z.canReply||ge&&fe&&(0,O._N)(ge,fe.id))return null;if(me){if(me==="free_subscriber"&&(!pe||!["free_subscription","subscribed"].includes(pe)))return"free_subscriber";if(me==="paid_subscriber"&&pe!=="subscribed")return"paid_subscriber"}return null}function oe({requirement:z,writerId:re,onClose:se}){var fe;const Ee=(0,d.aF)(),{error:ge,result:be}=(0,D.ib)({pathname:`/api/v1/user/${re}/primary-publication`,deps:[re],auto:!0});return(0,t.h)(p.tu,{padding:16},(0,t.h)(p.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,t.h)(P.Z,{size:32,color:"var(--color-primary)"})),(0,t.h)(p.tu,{gap:20},(0,t.h)(p.tu,{gap:8,alignItems:"center"},(0,t.h)(a.xv.H3,{align:"center"},z==="free_subscriber"?"Subscribers only":"Paid subscribers only"),be&&(0,t.h)(a.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",z==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(fe=be.name)!=null?fe:"this publication",".")),(0,t.h)(p.tu,{gap:8},be&&(0,t.h)(I.zx,{priority:"primary",rounded:!0,href:(0,c.getSubscribeUrl)(be,{user:Ee,addBase:!0,params:{utm_source:y.UTM_SOURCE.feedCommentReplyRestriction}})},"Subscribe"),(0,t.h)(I.zx,{priority:"secondary",rounded:!0,onClick:se},"Cancel"))))}function ee({onClose:z}){return(0,t.h)(p.tu,{padding:16},(0,t.h)(p.tu,{gap:20},(0,t.h)(p.tu,{gap:8,alignItems:"center"},(0,t.h)(a.xv.H3,{align:"center"},"Confirm your email address"),(0,t.h)(a.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before posting a note.")),(0,t.h)(p.tu,{gap:8},(0,t.h)(I.zx,{priority:"primary",rounded:!0,onClick:z},"Ok"),(0,t.h)(I.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(H,E,e)=>{"use strict";e.d(E,{t5:()=>C.t,Sv:()=>M.S,Xq:()=>st,EU:()=>$e,II:()=>z,Uj:()=>j,y:()=>We,zr:()=>Qe,mE:()=>ye,pe:()=>pe,Vm:()=>L.V,Hj:()=>Ze,_Y:()=>ie,mb:()=>Ee,eK:()=>l.eK});var t=e(6400),u=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(1852),O=e(59009),c=e(20501),f=e(16527),d=e(17025),T=e(51126),D=e(43887),I=e(44396),p=e(5131),l=e(657),a=e(19696),v=e(54520);const w={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3",tabContainerBorder:"frontend-reader2-Page-module__tabContainerBorder--xZFpY"};var M=e(15822),C=e(55886),L=e(23587),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,G=(ze,Ke,lt)=>Ke in ze?S(ze,Ke,{enumerable:!0,configurable:!0,writable:!0,value:lt}):ze[Ke]=lt,Q=(ze,Ke)=>{for(var lt in Ke||(Ke={}))F.call(Ke,lt)&&G(ze,lt,Ke[lt]);if(U)for(var lt of U(Ke))$.call(Ke,lt)&&G(ze,lt,Ke[lt]);return ze},K=(ze,Ke)=>N(ze,R(Ke)),W=(ze,Ke)=>{var lt={};for(var vt in ze)F.call(ze,vt)&&Ke.indexOf(vt)<0&&(lt[vt]=ze[vt]);if(ze!=null&&U)for(var vt of U(ze))Ke.indexOf(vt)<0&&$.call(ze,vt)&&(lt[vt]=ze[vt]);return lt};function Y({children:ze}){const Ke=useMobile();return h(Le,null,Ke?h(Text.H2,null,ze):h(Text.H1,null,ze))}function ne({className:ze,children:Ke,title:lt,hasTitle:vt}){return h("div",{className:classnames("reader2-page-section",(lt||vt)&&"withTitle",ze)},lt&&h(V,null,lt),Ke)}function V({children:ze,className:Ke,actions:lt}){return h("div",{className:classnames("reader2-section-title",Ke)},h("span",{className:"reader2-text-h3 reader2-section-title"},ze),lt&&h("div",{className:"reader2-header-actions"},lt))}const j=(0,u.forwardRef)((ze,Ke)=>{var lt=ze,{isPadded:vt=!0,className:Pt,linkClassName:Wt}=lt,Ut=W(lt,["isPadded","className","linkClassName"]);return(0,t.h)("div",{ref:Ke,className:P()(w.linkRow,vt&&w.isPadded,Pt)},(0,t.h)(te,K(Q({},Ut),{className:Wt})))});function te(ze){var Ke=ze,{children:lt,className:vt,href:Pt,newTab:Wt,onClick:Ut,noAnchor:jt,native:Vt,utmCampaign:lr,utmSource:Jt,isSelected:or}=Ke,Et=W(Ke,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const gr=typeof location!="undefined"?location.pathname:"",Dr=!jt&&Pt!=null?"a":"div",Or=Pt&&(0,c.pathWithQuery)(Pt,{utm_source:Jt||gr,utm_medium:O.UTM_MEDIUM.reader2,utm_campaign:lr}),wr=br=>{Ut&&Ut(br),!br.defaultPrevented&&jt&&Or&&(0,f.Q)(br,Or,{native:Vt,newTab:Wt})};return(0,t.h)(T.hs,Q({as:Dr,className:P()(w.linkRowA,vt,(Or||Ut)&&or==null&&w.isClickable,or&&w.isSelected,or!=null&&w.isSelectable),"data-selected":or,href:Or,target:Wt?"_blank":void 0,onClick:wr},Et),lt)}function ie({icon:ze,title:Ke,text:lt,action:vt,className:Pt}){return(0,t.h)(T.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:P()(w.zero,Pt)},ze,(0,t.h)(T.tu,{gap:4},(0,t.h)(D.xv.B4,{weight:"medium",color:"secondary"},Ke),(0,t.h)(D.xv.B4,{color:"secondary"},lt)),vt)}function ue(ze){var Ke=ze,{className:lt,variant:vt,size:Pt,serif:Wt,isConstrained:Ut,maxLines:jt=3}=Ke,Vt=W(Ke,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",Q({className:classnames("reader2-paragraph",vt&&`reader2-${vt}`,Pt&&`reader2-font-${Pt}`,Wt&&"reader2-font-serif",Ut&&`reader2-clamp-lines reader2-${jt}-lines`,lt)},Vt))}function he({className:ze,children:Ke}){return h("div",{className:classnames("reader-nav-center",ze)},h("div",{className:"reader2-page reader2-font-base"},Ke))}function Z({className:ze,scrollRef:Ke,children:lt}){return h(ee,{ref:Ke},h(he,{className:ze},lt))}function J(ze){var Ke=ze,{scrollRef:lt}=Ke,vt=W(Ke,["scrollRef"]);return h(ee,{ref:lt},h(FlexBox,K(Q({},vt),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function ae(ze){return useMediaQuery({minWidth:1100})?h(FlexColumn,Q({className:"reader2-inbox-sidebar",paddingTop:20},ze)):null}function le(ze){return h(FlexBox,Q({alignItems:"center",justifyContent:"space-between",paddingX:8},ze))}function oe(ze){return h(FlexColumn,Q({gap:8},ze))}const ee=(0,u.forwardRef)((ze,Ke)=>(0,t.h)(v.SV,null,(0,t.h)("div",Q({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Ke},ze)))),z=(0,u.forwardRef)((ze,Ke)=>{var lt=ze,{className:vt,hasError:Pt}=lt,Wt=W(lt,["className","hasError"]);return(0,t.h)("input",K(Q({className:P()(w.input,Pt&&w.error,vt)},Wt),{ref:Ke}))});function re(ze){var Ke=ze,{className:lt,hasError:vt,textareaRef:Pt}=Ke,Wt=W(Ke,["className","hasError","textareaRef"]);return h("textarea",Q({ref:Pt,className:classnames(css.input,css.textarea,vt&&css.error,lt)},Wt))}function se({error:ze}){return h(st,null,getNetworkErrorMessage(ze))}const fe=({header:ze,icon:Ke,title:lt,text:vt,action:Pt})=>h(ne,{title:ze},h(Ee,{icon:Ke,title:lt,text:vt,action:Pt}));function Ee(ze){return(0,t.h)(T.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,t.h)(ie,Q({},ze)))}function ge({tabs:ze,value:Ke,onChange:lt,noBorder:vt=!1}){const Pt=useRef(),Wt=useMobile(),{state:Ut,handleArrowClick:jt}=useScrollArrows(Pt);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:classnames(css.tabContainer,!vt&&css.tabContainerBorder)},h(FlexRow,{className:"reader2-tab-bar-parent"},!Wt&&h(ArrowButton,{direction:"left",isVisible:Ut.showLeft,onClick:jt(-1)}),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:Pt},h(be,{tabs:ze,value:Ke,onChange:lt})),!Wt&&h(ArrowButton,{direction:"right",isVisible:Ut.showRight,onClick:jt(1)})))}function be({tabs:ze,value:Ke,onChange:lt}){return h(FlexRow,{gap:8},ze.map(vt=>h(PillButton,{key:vt.value,isActive:Ke===vt.value,onClick:()=>lt(vt.value),icon:vt.icon},vt.label)))}function me({children:ze}){const Ke=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:Ke},ze)}function pe(ze){var Ke=ze,{gap:lt=16}=Ke,vt=W(Ke,["gap"]);return(0,t.h)(T.tu,K(Q({},vt),{className:P()(w.pageStack,w[`gap_${lt}`])}))}const Le=(0,a.L)("reader2-page-top"),je=(0,a.L)(w.pageTopFixed),xe=(0,a.L)("reader2-page-body"),ye=(0,a.L)(w.pageStack),Me=(0,a.L)("reader2-page-center"),We=(0,a.L)("reader2-modal-title-text"),De=(0,a.L)("reader2-column"),Ge=(0,a.L)("reader2-text-h3"),pt=(0,a.L)("reader2-text-h3 reader2-section-title"),wt=(0,a.L)("reader2-text-h4"),Ht=(0,a.L)("reader2-item-title"),nt=(0,a.L)("reader2-item-meta"),Ze=(0,a.L)("reader2-text-b4"),st=(0,a.L)("reader2-form-error"),Ie=(0,a.L)("reader2-subtitle"),Pe=(0,a.L)("reader2-separator","hr"),Ce=(0,a.L)("reader2-page-section withTitle"),Be=(0,a.L)("reader2-row reader2-split-row"),Ve=(0,a.L)("reader2-emphasis-box"),$e=(0,a.L)(P()(w.hoverLink,"pencraft"),"a");function Qe(ze){return(0,t.h)($e,Q({target:"_blank"},ze))}},23587:(H,E,e)=>{"use strict";e.d(E,{V:()=>v});var t=e(6400),u=e(94184),s=e.n(u),g=e(4508);const P={reader2Placeholder:"frontend-reader2-Placeholder-module__reader2Placeholder--x_akJ",travel:"frontend-reader2-Placeholder-module__travel--V9vAL",placeholder:"frontend-reader2-Placeholder-module__placeholder--BEl1f",bar:"frontend-reader2-Placeholder-module__bar--pzAh8",circle:"frontend-reader2-Placeholder-module__circle--u7Phw",elevated:"frontend-reader2-Placeholder-module__elevated--Af6iZ"};var y=Object.defineProperty,O=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=(w,M,C)=>M in w?y(w,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[M]=C,I=(w,M)=>{for(var C in M||(M={}))d.call(M,C)&&D(w,C,M[C]);if(f)for(var C of f(M))T.call(M,C)&&D(w,C,M[C]);return w},p=(w,M)=>O(w,c(M)),l=(w,M)=>{var C={};for(var L in w)d.call(w,L)&&M.indexOf(L)<0&&(C[L]=w[L]);if(w!=null&&f)for(var L of f(w))M.indexOf(L)<0&&T.call(w,L)&&(C[L]=w[L]);return C};function a({className:w,style:M,type:C,width:L,height:S,size:N,maxWidth:R}){return N!=null&&(L=N,S=N),h("div",{className:classnames(css.reader2Placeholder,w,C),style:p(I({},M),{width:L,height:S,maxWidth:R})})}function v(w){var M=w,{className:C,style:L,type:S,width:N,height:R,size:U,maxWidth:F,elevated:$,radius:G=6}=M,Q=l(M,["className","style","type","width","height","size","maxWidth","elevated","radius"]);U!=null&&(N=U,R=U);const K=S==="bar";return(0,t.h)(g.xu,p(I({},Q),{className:s()(P.placeholder,C,$&&P.elevated,K&&P.bar,S==="circle"&&P.circle),radius:G,style:p(I({},L),{width:N,height:R,maxWidth:F})}))}},9178:(H,E,e)=>{"use strict";e.d(E,{F:()=>D});var t=e(6400),u=e(94184),s=e.n(u),g=e(51126),P=e(74806);const y="#FF6719";var O=e(34755);function c({className:I,type:p,accentColor:l}){return(0,t.h)(O.l,{name:"ReaderBadgeIcon",className:I,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,t.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,t.h)("circle",{cx:"11",cy:"11",r:"9",fill:l||y}),p==="subscribed"?(0,t.h)(t.Fragment,null,(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,t.h)(t.Fragment,null,(0,t.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,t.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,t.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,t.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,t.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const f=null;var d=e(55886);const T={custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function D({pub:I,logoUrl:p,publicationName:l,size:a=196,title:v,className:w,imgClassName:M,badgeType:C,belowTheFold:L}){var S;return I&&!p&&(p=(0,P.getLogo)(I)),I&&!l&&(l=I.name||I.subdomain),(0,t.h)(g.hs,{className:w,position:"relative",title:v,style:{width:a,height:a}},p?(0,t.h)(d.t,{className:s()(T.custom,M),src:p,size:a,alt:l,loading:L?"lazy":void 0}):(0,t.h)("span",{className:s()(T.placeholder,M),style:{width:a,height:a,backgroundColor:I&&(((S=I==null?void 0:I.theme)==null?void 0:S.background_pop_color)||(I==null?void 0:I.theme_var_background_pop)||null),color:null}},l==null?void 0:l[0]),C&&(0,t.h)(c,{className:"reader2-pub-badge",type:C,accentColor:I&&I.theme_var_background_pop}))}},44695:(H,E,e)=>{"use strict";e.d(E,{GF:()=>te,Sm:()=>Q,Sz:()=>j});var t=e(6400),u=e(94184),s=e.n(u),g=e(25380),P=e(59009),y=e(52743),O=e(83322),c=e(67963),f=e(3258),d=e(8479),T=e(84040),D=e(48960),I=e(51126),p=e(94016),l=e(43887),a=e(95297),v=e(97868),w=e(33510),M=e(9178),C=e(15337),L=e(27797),S=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,F=(ie,ue,he)=>ue in ie?S(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:he}):ie[ue]=he,$=(ie,ue)=>{for(var he in ue||(ue={}))R.call(ue,he)&&F(ie,he,ue[he]);if(N)for(var he of N(ue))U.call(ue,he)&&F(ie,he,ue[he]);return ie},G=(ie,ue)=>{var he={};for(var Z in ie)R.call(ie,Z)&&ue.indexOf(Z)<0&&(he[Z]=ie[Z]);if(ie!=null&&N)for(var Z of N(ie))ue.indexOf(Z)<0&&U.call(ie,Z)&&(he[Z]=ie[Z]);return he};const Q=ie=>{var ue=ie,{publication_id:he,inline:Z,utmSource:J}=ue,ae=G(ue,["publication_id","inline","utmSource"]);const{result:le,refetch:oe}=(0,d.ib)({pathname:`/api/v1/publication/public/${he}`,auto:!1,deps:[he]}),ee=(0,c.aF)();return(0,t.h)(p.z,$({className:s()(L.Z.publicationHoverCardTarget,Z&&L.Z.inline),content:le?(0,t.h)(K,{result:le,utmSource:J}):(0,t.h)(V,null),onFetch:oe,layerClassName:L.Z.publicationHoverCard},ae))};function K({result:ie,utmSource:ue}){const{pub:he}=ie,Z=(0,c.aF)();(0,f.track)(f.EVENTS.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:he.id});let J=he.contributors,ae=null;J&&J.length>3&&(ae=`See all (${(0,O.numberToString)(J.length)})`,J=J.slice(0,3));const le=`${he.base_url}?utm_source=${ue}`;return(0,t.h)(I.tu,{gap:16,padding:8},(0,t.h)(I.gq,null,(0,t.h)("a",{href:le},(0,t.h)(M.F,{pub:ie.pub,size:56}))),(0,t.h)(I.tu,{gap:6},(0,t.h)(j,{title:ie.pub.name,handle:void 0,blurb:ie.pub.hero_text,url:ie.pub.base_url}),he.rankingDetail&&he.rankingDetailFreeSubscriberCount&&(0,t.h)(l.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},he.rankingDetailFreeSubscriberCount.toUpperCase())),(0,t.h)(I.tu,null,(0,t.h)(W,{isContr:ie.isContributor,isSubs:ie.isSubscribed,pub:ie.pub,user:Z,dashboardUrl:ie.pub.base_url,utmSource:ue})),(0,t.h)(D.i,null),(0,t.h)(I.tu,null,(0,t.h)(Y,{contributors:J,seeAllLabel:ae,redirLink:ie.pub.base_url,utmSource:ue})))}function W({isContr:ie,isSubs:ue,pub:he,user:Z,dashboardUrl:J,utmSource:ae}){const le=(0,C.i)("profile");return(0,t.h)(I.tu,null,ie?(0,t.h)(t.Fragment,null,(0,t.h)(T.zx,{priority:"secondary",fill:"outline",href:`${J}/publish`},"Dashboard")):ue?(0,t.h)(T.zx,{priority:"secondary",fill:"outline",href:(0,y.getSubscribeUrl)(he,{user:Z,addBase:!0,utm_source:ae||P.UTM_SOURCE.pubHoverCard,utm_medium:P.UTM_MEDIUM.web,utm_campaign:P.UTM_CAMPAIGN.profilePage}),leftIcon:(0,t.h)(g.Z,null)},"Subscribed"):(0,t.h)(T.zx,{priority:"primary",href:(0,y.getSubscribeUrl)(he,{user:Z,addBase:!0,utm_source:ae||P.UTM_SOURCE.pubHoverCard,utm_medium:P.UTM_MEDIUM.web,utm_campaign:P.UTM_CAMPAIGN.profilePage}),onClick:le(he)},"Subscribe"))}function Y({contributors:ie,seeAllLabel:ue,redirLink:he,utmSource:Z}){return(0,t.h)(I.tu,null,(0,t.h)(te,{sectionTitle:"Written by",seeAllLabel:ue,link:`${he}/about?sort=people`}),(0,t.h)(I.tu,null,ie.map(J=>(0,t.h)(ne,{profile:J,utmSource:Z}))))}function ne({profile:ie,utmSource:ue}){return(0,t.h)("a",{href:(0,y.getProfileUrlById)(ie.user_id,ie.name,{searchParams:{utm_source:ue}}),className:L.Z.hoverCardAvatar},(0,t.h)(v.qE,{user:ie,size:32}),(0,t.h)(l.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},ie.name))}function V(){return(0,t.h)(I.tu,{padding:8,gap:8},(0,t.h)(w.Vm,{size:56,style:{borderRadius:4}}),(0,t.h)(w.Vm,{type:"bar",width:"100%",height:20}),(0,t.h)(w.Vm,{type:"bar",width:"20%",height:20}),(0,t.h)(w.Vm,{type:"bar",width:"60%",height:20}))}function j({title:ie,handle:ue,blurb:he,url:Z,themed:J,bestsellerTier:ae,userId:le}){return(0,t.h)(t.Fragment,null,(0,t.h)("a",{style:{textDecoration:"none"},href:Z},(0,t.h)(l.xv.H3,{color:J?"pub-primary-text":"primary",className:L.Z.hoverCardTitle},ie,!!ae&&!!le&&(0,t.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,t.h)(a.UserBadge,{inline:!0,tier:ae,userId:le,tooltipOnHover:!0,size:"md"})))),ue&&(0,t.h)(l.xv.Meta,null,`@${ue}`),he&&(0,t.h)(l.xv.B3,{color:J?"pub-secondary-text":"secondary",clamp:4},he))}function te({sectionTitle:ie,seeAllLabel:ue,link:he}){return(0,t.h)(I.gq,{justifyContent:"space-between"},(0,t.h)(l.xv.Meta,{color:"secondary"},ie),ue&&(0,t.h)("a",{className:L.Z.hoverCardSeeAll,href:he},(0,t.h)(l.xv.B4,{color:"accent-blue"},ue)))}},51415:(H,E,e)=>{"use strict";e.d(E,{Eb:()=>d,in:()=>T,r8:()=>c});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(21958),y=e(42332),O=e(46140);function c(D,I=(0,t.h)(f,null)){const[p,l]=(0,u.eJ)(D);return[p&&I,()=>{l(!1)}]}function f(){return(0,t.h)(d,null)}function d({className:D}){const{isHovering:I,ref:p}=(0,y.aw)();return(0,t.h)(t.Fragment,null,(0,t.h)(T,{className:g()(D,"reader2-unread-dot"),ref:p}),I&&(0,t.h)(y.u,{tetherRef:p},"New since your last visit"))}const T=(0,P.L)(O.Z.unreadDot)},72829:(H,E,e)=>{"use strict";e.d(E,{b8:()=>O,pe:()=>y});var t=e(6400),u=e(98661),s=e(63270),g=e(11688);const P=(0,u.createContext)({open:()=>{}});function y({children:c}){const{getConfigFor:f}=(0,s.xR)(),d=!!f("enable_web_dms"),[{isOpen:T,defaultValue:D,source:I},p]=(0,u.useState)({isOpen:!1});(0,u.useEffect)(()=>{if(!d)return;const v=w=>{w.metaKey&&w.key};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[d]);const l=()=>{p({isOpen:!1})},a=(0,u.useMemo)(()=>({open:({defaultValue:v,source:w})=>p({defaultValue:v,source:w,isOpen:!0})}),[]);return(0,t.h)(P.Provider,{value:a},c,(0,t.h)(g.cr,{module:"@/frontend/reader2/chat/ComposerModal",resolve:v=>v.ComposerModal,onRequest:()=>Promise.all([e.e(9435),e.e(7525),e.e(8534),e.e(7031),e.e(9221),e.e(9721)]).then(e.bind(e,46827)),isOpen:T,onClose:l,defaultValue:D,source:I}))}function O(){return(0,u.useContext)(P)}},81066:(H,E,e)=>{"use strict";e.d(E,{c:()=>z});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(66254),y=e(34755),O=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(re,se,fe)=>se in re?O(re,se,{enumerable:!0,configurable:!0,writable:!0,value:fe}):re[se]=fe,p=(re,se)=>{for(var fe in se||(se={}))T.call(se,fe)&&I(re,fe,se[fe]);if(d)for(var fe of d(se))D.call(se,fe)&&I(re,fe,se[fe]);return re},l=(re,se)=>c(re,f(se));const v=re=>(0,t.h)(y.l,l(p({},re),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,t.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,t.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var w=e(8479),M=e(13045),C=e(94016),L=e(70925),S=e(15822),N=e(1942);const R=3,U=6;function F({context:re,reactions:se,currentReaction:fe,onReactionClick:Ee,isReadOnly:ge,withEmojis:be,showCounts:me=!0}){const pe=se&&Object.keys(se).some(ye=>se[ye]>0),{result:Le,isLoading:je}=(0,w.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),xe=(0,u.Ye)(()=>!se||!(Le!=null&&Le.reactionTypes)?[]:Object.entries(se).sort(([Me,We],[De,Ge])=>We===Ge?Me.localeCompare(De):Ge-We).filter(([Me,We])=>We>0&&(be||Le.reactionTypes[Me])).slice(0,R),[se,Le]);return Le!=null&&Le.reactionTypes?(0,t.h)(M.tu,null,(0,t.h)(M.gq,{onClick:ie,className:g()(N.Z.reactionsContainer,{[N.Z.show]:pe})},xe.map(([ye,Me])=>{const We=be?ye:Le.reactionTypes[ye],De=ye===fe||We===fe,Ge=(0,t.h)(M.gq,{key:ye,className:g()(N.Z.reaction,{[N.Z.blue]:me&&De}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>We&&Ee&&Ee(ye,We)},(0,t.h)(j,{reaction:We}),me&&(0,t.h)(ne,{count:Me,textColor:De?"bg-light":"primary"}));return re.type==="direct-message"?Ge:(0,t.h)(C.z,{key:ye,layerClassName:N.Z.nameCard,content:(0,t.h)(Q,{context:re,reaction:ye}),layerOptions:{placement:"bottom-center"}},Ge)}),!ge&&(0,t.h)(L.J,{content:({closePopover:ye})=>(0,t.h)(G,{emojis:Le,isLoading:je,currentReaction:fe,onPick:(Me,We)=>{Ee&&Ee(Me,We),ye()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:N.Z.emojiPickerLayer},(0,t.h)($,null)))):null}function $(){return(0,t.h)(M.hs,{className:N.Z.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,t.h)(v,null))}function G({emojis:re,isLoading:se,currentReaction:fe,onPick:Ee}){var ge;const be=(0,u.Ye)(()=>!(re!=null&&re.reactionTypes)||se?[]:Object.keys(re.reactionTypes),[re==null?void 0:re.reactionTypes,se]),{result:me,isLoading:pe}=(0,w.Wf)(()=>e.e(4695).then(e.t.bind(e,64695,19)),[],{auto:!0}),Le=(0,u.I4)(Me=>[Me,...(me==null?void 0:me[Me])||[]],[me]),{filteredItems:je,setQuery:xe,hasFiltered:ye}=(0,P.C)({items:be,getKeys:Le,deps:[be,Le]});return se||pe?(0,t.h)(S.S,null):(0,t.h)(M.tu,{gap:12,className:N.Z.emojiPicker,onClick:ie,overflowY:"auto"},(0,t.h)(P.R,{setQuery:xe,placeholder:"Search emoji...",size:"small"}),ye&&(je&&je.length>0?(0,t.h)(Y,{reactions:je,currentReaction:fe,onPick:Ee,emojiMap:re.reactionTypes,title:null}):(0,t.h)(M.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!ye&&(0,t.h)(t.Fragment,null,(0,t.h)(Y,{reactions:re.suggestedReactionTypes,currentReaction:fe,onPick:Ee,emojiMap:re.reactionTypes,title:"Suggested Reactions"}),(ge=re.categories)==null?void 0:ge.map(Me=>(0,t.h)(Y,{reactions:Me.reactionTypes,currentReaction:fe,onPick:Ee,emojiMap:re.reactionTypes,title:Me.title}))))}function Q({reaction:re,context:se}){var fe;const Ee=se.type==="posts"?`/api/v1/community/posts/${se.id}/reactions`:`/api/v1/community/comments/${se.id}/reactions`,{result:ge,isLoading:be}=(0,w.ib)({pathname:Ee,method:"GET",auto:!0});if(be)return(0,t.h)(S.S,null);const pe=((fe=ge==null?void 0:ge.reactions.filter(xe=>xe.reaction===re))!=null?fe:[]).map(xe=>xe.user.name),Le=pe.slice(0,U),je=Math.max(0,pe.length-U);return(0,t.h)(M.tu,{gap:2,className:N.Z.emojiPicker,onClick:ie,overflowY:"auto"},Le.map(xe=>(0,t.h)(V,{text:xe})),je>0&&(0,t.h)(V,{text:`+ ${je} ${je===1?"other":"others"}`}))}function K({title:re}){return(0,t.h)(M.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},re)}function W({reactions:re,currentReaction:se,onPick:fe,emojiMap:Ee}){return(0,t.h)(M.gq,{className:N.Z.reactionSection,gap:8},re==null?void 0:re.map(ge=>(0,t.h)(M.hs,{key:ge,onClick:()=>fe(ge,Ee[ge]),className:g()(N.Z.reactionToPick,{[N.Z.blue]:ge===se}),bg:"primary",alignItems:"center"},(0,t.h)(te,{reaction:Ee[ge]}))))}function Y({reactions:re,currentReaction:se,onPick:fe,emojiMap:Ee,title:ge}){return(0,t.h)(M.tu,{gap:12},ge&&(0,t.h)(K,{title:ge}),(0,t.h)(W,{reactions:re,currentReaction:se,onPick:fe,emojiMap:Ee}))}function ne({count:re,textColor:se}){return(0,t.h)(M.xv,{className:N.Z.count,color:se,lineHeight:20},re)}function V({text:re}){return(0,t.h)(M.xv,{size:12,color:"primary",weight:"medium",font:"text"},re)}function j({reaction:re}){return(0,t.h)(M.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},re)}function te({reaction:re}){return(0,t.h)(M.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},re)}const ie=re=>{re.stopPropagation(),re.preventDefault()};var ue=e(64927),he=Object.defineProperty,Z=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,le=(re,se,fe)=>se in re?he(re,se,{enumerable:!0,configurable:!0,writable:!0,value:fe}):re[se]=fe,oe=(re,se)=>{for(var fe in se||(se={}))J.call(se,fe)&&le(re,fe,se[fe]);if(Z)for(var fe of Z(se))ae.call(se,fe)&&le(re,fe,se[fe]);return re},ee=(re,se)=>{var fe={};for(var Ee in re)J.call(re,Ee)&&se.indexOf(Ee)<0&&(fe[Ee]=re[Ee]);if(re!=null&&Z)for(var Ee of Z(re))se.indexOf(Ee)<0&&ae.call(re,Ee)&&(fe[Ee]=re[Ee]);return fe};function z(re){var se=re,{children:fe,setReactions:Ee=!0}=se,ge=ee(se,["children","setReactions"]);return Ee?(0,t.h)(ue.X2,{className:N.Z.reactionsHoverZone,position:"relative"},fe,(0,t.h)(F,oe({},ge))):(0,t.h)(t.Fragment,null,fe)}},21288:(H,E,e)=>{"use strict";e.d(E,{KS:()=>y,qS:()=>P});var t=e(6400),u=e(30396);const s=(0,t.createContext)({registerVideo:()=>{},unregisterVideo:()=>{},updatePaywallState:()=>{}}),g=()=>(0,u.qp)(s),P=({children:O})=>{const[c,f]=(0,u.eJ)(0),d=(0,u.sO)([]),T=(0,u.sO)(new Map);(0,u.d4)(()=>{const l=new IntersectionObserver(a=>{a.forEach(v=>{const w=v.target;if(!v.isIntersecting){w.pause();return}T.current.get(w)||w.play()})},{threshold:1});return d.current.forEach(a=>{var v;(v=a.current)!=null&&v.player&&l.observe(a.current.player)}),()=>{d.current.forEach(a=>{var v;(v=a.current)!=null&&v.player&&l.unobserve(a.current.player)})}},[c]);const D=(0,u.I4)(l=>{l&&!d.current.includes(l)&&(d.current.push(l),f(a=>a+1))},[]),I=(0,u.I4)(l=>{d.current=d.current.filter(a=>a!==l),f(a=>a+1)},[]),p=(0,u.I4)(({videoPlayerRef:l,showPaywall:a})=>{var v;(v=l.current)!=null&&v.player&&T.current.set(l.current.player,a)},[]);return(0,t.h)(s.Provider,{value:{registerVideo:D,unregisterVideo:I,updatePaywallState:p}},O)},y=({disable:O,showPaywall:c,videoPlayerRef:f})=>{const{registerVideo:d,unregisterVideo:T,updatePaywallState:D}=g();(0,u.d4)(()=>{if(f.current&&!O)return d(f),()=>{T(f)}},[O,d,T,f]),(0,u.d4)(()=>{D({showPaywall:c,videoPlayerRef:f})},[c,D,f])}},16742:(H,E,e)=>{"use strict";e.d(E,{K:()=>ne,y:()=>V});var t=e(6400),u=e(30396),s=e(81108),g=e(74655),P=e(36250),y=e(70444),O=e(20501),c=e(31517),f=e(1706),d=e(28488),T=e(67963),D=e(8479),I=e(17025),p=e.n(I),l=e(84040),a=e(51126),v=e(43028),w=e(62246),M=e(43887),C=e(75425),L=e(91870),S=e(10174),N=Object.defineProperty,R=Object.defineProperties,U=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,Q=(ie,ue,he)=>ue in ie?N(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:he}):ie[ue]=he,K=(ie,ue)=>{for(var he in ue||(ue={}))$.call(ue,he)&&Q(ie,he,ue[he]);if(F)for(var he of F(ue))G.call(ue,he)&&Q(ie,he,ue[he]);return ie},W=(ie,ue)=>R(ie,U(ue)),Y=(ie,ue,he)=>new Promise((Z,J)=>{var ae=ee=>{try{oe(he.next(ee))}catch(z){J(z)}},le=ee=>{try{oe(he.throw(ee))}catch(z){J(z)}},oe=ee=>ee.done?Z(ee.value):Promise.resolve(ee.value).then(ae,le);oe((he=he.apply(ie,ue)).next())});function ne({pub:ie,post:ue,comment:he,feedItem:Z,onRestack:J,tabId:ae}){var le,oe;const ee=(0,T.aF)(),z=(0,C.pm)(),re=!!ee,se=!!((le=he||ue)!=null&&le.restacked),fe=((oe=he||ue)==null?void 0:oe.restacks)||0,Ee=(0,L.I0)(),ge=(0,S.i3)(),be=(0,D.ib)({pathname:"/api/v1/restack/feed"}),{iString:me}=(0,d.M1)(),{nuxModal:pe,showRestackNux:Le}=V(he&&!he.post_id?"note":he?"comment":"post"),je=()=>Y(this,null,function*(){const Me=yield be.refetch({method:"POST",json:{postId:he?null:ue==null?void 0:ue.id,commentId:(he==null?void 0:he.id)||null,tabId:ae}});if(Me instanceof Error){alert((0,I.getNetworkErrorMessage)(Me));return}z.popToast(We=>(0,t.h)(C.FN,W(K({},We),{text:Me.comment?me("Note restacked"):me("Post restacked"),Icon:c.Z,cta:me("View"),href:(0,y.E2)()}))),Me.comment?Ee({type:"comment_restack",payload:{commentId:Me.comment.id,isRestacked:!0}}):Ee({type:"post_restack",payload:{postId:Me.post.id,isRestacked:!0}}),Le(),J==null||J(!0)}),xe=()=>Y(this,null,function*(){const Me=yield be.refetch({method:"DELETE",json:{postId:he?null:ue==null?void 0:ue.id,commentId:(he==null?void 0:he.id)||null,tabId:ae}});if(Me instanceof Error){alert((0,I.getNetworkErrorMessage)(Me));return}z.popToast(We=>(0,t.h)(C.FN,W(K({},We),{text:me("Restack undone"),Icon:s.Z}))),he?Ee({type:"comment_restack",payload:{commentId:he.id,isRestacked:!1}}):ue&&Ee({type:"post_restack",payload:{postId:ue.id,isRestacked:!1}}),J==null||J(!1)}),ye=Me=>Y(this,null,function*(){Me.preventDefault();try{yield ge.open({feedItem:Z,restackUrl:he?(0,P.aE)(ue,he,ie):(0,O.getPostUrl)(ie,ue),tabId:ae}),Le()}catch(We){}});return{canRestack:re,isRestacked:se,restacks:fe,nuxModal:pe,menuItems:[se?(0,t.h)(v.sN,{icon:(0,t.h)(s.Z,null),onClick:xe},me("Undo restack")):(0,t.h)(v.sN,{icon:(0,t.h)(c.Z,null),onClick:je},me("Restack")),(0,t.h)(v.sN,{icon:(0,t.h)(f.Z,null),onClick:ye},me("Restack with a note"))]}}function V(ie){const ue=j({entityType:ie}),he=(0,D.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),Z=()=>Y(this,null,function*(){var J;const ae=(J=he.result)!=null?J:yield he.refetch();!(ae instanceof Error)&&(ae==null?void 0:ae.hasRestacked)===!1&&(ue.open(),he.setResult({hasRestacked:!0}))});return{nuxModal:ue.element,showRestackNux:Z}}function j({entityType:ie}){const[ue,he]=(0,u.eJ)(!1),Z=()=>{he(!1)};return{open:()=>{he(!0)},element:(0,t.h)(w.u_,{isOpen:ue,onClose:Z},(0,t.h)(te,{onClose:Z,entityType:ie}))}}function te({onClose:ie,entityType:ue}){const{iString:he}=(0,d.M1)();return(0,t.h)(a.tu,{paddingX:16},(0,t.h)(a.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,t.h)(g.Z,{size:40,stroke:"var(--color-primary)"})),(0,t.h)(a.tu,{gap:12},(0,t.h)(M.xv.H3,{align:"center"},ue==="comment"&&he("You restacked a comment"),ue==="note"&&he("You restacked a note"),ue==="post"&&he("You restacked a post")),(0,t.h)(M.xv.B3,{color:"secondary",align:"center"},ue==="comment"&&he("Restack comments that inspire you to share them with more people."),ue==="note"&&he("Restack notes that inspire you to share them with more people."),ue==="post"&&he("Restack posts that inspire you to share them with more people.")," ",he("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,t.h)(a.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,t.h)(l.zx,{rounded:!0,href:(0,y.E2)()},he("View now")),(0,t.h)(l.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:ie},he("OK"))))}},70762:(H,E,e)=>{"use strict";e.d(E,{K:()=>S,_:()=>L});var t=e(6400),u=e(30396),s=e(58718),g=e(72496),P=e(86418),y=e(20501),O=e(67963),c=e(8479),f=e(75425),d=e(72307),T=Object.defineProperty,D=Object.defineProperties,I=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,v=(G,Q,K)=>Q in G?T(G,Q,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[Q]=K,w=(G,Q)=>{for(var K in Q||(Q={}))l.call(Q,K)&&v(G,K,Q[K]);if(p)for(var K of p(Q))a.call(Q,K)&&v(G,K,Q[K]);return G},M=(G,Q)=>D(G,I(Q)),C=(G,Q,K)=>new Promise((W,Y)=>{var ne=te=>{try{j(K.next(te))}catch(ie){Y(ie)}},V=te=>{try{j(K.throw(te))}catch(ie){Y(ie)}},j=te=>te.done?W(te.value):Promise.resolve(te.value).then(ne,V);j((K=K.apply(G,Q)).next())});function L({publicationId:G,publication:Q,publicationName:K,user:W,allowSecondaryPublications:Y=!0,subscriptionSource:ne,sourceNoteId:V}){var j,te,ie;G=(ie=(j=Q==null?void 0:Q.id)!=null?j:G)!=null?ie:(te=W==null?void 0:W.primary_publication)==null?void 0:te.id;const ue=(0,O.aF)(),he=(0,f.pm)(),Z=(0,s.oJ)(),J=(0,d.Th)(),[ae,le]=(0,u.eJ)(!1),oe=!!G&&R(ue,G,J)||N(ue,W,J,{allowSecondaryPublications:Y}),[ee,z]=(0,u.eJ)(null),re=J.isLoading||!!ee,se=ge=>C(this,null,function*(){var be;if(ge&&(ge.preventDefault(),ge.stopPropagation()),re||oe)return;z("subscribing");const me=yield F(G,ne,{publication:Q,user:ue,sourceNoteId:V}),pe=`Subscribed to ${G?(be=K!=null?K:Q==null?void 0:Q.name)!=null?be:"publication":W?W.name:"profile"}`;if(me.didAction){if(le(!0),he.popToast(Le=>(0,t.h)(f.FN,M(w({},Le),{text:pe}))),ue)try{yield J.refetch()}catch(Le){console.error("Failed to reload subscriptions:",Le)}W&&Z((Le=[])=>Le.includes(W.id)?Le:[W.id,...Le],{revalidate:!1})}else me.errorMessage&&he.popToast(Le=>{var je;return(0,t.h)(f.FN,M(w({},Le),{text:(je=me.errorMessage)!=null?je:""}))});z(null)}),fe=ge=>C(this,null,function*(){var be;if(ge&&(ge.preventDefault(),ge.stopPropagation()),re||!oe)return;z("unsubscribing");const me=yield $(G,ne),pe=`Unsubscribed from ${G?(be=K!=null?K:Q==null?void 0:Q.name)!=null?be:"publication":W?W.name:"profile"}`;if(me.didAction){if(le(!1),he.popToast(Le=>(0,t.h)(f.FN,M(w({},Le),{text:pe}))),ue)try{yield J.refetch()}catch(Le){console.error("Failed to reload subscriptions:",Le)}}else me.errorMessage&&he.popToast(Le=>{var je;return(0,t.h)(f.FN,M(w({},Le),{text:(je=me.errorMessage)!=null?je:""}))});z(null)}),Ee=oe&&!ee||ee==="subscribing";return{showCta:!!G&&(!ue||J.hasLoadedOnce)&&!(ue&&ue.id===(W==null?void 0:W.id))&&(!oe||ae||ee==="unsubscribing"),isSubscribed:Ee,hasPublication:!!G,subscribe:se,unsubscribe:fe,toggle:Ee?fe:se}}function S(G){var Q;const K=(0,d.Th)(),W=(0,O.aF)();if((W==null?void 0:W.id)===G)return"subscribed";const{result:Y}=K;if(!Y)return null;const{subscriptions:ne,publicationUsers:V}=Y;for(const te of V)if(["admin","contributor"].includes(te.role)&&U(G,te.publication_id,K))return"subscribed";let j=null;for(const te of ne)U(G,te.publication_id,K)&&(j=(Q=(0,P.P)(te.membership_state,j)?te.membership_state:j)!=null?Q:null);return j}function N(G,Q,K,{allowSecondaryPublications:W}={}){if(!G||!Q||!K.hasLoadedOnce||!K.result)return!1;const{subscriptions:Y,publicationUsers:ne}=K.result;if(W){for(const V of Y)if(V.membership_state!=="unsubscribed"&&U(Q.id,V.publication_id,K))return!0;for(const V of ne)if(["admin","contributor"].includes(V.role)&&U(Q.id,V.publication_id,K))return!0}return!1}function R(G,Q,K){if(!G||!Q||!K.hasLoadedOnce||!K.result)return!1;const W=K.result.subscriptionMap.get(Q);if(W&&W.membership_state!=="unsubscribed")return!0;const Y=K.result.publicationUserMap.get(Q);return!!(Y&&["admin","contributor"].includes(Y.role))}function U(G,Q,K){if(K.isLoading||!K.result)return!1;const W=K.result.publicationMap.get(Q);if(W){if(W.author_id===G)return!0;for(const Y of W.contributors)if(Y.user_id===G)return!0}return!1}function F(G,Q){return C(this,arguments,function*(K,W,{publication:Y,user:ne,sourceNoteId:V}={}){let j=!1,te;if(ne)try{(yield(0,c.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:K,email:ne.email,source:W,noWelcomeEmail:!0,sourceNoteId:V,first_url:g.xY,first_referrer:g.ip,current_url:g.UE,current_referrer:g.xU}})).requires_confirmation?te="Check your email to confirm subscription":j=!0}catch(ie){console.error(ie),te="Failed to subscribe"}else if(!ne){if(!Y)try{Y=yield(0,c.rd)(`/api/v1/reader/publication/${K}`)}catch(ie){console.error(ie)}if(Y){const ie=(0,y.getSubscribeUrl)(Y,{addBase:!0,user:ne!=null?ne:void 0});window.open(ie,"_blank")}}return{didAction:j,errorMessage:te}})}function $(G,Q){return C(this,null,function*(){let K=!1,W;try{yield(0,c.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:G,email_disabled:!0,digest_enabled:!1,disable_all:!0,receive_podcast_emails:!1,source:Q}}),K=!0}catch(Y){console.error(Y),W="Failed to unsubscribe"}return{didAction:K,errorMessage:W}})}},57397:(H,E,e)=>{"use strict";e.d(E,{dD:()=>O,bq:()=>c});var t=e(6400),u=e(20501),s=e(83322);const g=({x:a,y:v,fill:w="#000"})=>h("g",{xmlns:"http://www.w3.org/2000/svg",transform:`translate(${a},${v})`,width:"16",height:"20",fill:"none"},h("path",{fill:w,"fill-opacity":".2","fill-rule":"evenodd",d:"M0 .552C0 .247.247 0 .552 0h14.896c.305 0 .552.247.552.552v1.596H0V.552Zm0 3.745h16v2.148H0V4.297Zm0 4.297V18.95c0 .444.498.706.864.455l6.823-4.692a.552.552 0 0 1 .626 0l6.823 4.692A.552.552 0 0 0 16 18.95V8.594H0Z","clip-rule":"evenodd"})),P=({color:a,width:v,height:w})=>h("svg",{version:"1.1",width:v,height:w,viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("g",{xmlns:"http://www.w3.org/2000/svg",opacity:"0.5"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 0 0 h 21 v 2.5781 h -21 v -2.5781 z m 0 5.1562 h 21 v 2.5782 h -21 v -2.5782 z m 0 5.1563 v 13.6875 l 10.5 -7.25 l 10.5 7.25 v -13.6875 h -21 z",fill:a}))),y=null;var O=(a=>(a.ARR10K="arr10k",a.ARR1K="arr1k",a))(O||{}),c=(a=>(a.List1K="list1k",a.List100="list100",a))(c||{});const f="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",d="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",T=24,D=({width:a,height:v,otherCss:w})=>`
  @import url('${f}');
  @import url('${d}');
  body { 
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 14px;
    line-height: 20px;
    font-weight: 700;
    color: rgba(51, 51, 51, 1);
    margin: 0;
  }
  .container {
    width: ${a-T*2}px;
    height: ${v-T*2}px;
    padding: ${T}px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: absolute;
    top: 0;
    overflow: hidden;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .copy {
    width: 300px;
  }
  h1 {
    font-weight: 800; 
    font-size: 30px;
    line-height: 36px;
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    color: rgba(51, 51, 51, 1);
  }
  p {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-weight: 400;
  }
  .content {
    width: ${a-T*2};
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .footer {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
  }
  .pub-url {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 9px;
    font-weight: 590;
    line-height: 11px;
    letter-spacing: 0.2px;
    text-align: left;
    opacity: 0.5;
    text-transform: uppercase;
  }
  ${w}
    `,I=({css:a})=>h("head",null,h("style",null,a.replace(/\n|\r/g,""))),p=({milestone:a,height:v,width:w,pub:M})=>{const C=getByLine(M);let L,S,N;switch(a){case"arr1k":L="1,000",S=`${getBaseUrl()}/img/milestone_assets/pencil-uprising.png`,N=`
  .content {
    margin-top: ${v===w?"6px":"126px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/arr-1k-${v===w?"square":"stories"}-bg.png);
  }
  h1 {
    width: 278px;
  }
  p {
    width: 278px;
  }
  img {
    width: 149px;
  }
`;break;case"arr10k":L="10,000",S=v===w&&`${getBaseUrl()}/img/milestone_assets/friends.png`,N=`
  .content {
    margin-top: ${v===w?"-6px":"301px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/arr-10k-${v===w?"square":"stories"}-bg.png);
  }
  h1 {
    width: 297px;
  }
  ${v===w?`p {
    width: 278px;
  }`:""}
  img {
    width: 180px;
  }
`;break}const R=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-top: ${v===w?"16px":"0"};
    margin-bottom: 0;
  }
  p {
    ${v===w?`font-size: 18px;
    line-height: 24px;
    letter-spacing: -0.45px;`:`font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;`}
    margin-top: ${v===w?"16px":"24px"};
    margin-bottom: 0;
  }
  ${v===w?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${N}
  `,U=D({width:w,height:v,otherCss:R}),F=getBaseUrl(M).split("/").slice(-1)[0];return h("html",null,h(I,{css:U}),h("body",null,h("div",{className:"container"},h("div",{className:"content"},S?h("img",{src:S}):null,h("div",{className:"copy"},h("h1",null,"You made your first $",L),h("p",null,w===v?"":"Thanks to direct support from readers, ",M.name,C?` by ${C}`:""," has made its first $",L," in annual subscription revenue."))),h("div",{className:"footer"},h("span",{className:"pub-url"},F),h(SubstackLogoSvg,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))},l=({milestone:a,height:v,width:w,pub:M})=>{const C=getByLine(M);let L,S,N,R;switch(a){case"list100":L="100",S="hundred",R=`
  .copy {
    margin-top: ${v===w?"151px":"298px"};
  }
  h1 {
    margin-top: 0;
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/subs-100-${v===w?"square":"stories"}-bg.png);
  }
`;break;case"list1k":L="1,000",S="thousand",N=`${getBaseUrl()}/img/milestone_assets/chairs.png`,R=`
  .content {
    margin-top: ${v===w?"38px":"151px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/subs-1k-${v===w?"square":"stories"}-bg.png);
  }
  h1 {
    margin-top: ${v===w?"16px":"24px"};
  }
  img {
    width: ${v===w?"128px":"165px"};
  }
`;break}const U=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-bottom: 0;
  }
  p {
    margin-top: ${v===w?"16px":"24px"};
    margin-bottom: 0;
    font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;
  }
  ${v===w?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${R}
  `,F=D({width:w,height:v,otherCss:U}),$=getBaseUrl(M).split("/").slice(-1)[0];return h("html",null,h(I,{css:F}),h("body",null,h("div",{className:"container"},h("div",{className:"content"},N?h("img",{className:"chairs",src:N}):null,h("div",{className:"copy"},h("h1",null,L," subscribers"),h("p",null,"You did it. ",M.name,C?` by ${C}`:""," has reached its first ",S," subscribers."))),h("div",{className:"footer"},h("span",{className:"pub-url"},$),h(SubstackLogoSvg,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))}},79675:(H,E,e)=>{"use strict";e.d(E,{L:()=>D});var t=e(6400),u=e(30396),s=e(25346),g=e(28488),P=e(13045),y=e(21288),O=e(26494),c=e(1622),f=e(6385),d=e(83322);const T={"preview-label-container":"frontend-shows-NotesVideoPlayer-module__preview-label-container--QHrI8"},D=({disableAutoPlay:I=!1,isFreeSubscribed:p,isSubscribed:l,mediaUpload:a,post:v,pub:w,rounded:M,startMuted:C})=>{var L,S;const{iString:N}=(0,g.M1)(),[R,U]=(0,u.eJ)(!1),F=(0,u.sO)(null),$=(0,f.isPaidAudience)(v.audience)&&!l,G=((L=a.preview_duration)!=null?L:0)>0,Q=$&&(!G||R);(0,y.KS)({videoPlayerRef:F,showPaywall:Q,disable:I});const K=()=>{var W;(W=F.current)!=null&&W.player&&(U(!1),F.current.player.currentTime=0,F.current.player.play())};return(0,t.h)(P.xu,{overflow:"hidden",position:"relative",radius:M?6:void 0,onClick:W=>{W.stopPropagation(),W.preventDefault()}},(0,t.h)(s.Z,{ref:F,doNotResetOnEnd:!0,hidePlayButton:Q,mediaUpload:a,noControls:Q&&!$,post:v,pub:w,startMuted:C,onFinishVideo:()=>{U(!0)}}),G&&!Q&&!l&&(0,t.h)("div",{className:T["preview-label-container"]},(0,t.h)(c.l,null,N("Preview")," \u2022 ",(0,d.secondsToHHMMSS)((S=a.preview_duration)!=null?S:0))),Q&&(0,t.h)(O.Y,{post:v,pub:w,isFreeSubscribed:p,variant:"video",onRestart:G?K:void 0}))}},67256:(H,E,e)=>{"use strict";e.d(E,{Fb:()=>N,lU:()=>S});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(68919),y=e(28488),O=e(3313),c=e(25018),f=e(13045),d=e(3198),T=e(72921),D=e(41785),I=e(26494),p=e(1622),l=e(80134),a=e(42208),v=e(74806),w=e(6385),M=e(31163),C=e(88711),L=e(57556);const S=({isFreeSubscribed:$,isSubscribed:G,isTesting:Q,post:K,pub:W,section:Y,variant:ne})=>{const[V,j]=(0,u.eJ)(!1),te=(0,u.sO)(null),ie=!G&&(0,w.isPaidAudience)(K.audience);if(!K.podcastUpload)return null;const ue=(0,O.lp)({post:K}),he=K.podcastUpload.is_free_preview||(0,v.hasFreePodcastUrl)({post:K}),Z=!ue&&ie&&(V||!he&&ne!=="notes-embed")&&!(0,v.hasFreePodcastUrl)({post:K}),J=()=>{var ae;(ae=te.current)!=null&&ae.player&&(j(!1),te.current.player.currentTime=0,te.current.player.play())};return(0,t.h)(t.Fragment,null,(0,t.h)(F,{audioFileUrl:K.podcast_url,audioPlayerRef:te,metricsPost:K,hidePreviewUI:ue,paywallComponent:Z?(0,t.h)(I.Y,{inlineIcon:ne==="notes-embed",isFreeSubscribed:$,post:K,pub:W,variant:"audio",onRestart:he?J:void 0}):void 0,podcastDuration:K.podcast_duration,podcastUpload:K.podcastUpload,post:K,postId:K.id,postTitle:K.title,pub:W,section:Y,showPaidLabel:ie&&!he,variant:ne,onFinishAudio:()=>{j(!0)}}),Q&&(0,t.h)("button",{onClick:()=>{j(!0)}},"finish audio"))},N=({audioPlayerRef:$,hasPaywall:G,feedUrl:Q,isPrivateFeed:K,isServingFreePodcastUrl:W,post:Y,pub:ne,section:V,ufiComponent:j,user:te})=>{const[ie,ue]=(0,u.eJ)(!1);if(!Y.podcastUpload)return null;const he=(0,O.lp)({post:Y}),Z=Y.podcastUpload.is_free_preview||(0,v.hasFreePodcastUrl)({post:Y}),J=!he&&G&&(!Z||ie)&&!(0,v.hasFreePodcastUrl)({post:Y}),ae=()=>{var le;(le=$.current)!=null&&le.player&&(ue(!1),$.current.player.currentTime=0,$.current.player.play())};return(0,t.h)(F,{audioFileUrl:Y.podcast_url,audioPlayerRef:$,feedUrl:Q,hidePreviewUI:he,isPrivateFeed:K,isServingFreePodcastUrl:W,metricsPost:Y,paywallComponent:J?(0,t.h)(I.Y,{isFreeSubscribed:!!(te!=null&&te.is_free_subscribed),post:Y,pub:ne,variant:"audio",onRestart:Z?ae:void 0}):void 0,podcastDuration:Y.podcast_duration,podcastUpload:Y.podcastUpload,post:Y,postId:Y.id,postTitle:Y.title,pub:ne,section:V,ufiComponent:j,user:te,variant:"episode-page",onFinishAudio:()=>{ue(!0)}})},R=({audioFileUrl:$,hasFreePodcastUrlSet:G,postTitle:Q,podcastDuration:K,podcastPreviewUpload:W,podcastUpload:Y,pub:ne,section:V,editComponent:j})=>h(F,{audioFileUrl:$,hasFreePodcastUrlSet:G,metricsPost:null,hidePreviewUI:!1,postId:null,postTitle:Q,podcastDuration:K,podcastPreviewUpload:W,podcastUpload:Y,post:null,pub:ne,section:V,variant:"editor",editComponent:j}),U={"episode-page":400,editor:320,"notes-embed":160,"notes-full":250},F=({audioFileUrl:$,audioPlayerRef:G,feedUrl:Q,hasFreePodcastUrlSet:K,hidePreviewUI:W,hideUfi:Y,isPrivateFeed:ne,isServingFreePodcastUrl:V,metricsPost:j,postId:te,postTitle:ie,podcastDuration:ue,pub:he,podcastUpload:Z,section:J,showPaidLabel:ae,podcastPreviewUpload:le,post:oe,ufiComponent:ee,editComponent:z,paywallComponent:re,variant:se,user:fe,onFinishAudio:Ee})=>{var ge,be;const{isMobile:me}=(0,c.v9)(),{iString:pe}=(0,y.M1)(),Le=J?(ge=J.podcastPalette)!=null?ge:null:(be=he.podcastPalette)!=null?be:null,{title:je,backgroundUrl:xe,artUrl:ye}=(0,a.Mv)({pub:he,podcastUpload:Z,section:J,thumbnailInfo:Z!=null&&Z.full_podcast_info&&te?{post_id:te,media_upload_id:Z.full_podcast_info.media_upload_id,thumbnail_id:Z.full_podcast_info.thumbnail_id}:null}),Me=U[se],We=me||se==="notes-embed",De=!!re,Ge=ye===xe,pt=!!z,wt=(Z==null?void 0:Z.is_free_preview)||le;return(0,t.h)(P.Z,{ref:G,duration:ue,metricsPost:j,src:$,preventSnappingToCurrentTime:!0,pub:he,updateOnEveryFrame:ue<5*60,onFinishAudio:Ee,render:({currentTime:Ht,dragTime:nt,isPlaying:Ze,playbackRate:st,progress:Ie,progressBarRef:Pe,progressBarOnMouseDown:Ce,remainingTime:Be,setPlaybackRate:Ve,skipBack:$e,skipForward:Qe,togglePlayback:ze})=>{var Ke;return(0,t.h)(f.xu,{position:"relative",style:{minHeight:me?Math.min(200,Me):Me}},(0,t.h)(C.z,{backgroundUrl:xe,blurAmount:se==="notes-embed"?40:120,isBlurred:Ge,palette:Le}),(0,t.h)(f.tu,{position:"absolute",inset:0,justifyContent:We?"space-between":void 0},(0,t.h)(f.gq,{alignItems:"stretch",flex:We?void 0:"grow",justifyContent:"space-between"},(!We||!De)&&(0,t.h)(f.xu,{padding:We||se==="notes-full"?16:24,paddingBottom:se==="notes-embed"?0:void 0,overflow:"hidden"},(0,t.h)(d.o,{isDisabled:De,pub:he,section:J,post:oe,postTitle:ie,showUpgradeButton:V,showTitle:je,user:fe,variant:se==="notes-embed"?"notes-embed":me||se==="notes-full"?"mini":"regular"})),!We&&!De&&!Y&&ee&&(0,t.h)(f.gq,{alignItems:"center",paddingX:24},ee),z!=null?z:null),!De&&se!=="notes-embed"&&(0,t.h)(f.tu,{paddingX:16,position:We?void 0:"absolute",className:g()({[L.Z.controlsCentered]:!We})},(0,t.h)(D.n,{audioFileUrl:$,feedUrl:Q,isPlaying:Ze,isPrivateFeed:!!ne,playbackRate:st,sectionId:J?J.id:null,user:fe,onChangePlaybackRate:Ve,onSkipBack:$e,onSkipForward:Qe,onTogglePlayback:ze})),(!We||!De)&&(0,t.h)(f.gq,{className:g()(L.Z.track),alignItems:"center",gap:16,opacity:De?20:void 0,padding:We||se==="notes-full"?16:24,paddingTop:se==="notes-embed"?8:void 0,pointerEvents:De?"none":void 0,onClick:lt=>{ae||(lt.stopPropagation(),lt.preventDefault())}},wt&&pt&&le&&(0,t.h)(p.l,null,(0,M.DL)((Ke=le.duration)!=null?Ke:0)),wt&&!W&&!pt&&(0,t.h)(p.l,null,pe("Preview")),ae&&(0,t.h)(p.l,null,pe("Paid")),K&&(0,t.h)(p.l,null,pe("Free url set")),(0,t.h)(l.w,{containerRef:Pe,currentTime:Ht,dragTime:nt,hideStartingTimestamp:me,progress:Ie,remainingTime:Be,onMouseDown:Ce}),se==="notes-embed"&&(0,t.h)(T.D,{isPlaying:Ze,size:42,onTogglePlayback:ze}))),re)}})}},41785:(H,E,e)=>{"use strict";e.d(E,{n:()=>Y});var t=e(6400),u=e(97737),s=e(14846),g=e(25018),P=e(13045),y=e(72921),O=e(30396),c=e(80587),f=e(71212),d=e(51043),T=e(45609),D=e(67358),I=e(80569),p=e.n(I),l=e(86575),a=e(28488),v=e(3258),w=e(39776),M=e(17025),C=e(70925),L=e(18302),S=e(42208),N=e(52743);const R={icon:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__icon--M7qmF",popoverContainer:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__popoverContainer--GlAZR",popoverLayer:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__popoverLayer--zYMWv",dropdownItem:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__dropdownItem--J_h5G"};var U=(ne,V,j)=>new Promise((te,ie)=>{var ue=J=>{try{Z(j.next(J))}catch(ae){ie(ae)}},he=J=>{try{Z(j.throw(J))}catch(ae){ie(ae)}},Z=J=>J.done?te(J.value):Promise.resolve(J.value).then(ue,he);Z((j=j.apply(ne,V)).next())});const F=({audioFileUrl:ne,feedUrl:V,isPrivateFeed:j,sectionId:te,user:ie})=>(0,t.h)(C.J,{className:R.popoverContainer,layerClassName:R.popoverLayer,content:(0,t.h)($,{audioFileUrl:ne,feedUrl:V,isPrivateFeed:j,sectionId:te,user:ie}),preferPlacement:"bottom-start"},(0,t.h)(c.Z,{className:R.icon,size:24})),$=({audioFileUrl:ne,feedUrl:V,isPrivateFeed:j,sectionId:te,user:ie})=>{const{iString:ue}=(0,a.M1)(),[he,Z]=(0,O.eJ)(!1),[J,ae]=(0,O.eJ)(null),le=(0,w.default)(L.mj),oe=()=>U(void 0,null,function*(){try{(0,v.track)(v.EVENTS.PODCAST_EMAIL_LINK_CLICKED),yield p().post("/api/v1/subscription/send_podcast_email").send({section_id:te}),(0,l.ZP)(ue("Email sent")),Z(!0)}catch(z){ae(z)}}),ee=()=>{(0,v.track)(v.EVENTS.PODCAST_FEED_URL_COPIED),(0,M.copyToClipboard)(V),(0,l.ZP)(ue("RSS feed copied"))};return(0,t.h)(P.xu,{style:{maxWidth:285}},(0,t.h)(P.tu,{gap:4},ne&&!le&&(0,t.h)(G,{icon:(0,t.h)(f.Z,{size:16}),onClick:()=>{(0,M.downloadSrc)((0,N.updateQuery)(ne,{download:!0}))}},ue("Download MP3")),V&&(0,t.h)(G,{icon:(0,t.h)(d.Z,{size:16}),onClick:ee},ue(j?"Your private RSS feed":"RSS feed"))),ie&&V&&(0,t.h)(t.Fragment,null,(0,t.h)(P.iz,{paddingY:8,priority:"detail-themed"}),(0,t.h)(P.tu,{gap:12,padding:8},(0,t.h)(P.xv.B4,{color:"pub-primary-text"},ue("Copy your RSS link and paste it in your podcast app.")," ",(0,t.h)(Q,null)),(0,t.h)(P.gq,{gap:8},(0,t.h)(P.zx,{fill:"outline",leftIcon:(0,t.h)(T.Z,{size:16}),priority:"secondary-theme",onClick:ee},ue("Copy link")),(0,t.h)(P.zx,{disabled:he,fill:"outline",leftIcon:(0,t.h)(D.Z,{size:16}),priority:"secondary-theme",onClick:oe},ue("Email link"))),J&&(0,t.h)(P.xv.B4,{color:"error"},(0,M.getNetworkErrorMessage)(J)))))},G=({children:ne,icon:V,onClick:j})=>(0,t.h)(P.gq,{className:R.dropdownItem,alignItems:"center",color:"pub-primary-text",gap:12,padding:12,radius:6,onClick:j},V,(0,t.h)(P.xv.B4,{color:"pub-primary-text"},ne)),Q=()=>{const{iString:ne}=(0,a.M1)();return(0,t.h)(P.xv.B4,{as:"a",href:S.ty,target:"_blank",rel:"noopener",color:"pub-accent"},ne("Learn about RSS."))},K={"skip-button":"frontend-shows-ShowsAudioPlayerControls-module__skip-button--r2btg","skip-icon":"frontend-shows-ShowsAudioPlayerControls-module__skip-icon--dNKKv",playbackRate:"frontend-shows-ShowsAudioPlayerControls-module__playbackRate--_YZ0U"},W=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],Y=({audioFileUrl:ne,feedUrl:V,isPlaying:j,isPrivateFeed:te,playbackRate:ie,sectionId:ue,user:he,onChangePlaybackRate:Z,onSkipBack:J,onSkipForward:ae,onTogglePlayback:le})=>{const{isMobile:oe}=(0,g.v9)(),ee=oe?28:32,z=W.findIndex(({value:re})=>re===ie);return(0,t.h)(P.gq,{gap:20,alignItems:"center",justifyContent:"space-between"},(0,t.h)(P.gq,{style:{width:60},justifyContent:"center",onClick:()=>{const re=(z+1)%W.length;Z(W[re].value)}},(0,t.h)(P.xv,{className:K.playbackRate,color:"always-white",font:"text",fontSize:18,fontWeight:"medium"},W[z].display,"\xD7")),(0,t.h)(P.gq,{gap:oe?20:32,alignItems:"center"},J&&(0,t.h)("div",{onClick:J,role:"button",className:K["skip-button"]},(0,t.h)(u.Z,{className:K["skip-icon"],height:ee})),(0,t.h)(y.D,{size:oe?56:80,isPlaying:j,onTogglePlayback:le}),ae&&(0,t.h)("div",{onClick:ae,role:"button",className:K["skip-button"]},(0,t.h)(s.Z,{className:K["skip-icon"],height:ee}))),(0,t.h)(P.gq,{style:{width:60},justifyContent:"center",alignItems:"center"},(0,t.h)(F,{audioFileUrl:ne,feedUrl:V,isPrivateFeed:te,sectionId:ue,user:he})))}},19541:(H,E,e)=>{"use strict";e.d(E,{p:()=>f});var t=e(6400),u=e(94184),s=e.n(u),g=e(39493),P=e(13045),y=e(42208),O=e(6385);const c={"pub-logo":"frontend-shows-ShowsLogo-module__pub-logo--zPfoI","pub-logo--32":"frontend-shows-ShowsLogo-module__pub-logo--32--IDGlz","pub-logo--48":"frontend-shows-ShowsLogo-module__pub-logo--48--pzn1F","pub-logo--56":"frontend-shows-ShowsLogo-module__pub-logo--56--eB4_7","pub-logo--76":"frontend-shows-ShowsLogo-module__pub-logo--76--onTj6","pub-logo--border-white":"frontend-shows-ShowsLogo-module__pub-logo--border-white--M6zQh"},f=({border:d,isStatic:T,post:D,pub:I,section:p,size:l=48,url:a,user:v,useSection:w})=>{const{artUrl:M,paidArtUrl:C,url:L}=(0,y.Mv)({pub:I,section:p,useSection:w}),S=(0,O.shouldShowPaidPodcastArt)({post:D,user:v}),N=(0,P.yK)({shadow:"lg"});return(0,t.h)(g.Z,{className:s()(N,c["pub-logo"],{[c["pub-logo--32"]]:l===32,[c["pub-logo--48"]]:l===48,[c["pub-logo--56"]]:l===56,[c["pub-logo--76"]]:l===76,[c["pub-logo--border-white"]]:d==="white"}),href:a!=null?a:L,isStatic:T,pub:I,logo_url:S&&C!=null?C:M,noMargin:!0,size:l})}},26494:(H,E,e)=>{"use strict";e.d(E,{Y:()=>l});var t=e(6400),u=e(30396),s=e(94184),g=e.n(s),P=e(13639),y=e(25425),O=e(28488),c=e(3258),f=e(25018),d=e(13045),T=e(74806),D=e(52743),I=e(59009);const p={"container--audio":"frontend-shows-ShowsMediaPaywall-module__container--audio--C5WH2","container--video":"frontend-shows-ShowsMediaPaywall-module__container--video--DMiCz","container--animated":"frontend-shows-ShowsMediaPaywall-module__container--animated--KSvbo","container--animated-in":"frontend-shows-ShowsMediaPaywall-module__container--animated-in--bizfq","icon-container":"frontend-shows-ShowsMediaPaywall-module__icon-container--FO2D_","content-top":"frontend-shows-ShowsMediaPaywall-module__content-top--XWrzK","content-bottom":"frontend-shows-ShowsMediaPaywall-module__content-bottom--CjD4d",inlineIconContainer:"frontend-shows-ShowsMediaPaywall-module__inlineIconContainer--FfHru","restart-button":"frontend-shows-ShowsMediaPaywall-module__restart-button--m9bIg"},l=({inlineIcon:a,isFreeSubscribed:v,post:w,pub:M,variant:C,onRestart:L})=>{var S;const{iString:N,iTemplate:R}=(0,O.M1)(),{isMobile:U}=(0,f.v9)(),[F,$]=(0,u.eJ)(!1),G=!!L,Q=(S=(0,T.getFoundingTierName)(M))!=null?S:"Founding Member",K=w.audience==="founding"?R`${Q} episode`:N("Paid episode"),W=w.audience==="founding"?R`The full episode is only available to ${Q} subscribers`:R`The full episode is only available to paid subscribers of ${M.name}`,Y=N(C==="video"?"Subscribe to watch":"Subscribe to listen"),ne=N(C==="video"?"Upgrade to watch":"Upgrade to listen");return(0,u.d4)(()=>{(0,c.track)(c.EVENTS.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:w.id})},[w.id]),(0,u.d4)(()=>{G&&setTimeout(()=>{$(!0)},10)},[G]),(0,t.h)(d.gq,{className:g()(p.container,{[p["container--video"]]:C==="video",[p["container--audio"]]:C==="audio",[p["container--animated"]]:G,[p["container--animated-in"]]:F}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onClick:V=>{V.stopPropagation(),V.preventDefault()},"data-testid":"paywall"},(0,t.h)(d.tu,{alignItems:"center",gap:U?12:16,paddingX:24},(0,t.h)(d.tu,{alignItems:"center",className:p["content-top"],gap:U?12:16},!a&&(0,t.h)(d.gq,{className:p["icon-container"],alignItems:"center",color:"always-white",justifyContent:"center",radius:6},(0,t.h)(P.Z,{size:U?16:24})),(0,t.h)(d.tu,{alignItems:"center",gap:U?0:4},(0,t.h)(d.gq,{alignItems:"center",gap:8},a&&(0,t.h)(d.gq,{className:p.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:6},(0,t.h)(P.Z,{size:16})),(0,t.h)(d.xv.B3,{as:"h3",color:"always-white",weight:"semibold"},K)),(0,t.h)(d.xv.B4,{color:"always-white",opacity:80,textAlign:"center"},W))),(0,t.h)(d.gq,{className:p["content-bottom"],gap:16},L&&(0,t.h)(d.zx,{className:p["restart-button"],fill:"outline",onClick:()=>{(0,c.track)(c.EVENTS.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:w.id}),L()}},(0,t.h)(d.gq,{alignItems:"center",gap:12},(0,t.h)(y.Z,{size:16}),N("Restart"))),(0,t.h)(d.zx,{priority:"primary-theme",localNavigation:!1,href:(0,D.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:I.UTM_SOURCE.showsPaywall,utm_medium:I.UTM_MEDIUM.web,utm_content:w.id})},v?ne:Y))))}},1622:(H,E,e)=>{"use strict";e.d(E,{l:()=>g});var t=e(6400),u=e(13639),s=e(13045);const g=({children:P})=>(0,t.h)(s.gq,{alignItems:"center",bg:"glass-inverted-medium",color:"always-white",gap:8,paddingY:4,paddingX:8,radius:6,"data-testid":"audio-player-preview-label"},(0,t.h)(u.Z,{size:12}),(0,t.h)(s.xv.Meta,{color:"always-white"},P))},80134:(H,E,e)=>{"use strict";e.d(E,{w:()=>g});var t=e(6400),u=e(13045);const s={timestamp:"frontend-shows-ShowsProgressBar-module__timestamp--zfIYN","track-container":"frontend-shows-ShowsProgressBar-module__track-container--VvwNH",track:"frontend-shows-ShowsProgressBar-module__track--xj70O","track-played":"frontend-shows-ShowsProgressBar-module__track-played--y34h2","track-drag-time":"frontend-shows-ShowsProgressBar-module__track-drag-time--JHDBk","track-handle":"frontend-shows-ShowsProgressBar-module__track-handle--fK9DR"},g=({containerRef:P,currentTime:y,dragTime:O,hideStartingTimestamp:c,remainingTime:f,progress:d,onMouseDown:T})=>(0,t.h)(u.gq,{alignItems:"center",flex:"grow",gap:12},!c&&(0,t.h)(u.xv.Meta,{className:s.timestamp,color:"always-white"},y),(0,t.h)("div",{ref:P,className:s["track-container"],onMouseDown:T},(0,t.h)("div",{className:s.track}),(0,t.h)("div",{className:s["track-played"],style:{width:`${d*100}%`}}),O&&(0,t.h)(u.xv.Meta,{className:s["track-drag-time"],style:{left:`${d*100}%`}},O),(0,t.h)("div",{className:s["track-handle"],style:{left:`${d*100}%`}})),(0,t.h)(u.xv.Meta,{className:s.timestamp,color:"always-white"},f))},88711:(H,E,e)=>{"use strict";e.d(E,{z:()=>D});var t=e(6400),u=e(52032),s=e(13045),g=e(52743);const P={backgroundImage:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundImage--vzN4e",backgroundBlur:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundBlur--D2m4F",backgroundDarkenRight:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundDarkenRight--kd2vp"};var y=Object.defineProperty,O=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(p,l,a)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[l]=a,T=(p,l)=>{for(var a in l||(l={}))c.call(l,a)&&d(p,a,l[a]);if(O)for(var a of O(l))f.call(l,a)&&d(p,a,l[a]);return p};const D=({backgroundUrl:p,blurAmount:l,isBlurred:a,palette:v})=>(0,t.h)(t.Fragment,null,p&&(0,t.h)(I,{className:P.backgroundImage,style:p?{backgroundImage:`url(${(0,g.imginary)(p)})`}:void 0}),a&&(0,t.h)(I,{style:T({WebkitBackdropFilter:`blur(${l}px) brightness(0.85)`,backdropFilter:`blur(${l}px) brightness(0.85)`},(0,u.Z)({palette:v,withDefault:!1}))}),!a&&(0,t.h)(I,{className:P.backgroundDarkenRight})),I=(0,s.E7)({position:"absolute",inset:0,radius:12})},3198:(H,E,e)=>{"use strict";e.d(E,{o:()=>w});var t=e(6400),u=e(2564),s=e(28488),g=e(13045),P=e(19541),y=e(52743),O=e(59009);const c={header:"frontend-shows-audio_player-AudioPlayerHeader-module__header--GSsGB"};var f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(M,C,L)=>C in M?f(M,C,{enumerable:!0,configurable:!0,writable:!0,value:L}):M[C]=L,a=(M,C)=>{for(var L in C||(C={}))I.call(C,L)&&l(M,L,C[L]);if(D)for(var L of D(C))p.call(C,L)&&l(M,L,C[L]);return M},v=(M,C)=>d(M,T(C));const w=({isDisabled:M,post:C,postTitle:L,pub:S,section:N,showTitle:R,showUpgradeButton:U,user:F,variant:$})=>{const{iString:G}=(0,s.M1)();return(0,t.h)(g.gq,{className:c.header,alignItems:"center",alignSelf:"start",gap:$==="mini"?12:16,opacity:M?20:void 0,pointerEvents:M?"none":void 0},(0,t.h)(P.p,{post:C,pub:S,section:N,size:$==="mini"?32:76,user:F}),(0,t.h)(g.tu,{minWidth:0},$!=="mini"&&(0,t.h)(g.xv.Meta,{color:"always-white",ellipsis:!0,overflow:"hidden",opacity:$==="notes-embed"?50:80},R),(0,t.h)(g.xv.B3,v(a({color:"always-white",ellipsis:!0,overflow:"hidden",weight:"semibold"},$==="mini"?{size:14,lineHeight:20}:null),{style:{maxWidth:460}}),L),U&&$!=="mini"&&(0,t.h)(g.gq,{paddingTop:8},(0,t.h)(g.zx,{"data-testid":"free-podcast-url-cta",localNavigation:!1,href:(0,y.getCheckoutUrl)(S,{simple:!0,next:document.location.href,utm_source:O.UTM_SOURCE.showsAudioPlayerHeader,utm_medium:O.UTM_MEDIUM.web,utm_content:C==null?void 0:C.id}),size:"small"},G("Listen ad-free"))),$==="notes-embed"&&(0,t.h)(g.gq,{alignItems:"center",gap:4},(0,t.h)(g.xv.B4,{opacity:50,color:"always-white",translated:!0},"View post"),(0,t.h)(u.Z,{style:{opacity:.5,color:"#fff"},size:16}))))}},72921:(H,E,e)=>{"use strict";e.d(E,{D:()=>y});var t=e(6400),u=e(97864),s=e(13045);const g={playButton:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButton--iBWFV",playButtonIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButtonIcon--QwItT",pauseIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIcon--Sw4O_",pauseIconBar:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIconBar--iUfyi"},P={40:12,42:16,56:18,80:24},y=({isPlaying:O,isStatic:c,size:f,onTogglePlayback:d})=>{const T=P[f];return(0,t.h)(s.hs,{bg:"glass-thick",className:g.playButton,alignItems:"center",justifyContent:"center",onClick:d,style:{width:f,height:f},role:"button"},O?(0,t.h)("div",{className:g.pauseIcon,style:{width:T,height:T}},(0,t.h)("div",{className:g.pauseIconBar}),(0,t.h)("div",{className:g.pauseIconBar})):(0,t.h)(u.Z,{className:g.playButtonIcon,height:T,isStatic:c,fill:c?"#000":void 0,stroke:"none"}))}},8826:H=>{"use strict";H.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,t,u=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([t,u]),this}once(e,t){return this.on(e,t,!0)}off(e,t){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(u=>u[0]!==t))}emit(e,t){const u=this.callbacks[e];if(u){for(const[s,g]of u)if(g&&this.off(e,s),s(t)===!1)return!1;return!0}}}},63503:(H,E,e)=>{"use strict";e.d(E,{Z:()=>s});var t=e(30396);const s=(g,P)=>{const y=(0,t.sO)();(0,t.d4)(()=>{y.current=g},[g]),(0,t.d4)(()=>{function O(){y.current()}if(P!==null){const c=setInterval(O,P);return()=>clearInterval(c)}},[P])}},72496:(H,E,e)=>{"use strict";e.d(E,{UE:()=>f,ip:()=>c,xU:()=>d,xY:()=>O});var t=e(79546),u=e.n(t);const s="substack_ref_url",g="substack_ref";let P,y;typeof window!="undefined"&&window.location&&window.location.href&&(P=window.location.href,y=document.referrer,u().get(s)||(u().set(s,P),u().set(g,y)));const O=u().get(s),c=u().get(g),f=P,d=y},37888:(H,E,e)=>{"use strict";e.d(E,{j0:()=>j});var t=e(7436),u=e.n(t),s=e(62195),g=e.n(s),P=e(39627),y=e.n(P),O=e(8728),c=e.n(O),f=Object.defineProperty,d=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(ie,ue,he)=>ue in ie?f(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:he}):ie[ue]=he,a=(ie,ue)=>{for(var he in ue||(ue={}))I.call(ue,he)&&l(ie,he,ue[he]);if(D)for(var he of D(ue))p.call(ue,he)&&l(ie,he,ue[he]);return ie},v=(ie,ue)=>d(ie,T(ue));const w=g().createStore([y(),c()],[]),M=".buffer",C="ss-version-backups-local",L=32,S=4,N=null,R=ie=>{var ue,he,Z,J;return(he=(ue=window._preloads)==null?void 0:ue.pub)!=null&&he.id?(J=(Z=window._preloads)==null?void 0:Z.user)!=null&&J.id?F().filter(ae=>!(ae.publication_id!==window._preloads.pub.id||ae.user_id&&ae.user_id!==window._preloads.user.id||ae.post_id!==ie||ae.local_version_saved_at&&Date.now()-new Date(ae.local_version_saved_at)>N)):[]:[]},U=ie=>{if(!(ie!=null&&ie.post_id)||!(ie!=null&&ie.draft_updated_at)||!(ie!=null&&ie.draft_body))return;const ue=F();if(ue.filter(J=>J.post_id===ie.post_id).length>=S){const J=findLastIndex(ue,ae=>ae.post_id===ie.post_id);J>=0&&ue.splice(J,1)}const Z=[ie].concat(ue.filter(J=>J.post_id!==ie.post_id||J.draft_updated_at!==ie.draft_updated_at&&J.draft_body&&J.draft_body!==ie.draft_body)).slice(0,L);te(C,Z)},F=()=>w.get(C,[]).filter(Boolean),$=()=>w.get(C+M,{}),G=ie=>{var ue,he;(ue=window._preloads.pub)!=null&&ue.id&&(he=window._preloads.user)!=null&&he.id&&ie!=null&&ie.post_id&&ie!=null&&ie.draft_updated_at&&ie!=null&&ie.draft_body&&te(C+M,v(a({},ie),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},Q=()=>{w.remove(C+M)},K=ie=>{if(!(ie!=null&&ie.post_id)||!(ie!=null&&ie.draft_updated_at))return;const he=F().filter(Z=>Z.post_id!==ie.post_id||Z.draft_updated_at!==ie.draft_updated_at);te(C,he)},W=({postId:ie,editorId:ue})=>!!F().find(Z=>Z.post_id===ie&&Z.editor_id&&Z.editor_id!==ue),Y=({postId:ie,editorId:ue})=>{const Z=F().filter(J=>J.editor_id?J.post_id!==ie||J.editor_id!==ue:!1);te(C,Z)},ne=()=>{const ie=$();ie!=null&&ie.draft_body&&(U(ie),Q())},V=()=>{Q(),w.remove(C)},j=ie=>{(!ie||F().find(ue=>ue.user_id&&ue.user_id!==ie))&&V()},te=(ie,ue)=>{try{if(w.set(ie,ue),JSON.stringify(w.get(ie))!==JSON.stringify(ue))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",ie)}catch(he){console.error("localStorage.setItem failed:",he),V()}}},94930:(H,E)=>{"use strict";E.isCouponValid=(e,{is_group:t,is_gift:u,paywallFreeTrialEnabled:s})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!t||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!s||u||t)),E.isCouponValidForPlan=(e,t)=>!e||!t||t.metadata.unlimited_group?!1:t.metadata.no_coupons?!!(e.founding_only&&t.metadata.founding):!(t.interval==="forever"||e.yearly_only&&t.interval!=="year"||e.monthly_only&&t.interval!=="month"||e.duration==="repeating"&&(t.interval==="month"&&e.duration_in_months%t.interval_count!==0||t.interval==="year"&&e.duration_in_months%(t.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==t.currency),E.isEmailValidEdu=(e,t)=>{const u=t.filter(P=>P.is_suffix);return t.filter(P=>!P.is_suffix).find(P=>e.split("@").pop().startsWith(P.pattern))||u.find(P=>e.endsWith(P.pattern))},E.isCouponValidForEmail=(e,t,u)=>!(e.edu_only&&!E.isEmailValidEdu(t,u)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(g=>t.toLowerCase().endsWith(g.toLowerCase()))),E.getDiscountedAmount=(e,t)=>{let u=e.amount;return t&&E.isCouponValidForPlan(t,e)&&(t.percent_off?u=Math.round(u*(1-(t.percent_off_precise||t.percent_off)/100)):t.amount_off&&(u=Math.max(0,u-t.amount_off))),u}},85928:(H,E,e)=>{"use strict";var t=Object.defineProperty,u=Object.defineProperties,s=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(D,I,p)=>I in D?t(D,I,{enumerable:!0,configurable:!0,writable:!0,value:p}):D[I]=p,c=(D,I)=>{for(var p in I||(I={}))P.call(I,p)&&O(D,p,I[p]);if(g)for(var p of g(I))y.call(I,p)&&O(D,p,I[p]);return D},f=(D,I)=>u(D,s(I));const d=e(27484);H.exports=d,d.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(T);function T(D,I,p){I.prototype.standardDateOrTime=function({long:ne=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const V=this.locale(),{iString:j}=I18N.i(V),{secondsToLargestUnit:te}=e(83322),ie=p().diff(this,"seconds");return ie<60?j("just now"):te(ie,{long:ne,language:V,appendAgo:!0})}},I.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},I.prototype.readerDateTime=function(){const ne=this.locale(),{iString:V}=I18N.i(ne),j=this.diff(p(),"day");let te;return j===0?te=this.format("h:mm a"):j===-1?te=V("Yesterday"):j>-7?te=this.standardDate():te=this.standardDate(),te},I.prototype.standardDate=function({full:ne=!1}={}){return!ne&&this.isSame(p(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},I.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},I.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},I.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},I.prototype.standardDatetimeWithYear=function(){const ne=p().year();return this.year()!=ne?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},I.prototype.min=function(...ne){let V=this;for(let j of ne)j=p(j),V.isAfter(j)&&(V=j);return V},I.prototype.max=function(...ne){let V=this;for(let j of ne)j=p(j),V.isBefore(j)&&(V=j);return V},I.prototype.minNow=function(){return this.min(p())},I.prototype.maxNow=function(){return this.max(p())},I.prototype.isBeforeNow=function(ne){return this.isBefore(p(),ne)},I.prototype.isAfterNow=function(ne){return this.isAfter(p(),ne)},I.prototype.isSameNow=function(ne){return this.isSame(p(),ne)};const l=p.en,a=f(c({},l),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),v=e(80790),w=f(c({},v),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),M=f(c({},v),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),C=e(67763),L=f(c({},C),{relativeTime:{future:"en %s",past:"hace %s",s:"en este momento",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"}}),S=f(c({},C),{relativeTime:{future:"en %s",past:"%s",s:"en este momento",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1Mes",MM:"%dMes",y:"1A",yy:"%dA"}}),N=e(15551),R=f(c({},N),{relativeTime:{future:"tra %s",past:"%s",s:"proprio adesso",m:"1 minuto",mm:"%d minuti",h:"1 ora",hh:"%d ore",d:"1 giorno",dd:"%d giorni",M:"1 mese",MM:"%d mesi",y:"1 anno",yy:"%d anni"}}),U=f(c({},N),{relativeTime:{future:"tra %s",past:"%s",s:"proprio adesso",m:"1M",mm:"%dM",h:"1O",hh:"%dO",d:"1G",dd:"%dG",M:"1M",MM:"%dM",y:"1A",yy:"%dA"}}),F=e(15001),$=f(c({},F),{relativeTime:{future:"em %s",past:"%s",s:"agora h\xE1 pouco",m:"1 minuto",mm:"%d minutos",h:"1 hora",hh:"%d horas",d:"1 dia",dd:"%d dias",M:"1 m\xEAs",MM:"%d meses",y:"1 ano",yy:"%d anos"}}),G=f(c({},F),{relativeTime:{future:"em %s",past:"%s",s:"agora h\xE1 pouco",m:"1M",mm:"%dM",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1M",MM:"%dM",y:"1A",yy:"%dA"}}),Q=e(96023),K=f(c({},Q),{relativeTime:{future:"dans %s",past:"il y a %s",s:"tout \xE0 l'heure",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"une ann\xE9e",yy:"%d ann\xE9es"}}),W=f(c({},Q),{relativeTime:{future:"dans %s",past:"%s",s:"tout \xE0 l'heure",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1J",dd:"%dJ",M:"1Mois",MM:"%dMois",y:"1A",yy:"%dA"}}),Y=p.locale();p.locale("enshort",a),p.locale("de",w),p.locale("deshort",M),p.locale("de-machine",w),p.locale("demachineshort",M),p.locale("es",L),p.locale("esshort",S),p.locale("fr",K),p.locale("frshort",W),p.locale("it",R),p.locale("itshort",U),p.locale("pt",$),p.locale("ptshort",G),p.locale("pt-br",$),p.locale("ptbrshort",G),p.locale(Y),I.prototype.fromNowShort=function(){switch(this.locale()){case"de":return this.locale("deshort").fromNow();case"de-machine":return this.locale("demachineshort").fromNow();case"es":return this.locale("esshort").fromNow();case"fr":return this.locale("frshort").fromNow();case"it":return this.locale("itshort").fromNow();case"pt":return this.locale("ptshort").fromNow();case"pt-br":return this.locale("ptbrshort").fromNow();default:return l?this.locale("enshort").fromNow():this.fromNow()}}}},42395:H=>{"use strict";H.exports=E=>(E||"").replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t))},17187:H=>{"use strict";var E=typeof Reflect=="object"?Reflect:null,e=E&&typeof E.apply=="function"?E.apply:function(C,L,S){return Function.prototype.apply.call(C,L,S)},t;E&&typeof E.ownKeys=="function"?t=E.ownKeys:Object.getOwnPropertySymbols?t=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:t=function(C){return Object.getOwnPropertyNames(C)};function u(M){console&&console.warn&&console.warn(M)}var s=Number.isNaN||function(C){return C!==C};function g(){g.init.call(this)}H.exports=g,H.exports.once=a,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var P=10;function y(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(M){if(typeof M!="number"||M<0||s(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");P=M}}),g.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function O(M){return M._maxListeners===void 0?g.defaultMaxListeners:M._maxListeners}g.prototype.getMaxListeners=function(){return O(this)},g.prototype.emit=function(C){for(var L=[],S=1;S<arguments.length;S++)L.push(arguments[S]);var N=C==="error",R=this._events;if(R!==void 0)N=N&&R.error===void 0;else if(!N)return!1;if(N){var U;if(L.length>0&&(U=L[0]),U instanceof Error)throw U;var F=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw F.context=U,F}var $=R[C];if($===void 0)return!1;if(typeof $=="function")e($,this,L);else for(var G=$.length,Q=I($,G),S=0;S<G;++S)e(Q[S],this,L);return!0};function c(M,C,L,S){var N,R,U;if(y(L),R=M._events,R===void 0?(R=M._events=Object.create(null),M._eventsCount=0):(R.newListener!==void 0&&(M.emit("newListener",C,L.listener?L.listener:L),R=M._events),U=R[C]),U===void 0)U=R[C]=L,++M._eventsCount;else if(typeof U=="function"?U=R[C]=S?[L,U]:[U,L]:S?U.unshift(L):U.push(L),N=O(M),N>0&&U.length>N&&!U.warned){U.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=M,F.type=C,F.count=U.length,u(F)}return M}g.prototype.addListener=function(C,L){return c(this,C,L,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(C,L){return c(this,C,L,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(M,C,L){var S={fired:!1,wrapFn:void 0,target:M,type:C,listener:L},N=f.bind(S);return N.listener=L,S.wrapFn=N,N}g.prototype.once=function(C,L){return y(L),this.on(C,d(this,C,L)),this},g.prototype.prependOnceListener=function(C,L){return y(L),this.prependListener(C,d(this,C,L)),this},g.prototype.removeListener=function(C,L){var S,N,R,U,F;if(y(L),N=this._events,N===void 0)return this;if(S=N[C],S===void 0)return this;if(S===L||S.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete N[C],N.removeListener&&this.emit("removeListener",C,S.listener||L));else if(typeof S!="function"){for(R=-1,U=S.length-1;U>=0;U--)if(S[U]===L||S[U].listener===L){F=S[U].listener,R=U;break}if(R<0)return this;R===0?S.shift():p(S,R),S.length===1&&(N[C]=S[0]),N.removeListener!==void 0&&this.emit("removeListener",C,F||L)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(C){var L,S,N;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[C]),this;if(arguments.length===0){var R=Object.keys(S),U;for(N=0;N<R.length;++N)U=R[N],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=S[C],typeof L=="function")this.removeListener(C,L);else if(L!==void 0)for(N=L.length-1;N>=0;N--)this.removeListener(C,L[N]);return this};function T(M,C,L){var S=M._events;if(S===void 0)return[];var N=S[C];return N===void 0?[]:typeof N=="function"?L?[N.listener||N]:[N]:L?l(N):I(N,N.length)}g.prototype.listeners=function(C){return T(this,C,!0)},g.prototype.rawListeners=function(C){return T(this,C,!1)},g.listenerCount=function(M,C){return typeof M.listenerCount=="function"?M.listenerCount(C):D.call(M,C)},g.prototype.listenerCount=D;function D(M){var C=this._events;if(C!==void 0){var L=C[M];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function I(M,C){for(var L=new Array(C),S=0;S<C;++S)L[S]=M[S];return L}function p(M,C){for(;C+1<M.length;C++)M[C]=M[C+1];M.pop()}function l(M){for(var C=new Array(M.length),L=0;L<C.length;++L)C[L]=M[L].listener||M[L];return C}function a(M,C){return new Promise(function(L,S){function N(U){M.removeListener(C,R),S(U)}function R(){typeof M.removeListener=="function"&&M.removeListener("error",N),L([].slice.call(arguments))}w(M,C,R,{once:!0}),C!=="error"&&v(M,N,{once:!0})})}function v(M,C,L){typeof M.on=="function"&&w(M,"error",C,L)}function w(M,C,L,S){if(typeof M.on=="function")S.once?M.once(C,L):M.on(C,L);else if(typeof M.addEventListener=="function")M.addEventListener(C,function N(R){S.once&&M.removeEventListener(C,N),L(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}},4445:H=>{H.exports=g,g.default=g,g.stable=c,g.stableStringify=c;var E="[...]",e="[Circular]",t=[],u=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function g(T,D,I,p){typeof p=="undefined"&&(p=s()),y(T,"",0,[],void 0,0,p);var l;try{u.length===0?l=JSON.stringify(T,D,I):l=JSON.stringify(T,d(D),I)}catch(v){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var a=t.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return l}function P(T,D,I,p){var l=Object.getOwnPropertyDescriptor(p,I);l.get!==void 0?l.configurable?(Object.defineProperty(p,I,{value:T}),t.push([p,I,D,l])):u.push([D,I,T]):(p[I]=T,t.push([p,I,D]))}function y(T,D,I,p,l,a,v){a+=1;var w;if(typeof T=="object"&&T!==null){for(w=0;w<p.length;w++)if(p[w]===T){P(e,T,D,l);return}if(typeof v.depthLimit!="undefined"&&a>v.depthLimit){P(E,T,D,l);return}if(typeof v.edgesLimit!="undefined"&&I+1>v.edgesLimit){P(E,T,D,l);return}if(p.push(T),Array.isArray(T))for(w=0;w<T.length;w++)y(T[w],w,w,p,T,a,v);else{var M=Object.keys(T);for(w=0;w<M.length;w++){var C=M[w];y(T[C],C,w,p,T,a,v)}}p.pop()}}function O(T,D){return T<D?-1:T>D?1:0}function c(T,D,I,p){typeof p=="undefined"&&(p=s());var l=f(T,"",0,[],void 0,0,p)||T,a;try{u.length===0?a=JSON.stringify(l,D,I):a=JSON.stringify(l,d(D),I)}catch(w){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var v=t.pop();v.length===4?Object.defineProperty(v[0],v[1],v[3]):v[0][v[1]]=v[2]}}return a}function f(T,D,I,p,l,a,v){a+=1;var w;if(typeof T=="object"&&T!==null){for(w=0;w<p.length;w++)if(p[w]===T){P(e,T,D,l);return}try{if(typeof T.toJSON=="function")return}catch(S){return}if(typeof v.depthLimit!="undefined"&&a>v.depthLimit){P(E,T,D,l);return}if(typeof v.edgesLimit!="undefined"&&I+1>v.edgesLimit){P(E,T,D,l);return}if(p.push(T),Array.isArray(T))for(w=0;w<T.length;w++)f(T[w],w,w,p,T,a,v);else{var M={},C=Object.keys(T).sort(O);for(w=0;w<C.length;w++){var L=C[w];f(T[L],L,w,p,T,a,v),M[L]=T[L]}if(typeof l!="undefined")t.push([l,D,T]),l[D]=M;else return M}p.pop()}}function d(T){return T=typeof T!="undefined"?T:function(D,I){return I},function(D,I){if(u.length>0)for(var p=0;p<u.length;p++){var l=u[p];if(l[1]===D&&l[0]===I){I=l[2],u.splice(p,1);break}}return T.call(this,D,I)}}},17648:H=>{"use strict";var E="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,u="[object Function]",s=function(O,c){for(var f=[],d=0;d<O.length;d+=1)f[d]=O[d];for(var T=0;T<c.length;T+=1)f[T+O.length]=c[T];return f},g=function(O,c){for(var f=[],d=c||0,T=0;d<O.length;d+=1,T+=1)f[T]=O[d];return f},P=function(y,O){for(var c="",f=0;f<y.length;f+=1)c+=y[f],f+1<y.length&&(c+=O);return c};H.exports=function(O){var c=this;if(typeof c!="function"||e.apply(c)!==u)throw new TypeError(E+c);for(var f=g(arguments,1),d,T=function(){if(this instanceof d){var a=c.apply(this,s(f,arguments));return Object(a)===a?a:this}return c.apply(O,s(f,arguments))},D=t(0,c.length-f.length),I=[],p=0;p<D;p++)I[p]="$"+p;if(d=Function("binder","return function ("+P(I,",")+"){ return binder.apply(this,arguments); }")(T),c.prototype){var l=function(){};l.prototype=c.prototype,d.prototype=new l,l.prototype=null}return d}},58612:(H,E,e)=>{"use strict";var t=e(17648);H.exports=Function.prototype.bind||t},40210:(H,E,e)=>{"use strict";var t,u=SyntaxError,s=Function,g=TypeError,P=function(G){try{return s('"use strict"; return ('+G+").constructor;")()}catch(Q){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(G){y=null}var O=function(){throw new g},c=y?function(){try{return arguments.callee,O}catch(G){try{return y(arguments,"callee").get}catch(Q){return O}}}():O,f=e(41405)(),d=Object.getPrototypeOf||function(G){return G.__proto__},T={},D=typeof Uint8Array=="undefined"?t:d(Uint8Array),I={"%AggregateError%":typeof AggregateError=="undefined"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?t:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics=="undefined"?t:Atomics,"%BigInt%":typeof BigInt=="undefined"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?t:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?t:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array=="undefined"?t:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?t:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map=="undefined"?t:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!f?t:d(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?t:Promise,"%Proxy%":typeof Proxy=="undefined"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?t:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!f?t:d(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):t,"%Symbol%":f?Symbol:t,"%SyntaxError%":u,"%ThrowTypeError%":c,"%TypedArray%":D,"%TypeError%":g,"%Uint8Array%":typeof Uint8Array=="undefined"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?t:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?t:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?t:WeakSet};try{null.error}catch(G){var p=d(d(G));I["%Error.prototype%"]=p}var l=function G(Q){var K;if(Q==="%AsyncFunction%")K=P("async function () {}");else if(Q==="%GeneratorFunction%")K=P("function* () {}");else if(Q==="%AsyncGeneratorFunction%")K=P("async function* () {}");else if(Q==="%AsyncGenerator%"){var W=G("%AsyncGeneratorFunction%");W&&(K=W.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var Y=G("%AsyncGenerator%");Y&&(K=d(Y.prototype))}return I[Q]=K,K},a={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=e(58612),w=e(17642),M=v.call(Function.call,Array.prototype.concat),C=v.call(Function.apply,Array.prototype.splice),L=v.call(Function.call,String.prototype.replace),S=v.call(Function.call,String.prototype.slice),N=v.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,F=function(Q){var K=S(Q,0,1),W=S(Q,-1);if(K==="%"&&W!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&K!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var Y=[];return L(Q,R,function(ne,V,j,te){Y[Y.length]=j?L(te,U,"$1"):V||ne}),Y},$=function(Q,K){var W=Q,Y;if(w(a,W)&&(Y=a[W],W="%"+Y[0]+"%"),w(I,W)){var ne=I[W];if(ne===T&&(ne=l(W)),typeof ne=="undefined"&&!K)throw new g("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:Y,name:W,value:ne}}throw new u("intrinsic "+Q+" does not exist!")};H.exports=function(Q,K){if(typeof Q!="string"||Q.length===0)throw new g("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new g('"allowMissing" argument must be a boolean');if(N(/^%?[^%]*%?$/,Q)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=F(Q),Y=W.length>0?W[0]:"",ne=$("%"+Y+"%",K),V=ne.name,j=ne.value,te=!1,ie=ne.alias;ie&&(Y=ie[0],C(W,M([0,1],ie)));for(var ue=1,he=!0;ue<W.length;ue+=1){var Z=W[ue],J=S(Z,0,1),ae=S(Z,-1);if((J==='"'||J==="'"||J==="`"||ae==='"'||ae==="'"||ae==="`")&&J!==ae)throw new u("property names with quotes must have matching quotes");if((Z==="constructor"||!he)&&(te=!0),Y+="."+Z,V="%"+Y+"%",w(I,V))j=I[V];else if(j!=null){if(!(Z in j)){if(!K)throw new g("base intrinsic for "+Q+" exists, but the property is not available.");return}if(y&&ue+1>=W.length){var le=y(j,Z);he=!!le,he&&"get"in le&&!("originalValue"in le.get)?j=le.get:j=j[Z]}else he=w(j,Z),j=j[Z];he&&!te&&(I[V]=j)}}return j}},41405:(H,E,e)=>{"use strict";var t=typeof Symbol!="undefined"&&Symbol,u=e(55419);H.exports=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:u()}},55419:H=>{"use strict";H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),u=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var g=Object.getOwnPropertySymbols(e);if(g.length!==1||g[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var P=Object.getOwnPropertyDescriptor(e,t);if(P.value!==s||P.enumerable!==!0)return!1}return!0}},17642:(H,E,e)=>{"use strict";var t=e(58612);H.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},36808:(H,E,e)=>{var t,u;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(s){var g=!1;if(t=s,u=typeof t=="function"?t.call(E,e,E,H):t,u!==void 0&&(H.exports=u),g=!0,H.exports=s(),g=!0,!g){var P=window.Cookies,y=window.Cookies=s();y.noConflict=function(){return window.Cookies=P,y}}})(function(){function s(){for(var P=0,y={};P<arguments.length;P++){var O=arguments[P];for(var c in O)y[c]=O[c]}return y}function g(P){function y(O,c,f){var d;if(typeof document!="undefined"){if(arguments.length>1){if(f=s({path:"/"},y.defaults,f),typeof f.expires=="number"){var T=new Date;T.setMilliseconds(T.getMilliseconds()+f.expires*864e5),f.expires=T}f.expires=f.expires?f.expires.toUTCString():"";try{d=JSON.stringify(c),/^[\{\[]/.test(d)&&(c=d)}catch(C){}P.write?c=P.write(c,O):c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),O=encodeURIComponent(String(O)),O=O.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),O=O.replace(/[\(\)]/g,escape);var D="";for(var I in f)f[I]&&(D+="; "+I,f[I]!==!0&&(D+="="+f[I]));return document.cookie=O+"="+c+D}O||(d={});for(var p=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,a=0;a<p.length;a++){var v=p[a].split("="),w=v.slice(1).join("=");!this.json&&w.charAt(0)==='"'&&(w=w.slice(1,-1));try{var M=v[0].replace(l,decodeURIComponent);if(w=P.read?P.read(w,M):P(w,M)||w.replace(l,decodeURIComponent),this.json)try{w=JSON.parse(w)}catch(C){}if(O===M){d=w;break}O||(d[M]=w)}catch(C){}}return d}}return y.set=y,y.get=function(O){return y.call(y,O)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(O,c){y(O,"",s(c,{expires:-1}))},y.withConverter=g,y}return g(function(){})})},3312:H=>{"use strict";const E={},e=E.hasOwnProperty,t=(S,N)=>{for(const R in S)e.call(S,R)&&N(R,S[R])},u=(S,N)=>(N&&t(N,(R,U)=>{S[R]=U}),S),s=(S,N)=>{const R=S.length;let U=-1;for(;++U<R;)N(S[U])},g=S=>"\\u"+("0000"+S).slice(-4),P=(S,N)=>{let R=S.toString(16);return N?R:R.toUpperCase()},y=E.toString,O=Array.isArray,c=S=>typeof Buffer=="function"&&Buffer.isBuffer(S),f=S=>y.call(S)=="[object Object]",d=S=>typeof S=="string"||y.call(S)=="[object String]",T=S=>typeof S=="number"||y.call(S)=="[object Number]",D=S=>typeof S=="function",I=S=>y.call(S)=="[object Map]",p=S=>y.call(S)=="[object Set]",l={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},a=/[\\\b\f\n\r\t]/,v=/[0-9]/,w=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,M=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,C=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,L=(S,N)=>{const R=()=>{W=K,++N.indentLevel,K=N.indent.repeat(N.indentLevel)},U={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},F=N&&N.json;F&&(U.quotes="double",U.wrap=!0),N=u(U,N),N.quotes!="single"&&N.quotes!="double"&&N.quotes!="backtick"&&(N.quotes="single");const $=N.quotes=="double"?'"':N.quotes=="backtick"?"`":"'",G=N.compact,Q=N.lowercaseHex;let K=N.indent.repeat(N.indentLevel),W="";const Y=N.__inline1__,ne=N.__inline2__,V=G?"":`
`;let j,te=!0;const ie=N.numbers=="binary",ue=N.numbers=="octal",he=N.numbers=="decimal",Z=N.numbers=="hexadecimal";if(F&&S&&D(S.toJSON)&&(S=S.toJSON()),!d(S)){if(I(S))return S.size==0?"new Map()":(G||(N.__inline1__=!0,N.__inline2__=!1),"new Map("+L(Array.from(S),N)+")");if(p(S))return S.size==0?"new Set()":"new Set("+L(Array.from(S),N)+")";if(c(S))return S.length==0?"Buffer.from([])":"Buffer.from("+L(Array.from(S),N)+")";if(O(S))return j=[],N.wrap=!0,Y&&(N.__inline1__=!1,N.__inline2__=!0),ne||R(),s(S,ae=>{te=!1,ne&&(N.__inline2__=!1),j.push((G||ne?"":K)+L(ae,N))}),te?"[]":ne?"["+j.join(", ")+"]":"["+V+j.join(","+V)+V+(G?"":W)+"]";if(T(S)){if(F)return JSON.stringify(S);if(he)return String(S);if(Z){let ae=S.toString(16);return Q||(ae=ae.toUpperCase()),"0x"+ae}if(ie)return"0b"+S.toString(2);if(ue)return"0o"+S.toString(8)}else return f(S)?(j=[],N.wrap=!0,R(),t(S,(ae,le)=>{te=!1,j.push((G?"":K)+L(ae,N)+":"+(G?"":" ")+L(le,N))}),te?"{}":"{"+V+j.join(","+V)+V+(G?"":W)+"}"):F?JSON.stringify(S)||"null":String(S)}const J=N.escapeEverything?M:C;return j=S.replace(J,(ae,le,oe,ee,z,re)=>{if(le){if(N.minimal)return le;const fe=le.charCodeAt(0),Ee=le.charCodeAt(1);if(N.es6){const ge=(fe-55296)*1024+Ee-56320+65536;return"\\u{"+P(ge,Q)+"}"}return g(P(fe,Q))+g(P(Ee,Q))}if(oe)return g(P(oe.charCodeAt(0),Q));if(ae=="\0"&&!F&&!v.test(re.charAt(z+1)))return"\\0";if(ee)return ee==$||N.escapeEverything?"\\"+ee:ee;if(a.test(ae))return l[ae];if(N.minimal&&!w.test(ae))return ae;const se=P(ae.charCodeAt(0),Q);return F||se.length>2?g(se):"\\x"+("00"+se).slice(-2)}),$=="`"&&(j=j.replace(/\$\{/g,"\\${")),N.isScriptContext&&(j=j.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,F?"\\u003C!--":"\\x3C!--")),N.wrap&&(j=$+j+$),j};L.version="3.0.2",H.exports=L},23059:(H,E)=>{function e(t){if(typeof t!="object")return t;var u,s,g=Object.prototype.toString.call(t);if(g==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){s=new t.constructor;for(u in t)t.hasOwnProperty(u)&&s[u]!==t[u]&&(s[u]=e(t[u]))}else{s={};for(u in t)u==="__proto__"?Object.defineProperty(s,u,{value:e(t[u]),configurable:!0,enumerable:!0,writable:!0}):s[u]=e(t[u])}return s}if(g==="[object Array]"){for(u=t.length,s=Array(u);u--;)s[u]=e(t[u]);return s}return g==="[object Set]"?(s=new Set,t.forEach(function(P){s.add(e(P))}),s):g==="[object Map]"?(s=new Map,t.forEach(function(P,y){s.set(e(y),e(P))}),s):g==="[object Date]"?new Date(+t):g==="[object RegExp]"?(s=new RegExp(t.source,t.flags),s.lastIndex=t.lastIndex,s):g==="[object DataView]"?new t.constructor(e(t.buffer)):g==="[object ArrayBuffer]"?t.slice(0):g.slice(-6)==="Array]"?new t.constructor(t):t}E.klona=e},87100:(H,E,e)=>{"use strict";var t;t=!0;var u=e(98661),s=O(u),g=e(8425),P=y(g);function y(a){if(a&&a.__esModule)return a;var v={};if(a!=null)for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&(v[w]=a[w]);return v.default=a,v}function O(a){return a&&a.__esModule?a:{default:a}}function c(a,v){if(!(a instanceof v))throw new TypeError("Cannot call a class as a function")}function f(a,v){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:a}function d(a,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);a.prototype=Object.create(v&&v.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(a,v):a.__proto__=v)}var T=P.options,D=T.Options;function I(a,v){for(var w=P.tokenize(a),M=[],C=0,L=0;L<w.length;L++){var S=w[L];if(S.type==="nl"&&v.nl2br){M.push(s.default.createElement("br",{key:"linkified-"+ ++C}));continue}else if(!S.isLink||!v.check(S)){M.push(S.toString());continue}var N=v.resolve(S),R=N.formatted,U=N.formattedHref,F=N.tagName,$=N.className,G=N.target,Q=N.attributes,K={key:"linkified-"+ ++C,href:U};if($&&(K.className=$),G&&(K.target=G),Q)for(var W in Q)K[W]=Q[W];M.push(s.default.createElement(F,K,R))}return M}function p(a,v){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(s.default.Children.count(a.props.children)===0)return a;var M=[];s.default.Children.forEach(a.props.children,function(S){typeof S=="string"?(w=w+1,M.push.apply(M,I(S,v))):s.default.isValidElement(S)?typeof S.type=="string"&&T.contains(v.ignoreTags,S.type.toUpperCase())?M.push(S):M.push(p(S,v,++w)):M.push(S)});var C={key:"linkified-element-"+w};for(var L in a.props)C[L]=a.props[L];return s.default.cloneElement(a,C,M)}var l=function(a){d(v,a);function v(){return c(this,v),f(this,a.apply(this,arguments))}return v.prototype.render=function(){var M={key:"linkified-element-0"};for(var C in this.props)C!=="options"&&C!=="tagName"&&(M[C]=this.props[C]);var L=new D(this.props.options),S=this.props.tagName||"span",N=s.default.createElement(S,M);return p(N,L,0)},v}(s.default.Component);E.default=l},8425:(H,E,e)=>{"use strict";E.__esModule=!0,E.tokenize=E.test=E.scanner=E.parser=E.options=E.inherits=E.find=void 0;var t=e(72227),u=e(47951),s=c(u),g=e(6417),P=c(g),y=e(45788),O=c(y);function c(D){if(D&&D.__esModule)return D;var I={};if(D!=null)for(var p in D)Object.prototype.hasOwnProperty.call(D,p)&&(I[p]=D[p]);return I.default=D,I}Array.isArray||(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"});var f=function(I){return O.run(P.run(I))},d=function(I){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=f(I),a=[],v=0;v<l.length;v++){var w=l[v];w.isLink&&(!p||w.type===p)&&a.push(w.toObject())}return a},T=function(I){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=f(I);return l.length===1&&l[0].isLink&&(!p||l[0].type===p)};E.find=d,E.inherits=t.inherits,E.options=s,E.parser=O,E.scanner=P,E.test=T,E.tokenize=f},45788:(H,E,e)=>{"use strict";E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var t=e(25439),u=e(23370),s=P(u),g=e(63333);function P(z){if(z&&z.__esModule)return z;var re={};if(z!=null)for(var se in z)Object.prototype.hasOwnProperty.call(z,se)&&(re[se]=z[se]);return re.default=z,re}var y=function(re){return new t.TokenState(re)},O=y(),c=y(),f=y(),d=y(),T=y(),D=y(),I=y(),p=y(u.URL),l=y(),a=y(u.URL),v=y(u.URL),w=y(),M=y(),C=y(),L=y(),S=y(),N=y(u.URL),R=y(u.URL),U=y(u.URL),F=y(u.URL),$=y(),G=y(),Q=y(),K=y(),W=y(),Y=y(),ne=y(u.EMAIL),V=y(),j=y(u.EMAIL),te=y(u.MAILTOEMAIL),ie=y(),ue=y(),he=y(),Z=y(),J=y(u.NL);O.on(g.NL,J).on(g.PROTOCOL,c).on(g.MAILTO,f).on(g.SLASH,d),c.on(g.SLASH,d),d.on(g.SLASH,T),O.on(g.TLD,D).on(g.DOMAIN,D).on(g.LOCALHOST,p).on(g.NUM,D),T.on(g.TLD,v).on(g.DOMAIN,v).on(g.NUM,v).on(g.LOCALHOST,v),D.on(g.DOT,I),W.on(g.DOT,Y),I.on(g.TLD,p).on(g.DOMAIN,D).on(g.NUM,D).on(g.LOCALHOST,D),Y.on(g.TLD,ne).on(g.DOMAIN,W).on(g.NUM,W).on(g.LOCALHOST,W),p.on(g.DOT,I),ne.on(g.DOT,Y),p.on(g.COLON,l).on(g.SLASH,v),l.on(g.NUM,a),a.on(g.SLASH,v),ne.on(g.COLON,V),V.on(g.NUM,j);var ae=[g.DOMAIN,g.AT,g.LOCALHOST,g.NUM,g.PLUS,g.POUND,g.PROTOCOL,g.SLASH,g.TLD,g.UNDERSCORE,g.SYM,g.AMPERSAND],le=[g.COLON,g.DOT,g.QUERY,g.PUNCTUATION,g.CLOSEBRACE,g.CLOSEBRACKET,g.CLOSEANGLEBRACKET,g.CLOSEPAREN,g.OPENBRACE,g.OPENBRACKET,g.OPENANGLEBRACKET,g.OPENPAREN];v.on(g.OPENBRACE,M).on(g.OPENBRACKET,C).on(g.OPENANGLEBRACKET,L).on(g.OPENPAREN,S),w.on(g.OPENBRACE,M).on(g.OPENBRACKET,C).on(g.OPENANGLEBRACKET,L).on(g.OPENPAREN,S),M.on(g.CLOSEBRACE,v),C.on(g.CLOSEBRACKET,v),L.on(g.CLOSEANGLEBRACKET,v),S.on(g.CLOSEPAREN,v),N.on(g.CLOSEBRACE,v),R.on(g.CLOSEBRACKET,v),U.on(g.CLOSEANGLEBRACKET,v),F.on(g.CLOSEPAREN,v),$.on(g.CLOSEBRACE,v),G.on(g.CLOSEBRACKET,v),Q.on(g.CLOSEANGLEBRACKET,v),K.on(g.CLOSEPAREN,v),M.on(ae,N),C.on(ae,R),L.on(ae,U),S.on(ae,F),M.on(le,$),C.on(le,G),L.on(le,Q),S.on(le,K),N.on(ae,N),R.on(ae,R),U.on(ae,U),F.on(ae,F),N.on(le,N),R.on(le,R),U.on(le,U),F.on(le,F),$.on(ae,N),G.on(ae,R),Q.on(ae,U),K.on(ae,F),$.on(le,$),G.on(le,G),Q.on(le,Q),K.on(le,K),v.on(ae,v),w.on(ae,v),v.on(le,w),w.on(le,w),f.on(g.TLD,te).on(g.DOMAIN,te).on(g.NUM,te).on(g.LOCALHOST,te),te.on(ae,te).on(le,ie),ie.on(ae,te).on(le,ie);var oe=[g.DOMAIN,g.NUM,g.PLUS,g.POUND,g.QUERY,g.UNDERSCORE,g.SYM,g.AMPERSAND,g.TLD];D.on(oe,ue).on(g.AT,he),p.on(oe,ue).on(g.AT,he),I.on(oe,ue),ue.on(oe,ue).on(g.AT,he).on(g.DOT,Z),Z.on(oe,ue),he.on(g.TLD,W).on(g.DOMAIN,W).on(g.LOCALHOST,ne);var ee=function(re){for(var se=re.length,fe=0,Ee=[],ge=[];fe<se;){for(var be=O,me=null,pe=null,Le=0,je=null,xe=-1;fe<se&&!(me=be.next(re[fe]));)ge.push(re[fe++]);for(;fe<se&&(pe=me||be.next(re[fe]));)me=null,be=pe,be.accepts()?(xe=0,je=be):xe>=0&&xe++,fe++,Le++;if(xe<0)for(var ye=fe-Le;ye<fe;ye++)ge.push(re[ye]);else{ge.length>0&&(Ee.push(new u.TEXT(ge)),ge=[]),fe-=xe,Le-=xe;var Me=je.emit();Ee.push(new Me(re.slice(fe-Le,fe)))}}return ge.length>0&&Ee.push(new u.TEXT(ge)),Ee};E.State=t.TokenState,E.TOKENS=s,E.run=ee,E.start=O},6417:(H,E,e)=>{"use strict";E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var t=e(25439),u=e(63333),s=g(u);function g(ne){if(ne&&ne.__esModule)return ne;var V={};if(ne!=null)for(var j in ne)Object.prototype.hasOwnProperty.call(ne,j)&&(V[j]=ne[j]);return V.default=ne,V}var P="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),y="0123456789".split(""),O="0123456789abcdefghijklmnopqrstuvwxyz".split(""),c=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],f=[],d=function(V){return new t.CharacterState(V)},T=d(),D=d(u.NUM),I=d(u.DOMAIN),p=d(),l=d(u.WS);T.on("@",d(u.AT)).on(".",d(u.DOT)).on("+",d(u.PLUS)).on("#",d(u.POUND)).on("?",d(u.QUERY)).on("/",d(u.SLASH)).on("_",d(u.UNDERSCORE)).on(":",d(u.COLON)).on("{",d(u.OPENBRACE)).on("[",d(u.OPENBRACKET)).on("<",d(u.OPENANGLEBRACKET)).on("(",d(u.OPENPAREN)).on("}",d(u.CLOSEBRACE)).on("]",d(u.CLOSEBRACKET)).on(">",d(u.CLOSEANGLEBRACKET)).on(")",d(u.CLOSEPAREN)).on("&",d(u.AMPERSAND)).on([",",";","!",'"',"'"],d(u.PUNCTUATION)),T.on(`
`,d(u.NL)).on(c,l),l.on(c,l);for(var a=0;a<P.length;a++){var v=(0,t.stateify)(P[a],T,u.TLD,u.DOMAIN);f.push.apply(f,v)}var w=(0,t.stateify)("file",T,u.DOMAIN,u.DOMAIN),M=(0,t.stateify)("ftp",T,u.DOMAIN,u.DOMAIN),C=(0,t.stateify)("http",T,u.DOMAIN,u.DOMAIN),L=(0,t.stateify)("mailto",T,u.DOMAIN,u.DOMAIN);f.push.apply(f,w),f.push.apply(f,M),f.push.apply(f,C),f.push.apply(f,L);var S=w.pop(),N=M.pop(),R=C.pop(),U=L.pop(),F=d(u.DOMAIN),$=d(u.PROTOCOL),G=d(u.MAILTO);N.on("s",F).on(":",$),R.on("s",F).on(":",$),f.push(F),S.on(":",$),F.on(":",$),U.on(":",G);var Q=(0,t.stateify)("localhost",T,u.LOCALHOST,u.DOMAIN);f.push.apply(f,Q),T.on(y,D),D.on("-",p).on(y,D).on(O,I),I.on("-",p).on(O,I);for(var K=0;K<f.length;K++)f[K].on("-",p).on(O,I);p.on("-",p).on(y,I).on(O,I),T.defaultTransition=d(u.SYM);var W=function(V){for(var j=V.replace(/[A-Z]/g,function(ee){return ee.toLowerCase()}),te=V.length,ie=[],ue=0;ue<te;){for(var he=T,Z=null,J=0,ae=null,le=-1;ue<te&&(Z=he.next(j[ue]));)he=Z,he.accepts()?(le=0,ae=he):le>=0&&le++,J++,ue++;if(!(le<0)){ue-=le,J-=le;var oe=ae.emit();ie.push(new oe(V.substr(ue-J,J)))}}return ie},Y=T;E.State=t.CharacterState,E.TOKENS=s,E.run=W,E.start=Y},25439:(H,E,e)=>{"use strict";E.__esModule=!0,E.stateify=E.TokenState=E.CharacterState=void 0;var t=e(72227);function u(){return function(O){this.j=[],this.T=O||null}}var s=u();s.prototype={defaultTransition:!1,on:function(c,f){if(c instanceof Array){for(var d=0;d<c.length;d++)this.j.push([c[d],f]);return this}return this.j.push([c,f]),this},next:function(c){for(var f=0;f<this.j.length;f++){var d=this.j[f],T=d[0],D=d[1];if(this.test(c,T))return D}return this.defaultTransition},accepts:function(){return!!this.T},test:function(c,f){return c===f},emit:function(){return this.T}};var g=(0,t.inherits)(s,u(),{test:function(c,f){return c===f||f instanceof RegExp&&f.test(c)}}),P=(0,t.inherits)(s,u(),{jump:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=this.next(new c(""));return d===this.defaultTransition?(d=new this.constructor(f),this.on(c,d)):f&&(d.T=f),d},test:function(c,f){return c instanceof f}});function y(O,c,f,d){for(var T=0,D=O.length,I=c,p=[],l=void 0;T<D&&(l=I.next(O[T]));)I=l,T++;if(T>=D)return[];for(;T<D-1;)l=new g(d),p.push(l),I.on(O[T],l),I=l,T++;return l=new g(f),p.push(l),I.on(O[D-1],l),p}E.CharacterState=g,E.TokenState=P,E.stateify=y},9770:(H,E)=>{"use strict";E.__esModule=!0;function e(){return function(t){t&&(this.v=t)}}E.createTokenClass=e},23370:(H,E,e)=>{"use strict";E.__esModule=!0,E.URL=E.TEXT=E.NL=E.EMAIL=E.MAILTOEMAIL=E.Base=void 0;var t=e(9770),u=e(72227),s=e(63333);function g(T){return T instanceof s.DOMAIN||T instanceof s.TLD}var P=(0,t.createTokenClass)();P.prototype={type:"token",isLink:!1,toString:function(){for(var D=[],I=0;I<this.v.length;I++)D.push(this.v[I].toString());return D.join("")},toHref:function(){return this.toString()},toObject:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(D)}}};var y=(0,u.inherits)(P,(0,t.createTokenClass)(),{type:"email",isLink:!0}),O=(0,u.inherits)(P,(0,t.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),c=(0,u.inherits)(P,(0,t.createTokenClass)(),{type:"text"}),f=(0,u.inherits)(P,(0,t.createTokenClass)(),{type:"nl"}),d=(0,u.inherits)(P,(0,t.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",I=!1,p=!1,l=this.v,a=[],v=0;l[v]instanceof s.PROTOCOL;)I=!0,a.push(l[v].toString().toLowerCase()),v++;for(;l[v]instanceof s.SLASH;)p=!0,a.push(l[v].toString()),v++;for(;g(l[v]);)a.push(l[v].toString().toLowerCase()),v++;for(;v<l.length;v++)a.push(l[v].toString());return a=a.join(""),I||p||(a=D+"://"+a),a},hasProtocol:function(){return this.v[0]instanceof s.PROTOCOL}});E.Base=P,E.MAILTOEMAIL=y,E.EMAIL=O,E.NL=f,E.TEXT=c,E.URL=d},63333:(H,E,e)=>{"use strict";E.__esModule=!0,E.AMPERSAND=E.CLOSEPAREN=E.CLOSEANGLEBRACKET=E.CLOSEBRACKET=E.CLOSEBRACE=E.OPENPAREN=E.OPENANGLEBRACKET=E.OPENBRACKET=E.OPENBRACE=E.WS=E.TLD=E.SYM=E.UNDERSCORE=E.SLASH=E.MAILTO=E.PROTOCOL=E.QUERY=E.POUND=E.PLUS=E.NUM=E.NL=E.LOCALHOST=E.PUNCTUATION=E.DOT=E.COLON=E.AT=E.DOMAIN=E.Base=void 0;var t=e(9770),u=e(72227),s=(0,t.createTokenClass)();s.prototype={toString:function(){return this.v+""}};function g(Y){var ne=Y?{v:Y}:{};return(0,u.inherits)(s,(0,t.createTokenClass)(),ne)}var P=g(),y=g("@"),O=g(":"),c=g("."),f=g(),d=g(),T=g(`
`),D=g(),I=g("+"),p=g("#"),l=g(),a=g("mailto:"),v=g("?"),w=g("/"),M=g("_"),C=g(),L=g(),S=g(),N=g("{"),R=g("["),U=g("<"),F=g("("),$=g("}"),G=g("]"),Q=g(">"),K=g(")"),W=g("&");E.Base=s,E.DOMAIN=P,E.AT=y,E.COLON=O,E.DOT=c,E.PUNCTUATION=f,E.LOCALHOST=d,E.NL=T,E.NUM=D,E.PLUS=I,E.POUND=p,E.QUERY=v,E.PROTOCOL=l,E.MAILTO=a,E.SLASH=w,E.UNDERSCORE=M,E.SYM=C,E.TLD=L,E.WS=S,E.OPENBRACE=N,E.OPENBRACKET=R,E.OPENANGLEBRACKET=U,E.OPENPAREN=F,E.CLOSEBRACE=$,E.CLOSEBRACKET=G,E.CLOSEANGLEBRACKET=Q,E.CLOSEPAREN=K,E.AMPERSAND=W},72227:(H,E)=>{"use strict";E.__esModule=!0,E.inherits=e;function e(t,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.create(t.prototype);for(var P in s)g[P]=s[P];return g.constructor=u,u.prototype=g,u}},47951:(H,E)=>{"use strict";E.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t={defaultProtocol:"http",events:null,format:g,formatHref:g,nl2br:!1,tagName:"a",target:P,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};E.defaults=t,E.Options=u,E.contains=s;function u(y){y=y||{},this.defaultProtocol=y.hasOwnProperty("defaultProtocol")?y.defaultProtocol:t.defaultProtocol,this.events=y.hasOwnProperty("events")?y.events:t.events,this.format=y.hasOwnProperty("format")?y.format:t.format,this.formatHref=y.hasOwnProperty("formatHref")?y.formatHref:t.formatHref,this.nl2br=y.hasOwnProperty("nl2br")?y.nl2br:t.nl2br,this.tagName=y.hasOwnProperty("tagName")?y.tagName:t.tagName,this.target=y.hasOwnProperty("target")?y.target:t.target,this.validate=y.hasOwnProperty("validate")?y.validate:t.validate,this.ignoreTags=[],this.attributes=y.attributes||y.linkAttributes||t.attributes,this.className=y.hasOwnProperty("className")?y.className:y.linkClass||t.className;for(var O=y.hasOwnProperty("ignoreTags")?y.ignoreTags:t.ignoreTags,c=0;c<O.length;c++)this.ignoreTags.push(O[c].toUpperCase())}u.prototype={resolve:function(O){var c=O.toHref(this.defaultProtocol);return{formatted:this.get("format",O.toString(),O),formattedHref:this.get("formatHref",c,O),tagName:this.get("tagName",c,O),className:this.get("className",c,O),target:this.get("target",c,O),events:this.getObject("events",c,O),attributes:this.getObject("attributes",c,O)}},check:function(O){return this.get("validate",O.toString(),O)},get:function(O,c,f){var d=void 0,T=this[O];if(!T)return T;switch(typeof T=="undefined"?"undefined":e(T)){case"function":return T(c,f.type);case"object":return d=T.hasOwnProperty(f.type)?T[f.type]:t[O],typeof d=="function"?d(c,f.type):d}return T},getObject:function(O,c,f){var d=this[O];return typeof d=="function"?d(c,f.type):d}};function s(y,O){for(var c=0;c<y.length;c++)if(y[c]===O)return!0;return!1}function g(y){return y}function P(y,O){return O==="url"?"_blank":null}},28175:(H,E,e)=>{H.exports=e(87100).default},18552:(H,E,e)=>{var t=e(10852),u=e(55639),s=t(u,"DataView");H.exports=s},1989:(H,E,e)=>{var t=e(51789),u=e(80401),s=e(57667),g=e(21327),P=e(81866);function y(O){var c=-1,f=O==null?0:O.length;for(this.clear();++c<f;){var d=O[c];this.set(d[0],d[1])}}y.prototype.clear=t,y.prototype.delete=u,y.prototype.get=s,y.prototype.has=g,y.prototype.set=P,H.exports=y},38407:(H,E,e)=>{var t=e(27040),u=e(14125),s=e(82117),g=e(67518),P=e(54705);function y(O){var c=-1,f=O==null?0:O.length;for(this.clear();++c<f;){var d=O[c];this.set(d[0],d[1])}}y.prototype.clear=t,y.prototype.delete=u,y.prototype.get=s,y.prototype.has=g,y.prototype.set=P,H.exports=y},57071:(H,E,e)=>{var t=e(10852),u=e(55639),s=t(u,"Map");H.exports=s},83369:(H,E,e)=>{var t=e(24785),u=e(11285),s=e(96e3),g=e(49916),P=e(95265);function y(O){var c=-1,f=O==null?0:O.length;for(this.clear();++c<f;){var d=O[c];this.set(d[0],d[1])}}y.prototype.clear=t,y.prototype.delete=u,y.prototype.get=s,y.prototype.has=g,y.prototype.set=P,H.exports=y},53818:(H,E,e)=>{var t=e(10852),u=e(55639),s=t(u,"Promise");H.exports=s},58525:(H,E,e)=>{var t=e(10852),u=e(55639),s=t(u,"Set");H.exports=s},88668:(H,E,e)=>{var t=e(83369),u=e(90619),s=e(72385);function g(P){var y=-1,O=P==null?0:P.length;for(this.__data__=new t;++y<O;)this.add(P[y])}g.prototype.add=g.prototype.push=u,g.prototype.has=s,H.exports=g},46384:(H,E,e)=>{var t=e(38407),u=e(37465),s=e(63779),g=e(67599),P=e(44758),y=e(34309);function O(c){var f=this.__data__=new t(c);this.size=f.size}O.prototype.clear=u,O.prototype.delete=s,O.prototype.get=g,O.prototype.has=P,O.prototype.set=y,H.exports=O},62705:(H,E,e)=>{var t=e(55639),u=t.Symbol;H.exports=u},11149:(H,E,e)=>{var t=e(55639),u=t.Uint8Array;H.exports=u},70577:(H,E,e)=>{var t=e(10852),u=e(55639),s=t(u,"WeakMap");H.exports=s},96874:H=>{function E(e,t,u){switch(u.length){case 0:return e.call(t);case 1:return e.call(t,u[0]);case 2:return e.call(t,u[0],u[1]);case 3:return e.call(t,u[0],u[1],u[2])}return e.apply(t,u)}H.exports=E},44174:H=>{function E(e,t,u,s){for(var g=-1,P=e==null?0:e.length;++g<P;){var y=e[g];t(s,y,u(y),e)}return s}H.exports=E},34963:H=>{function E(e,t){for(var u=-1,s=e==null?0:e.length,g=0,P=[];++u<s;){var y=e[u];t(y,u,e)&&(P[g++]=y)}return P}H.exports=E},47443:(H,E,e)=>{var t=e(42118);function u(s,g){var P=s==null?0:s.length;return!!P&&t(s,g,0)>-1}H.exports=u},1196:H=>{function E(e,t,u){for(var s=-1,g=e==null?0:e.length;++s<g;)if(u(t,e[s]))return!0;return!1}H.exports=E},14636:(H,E,e)=>{var t=e(22545),u=e(35694),s=e(1469),g=e(44144),P=e(65776),y=e(36719),O=Object.prototype,c=O.hasOwnProperty;function f(d,T){var D=s(d),I=!D&&u(d),p=!D&&!I&&g(d),l=!D&&!I&&!p&&y(d),a=D||I||p||l,v=a?t(d.length,String):[],w=v.length;for(var M in d)(T||c.call(d,M))&&!(a&&(M=="length"||p&&(M=="offset"||M=="parent")||l&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||P(M,w)))&&v.push(M);return v}H.exports=f},29932:H=>{function E(e,t){for(var u=-1,s=e==null?0:e.length,g=Array(s);++u<s;)g[u]=t(e[u],u,e);return g}H.exports=E},62488:H=>{function E(e,t){for(var u=-1,s=t.length,g=e.length;++u<s;)e[g+u]=t[u];return e}H.exports=E},62663:H=>{function E(e,t,u,s){var g=-1,P=e==null?0:e.length;for(s&&P&&(u=e[++g]);++g<P;)u=t(u,e[g],g,e);return u}H.exports=E},82908:H=>{function E(e,t){for(var u=-1,s=e==null?0:e.length;++u<s;)if(t(e[u],u,e))return!0;return!1}H.exports=E},44286:H=>{function E(e){return e.split("")}H.exports=E},49029:H=>{var E=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(t){return t.match(E)||[]}H.exports=e},34865:(H,E,e)=>{var t=e(89465),u=e(77813),s=Object.prototype,g=s.hasOwnProperty;function P(y,O,c){var f=y[O];(!(g.call(y,O)&&u(f,c))||c===void 0&&!(O in y))&&t(y,O,c)}H.exports=P},18470:(H,E,e)=>{var t=e(77813);function u(s,g){for(var P=s.length;P--;)if(t(s[P][0],g))return P;return-1}H.exports=u},81119:(H,E,e)=>{var t=e(89881);function u(s,g,P,y){return t(s,function(O,c,f){g(y,O,P(O),f)}),y}H.exports=u},89465:(H,E,e)=>{var t=e(38777);function u(s,g,P){g=="__proto__"&&t?t(s,g,{configurable:!0,enumerable:!0,value:P,writable:!0}):s[g]=P}H.exports=u},29750:H=>{function E(e,t,u){return e===e&&(u!==void 0&&(e=e<=u?e:u),t!==void 0&&(e=e>=t?e:t)),e}H.exports=E},20731:(H,E,e)=>{var t=e(88668),u=e(47443),s=e(1196),g=e(29932),P=e(7518),y=e(74757),O=200;function c(f,d,T,D){var I=-1,p=u,l=!0,a=f.length,v=[],w=d.length;if(!a)return v;T&&(d=g(d,P(T))),D?(p=s,l=!1):d.length>=O&&(p=y,l=!1,d=new t(d));e:for(;++I<a;){var M=f[I],C=T==null?M:T(M);if(M=D||M!==0?M:0,l&&C===C){for(var L=w;L--;)if(d[L]===C)continue e;v.push(M)}else p(d,C,D)||v.push(M)}return v}H.exports=c},89881:(H,E,e)=>{var t=e(47816),u=e(99291),s=u(t);H.exports=s},41848:H=>{function E(e,t,u,s){for(var g=e.length,P=u+(s?1:-1);s?P--:++P<g;)if(t(e[P],P,e))return P;return-1}H.exports=E},21078:(H,E,e)=>{var t=e(62488),u=e(37285);function s(g,P,y,O,c){var f=-1,d=g.length;for(y||(y=u),c||(c=[]);++f<d;){var T=g[f];P>0&&y(T)?P>1?s(T,P-1,y,O,c):t(c,T):O||(c[c.length]=T)}return c}H.exports=s},28483:(H,E,e)=>{var t=e(25063),u=t();H.exports=u},47816:(H,E,e)=>{var t=e(28483),u=e(3674);function s(g,P){return g&&t(g,P,u)}H.exports=s},97786:(H,E,e)=>{var t=e(71811),u=e(40327);function s(g,P){P=t(P,g);for(var y=0,O=P.length;g!=null&&y<O;)g=g[u(P[y++])];return y&&y==O?g:void 0}H.exports=s},68866:(H,E,e)=>{var t=e(62488),u=e(1469);function s(g,P,y){var O=P(g);return u(g)?O:t(O,y(g))}H.exports=s},44239:(H,E,e)=>{var t=e(62705),u=e(89607),s=e(2333),g="[object Null]",P="[object Undefined]",y=t?t.toStringTag:void 0;function O(c){return c==null?c===void 0?P:g:y&&y in Object(c)?u(c):s(c)}H.exports=O},13:H=>{function E(e,t){return e!=null&&t in Object(e)}H.exports=E},42118:(H,E,e)=>{var t=e(41848),u=e(62722),s=e(42351);function g(P,y,O){return y===y?s(P,y,O):t(P,u,O)}H.exports=g},9454:(H,E,e)=>{var t=e(44239),u=e(37005),s="[object Arguments]";function g(P){return u(P)&&t(P)==s}H.exports=g},90939:(H,E,e)=>{var t=e(2492),u=e(37005);function s(g,P,y,O,c){return g===P?!0:g==null||P==null||!u(g)&&!u(P)?g!==g&&P!==P:t(g,P,y,O,s,c)}H.exports=s},2492:(H,E,e)=>{var t=e(46384),u=e(67114),s=e(18351),g=e(16096),P=e(64160),y=e(1469),O=e(44144),c=e(36719),f=1,d="[object Arguments]",T="[object Array]",D="[object Object]",I=Object.prototype,p=I.hasOwnProperty;function l(a,v,w,M,C,L){var S=y(a),N=y(v),R=S?T:P(a),U=N?T:P(v);R=R==d?D:R,U=U==d?D:U;var F=R==D,$=U==D,G=R==U;if(G&&O(a)){if(!O(v))return!1;S=!0,F=!1}if(G&&!F)return L||(L=new t),S||c(a)?u(a,v,w,M,C,L):s(a,v,R,w,M,C,L);if(!(w&f)){var Q=F&&p.call(a,"__wrapped__"),K=$&&p.call(v,"__wrapped__");if(Q||K){var W=Q?a.value():a,Y=K?v.value():v;return L||(L=new t),C(W,Y,w,M,L)}}return G?(L||(L=new t),g(a,v,w,M,C,L)):!1}H.exports=l},2958:(H,E,e)=>{var t=e(46384),u=e(90939),s=1,g=2;function P(y,O,c,f){var d=c.length,T=d,D=!f;if(y==null)return!T;for(y=Object(y);d--;){var I=c[d];if(D&&I[2]?I[1]!==y[I[0]]:!(I[0]in y))return!1}for(;++d<T;){I=c[d];var p=I[0],l=y[p],a=I[1];if(D&&I[2]){if(l===void 0&&!(p in y))return!1}else{var v=new t;if(f)var w=f(l,a,p,y,O,v);if(!(w===void 0?u(a,l,s|g,f,v):w))return!1}}return!0}H.exports=P},62722:H=>{function E(e){return e!==e}H.exports=E},28458:(H,E,e)=>{var t=e(23560),u=e(15346),s=e(13218),g=e(80346),P=/[\\^$.*+?()[\]{}|]/g,y=/^\[object .+?Constructor\]$/,O=Function.prototype,c=Object.prototype,f=O.toString,d=c.hasOwnProperty,T=RegExp("^"+f.call(d).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(I){if(!s(I)||u(I))return!1;var p=t(I)?T:y;return p.test(g(I))}H.exports=D},38749:(H,E,e)=>{var t=e(44239),u=e(41780),s=e(37005),g="[object Arguments]",P="[object Array]",y="[object Boolean]",O="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",T="[object Number]",D="[object Object]",I="[object RegExp]",p="[object Set]",l="[object String]",a="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",M="[object Float32Array]",C="[object Float64Array]",L="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",R="[object Uint8Array]",U="[object Uint8ClampedArray]",F="[object Uint16Array]",$="[object Uint32Array]",G={};G[M]=G[C]=G[L]=G[S]=G[N]=G[R]=G[U]=G[F]=G[$]=!0,G[g]=G[P]=G[v]=G[y]=G[w]=G[O]=G[c]=G[f]=G[d]=G[T]=G[D]=G[I]=G[p]=G[l]=G[a]=!1;function Q(K){return s(K)&&u(K.length)&&!!G[t(K)]}H.exports=Q},67206:(H,E,e)=>{var t=e(91573),u=e(16432),s=e(6557),g=e(1469),P=e(39601);function y(O){return typeof O=="function"?O:O==null?s:typeof O=="object"?g(O)?u(O[0],O[1]):t(O):P(O)}H.exports=y},280:(H,E,e)=>{var t=e(25726),u=e(86916),s=Object.prototype,g=s.hasOwnProperty;function P(y){if(!t(y))return u(y);var O=[];for(var c in Object(y))g.call(y,c)&&c!="constructor"&&O.push(c);return O}H.exports=P},69199:(H,E,e)=>{var t=e(89881),u=e(98612);function s(g,P){var y=-1,O=u(g)?Array(g.length):[];return t(g,function(c,f,d){O[++y]=P(c,f,d)}),O}H.exports=s},91573:(H,E,e)=>{var t=e(2958),u=e(1499),s=e(42634);function g(P){var y=u(P);return y.length==1&&y[0][2]?s(y[0][0],y[0][1]):function(O){return O===P||t(O,P,y)}}H.exports=g},16432:(H,E,e)=>{var t=e(90939),u=e(27361),s=e(79095),g=e(15403),P=e(89162),y=e(42634),O=e(40327),c=1,f=2;function d(T,D){return g(T)&&P(D)?y(O(T),D):function(I){var p=u(I,T);return p===void 0&&p===D?s(I,T):t(D,p,c|f)}}H.exports=d},82689:(H,E,e)=>{var t=e(29932),u=e(97786),s=e(67206),g=e(69199),P=e(71131),y=e(7518),O=e(85022),c=e(6557),f=e(1469);function d(T,D,I){D.length?D=t(D,function(a){return f(a)?function(v){return u(v,a.length===1?a[0]:a)}:a}):D=[c];var p=-1;D=t(D,y(s));var l=g(T,function(a,v,w){var M=t(D,function(C){return C(a)});return{criteria:M,index:++p,value:a}});return P(l,function(a,v){return O(a,v,I)})}H.exports=d},25970:(H,E,e)=>{var t=e(63012),u=e(79095);function s(g,P){return t(g,P,function(y,O){return u(g,O)})}H.exports=s},63012:(H,E,e)=>{var t=e(97786),u=e(10611),s=e(71811);function g(P,y,O){for(var c=-1,f=y.length,d={};++c<f;){var T=y[c],D=t(P,T);O(D,T)&&u(d,s(T,P),D)}return d}H.exports=g},40371:H=>{function E(e){return function(t){return t==null?void 0:t[e]}}H.exports=E},79152:(H,E,e)=>{var t=e(97786);function u(s){return function(g){return t(g,s)}}H.exports=u},18674:H=>{function E(e){return function(t){return e==null?void 0:e[t]}}H.exports=E},5976:(H,E,e)=>{var t=e(6557),u=e(45357),s=e(30061);function g(P,y){return s(u(P,y,t),P+"")}H.exports=g},10611:(H,E,e)=>{var t=e(34865),u=e(71811),s=e(65776),g=e(13218),P=e(40327);function y(O,c,f,d){if(!g(O))return O;c=u(c,O);for(var T=-1,D=c.length,I=D-1,p=O;p!=null&&++T<D;){var l=P(c[T]),a=f;if(l==="__proto__"||l==="constructor"||l==="prototype")return O;if(T!=I){var v=p[l];a=d?d(v,l,p):void 0,a===void 0&&(a=g(v)?v:s(c[T+1])?[]:{})}t(p,l,a),p=p[l]}return O}H.exports=y},56560:(H,E,e)=>{var t=e(75703),u=e(38777),s=e(6557),g=u?function(P,y){return u(P,"toString",{configurable:!0,enumerable:!1,value:t(y),writable:!0})}:s;H.exports=g},14259:H=>{function E(e,t,u){var s=-1,g=e.length;t<0&&(t=-t>g?0:g+t),u=u>g?g:u,u<0&&(u+=g),g=t>u?0:u-t>>>0,t>>>=0;for(var P=Array(g);++s<g;)P[s]=e[s+t];return P}H.exports=E},71131:H=>{function E(e,t){var u=e.length;for(e.sort(t);u--;)e[u]=e[u].value;return e}H.exports=E},67762:H=>{function E(e,t){for(var u,s=-1,g=e.length;++s<g;){var P=t(e[s]);P!==void 0&&(u=u===void 0?P:u+P)}return u}H.exports=E},22545:H=>{function E(e,t){for(var u=-1,s=Array(e);++u<e;)s[u]=t(u);return s}H.exports=E},80531:(H,E,e)=>{var t=e(62705),u=e(29932),s=e(1469),g=e(33448),P=1/0,y=t?t.prototype:void 0,O=y?y.toString:void 0;function c(f){if(typeof f=="string")return f;if(s(f))return u(f,c)+"";if(g(f))return O?O.call(f):"";var d=f+"";return d=="0"&&1/f==-P?"-0":d}H.exports=c},27561:(H,E,e)=>{var t=e(67990),u=/^\s+/;function s(g){return g&&g.slice(0,t(g)+1).replace(u,"")}H.exports=s},7518:H=>{function E(e){return function(t){return e(t)}}H.exports=E},45652:(H,E,e)=>{var t=e(88668),u=e(47443),s=e(1196),g=e(74757),P=e(23593),y=e(21814),O=200;function c(f,d,T){var D=-1,I=u,p=f.length,l=!0,a=[],v=a;if(T)l=!1,I=s;else if(p>=O){var w=d?null:P(f);if(w)return y(w);l=!1,I=g,v=new t}else v=d?[]:a;e:for(;++D<p;){var M=f[D],C=d?d(M):M;if(M=T||M!==0?M:0,l&&C===C){for(var L=v.length;L--;)if(v[L]===C)continue e;d&&v.push(C),a.push(M)}else I(v,C,T)||(v!==a&&v.push(C),a.push(M))}return a}H.exports=c},74757:H=>{function E(e,t){return e.has(t)}H.exports=E},54290:(H,E,e)=>{var t=e(6557);function u(s){return typeof s=="function"?s:t}H.exports=u},71811:(H,E,e)=>{var t=e(1469),u=e(15403),s=e(55514),g=e(79833);function P(y,O){return t(y)?y:u(y,O)?[y]:s(g(y))}H.exports=P},40180:(H,E,e)=>{var t=e(14259);function u(s,g,P){var y=s.length;return P=P===void 0?y:P,!g&&P>=y?s:t(s,g,P)}H.exports=u},26393:(H,E,e)=>{var t=e(33448);function u(s,g){if(s!==g){var P=s!==void 0,y=s===null,O=s===s,c=t(s),f=g!==void 0,d=g===null,T=g===g,D=t(g);if(!d&&!D&&!c&&s>g||c&&f&&T&&!d&&!D||y&&f&&T||!P&&T||!O)return 1;if(!y&&!c&&!D&&s<g||D&&P&&O&&!y&&!c||d&&P&&O||!f&&O||!T)return-1}return 0}H.exports=u},85022:(H,E,e)=>{var t=e(26393);function u(s,g,P){for(var y=-1,O=s.criteria,c=g.criteria,f=O.length,d=P.length;++y<f;){var T=t(O[y],c[y]);if(T){if(y>=d)return T;var D=P[y];return T*(D=="desc"?-1:1)}}return s.index-g.index}H.exports=u},14429:(H,E,e)=>{var t=e(55639),u=t["__core-js_shared__"];H.exports=u},55189:(H,E,e)=>{var t=e(44174),u=e(81119),s=e(67206),g=e(1469);function P(y,O){return function(c,f){var d=g(c)?t:u,T=O?O():{};return d(c,y,s(f,2),T)}}H.exports=P},99291:(H,E,e)=>{var t=e(98612);function u(s,g){return function(P,y){if(P==null)return P;if(!t(P))return s(P,y);for(var O=P.length,c=g?O:-1,f=Object(P);(g?c--:++c<O)&&y(f[c],c,f)!==!1;);return P}}H.exports=u},25063:H=>{function E(e){return function(t,u,s){for(var g=-1,P=Object(t),y=s(t),O=y.length;O--;){var c=y[e?O:++g];if(u(P[c],c,P)===!1)break}return t}}H.exports=E},98805:(H,E,e)=>{var t=e(40180),u=e(62689),s=e(83140),g=e(79833);function P(y){return function(O){O=g(O);var c=u(O)?s(O):void 0,f=c?c[0]:O.charAt(0),d=c?t(c,1).join(""):O.slice(1);return f[y]()+d}}H.exports=P},35393:(H,E,e)=>{var t=e(62663),u=e(53816),s=e(58748),g="['\u2019]",P=RegExp(g,"g");function y(O){return function(c){return t(s(u(c).replace(P,"")),O,"")}}H.exports=y},23593:(H,E,e)=>{var t=e(58525),u=e(50308),s=e(21814),g=1/0,P=t&&1/s(new t([,-0]))[1]==g?function(y){return new t(y)}:u;H.exports=P},69389:(H,E,e)=>{var t=e(18674),u={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},s=t(u);H.exports=s},38777:(H,E,e)=>{var t=e(10852),u=function(){try{var s=t(Object,"defineProperty");return s({},"",{}),s}catch(g){}}();H.exports=u},67114:(H,E,e)=>{var t=e(88668),u=e(82908),s=e(74757),g=1,P=2;function y(O,c,f,d,T,D){var I=f&g,p=O.length,l=c.length;if(p!=l&&!(I&&l>p))return!1;var a=D.get(O),v=D.get(c);if(a&&v)return a==c&&v==O;var w=-1,M=!0,C=f&P?new t:void 0;for(D.set(O,c),D.set(c,O);++w<p;){var L=O[w],S=c[w];if(d)var N=I?d(S,L,w,c,O,D):d(L,S,w,O,c,D);if(N!==void 0){if(N)continue;M=!1;break}if(C){if(!u(c,function(R,U){if(!s(C,U)&&(L===R||T(L,R,f,d,D)))return C.push(U)})){M=!1;break}}else if(!(L===S||T(L,S,f,d,D))){M=!1;break}}return D.delete(O),D.delete(c),M}H.exports=y},18351:(H,E,e)=>{var t=e(62705),u=e(11149),s=e(77813),g=e(67114),P=e(68776),y=e(21814),O=1,c=2,f="[object Boolean]",d="[object Date]",T="[object Error]",D="[object Map]",I="[object Number]",p="[object RegExp]",l="[object Set]",a="[object String]",v="[object Symbol]",w="[object ArrayBuffer]",M="[object DataView]",C=t?t.prototype:void 0,L=C?C.valueOf:void 0;function S(N,R,U,F,$,G,Q){switch(U){case M:if(N.byteLength!=R.byteLength||N.byteOffset!=R.byteOffset)return!1;N=N.buffer,R=R.buffer;case w:return!(N.byteLength!=R.byteLength||!G(new u(N),new u(R)));case f:case d:case I:return s(+N,+R);case T:return N.name==R.name&&N.message==R.message;case p:case a:return N==R+"";case D:var K=P;case l:var W=F&O;if(K||(K=y),N.size!=R.size&&!W)return!1;var Y=Q.get(N);if(Y)return Y==R;F|=c,Q.set(N,R);var ne=g(K(N),K(R),F,$,G,Q);return Q.delete(N),ne;case v:if(L)return L.call(N)==L.call(R)}return!1}H.exports=S},16096:(H,E,e)=>{var t=e(58234),u=1,s=Object.prototype,g=s.hasOwnProperty;function P(y,O,c,f,d,T){var D=c&u,I=t(y),p=I.length,l=t(O),a=l.length;if(p!=a&&!D)return!1;for(var v=p;v--;){var w=I[v];if(!(D?w in O:g.call(O,w)))return!1}var M=T.get(y),C=T.get(O);if(M&&C)return M==O&&C==y;var L=!0;T.set(y,O),T.set(O,y);for(var S=D;++v<p;){w=I[v];var N=y[w],R=O[w];if(f)var U=D?f(R,N,w,O,y,T):f(N,R,w,y,O,T);if(!(U===void 0?N===R||d(N,R,c,f,T):U)){L=!1;break}S||(S=w=="constructor")}if(L&&!S){var F=y.constructor,$=O.constructor;F!=$&&"constructor"in y&&"constructor"in O&&!(typeof F=="function"&&F instanceof F&&typeof $=="function"&&$ instanceof $)&&(L=!1)}return T.delete(y),T.delete(O),L}H.exports=P},99021:(H,E,e)=>{var t=e(85564),u=e(45357),s=e(30061);function g(P){return s(u(P,void 0,t),P+"")}H.exports=g},31957:(H,E,e)=>{var t=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;H.exports=t},58234:(H,E,e)=>{var t=e(68866),u=e(99551),s=e(3674);function g(P){return t(P,s,u)}H.exports=g},45050:(H,E,e)=>{var t=e(37019);function u(s,g){var P=s.__data__;return t(g)?P[typeof g=="string"?"string":"hash"]:P.map}H.exports=u},1499:(H,E,e)=>{var t=e(89162),u=e(3674);function s(g){for(var P=u(g),y=P.length;y--;){var O=P[y],c=g[O];P[y]=[O,c,t(c)]}return P}H.exports=s},10852:(H,E,e)=>{var t=e(28458),u=e(47801);function s(g,P){var y=u(g,P);return t(y)?y:void 0}H.exports=s},89607:(H,E,e)=>{var t=e(62705),u=Object.prototype,s=u.hasOwnProperty,g=u.toString,P=t?t.toStringTag:void 0;function y(O){var c=s.call(O,P),f=O[P];try{O[P]=void 0;var d=!0}catch(D){}var T=g.call(O);return d&&(c?O[P]=f:delete O[P]),T}H.exports=y},99551:(H,E,e)=>{var t=e(34963),u=e(70479),s=Object.prototype,g=s.propertyIsEnumerable,P=Object.getOwnPropertySymbols,y=P?function(O){return O==null?[]:(O=Object(O),t(P(O),function(c){return g.call(O,c)}))}:u;H.exports=y},64160:(H,E,e)=>{var t=e(18552),u=e(57071),s=e(53818),g=e(58525),P=e(70577),y=e(44239),O=e(80346),c="[object Map]",f="[object Object]",d="[object Promise]",T="[object Set]",D="[object WeakMap]",I="[object DataView]",p=O(t),l=O(u),a=O(s),v=O(g),w=O(P),M=y;(t&&M(new t(new ArrayBuffer(1)))!=I||u&&M(new u)!=c||s&&M(s.resolve())!=d||g&&M(new g)!=T||P&&M(new P)!=D)&&(M=function(C){var L=y(C),S=L==f?C.constructor:void 0,N=S?O(S):"";if(N)switch(N){case p:return I;case l:return c;case a:return d;case v:return T;case w:return D}return L}),H.exports=M},47801:H=>{function E(e,t){return e==null?void 0:e[t]}H.exports=E},222:(H,E,e)=>{var t=e(71811),u=e(35694),s=e(1469),g=e(65776),P=e(41780),y=e(40327);function O(c,f,d){f=t(f,c);for(var T=-1,D=f.length,I=!1;++T<D;){var p=y(f[T]);if(!(I=c!=null&&d(c,p)))break;c=c[p]}return I||++T!=D?I:(D=c==null?0:c.length,!!D&&P(D)&&g(p,D)&&(s(c)||u(c)))}H.exports=O},62689:H=>{var E="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=e+t+u,g="\\ufe0e\\ufe0f",P="\\u200d",y=RegExp("["+P+E+s+g+"]");function O(c){return y.test(c)}H.exports=O},93157:H=>{var E=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(t){return E.test(t)}H.exports=e},51789:(H,E,e)=>{var t=e(94536);function u(){this.__data__=t?t(null):{},this.size=0}H.exports=u},80401:H=>{function E(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}H.exports=E},57667:(H,E,e)=>{var t=e(94536),u="__lodash_hash_undefined__",s=Object.prototype,g=s.hasOwnProperty;function P(y){var O=this.__data__;if(t){var c=O[y];return c===u?void 0:c}return g.call(O,y)?O[y]:void 0}H.exports=P},21327:(H,E,e)=>{var t=e(94536),u=Object.prototype,s=u.hasOwnProperty;function g(P){var y=this.__data__;return t?y[P]!==void 0:s.call(y,P)}H.exports=g},81866:(H,E,e)=>{var t=e(94536),u="__lodash_hash_undefined__";function s(g,P){var y=this.__data__;return this.size+=this.has(g)?0:1,y[g]=t&&P===void 0?u:P,this}H.exports=s},37285:(H,E,e)=>{var t=e(62705),u=e(35694),s=e(1469),g=t?t.isConcatSpreadable:void 0;function P(y){return s(y)||u(y)||!!(g&&y&&y[g])}H.exports=P},65776:H=>{var E=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(u,s){var g=typeof u;return s=s==null?E:s,!!s&&(g=="number"||g!="symbol"&&e.test(u))&&u>-1&&u%1==0&&u<s}H.exports=t},16612:(H,E,e)=>{var t=e(77813),u=e(98612),s=e(65776),g=e(13218);function P(y,O,c){if(!g(c))return!1;var f=typeof O;return(f=="number"?u(c)&&s(O,c.length):f=="string"&&O in c)?t(c[O],y):!1}H.exports=P},15403:(H,E,e)=>{var t=e(1469),u=e(33448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function P(y,O){if(t(y))return!1;var c=typeof y;return c=="number"||c=="symbol"||c=="boolean"||y==null||u(y)?!0:g.test(y)||!s.test(y)||O!=null&&y in Object(O)}H.exports=P},37019:H=>{function E(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}H.exports=E},15346:(H,E,e)=>{var t=e(14429),u=function(){var g=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function s(g){return!!u&&u in g}H.exports=s},25726:H=>{var E=Object.prototype;function e(t){var u=t&&t.constructor,s=typeof u=="function"&&u.prototype||E;return t===s}H.exports=e},89162:(H,E,e)=>{var t=e(13218);function u(s){return s===s&&!t(s)}H.exports=u},27040:H=>{function E(){this.__data__=[],this.size=0}H.exports=E},14125:(H,E,e)=>{var t=e(18470),u=Array.prototype,s=u.splice;function g(P){var y=this.__data__,O=t(y,P);if(O<0)return!1;var c=y.length-1;return O==c?y.pop():s.call(y,O,1),--this.size,!0}H.exports=g},82117:(H,E,e)=>{var t=e(18470);function u(s){var g=this.__data__,P=t(g,s);return P<0?void 0:g[P][1]}H.exports=u},67518:(H,E,e)=>{var t=e(18470);function u(s){return t(this.__data__,s)>-1}H.exports=u},54705:(H,E,e)=>{var t=e(18470);function u(s,g){var P=this.__data__,y=t(P,s);return y<0?(++this.size,P.push([s,g])):P[y][1]=g,this}H.exports=u},24785:(H,E,e)=>{var t=e(1989),u=e(38407),s=e(57071);function g(){this.size=0,this.__data__={hash:new t,map:new(s||u),string:new t}}H.exports=g},11285:(H,E,e)=>{var t=e(45050);function u(s){var g=t(this,s).delete(s);return this.size-=g?1:0,g}H.exports=u},96e3:(H,E,e)=>{var t=e(45050);function u(s){return t(this,s).get(s)}H.exports=u},49916:(H,E,e)=>{var t=e(45050);function u(s){return t(this,s).has(s)}H.exports=u},95265:(H,E,e)=>{var t=e(45050);function u(s,g){var P=t(this,s),y=P.size;return P.set(s,g),this.size+=P.size==y?0:1,this}H.exports=u},68776:H=>{function E(e){var t=-1,u=Array(e.size);return e.forEach(function(s,g){u[++t]=[g,s]}),u}H.exports=E},42634:H=>{function E(e,t){return function(u){return u==null?!1:u[e]===t&&(t!==void 0||e in Object(u))}}H.exports=E},24523:(H,E,e)=>{var t=e(88306),u=500;function s(g){var P=t(g,function(O){return y.size===u&&y.clear(),O}),y=P.cache;return P}H.exports=s},94536:(H,E,e)=>{var t=e(10852),u=t(Object,"create");H.exports=u},86916:(H,E,e)=>{var t=e(5569),u=t(Object.keys,Object);H.exports=u},31167:(H,E,e)=>{H=e.nmd(H);var t=e(31957),u=E&&!E.nodeType&&E,s=u&&!0&&H&&!H.nodeType&&H,g=s&&s.exports===u,P=g&&t.process,y=function(){try{var O=s&&s.require&&s.require("util").types;return O||P&&P.binding&&P.binding("util")}catch(c){}}();H.exports=y},2333:H=>{var E=Object.prototype,e=E.toString;function t(u){return e.call(u)}H.exports=t},5569:H=>{function E(e,t){return function(u){return e(t(u))}}H.exports=E},45357:(H,E,e)=>{var t=e(96874),u=Math.max;function s(g,P,y){return P=u(P===void 0?g.length-1:P,0),function(){for(var O=arguments,c=-1,f=u(O.length-P,0),d=Array(f);++c<f;)d[c]=O[P+c];c=-1;for(var T=Array(P+1);++c<P;)T[c]=O[c];return T[P]=y(d),t(g,this,T)}}H.exports=s},55639:(H,E,e)=>{var t=e(31957),u=typeof self=="object"&&self&&self.Object===Object&&self,s=t||u||Function("return this")();H.exports=s},90619:H=>{var E="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,E),this}H.exports=e},72385:H=>{function E(e){return this.__data__.has(e)}H.exports=E},21814:H=>{function E(e){var t=-1,u=Array(e.size);return e.forEach(function(s){u[++t]=s}),u}H.exports=E},30061:(H,E,e)=>{var t=e(56560),u=e(21275),s=u(t);H.exports=s},21275:H=>{var E=800,e=16,t=Date.now;function u(s){var g=0,P=0;return function(){var y=t(),O=e-(y-P);if(P=y,O>0){if(++g>=E)return arguments[0]}else g=0;return s.apply(void 0,arguments)}}H.exports=u},37465:(H,E,e)=>{var t=e(38407);function u(){this.__data__=new t,this.size=0}H.exports=u},63779:H=>{function E(e){var t=this.__data__,u=t.delete(e);return this.size=t.size,u}H.exports=E},67599:H=>{function E(e){return this.__data__.get(e)}H.exports=E},44758:H=>{function E(e){return this.__data__.has(e)}H.exports=E},34309:(H,E,e)=>{var t=e(38407),u=e(57071),s=e(83369),g=200;function P(y,O){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!u||f.length<g-1)return f.push([y,O]),this.size=++c.size,this;c=this.__data__=new s(f)}return c.set(y,O),this.size=c.size,this}H.exports=P},42351:H=>{function E(e,t,u){for(var s=u-1,g=e.length;++s<g;)if(e[s]===t)return s;return-1}H.exports=E},83140:(H,E,e)=>{var t=e(44286),u=e(62689),s=e(676);function g(P){return u(P)?s(P):t(P)}H.exports=g},55514:(H,E,e)=>{var t=e(24523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,g=t(function(P){var y=[];return P.charCodeAt(0)===46&&y.push(""),P.replace(u,function(O,c,f,d){y.push(f?d.replace(s,"$1"):c||O)}),y});H.exports=g},40327:(H,E,e)=>{var t=e(33448),u=1/0;function s(g){if(typeof g=="string"||t(g))return g;var P=g+"";return P=="0"&&1/g==-u?"-0":P}H.exports=s},80346:H=>{var E=Function.prototype,e=E.toString;function t(u){if(u!=null){try{return e.call(u)}catch(s){}try{return u+""}catch(s){}}return""}H.exports=t},67990:H=>{var E=/\s/;function e(t){for(var u=t.length;u--&&E.test(t.charAt(u)););return u}H.exports=e},676:H=>{var E="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=e+t+u,g="\\ufe0e\\ufe0f",P="["+E+"]",y="["+s+"]",O="\\ud83c[\\udffb-\\udfff]",c="(?:"+y+"|"+O+")",f="[^"+E+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",D="\\u200d",I=c+"?",p="["+g+"]?",l="(?:"+D+"(?:"+[f,d,T].join("|")+")"+p+I+")*",a=p+I+l,v="(?:"+[f+y+"?",y,d,T,P].join("|")+")",w=RegExp(O+"(?="+O+")|"+v+a,"g");function M(C){return C.match(w)||[]}H.exports=M},2757:H=>{var E="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=e+t+u,g="\\u2700-\\u27bf",P="a-z\\xdf-\\xf6\\xf8-\\xff",y="\\xac\\xb1\\xd7\\xf7",O="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="A-Z\\xc0-\\xd6\\xd8-\\xde",T="\\ufe0e\\ufe0f",D=y+O+c+f,I="['\u2019]",p="["+D+"]",l="["+s+"]",a="\\d+",v="["+g+"]",w="["+P+"]",M="[^"+E+D+a+g+P+d+"]",C="\\ud83c[\\udffb-\\udfff]",L="(?:"+l+"|"+C+")",S="[^"+E+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+d+"]",F="\\u200d",$="(?:"+w+"|"+M+")",G="(?:"+U+"|"+M+")",Q="(?:"+I+"(?:d|ll|m|re|s|t|ve))?",K="(?:"+I+"(?:D|LL|M|RE|S|T|VE))?",W=L+"?",Y="["+T+"]?",ne="(?:"+F+"(?:"+[S,N,R].join("|")+")"+Y+W+")*",V="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",j="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",te=Y+W+ne,ie="(?:"+[v,N,R].join("|")+")"+te,ue=RegExp([U+"?"+w+"+"+Q+"(?="+[p,U,"$"].join("|")+")",G+"+"+K+"(?="+[p,U+$,"$"].join("|")+")",U+"?"+$+"+"+Q,U+"+"+K,j,V,a,ie].join("|"),"g");function he(Z){return Z.match(ue)||[]}H.exports=he},48403:(H,E,e)=>{var t=e(79833),u=e(11700);function s(g){return u(t(g).toLowerCase())}H.exports=s},8400:(H,E,e)=>{var t=e(14259),u=e(16612),s=e(40554),g=Math.ceil,P=Math.max;function y(O,c,f){(f?u(O,c,f):c===void 0)?c=1:c=P(s(c),0);var d=O==null?0:O.length;if(!d||c<1)return[];for(var T=0,D=0,I=Array(g(d/c));T<d;)I[D++]=t(O,T,T+=c);return I}H.exports=y},74691:(H,E,e)=>{var t=e(29750),u=e(14841);function s(g,P,y){return y===void 0&&(y=P,P=void 0),y!==void 0&&(y=u(y),y=y===y?y:0),P!==void 0&&(P=u(P),P=P===P?P:0),t(u(g),P,y)}H.exports=s},39693:H=>{function E(e){for(var t=-1,u=e==null?0:e.length,s=0,g=[];++t<u;){var P=e[t];P&&(g[s++]=P)}return g}H.exports=E},75703:H=>{function E(e){return function(){return e}}H.exports=E},23279:(H,E,e)=>{var t=e(13218),u=e(7771),s=e(14841),g="Expected a function",P=Math.max,y=Math.min;function O(c,f,d){var T,D,I,p,l,a,v=0,w=!1,M=!1,C=!0;if(typeof c!="function")throw new TypeError(g);f=s(f)||0,t(d)&&(w=!!d.leading,M="maxWait"in d,I=M?P(s(d.maxWait)||0,f):I,C="trailing"in d?!!d.trailing:C);function L(K){var W=T,Y=D;return T=D=void 0,v=K,p=c.apply(Y,W),p}function S(K){return v=K,l=setTimeout(U,f),w?L(K):p}function N(K){var W=K-a,Y=K-v,ne=f-W;return M?y(ne,I-Y):ne}function R(K){var W=K-a,Y=K-v;return a===void 0||W>=f||W<0||M&&Y>=I}function U(){var K=u();if(R(K))return F(K);l=setTimeout(U,N(K))}function F(K){return l=void 0,C&&T?L(K):(T=D=void 0,p)}function $(){l!==void 0&&clearTimeout(l),v=0,T=a=D=l=void 0}function G(){return l===void 0?p:F(u())}function Q(){var K=u(),W=R(K);if(T=arguments,D=this,a=K,W){if(l===void 0)return S(a);if(M)return clearTimeout(l),l=setTimeout(U,f),L(a)}return l===void 0&&(l=setTimeout(U,f)),p}return Q.cancel=$,Q.flush=G,Q}H.exports=O},53816:(H,E,e)=>{var t=e(69389),u=e(79833),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g="\\u0300-\\u036f",P="\\ufe20-\\ufe2f",y="\\u20d0-\\u20ff",O=g+P+y,c="["+O+"]",f=RegExp(c,"g");function d(T){return T=u(T),T&&T.replace(s,t).replace(f,"")}H.exports=d},77813:H=>{function E(e,t){return e===t||e!==e&&t!==t}H.exports=E},7436:(H,E,e)=>{var t=e(41848),u=e(67206),s=e(40554),g=Math.max,P=Math.min;function y(O,c,f){var d=O==null?0:O.length;if(!d)return-1;var T=d-1;return f!==void 0&&(T=s(f),T=f<0?g(d+T,0):P(T,d-1)),t(O,u(c,3),T,!0)}H.exports=y},85564:(H,E,e)=>{var t=e(21078);function u(s){var g=s==null?0:s.length;return g?t(s,1):[]}H.exports=u},27361:(H,E,e)=>{var t=e(97786);function u(s,g,P){var y=s==null?void 0:t(s,g);return y===void 0?P:y}H.exports=u},7739:(H,E,e)=>{var t=e(89465),u=e(55189),s=Object.prototype,g=s.hasOwnProperty,P=u(function(y,O,c){g.call(y,c)?y[c].push(O):t(y,c,[O])});H.exports=P},79095:(H,E,e)=>{var t=e(13),u=e(222);function s(g,P){return g!=null&&u(g,P,t)}H.exports=s},6557:H=>{function E(e){return e}H.exports=E},35694:(H,E,e)=>{var t=e(9454),u=e(37005),s=Object.prototype,g=s.hasOwnProperty,P=s.propertyIsEnumerable,y=t(function(){return arguments}())?t:function(O){return u(O)&&g.call(O,"callee")&&!P.call(O,"callee")};H.exports=y},1469:H=>{var E=Array.isArray;H.exports=E},98612:(H,E,e)=>{var t=e(23560),u=e(41780);function s(g){return g!=null&&u(g.length)&&!t(g)}H.exports=s},29246:(H,E,e)=>{var t=e(98612),u=e(37005);function s(g){return u(g)&&t(g)}H.exports=s},44144:(H,E,e)=>{H=e.nmd(H);var t=e(55639),u=e(95062),s=E&&!E.nodeType&&E,g=s&&!0&&H&&!H.nodeType&&H,P=g&&g.exports===s,y=P?t.Buffer:void 0,O=y?y.isBuffer:void 0,c=O||u;H.exports=c},18446:(H,E,e)=>{var t=e(90939);function u(s,g){return t(s,g)}H.exports=u},23560:(H,E,e)=>{var t=e(44239),u=e(13218),s="[object AsyncFunction]",g="[object Function]",P="[object GeneratorFunction]",y="[object Proxy]";function O(c){if(!u(c))return!1;var f=t(c);return f==g||f==P||f==s||f==y}H.exports=O},41780:H=>{var E=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=E}H.exports=e},14293:H=>{function E(e){return e==null}H.exports=E},13218:H=>{function E(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}H.exports=E},37005:H=>{function E(e){return e!=null&&typeof e=="object"}H.exports=E},33448:(H,E,e)=>{var t=e(44239),u=e(37005),s="[object Symbol]";function g(P){return typeof P=="symbol"||u(P)&&t(P)==s}H.exports=g},36719:(H,E,e)=>{var t=e(38749),u=e(7518),s=e(31167),g=s&&s.isTypedArray,P=g?u(g):t;H.exports=P},24350:(H,E,e)=>{var t=e(89465),u=e(55189),s=u(function(g,P,y){t(g,y,P)});H.exports=s},3674:(H,E,e)=>{var t=e(14636),u=e(280),s=e(98612);function g(P){return s(P)?t(P):u(P)}H.exports=g},88306:(H,E,e)=>{var t=e(83369),u="Expected a function";function s(g,P){if(typeof g!="function"||P!=null&&typeof P!="function")throw new TypeError(u);var y=function(){var O=arguments,c=P?P.apply(this,O):O[0],f=y.cache;if(f.has(c))return f.get(c);var d=g.apply(this,O);return y.cache=f.set(c,d)||f,d};return y.cache=new(s.Cache||t),y}s.Cache=t,H.exports=s},50308:H=>{function E(){}H.exports=E},7771:(H,E,e)=>{var t=e(55639),u=function(){return t.Date.now()};H.exports=u},43174:(H,E,e)=>{var t=e(55189),u=t(function(s,g,P){s[P?0:1].push(g)},function(){return[[],[]]});H.exports=u},78718:(H,E,e)=>{var t=e(25970),u=e(99021),s=u(function(g,P){return g==null?{}:t(g,P)});H.exports=s},39601:(H,E,e)=>{var t=e(40371),u=e(79152),s=e(15403),g=e(40327);function P(y){return s(y)?t(g(y)):u(y)}H.exports=P},89734:(H,E,e)=>{var t=e(21078),u=e(82689),s=e(5976),g=e(16612),P=s(function(y,O){if(y==null)return[];var c=O.length;return c>1&&g(y,O[0],O[1])?O=[]:c>2&&g(O[0],O[1],O[2])&&(O=[O[0]]),u(y,t(O,1),[])});H.exports=P},18029:(H,E,e)=>{var t=e(35393),u=e(11700),s=t(function(g,P,y){return g+(y?" ":"")+u(P)});H.exports=s},70479:H=>{function E(){return[]}H.exports=E},95062:H=>{function E(){return!1}H.exports=E},12297:(H,E,e)=>{var t=e(67762),u=e(6557);function s(g){return g&&g.length?t(g,u):0}H.exports=s},23493:(H,E,e)=>{var t=e(23279),u=e(13218),s="Expected a function";function g(P,y,O){var c=!0,f=!0;if(typeof P!="function")throw new TypeError(s);return u(O)&&(c="leading"in O?!!O.leading:c,f="trailing"in O?!!O.trailing:f),t(P,y,{leading:c,maxWait:y,trailing:f})}H.exports=g},98913:(H,E,e)=>{var t=e(22545),u=e(54290),s=e(40554),g=9007199254740991,P=4294967295,y=Math.min;function O(c,f){if(c=s(c),c<1||c>g)return[];var d=P,T=y(c,P);f=u(f),c-=P;for(var D=t(T,f);++d<c;)f(d);return D}H.exports=O},18601:(H,E,e)=>{var t=e(14841),u=1/0,s=17976931348623157e292;function g(P){if(!P)return P===0?P:0;if(P=t(P),P===u||P===-u){var y=P<0?-1:1;return y*s}return P===P?P:0}H.exports=g},40554:(H,E,e)=>{var t=e(18601);function u(s){var g=t(s),P=g%1;return g===g?P?g-P:g:0}H.exports=u},14841:(H,E,e)=>{var t=e(27561),u=e(13218),s=e(33448),g=0/0,P=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,O=/^0o[0-7]+$/i,c=parseInt;function f(d){if(typeof d=="number")return d;if(s(d))return g;if(u(d)){var T=typeof d.valueOf=="function"?d.valueOf():d;d=u(T)?T+"":T}if(typeof d!="string")return d===0?d:+d;d=t(d);var D=y.test(d);return D||O.test(d)?c(d.slice(2),D?2:8):P.test(d)?g:+d}H.exports=f},79833:(H,E,e)=>{var t=e(80531);function u(s){return s==null?"":t(s)}H.exports=u},44908:(H,E,e)=>{var t=e(45652);function u(s){return s&&s.length?t(s):[]}H.exports=u},73955:(H,E,e)=>{var t=e(79833),u=0;function s(g){var P=++u;return t(g)+P}H.exports=s},11700:(H,E,e)=>{var t=e(98805),u=t("toUpperCase");H.exports=u},82569:(H,E,e)=>{var t=e(20731),u=e(5976),s=e(29246),g=u(function(P,y){return s(P)?t(P,y):[]});H.exports=g},58748:(H,E,e)=>{var t=e(49029),u=e(93157),s=e(79833),g=e(2757);function P(y,O,c){return y=s(y),O=c?void 0:O,O===void 0?u(y)?g(y):t(y):y.match(O)||[]}H.exports=P},87021:(H,E,e)=>{"use strict";e.d(E,{Z:()=>g});var t=e(6400);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=P=>P.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g=(P,y)=>{const O=l=>{var a=l,{color:c="currentColor",size:f=24,strokeWidth:d=2,absoluteStrokeWidth:T,children:D,class:I=""}=a,p=Xn(a,["color","size","strokeWidth","absoluteStrokeWidth","children","class"]);return(0,t.h)("svg",kn(xo(kn({},u),{width:String(f),height:f,stroke:c,["stroke-width"]:T?Number(d)*24/Number(f):d,class:["lucide",`lucide-${s(P)}`,I].join(" ")}),p),[...y.map(([v,w])=>(0,t.h)(v,w)),...(0,t.toChildArray)(D)])};return O.displayName=`${P}`,O}},65862:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4675:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},66298:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},18794:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},19723:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25380:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},49336:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},56743:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2564:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},45570:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},45609:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},84146:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]])},71212:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},65207:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},23260:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},77951:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},84377:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},59543:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},922:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},32224:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98188:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]])},74655:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},53716:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]])},10293:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]])},25425:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},51043:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]])},40423:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},24840:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},28596:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},31131:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},87184:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},75500:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Subtitles",[["path",{d:"M7 13h4",key:"1m1xj0"}],["path",{d:"M15 13h2",key:"vgjay3"}],["path",{d:"M7 9h2",key:"1q072n"}],["path",{d:"M13 9h4",key:"o7fxw0"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Z",key:"5somay"}]])},27194:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},66440:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},17048:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},71375:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=(0,t.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9613:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"}},1942:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={reactionsHoverZone:"frontend-community-Reaction-module__reactionsHoverZone--gLKoO",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"}},15233:()=>{"use strict";var H={mainContainer:"frontend-components-ClipNux-module__mainContainer--BxA_d",speechBubble:"frontend-components-ClipNux-module__speechBubble--vHgss",childrenContainer:"frontend-components-ClipNux-module__childrenContainer--YhXer"}},45048:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"}},96656:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={root:"frontend-components-PressKitImage-module__root--ERwr7",rootHover:"frontend-components-PressKitImage-module__rootHover--fJrni",image:"frontend-components-PressKitImage-module__image--MPbfI",linkHovered:"frontend-components-PressKitImage-module__linkHovered--oOjNU",download:"frontend-components-PressKitImage-module__download--qS9sv",sharePage:"frontend-components-PressKitImage-module__sharePage--vXr1v",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",linkVariableHeight:"frontend-components-PressKitImage-module__linkVariableHeight--G6yJi",inline:"frontend-components-PressKitImage-module__inline--zFs8S",secondaryBorder:"frontend-components-PressKitImage-module__secondaryBorder--gmc0v",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L",buttons:"frontend-components-PressKitImage-module__buttons--osRDg",button:"frontend-components-PressKitImage-module__button--lJz1y"}},68262:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},78137:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={customizeAssetButton:"frontend-components-ShareAssetButtons-module__customizeAssetButton--Z1M6A",aspectTypeButton:"frontend-components-ShareAssetButtons-module__aspectTypeButton--L1tHI",aspectRatioButton:"frontend-components-ShareAssetButtons-module__aspectRatioButton--HCQZ2",selected:"frontend-components-ShareAssetButtons-module__selected--UfFTT",themeButton:"frontend-components-ShareAssetButtons-module__themeButton--TOYVN",imageBg:"frontend-components-ShareAssetButtons-module__imageBg--lPKv3",inner:"frontend-components-ShareAssetButtons-module__inner--uSJc8"}},71054:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={containerInline:"frontend-components-VideoClipperControls-module__containerInline--PBQ9a",containerElevated:"frontend-components-VideoClipperControls-module__containerElevated--Ur3YY",videoTrimmerWrapper:"frontend-components-VideoClipperControls-module__videoTrimmerWrapper--qFT6n",videoTrimmerSlider:"frontend-components-VideoClipperControls-module__videoTrimmerSlider--R29Jd",videoTrimmerSliderVisible:"frontend-components-VideoClipperControls-module__videoTrimmerSliderVisible--Ypk4j",durationContainer:"frontend-components-VideoClipperControls-module__durationContainer--zcjI8",captionsAvailable:"frontend-components-VideoClipperControls-module__captionsAvailable--qv0Os",captionsNotAvailable:"frontend-components-VideoClipperControls-module__captionsNotAvailable--V49Zk"}},33970:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={showAnyway:"frontend-feed-ExplicitFilter-module__showAnyway--Kq9PY"}},4924:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp",hiddenInput:"frontend-pencraft-Button-module__hiddenInput--IoYdR"}},28614:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-inherit":"frontend-pencraft-Text-module__size-inherit--svfip","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-pub-accent-inverse":"frontend-pencraft-Text-module__color-pub-accent-inverse--v7Zhh","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","color-always-white":"frontend-pencraft-Text-module__color-always-white--IcZV4","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",feedPad:"frontend-reader2-FeedPage2-module__feedPad--Kgu2r",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6"}},7980:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq",notifyConformModalPubRow:"frontend-reader2-NewPost-module__notifyConformModalPubRow--ARJ9X"}},95042:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},46140:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"}},57556:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={controlsCentered:"frontend-shows-ShowsAudioPlayer-module__controlsCentered--ytrUa",track:"frontend-shows-ShowsAudioPlayer-module__track--bMq51"}},33291:()=>{"use strict";var H={darkTheme:"styles-base-module__darkTheme--yNZ7w"}},57824:H=>{var E=1e3,e=E*60,t=e*60,u=t*24,s=u*7,g=u*365.25;H.exports=function(f,d){d=d||{};var T=typeof f;if(T==="string"&&f.length>0)return P(f);if(T==="number"&&isFinite(f))return d.long?O(f):y(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function P(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var T=parseFloat(d[1]),D=(d[2]||"ms").toLowerCase();switch(D){case"years":case"year":case"yrs":case"yr":case"y":return T*g;case"weeks":case"week":case"w":return T*s;case"days":case"day":case"d":return T*u;case"hours":case"hour":case"hrs":case"hr":case"h":return T*t;case"minutes":case"minute":case"mins":case"min":case"m":return T*e;case"seconds":case"second":case"secs":case"sec":case"s":return T*E;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}function y(f){var d=Math.abs(f);return d>=u?Math.round(f/u)+"d":d>=t?Math.round(f/t)+"h":d>=e?Math.round(f/e)+"m":d>=E?Math.round(f/E)+"s":f+"ms"}function O(f){var d=Math.abs(f);return d>=u?c(f,d,u,"day"):d>=t?c(f,d,t,"hour"):d>=e?c(f,d,e,"minute"):d>=E?c(f,d,E,"second"):f+" ms"}function c(f,d,T,D){var I=d>=T*1.5;return Math.round(f/T)+" "+D+(I?"s":"")}},27418:H=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function u(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}function s(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var P={},y=0;y<10;y++)P["_"+String.fromCharCode(y)]=y;var O=Object.getOwnPropertyNames(P).map(function(f){return P[f]});if(O.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch(f){return!1}}H.exports=s()?Object.assign:function(g,P){for(var y,O=u(g),c,f=1;f<arguments.length;f++){y=Object(arguments[f]);for(var d in y)e.call(y,d)&&(O[d]=y[d]);if(E){c=E(y);for(var T=0;T<c.length;T++)t.call(y,c[T])&&(O[c[T]]=y[c[T]])}}return O}},70631:(H,E,e)=>{var t=typeof Map=="function"&&Map.prototype,u=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=t&&u&&typeof u.get=="function"?u.get:null,g=t&&Map.prototype.forEach,P=typeof Set=="function"&&Set.prototype,y=Object.getOwnPropertyDescriptor&&P?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,O=P&&y&&typeof y.get=="function"?y.get:null,c=P&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,d=f?WeakMap.prototype.has:null,T=typeof WeakSet=="function"&&WeakSet.prototype,D=T?WeakSet.prototype.has:null,I=typeof WeakRef=="function"&&WeakRef.prototype,p=I?WeakRef.prototype.deref:null,l=Boolean.prototype.valueOf,a=Object.prototype.toString,v=Function.prototype.toString,w=String.prototype.match,M=String.prototype.slice,C=String.prototype.replace,L=String.prototype.toUpperCase,S=String.prototype.toLowerCase,N=RegExp.prototype.test,R=Array.prototype.concat,U=Array.prototype.join,F=Array.prototype.slice,$=Math.floor,G=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,W=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Y=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===W||"symbol")?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Pe){return Pe.__proto__}:null);function j(Pe,Ce){if(Pe===1/0||Pe===-1/0||Pe!==Pe||Pe&&Pe>-1e3&&Pe<1e3||N.call(/e/,Ce))return Ce;var Be=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Pe=="number"){var Ve=Pe<0?-$(-Pe):$(Pe);if(Ve!==Pe){var $e=String(Ve),Qe=M.call(Ce,$e.length+1);return C.call($e,Be,"$&_")+"."+C.call(C.call(Qe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(Ce,Be,"$&_")}var te=e(24654),ie=te.custom,ue=se(ie)?ie:null;H.exports=function Pe(Ce,Be,Ve,$e){var Qe=Be||{};if(ge(Qe,"quoteStyle")&&Qe.quoteStyle!=="single"&&Qe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ge(Qe,"maxStringLength")&&(typeof Qe.maxStringLength=="number"?Qe.maxStringLength<0&&Qe.maxStringLength!==1/0:Qe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ze=ge(Qe,"customInspect")?Qe.customInspect:!0;if(typeof ze!="boolean"&&ze!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ge(Qe,"indent")&&Qe.indent!==null&&Qe.indent!=="	"&&!(parseInt(Qe.indent,10)===Qe.indent&&Qe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ge(Qe,"numericSeparator")&&typeof Qe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ke=Qe.numericSeparator;if(typeof Ce=="undefined")return"undefined";if(Ce===null)return"null";if(typeof Ce=="boolean")return Ce?"true":"false";if(typeof Ce=="string")return De(Ce,Qe);if(typeof Ce=="number"){if(Ce===0)return 1/0/Ce>0?"0":"-0";var lt=String(Ce);return Ke?j(Ce,lt):lt}if(typeof Ce=="bigint"){var vt=String(Ce)+"n";return Ke?j(Ce,vt):vt}var Pt=typeof Qe.depth=="undefined"?5:Qe.depth;if(typeof Ve=="undefined"&&(Ve=0),Ve>=Pt&&Pt>0&&typeof Ce=="object")return J(Ce)?"[Array]":"[Object]";var Wt=Ze(Qe,Ve);if(typeof $e=="undefined")$e=[];else if(pe($e,Ce)>=0)return"[Circular]";function Ut(Kr,rn,En){if(rn&&($e=F.call($e),$e.push(rn)),En){var Pn={depth:Qe.depth};return ge(Qe,"quoteStyle")&&(Pn.quoteStyle=Qe.quoteStyle),Pe(Kr,Pn,Ve+1,$e)}return Pe(Kr,Qe,Ve+1,$e)}if(typeof Ce=="function"&&!le(Ce)){var jt=me(Ce),Vt=Ie(Ce,Ut);return"[Function"+(jt?": "+jt:" (anonymous)")+"]"+(Vt.length>0?" { "+U.call(Vt,", ")+" }":"")}if(se(Ce)){var lr=W?C.call(String(Ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Ce);return typeof Ce=="object"&&!W?pt(lr):lr}if(We(Ce)){for(var Jt="<"+S.call(String(Ce.nodeName)),or=Ce.attributes||[],Et=0;Et<or.length;Et++)Jt+=" "+or[Et].name+"="+he(Z(or[Et].value),"double",Qe);return Jt+=">",Ce.childNodes&&Ce.childNodes.length&&(Jt+="..."),Jt+="</"+S.call(String(Ce.nodeName))+">",Jt}if(J(Ce)){if(Ce.length===0)return"[]";var gr=Ie(Ce,Ut);return Wt&&!nt(gr)?"["+st(gr,Wt)+"]":"[ "+U.call(gr,", ")+" ]"}if(oe(Ce)){var Dr=Ie(Ce,Ut);return!("cause"in Error.prototype)&&"cause"in Ce&&!ne.call(Ce,"cause")?"{ ["+String(Ce)+"] "+U.call(R.call("[cause]: "+Ut(Ce.cause),Dr),", ")+" }":Dr.length===0?"["+String(Ce)+"]":"{ ["+String(Ce)+"] "+U.call(Dr,", ")+" }"}if(typeof Ce=="object"&&ze){if(ue&&typeof Ce[ue]=="function"&&te)return te(Ce,{depth:Pt-Ve});if(ze!=="symbol"&&typeof Ce.inspect=="function")return Ce.inspect()}if(Le(Ce)){var Or=[];return g&&g.call(Ce,function(Kr,rn){Or.push(Ut(rn,Ce,!0)+" => "+Ut(Kr,Ce))}),Ht("Map",s.call(Ce),Or,Wt)}if(ye(Ce)){var wr=[];return c&&c.call(Ce,function(Kr){wr.push(Ut(Kr,Ce))}),Ht("Set",O.call(Ce),wr,Wt)}if(je(Ce))return wt("WeakMap");if(Me(Ce))return wt("WeakSet");if(xe(Ce))return wt("WeakRef");if(z(Ce))return pt(Ut(Number(Ce)));if(fe(Ce))return pt(Ut(G.call(Ce)));if(re(Ce))return pt(l.call(Ce));if(ee(Ce))return pt(Ut(String(Ce)));if(!ae(Ce)&&!le(Ce)){var br=Ie(Ce,Ut),Ar=V?V(Ce)===Object.prototype:Ce instanceof Object||Ce.constructor===Object,jr=Ce instanceof Object?"":"null prototype",Ur=!Ar&&Y&&Object(Ce)===Ce&&Y in Ce?M.call(be(Ce),8,-1):jr?"Object":"",Er=Ar||typeof Ce.constructor!="function"?"":Ce.constructor.name?Ce.constructor.name+" ":"",Ir=Er+(Ur||jr?"["+U.call(R.call([],Ur||[],jr||[]),": ")+"] ":"");return br.length===0?Ir+"{}":Wt?Ir+"{"+st(br,Wt)+"}":Ir+"{ "+U.call(br,", ")+" }"}return String(Ce)};function he(Pe,Ce,Be){var Ve=(Be.quoteStyle||Ce)==="double"?'"':"'";return Ve+Pe+Ve}function Z(Pe){return C.call(String(Pe),/"/g,"&quot;")}function J(Pe){return be(Pe)==="[object Array]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function ae(Pe){return be(Pe)==="[object Date]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function le(Pe){return be(Pe)==="[object RegExp]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function oe(Pe){return be(Pe)==="[object Error]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function ee(Pe){return be(Pe)==="[object String]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function z(Pe){return be(Pe)==="[object Number]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function re(Pe){return be(Pe)==="[object Boolean]"&&(!Y||!(typeof Pe=="object"&&Y in Pe))}function se(Pe){if(W)return Pe&&typeof Pe=="object"&&Pe instanceof Symbol;if(typeof Pe=="symbol")return!0;if(!Pe||typeof Pe!="object"||!K)return!1;try{return K.call(Pe),!0}catch(Ce){}return!1}function fe(Pe){if(!Pe||typeof Pe!="object"||!G)return!1;try{return G.call(Pe),!0}catch(Ce){}return!1}var Ee=Object.prototype.hasOwnProperty||function(Pe){return Pe in this};function ge(Pe,Ce){return Ee.call(Pe,Ce)}function be(Pe){return a.call(Pe)}function me(Pe){if(Pe.name)return Pe.name;var Ce=w.call(v.call(Pe),/^function\s*([\w$]+)/);return Ce?Ce[1]:null}function pe(Pe,Ce){if(Pe.indexOf)return Pe.indexOf(Ce);for(var Be=0,Ve=Pe.length;Be<Ve;Be++)if(Pe[Be]===Ce)return Be;return-1}function Le(Pe){if(!s||!Pe||typeof Pe!="object")return!1;try{s.call(Pe);try{O.call(Pe)}catch(Ce){return!0}return Pe instanceof Map}catch(Ce){}return!1}function je(Pe){if(!d||!Pe||typeof Pe!="object")return!1;try{d.call(Pe,d);try{D.call(Pe,D)}catch(Ce){return!0}return Pe instanceof WeakMap}catch(Ce){}return!1}function xe(Pe){if(!p||!Pe||typeof Pe!="object")return!1;try{return p.call(Pe),!0}catch(Ce){}return!1}function ye(Pe){if(!O||!Pe||typeof Pe!="object")return!1;try{O.call(Pe);try{s.call(Pe)}catch(Ce){return!0}return Pe instanceof Set}catch(Ce){}return!1}function Me(Pe){if(!D||!Pe||typeof Pe!="object")return!1;try{D.call(Pe,D);try{d.call(Pe,d)}catch(Ce){return!0}return Pe instanceof WeakSet}catch(Ce){}return!1}function We(Pe){return!Pe||typeof Pe!="object"?!1:typeof HTMLElement!="undefined"&&Pe instanceof HTMLElement?!0:typeof Pe.nodeName=="string"&&typeof Pe.getAttribute=="function"}function De(Pe,Ce){if(Pe.length>Ce.maxStringLength){var Be=Pe.length-Ce.maxStringLength,Ve="... "+Be+" more character"+(Be>1?"s":"");return De(M.call(Pe,0,Ce.maxStringLength),Ce)+Ve}var $e=C.call(C.call(Pe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ge);return he($e,"single",Ce)}function Ge(Pe){var Ce=Pe.charCodeAt(0),Be={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ce];return Be?"\\"+Be:"\\x"+(Ce<16?"0":"")+L.call(Ce.toString(16))}function pt(Pe){return"Object("+Pe+")"}function wt(Pe){return Pe+" { ? }"}function Ht(Pe,Ce,Be,Ve){var $e=Ve?st(Be,Ve):U.call(Be,", ");return Pe+" ("+Ce+") {"+$e+"}"}function nt(Pe){for(var Ce=0;Ce<Pe.length;Ce++)if(pe(Pe[Ce],`
`)>=0)return!1;return!0}function Ze(Pe,Ce){var Be;if(Pe.indent==="	")Be="	";else if(typeof Pe.indent=="number"&&Pe.indent>0)Be=U.call(Array(Pe.indent+1)," ");else return null;return{base:Be,prev:U.call(Array(Ce+1),Be)}}function st(Pe,Ce){if(Pe.length===0)return"";var Be=`
`+Ce.prev+Ce.base;return Be+U.call(Pe,","+Be)+`
`+Ce.prev}function Ie(Pe,Ce){var Be=J(Pe),Ve=[];if(Be){Ve.length=Pe.length;for(var $e=0;$e<Pe.length;$e++)Ve[$e]=ge(Pe,$e)?Ce(Pe[$e],Pe):""}var Qe=typeof Q=="function"?Q(Pe):[],ze;if(W){ze={};for(var Ke=0;Ke<Qe.length;Ke++)ze["$"+Qe[Ke]]=Qe[Ke]}for(var lt in Pe)ge(Pe,lt)&&(Be&&String(Number(lt))===lt&&lt<Pe.length||W&&ze["$"+lt]instanceof Symbol||(N.call(/[^\w$]/,lt)?Ve.push(Ce(lt,Pe)+": "+Ce(Pe[lt],Pe)):Ve.push(lt+": "+Ce(Pe[lt],Pe))));if(typeof Q=="function")for(var vt=0;vt<Qe.length;vt++)ne.call(Pe,Qe[vt])&&Ve.push("["+Ce(Qe[vt])+"]: "+Ce(Pe[Qe[vt]],Pe));return Ve}},79430:function(H,E){var e,t,u;(function(s,g){t=[],e=g,u=typeof e=="function"?e.apply(E,t):e,u!==void 0&&(H.exports=u)})(this,function(){return function(s){function g(S){return S===" "||S==="	"||S===`
`||S==="\f"||S==="\r"}function P(S){var N,R=S.exec(s.substring(w));if(R)return N=R[0],w+=N.length,N}for(var y=s.length,O=/^[ \t\n\r\u000c]+/,c=/^[, \t\n\r\u000c]+/,f=/^[^ \t\n\r\u000c]+/,d=/[,]+$/,T=/^\d+$/,D=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,I,p,l,a,v,w=0,M=[];;){if(P(c),w>=y)return M;I=P(f),p=[],I.slice(-1)===","?(I=I.replace(d,""),L()):C()}function C(){for(P(O),l="",a="in descriptor";;){if(v=s.charAt(w),a==="in descriptor")if(g(v))l&&(p.push(l),l="",a="after descriptor");else if(v===","){w+=1,l&&p.push(l),L();return}else if(v==="(")l=l+v,a="in parens";else if(v===""){l&&p.push(l),L();return}else l=l+v;else if(a==="in parens")if(v===")")l=l+v,a="in descriptor";else if(v===""){p.push(l),L();return}else l=l+v;else if(a==="after descriptor"&&!g(v))if(v===""){L();return}else a="in descriptor",w-=1;w+=1}}function L(){var S=!1,N,R,U,F,$={},G,Q,K,W,Y;for(F=0;F<p.length;F++)G=p[F],Q=G[G.length-1],K=G.substring(0,G.length-1),W=parseInt(K,10),Y=parseFloat(K),T.test(K)&&Q==="w"?((N||R)&&(S=!0),W===0?S=!0:N=W):D.test(K)&&Q==="x"?((N||R||U)&&(S=!0),Y<0?S=!0:R=Y):T.test(K)&&Q==="h"?((U||R)&&(S=!0),W===0?S=!0:U=W):S=!0;S?console&&console.log&&console.log("Invalid srcset descriptor found in '"+s+"' at '"+G+"'."):($.url=I,N&&($.w=N),R&&($.d=R),U&&($.h=U),M.push($))}}})},74241:H=>{var E=String,e=function(){return{isColorSupported:!1,reset:E,bold:E,dim:E,italic:E,underline:E,inverse:E,hidden:E,strikethrough:E,black:E,red:E,green:E,yellow:E,blue:E,magenta:E,cyan:E,white:E,gray:E,bgBlack:E,bgRed:E,bgGreen:E,bgYellow:E,bgBlue:E,bgMagenta:E,bgCyan:E,bgWhite:E}};H.exports=e(),H.exports.createColors=e},41353:(H,E,e)=>{"use strict";let t=e(21019);class u extends t{constructor(g){super(g),this.type="atrule"}append(...g){return this.proxyOf.nodes||(this.nodes=[]),super.append(...g)}prepend(...g){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...g)}}H.exports=u,u.default=u,t.registerAtRule(u)},69932:(H,E,e)=>{"use strict";let t=e(65631);class u extends t{constructor(g){super(g),this.type="comment"}}H.exports=u,u.default=u},21019:(H,E,e)=>{"use strict";let{isClean:t,my:u}=e(65513),s=e(94258),g=e(69932),P=e(65631),y,O,c,f;function d(I){return I.map(p=>(p.nodes&&(p.nodes=d(p.nodes)),delete p.source,p))}function T(I){if(I[t]=!1,I.proxyOf.nodes)for(let p of I.proxyOf.nodes)T(p)}class D extends P{push(p){return p.parent=this,this.proxyOf.nodes.push(p),this}each(p){if(!this.proxyOf.nodes)return;let l=this.getIterator(),a,v;for(;this.indexes[l]<this.proxyOf.nodes.length&&(a=this.indexes[l],v=p(this.proxyOf.nodes[a],a),v!==!1);)this.indexes[l]+=1;return delete this.indexes[l],v}walk(p){return this.each((l,a)=>{let v;try{v=p(l,a)}catch(w){throw l.addToError(w)}return v!==!1&&l.walk&&(v=l.walk(p)),v})}walkDecls(p,l){return l?p instanceof RegExp?this.walk((a,v)=>{if(a.type==="decl"&&p.test(a.prop))return l(a,v)}):this.walk((a,v)=>{if(a.type==="decl"&&a.prop===p)return l(a,v)}):(l=p,this.walk((a,v)=>{if(a.type==="decl")return l(a,v)}))}walkRules(p,l){return l?p instanceof RegExp?this.walk((a,v)=>{if(a.type==="rule"&&p.test(a.selector))return l(a,v)}):this.walk((a,v)=>{if(a.type==="rule"&&a.selector===p)return l(a,v)}):(l=p,this.walk((a,v)=>{if(a.type==="rule")return l(a,v)}))}walkAtRules(p,l){return l?p instanceof RegExp?this.walk((a,v)=>{if(a.type==="atrule"&&p.test(a.name))return l(a,v)}):this.walk((a,v)=>{if(a.type==="atrule"&&a.name===p)return l(a,v)}):(l=p,this.walk((a,v)=>{if(a.type==="atrule")return l(a,v)}))}walkComments(p){return this.walk((l,a)=>{if(l.type==="comment")return p(l,a)})}append(...p){for(let l of p){let a=this.normalize(l,this.last);for(let v of a)this.proxyOf.nodes.push(v)}return this.markDirty(),this}prepend(...p){p=p.reverse();for(let l of p){let a=this.normalize(l,this.first,"prepend").reverse();for(let v of a)this.proxyOf.nodes.unshift(v);for(let v in this.indexes)this.indexes[v]=this.indexes[v]+a.length}return this.markDirty(),this}cleanRaws(p){if(super.cleanRaws(p),this.nodes)for(let l of this.nodes)l.cleanRaws(p)}insertBefore(p,l){let a=this.index(p),v=a===0?"prepend":!1,w=this.normalize(l,this.proxyOf.nodes[a],v).reverse();a=this.index(p);for(let C of w)this.proxyOf.nodes.splice(a,0,C);let M;for(let C in this.indexes)M=this.indexes[C],a<=M&&(this.indexes[C]=M+w.length);return this.markDirty(),this}insertAfter(p,l){let a=this.index(p),v=this.normalize(l,this.proxyOf.nodes[a]).reverse();a=this.index(p);for(let M of v)this.proxyOf.nodes.splice(a+1,0,M);let w;for(let M in this.indexes)w=this.indexes[M],a<w&&(this.indexes[M]=w+v.length);return this.markDirty(),this}removeChild(p){p=this.index(p),this.proxyOf.nodes[p].parent=void 0,this.proxyOf.nodes.splice(p,1);let l;for(let a in this.indexes)l=this.indexes[a],l>=p&&(this.indexes[a]=l-1);return this.markDirty(),this}removeAll(){for(let p of this.proxyOf.nodes)p.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(p,l,a){return a||(a=l,l={}),this.walkDecls(v=>{l.props&&!l.props.includes(v.prop)||l.fast&&!v.value.includes(l.fast)||(v.value=v.value.replace(p,a))}),this.markDirty(),this}every(p){return this.nodes.every(p)}some(p){return this.nodes.some(p)}index(p){return typeof p=="number"?p:(p.proxyOf&&(p=p.proxyOf),this.proxyOf.nodes.indexOf(p))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(p,l){if(typeof p=="string")p=d(y(p).nodes);else if(Array.isArray(p)){p=p.slice(0);for(let v of p)v.parent&&v.parent.removeChild(v,"ignore")}else if(p.type==="root"&&this.type!=="document"){p=p.nodes.slice(0);for(let v of p)v.parent&&v.parent.removeChild(v,"ignore")}else if(p.type)p=[p];else if(p.prop){if(typeof p.value=="undefined")throw new Error("Value field is missed in node creation");typeof p.value!="string"&&(p.value=String(p.value)),p=[new s(p)]}else if(p.selector)p=[new O(p)];else if(p.name)p=[new c(p)];else if(p.text)p=[new g(p)];else throw new Error("Unknown node type in node creation");return p.map(v=>(v[u]||D.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[t]&&T(v),typeof v.raws.before=="undefined"&&l&&typeof l.raws.before!="undefined"&&(v.raws.before=l.raws.before.replace(/\S/g,"")),v.parent=this.proxyOf,v))}getProxyProcessor(){return{set(p,l,a){return p[l]===a||(p[l]=a,(l==="name"||l==="params"||l==="selector")&&p.markDirty()),!0},get(p,l){return l==="proxyOf"?p:p[l]?l==="each"||typeof l=="string"&&l.startsWith("walk")?(...a)=>p[l](...a.map(v=>typeof v=="function"?(w,M)=>v(w.toProxy(),M):v)):l==="every"||l==="some"?a=>p[l]((v,...w)=>a(v.toProxy(),...w)):l==="root"?()=>p.root().toProxy():l==="nodes"?p.nodes.map(a=>a.toProxy()):l==="first"||l==="last"?p[l].toProxy():p[l]:p[l]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let p=this.lastEach;return this.indexes[p]=0,p}}D.registerParse=I=>{y=I},D.registerRule=I=>{O=I},D.registerAtRule=I=>{c=I},D.registerRoot=I=>{f=I},H.exports=D,D.default=D,D.rebuild=I=>{I.type==="atrule"?Object.setPrototypeOf(I,c.prototype):I.type==="rule"?Object.setPrototypeOf(I,O.prototype):I.type==="decl"?Object.setPrototypeOf(I,s.prototype):I.type==="comment"?Object.setPrototypeOf(I,g.prototype):I.type==="root"&&Object.setPrototypeOf(I,f.prototype),I[u]=!0,I.nodes&&I.nodes.forEach(p=>{D.rebuild(p)})}},42671:(H,E,e)=>{"use strict";let t=e(74241),u=e(22868);class s extends Error{constructor(P,y,O,c,f,d){super(P),this.name="CssSyntaxError",this.reason=P,f&&(this.file=f),c&&(this.source=c),d&&(this.plugin=d),typeof y!="undefined"&&typeof O!="undefined"&&(typeof y=="number"?(this.line=y,this.column=O):(this.line=y.line,this.column=y.column,this.endLine=O.line,this.endColumn=O.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,s)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(P){if(!this.source)return"";let y=this.source;P==null&&(P=t.isColorSupported),u&&P&&(y=u(y));let O=y.split(/\r?\n/),c=Math.max(this.line-3,0),f=Math.min(this.line+2,O.length),d=String(f).length,T,D;if(P){let{bold:I,red:p,gray:l}=t.createColors(!0);T=a=>I(p(a)),D=a=>l(a)}else T=D=I=>I;return O.slice(c,f).map((I,p)=>{let l=c+1+p,a=" "+(" "+l).slice(-d)+" | ";if(l===this.line){let v=D(a.replace(/\d/g," "))+I.slice(0,this.column-1).replace(/[^\t]/g," ");return T(">")+D(a)+I+`
 `+v+T("^")}return" "+D(a)+I}).join(`
`)}toString(){let P=this.showSourceCode();return P&&(P=`

`+P+`
`),this.name+": "+this.message+P}}H.exports=s,s.default=s},94258:(H,E,e)=>{"use strict";let t=e(65631);class u extends t{constructor(g){g&&typeof g.value!="undefined"&&typeof g.value!="string"&&(g=xo(kn({},g),{value:String(g.value)})),super(g),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}H.exports=u,u.default=u},26461:(H,E,e)=>{"use strict";let t=e(21019),u,s;class g extends t{constructor(y){super(kn({type:"document"},y)),this.nodes||(this.nodes=[])}toResult(y={}){return new u(new s,this,y).stringify()}}g.registerLazyResult=P=>{u=P},g.registerProcessor=P=>{s=P},H.exports=g,g.default=g},50250:(H,E,e)=>{"use strict";let t=e(94258),u=e(47981),s=e(69932),g=e(41353),P=e(5995),y=e(41025),O=e(31675);function c(f,d){if(Array.isArray(f))return f.map(l=>c(l));let I=f,{inputs:T}=I,D=Xn(I,["inputs"]);if(T){d=[];for(let l of T){let a=xo(kn({},l),{__proto__:P.prototype});a.map&&(a.map=xo(kn({},a.map),{__proto__:u.prototype})),d.push(a)}}if(D.nodes&&(D.nodes=f.nodes.map(l=>c(l,d))),D.source){let p=D.source,{inputId:l}=p,a=Xn(p,["inputId"]);D.source=a,l!=null&&(D.source.input=d[l])}if(D.type==="root")return new y(D);if(D.type==="decl")return new t(D);if(D.type==="rule")return new O(D);if(D.type==="comment")return new s(D);if(D.type==="atrule")return new g(D);throw new Error("Unknown node type: "+f.type)}H.exports=c,c.default=c},5995:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:u}=e(70209),{fileURLToPath:s,pathToFileURL:g}=e(87414),{resolve:P,isAbsolute:y}=e(99830),{nanoid:O}=e(62961),c=e(22868),f=e(42671),d=e(47981),T=Symbol("fromOffsetCache"),D=!!(t&&u),I=!!(P&&y);class p{constructor(a,v={}){if(a===null||typeof a=="undefined"||typeof a=="object"&&!a.toString)throw new Error(`PostCSS received ${a} instead of CSS string`);if(this.css=a.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,v.from&&(!I||/^\w+:\/\//.test(v.from)||y(v.from)?this.file=v.from:this.file=P(v.from)),I&&D){let w=new d(this.css,v);if(w.text){this.map=w;let M=w.consumer().file;!this.file&&M&&(this.file=this.mapResolve(M))}}this.file||(this.id="<input css "+O(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(a){let v,w;if(this[T])w=this[T];else{let C=this.css.split(`
`);w=new Array(C.length);let L=0;for(let S=0,N=C.length;S<N;S++)w[S]=L,L+=C[S].length+1;this[T]=w}v=w[w.length-1];let M=0;if(a>=v)M=w.length-1;else{let C=w.length-2,L;for(;M<C;)if(L=M+(C-M>>1),a<w[L])C=L-1;else if(a>=w[L+1])M=L+1;else{M=L;break}}return{line:M+1,col:a-w[M]+1}}error(a,v,w,M={}){let C,L,S;if(v&&typeof v=="object"){let R=v,U=w;if(typeof R.offset=="number"){let F=this.fromOffset(R.offset);v=F.line,w=F.col}else v=R.line,w=R.column;if(typeof U.offset=="number"){let F=this.fromOffset(U.offset);L=F.line,S=F.col}else L=U.line,S=U.column}else if(!w){let R=this.fromOffset(v);v=R.line,w=R.col}let N=this.origin(v,w,L,S);return N?C=new f(a,N.endLine===void 0?N.line:{line:N.line,column:N.column},N.endLine===void 0?N.column:{line:N.endLine,column:N.endColumn},N.source,N.file,M.plugin):C=new f(a,L===void 0?v:{line:v,column:w},L===void 0?w:{line:L,column:S},this.css,this.file,M.plugin),C.input={line:v,column:w,endLine:L,endColumn:S,source:this.css},this.file&&(g&&(C.input.url=g(this.file).toString()),C.input.file=this.file),C}origin(a,v,w,M){if(!this.map)return!1;let C=this.map.consumer(),L=C.originalPositionFor({line:a,column:v});if(!L.source)return!1;let S;typeof w=="number"&&(S=C.originalPositionFor({line:w,column:M}));let N;y(L.source)?N=g(L.source):N=new URL(L.source,this.map.consumer().sourceRoot||g(this.map.mapFile));let R={url:N.toString(),line:L.line,column:L.column,endLine:S&&S.line,endColumn:S&&S.column};if(N.protocol==="file:")if(s)R.file=s(N);else throw new Error("file: protocol is not available in this PostCSS build");let U=C.sourceContentFor(L.source);return U&&(R.source=U),R}mapResolve(a){return/^\w+:\/\//.test(a)?a:P(this.map.consumer().sourceRoot||this.map.root||".",a)}get from(){return this.file||this.id}toJSON(){let a={};for(let v of["hasBOM","css","file","id"])this[v]!=null&&(a[v]=this[v]);return this.map&&(a.map=kn({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0)),a}}H.exports=p,p.default=p,c&&c.registerInput&&c.registerInput(p)},21939:(H,E,e)=>{"use strict";let{isClean:t,my:u}=e(65513),s=e(48505),g=e(67088),P=e(21019),y=e(26461),O=e(72448),c=e(83632),f=e(66939),d=e(41025);const T={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},D={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},I={postcssPlugin:!0,prepare:!0,Once:!0},p=0;function l(L){return typeof L=="object"&&typeof L.then=="function"}function a(L){let S=!1,N=T[L.type];return L.type==="decl"?S=L.prop.toLowerCase():L.type==="atrule"&&(S=L.name.toLowerCase()),S&&L.append?[N,N+"-"+S,p,N+"Exit",N+"Exit-"+S]:S?[N,N+"-"+S,N+"Exit",N+"Exit-"+S]:L.append?[N,p,N+"Exit"]:[N,N+"Exit"]}function v(L){let S;return L.type==="document"?S=["Document",p,"DocumentExit"]:L.type==="root"?S=["Root",p,"RootExit"]:S=a(L),{node:L,events:S,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function w(L){return L[t]=!1,L.nodes&&L.nodes.forEach(S=>w(S)),L}let M={};class C{constructor(S,N,R){this.stringified=!1,this.processed=!1;let U;if(typeof N=="object"&&N!==null&&(N.type==="root"||N.type==="document"))U=w(N);else if(N instanceof C||N instanceof c)U=w(N.root),N.map&&(typeof R.map=="undefined"&&(R.map={}),R.map.inline||(R.map.inline=!1),R.map.prev=N.map);else{let F=f;R.syntax&&(F=R.syntax.parse),R.parser&&(F=R.parser),F.parse&&(F=F.parse);try{U=F(N,R)}catch($){this.processed=!0,this.error=$}U&&!U[u]&&P.rebuild(U)}this.result=new c(S,U,R),this.helpers=xo(kn({},M),{result:this.result,postcss:M}),this.plugins=this.processor.plugins.map(F=>typeof F=="object"&&F.prepare?kn(kn({},F),F.prepare(this.result)):F)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(S,N){return this.async().then(S,N)}catch(S){return this.async().catch(S)}finally(S){return this.async().then(S,S)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let S of this.plugins){let N=this.runOnRoot(S);if(l(N))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let S=this.result.root;for(;!S[t];)S[t]=!0,this.walkSync(S);if(this.listeners.OnceExit)if(S.type==="document")for(let N of S.nodes)this.visitSync(this.listeners.OnceExit,N);else this.visitSync(this.listeners.OnceExit,S)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let S=this.result.opts,N=g;S.syntax&&(N=S.syntax.stringify),S.stringifier&&(N=S.stringifier),N.stringify&&(N=N.stringify);let U=new s(N,this.result.root,this.result.opts).generate();return this.result.css=U[0],this.result.map=U[1],this.result}walkSync(S){S[t]=!0;let N=a(S);for(let R of N)if(R===p)S.nodes&&S.each(U=>{U[t]||this.walkSync(U)});else{let U=this.listeners[R];if(U&&this.visitSync(U,S.toProxy()))return}}visitSync(S,N){for(let[R,U]of S){this.result.lastPlugin=R;let F;try{F=U(N,this.helpers)}catch($){throw this.handleError($,N.proxyOf)}if(N.type!=="root"&&N.type!=="document"&&!N.parent)return!0;if(l(F))throw this.getAsyncError()}}runOnRoot(S){this.result.lastPlugin=S;try{if(typeof S=="object"&&S.Once){if(this.result.root.type==="document"){let N=this.result.root.nodes.map(R=>S.Once(R,this.helpers));return l(N[0])?Promise.all(N):N}return S.Once(this.result.root,this.helpers)}else if(typeof S=="function")return S(this.result.root,this.result)}catch(N){throw this.handleError(N)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(S,N){let R=this.result.lastPlugin;try{N&&N.addToError(S),this.error=S,S.name==="CssSyntaxError"&&!S.plugin?(S.plugin=R.postcssPlugin,S.setMessage()):R.postcssVersion}catch(U){console&&console.error&&console.error(U)}return S}runAsync(){return il(this,null,function*(){this.plugin=0;for(let S=0;S<this.plugins.length;S++){let N=this.plugins[S],R=this.runOnRoot(N);if(l(R))try{yield R}catch(U){throw this.handleError(U)}}if(this.prepareVisitors(),this.hasListener){let S=this.result.root;for(;!S[t];){S[t]=!0;let N=[v(S)];for(;N.length>0;){let R=this.visitTick(N);if(l(R))try{yield R}catch(U){let F=N[N.length-1].node;throw this.handleError(U,F)}}}if(this.listeners.OnceExit)for(let[N,R]of this.listeners.OnceExit){this.result.lastPlugin=N;try{if(S.type==="document"){let U=S.nodes.map(F=>R(F,this.helpers));yield Promise.all(U)}else yield R(S,this.helpers)}catch(U){throw this.handleError(U)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let S=(N,R,U)=>{this.listeners[R]||(this.listeners[R]=[]),this.listeners[R].push([N,U])};for(let N of this.plugins)if(typeof N=="object")for(let R in N){if(!D[R]&&/^[A-Z]/.test(R))throw new Error(`Unknown event ${R} in ${N.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!I[R])if(typeof N[R]=="object")for(let U in N[R])U==="*"?S(N,R,N[R][U]):S(N,R+"-"+U.toLowerCase(),N[R][U]);else typeof N[R]=="function"&&S(N,R,N[R])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(S){let N=S[S.length-1],{node:R,visitors:U}=N;if(R.type!=="root"&&R.type!=="document"&&!R.parent){S.pop();return}if(U.length>0&&N.visitorIndex<U.length){let[$,G]=U[N.visitorIndex];N.visitorIndex+=1,N.visitorIndex===U.length&&(N.visitors=[],N.visitorIndex=0),this.result.lastPlugin=$;try{return G(R.toProxy(),this.helpers)}catch(Q){throw this.handleError(Q,R)}}if(N.iterator!==0){let $=N.iterator,G;for(;G=R.nodes[R.indexes[$]];)if(R.indexes[$]+=1,!G[t]){G[t]=!0,S.push(v(G));return}N.iterator=0,delete R.indexes[$]}let F=N.events;for(;N.eventIndex<F.length;){let $=F[N.eventIndex];if(N.eventIndex+=1,$===p){R.nodes&&R.nodes.length&&(R[t]=!0,N.iterator=R.getIterator());return}else if(this.listeners[$]){N.visitors=this.listeners[$];return}}S.pop()}}C.registerPostcss=L=>{M=L},H.exports=C,C.default=C,d.registerLazyResult(C),y.registerLazyResult(C)},54715:H=>{"use strict";let E={split(e,t,u){let s=[],g="",P=!1,y=0,O=!1,c="",f=!1;for(let d of e)f?f=!1:d==="\\"?f=!0:O?d===c&&(O=!1):d==='"'||d==="'"?(O=!0,c=d):d==="("?y+=1:d===")"?y>0&&(y-=1):y===0&&t.includes(d)&&(P=!0),P?(g!==""&&s.push(g.trim()),g="",P=!1):g+=d;return(u||g!=="")&&s.push(g.trim()),s},space(e){let t=[" ",`
`,"	"];return E.split(e,t)},comma(e){return E.split(e,[","],!0)}};H.exports=E,E.default=E},48505:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:u}=e(70209),{dirname:s,resolve:g,relative:P,sep:y}=e(99830),{pathToFileURL:O}=e(87414),c=e(5995),f=!!(t&&u),d=!!(s&&g&&P&&y);class T{constructor(I,p,l,a){this.stringify=I,this.mapOpts=l.map||{},this.root=p,this.opts=l,this.css=a,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(I=>{if(I.source&&I.source.input.map){let p=I.source.input.map;this.previousMaps.includes(p)||this.previousMaps.push(p)}});else{let I=new c(this.css,this.opts);I.map&&this.previousMaps.push(I.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let I=this.mapOpts.annotation;return typeof I!="undefined"&&I!==!0?!1:this.previous().length?this.previous().some(p=>p.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(I=>I.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let I;for(let p=this.root.nodes.length-1;p>=0;p--)I=this.root.nodes[p],I.type==="comment"&&I.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(p)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let I={};if(this.root)this.root.walk(p=>{if(p.source){let l=p.source.input.from;if(l&&!I[l]){I[l]=!0;let a=this.usesFileUrls?this.toFileUrl(l):this.toUrl(this.path(l));this.map.setSourceContent(a,p.source.input.css)}}});else if(this.css){let p=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(p,this.css)}}applyPrevMaps(){for(let I of this.previous()){let p=this.toUrl(this.path(I.file)),l=I.root||s(I.file),a;this.mapOpts.sourcesContent===!1?(a=new t(I.text),a.sourcesContent&&(a.sourcesContent=a.sourcesContent.map(()=>null))):a=I.consumer(),this.map.applySourceMap(a,p,this.toUrl(this.path(l)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(I=>I.annotation):!0}toBase64(I){return Buffer?Buffer.from(I).toString("base64"):window.btoa(unescape(encodeURIComponent(I)))}addAnnotation(){let I;this.isInline()?I="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?I=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?I=this.mapOpts.annotation(this.opts.to,this.root):I=this.outputFile()+".map";let p=`
`;this.css.includes(`\r
`)&&(p=`\r
`),this.css+=p+"/*# sourceMappingURL="+I+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let I=this.previous()[0].consumer();I.file=this.outputFile(),this.map=u.fromSourceMap(I)}else this.map=new u({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(I){if(I.indexOf("<")===0||/^\w+:\/\//.test(I)||this.mapOpts.absolute)return I;let p=this.opts.to?s(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(p=s(g(p,this.mapOpts.annotation))),I=P(p,I),I}toUrl(I){return y==="\\"&&(I=I.replace(/\\/g,"/")),encodeURI(I).replace(/[#?]/g,encodeURIComponent)}toFileUrl(I){if(O)return O(I).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(I){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(I.source.input.from):this.toUrl(this.path(I.source.input.from))}generateString(){this.css="",this.map=new u({file:this.outputFile()});let I=1,p=1,l="<no source>",a={source:"",generated:{line:0,column:0},original:{line:0,column:0}},v,w;this.stringify(this.root,(M,C,L)=>{if(this.css+=M,C&&L!=="end"&&(a.generated.line=I,a.generated.column=p-1,C.source&&C.source.start?(a.source=this.sourcePath(C),a.original.line=C.source.start.line,a.original.column=C.source.start.column-1,this.map.addMapping(a)):(a.source=l,a.original.line=1,a.original.column=0,this.map.addMapping(a))),v=M.match(/\n/g),v?(I+=v.length,w=M.lastIndexOf(`
`),p=M.length-w):p+=M.length,C&&L!=="start"){let S=C.parent||{raws:{}};(!(C.type==="decl"||C.type==="atrule"&&!C.nodes)||C!==S.last||S.raws.semicolon)&&(C.source&&C.source.end?(a.source=this.sourcePath(C),a.original.line=C.source.end.line,a.original.column=C.source.end.column-1,a.generated.line=I,a.generated.column=p-2,this.map.addMapping(a)):(a.source=l,a.original.line=1,a.original.column=0,a.generated.line=I,a.generated.column=p-1,this.map.addMapping(a)))}})}generate(){if(this.clearAnnotation(),d&&f&&this.isMap())return this.generateMap();{let I="";return this.stringify(this.root,p=>{I+=p}),[I]}}}H.exports=T},47647:(H,E,e)=>{"use strict";let t=e(48505),u=e(67088),s=e(72448),g=e(66939);const P=e(83632);class y{constructor(c,f,d){f=f.toString(),this.stringified=!1,this._processor=c,this._css=f,this._opts=d,this._map=void 0;let T,D=u;this.result=new P(this._processor,T,this._opts),this.result.css=f;let I=this;Object.defineProperty(this.result,"root",{get(){return I.root}});let p=new t(D,T,this._opts,f);if(p.isMap()){let[l,a]=p.generate();l&&(this.result.css=l),a&&(this.result.map=a)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let c,f=g;try{c=f(this._css,this._opts)}catch(d){this.error=d}if(this.error)throw this.error;return this._root=c,c}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(c,f){return this.async().then(c,f)}catch(c){return this.async().catch(c)}finally(c){return this.async().then(c,c)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}H.exports=y,y.default=y},65631:(H,E,e)=>{"use strict";let{isClean:t,my:u}=e(65513),s=e(42671),g=e(1062),P=e(67088);function y(c,f){let d=new c.constructor;for(let T in c){if(!Object.prototype.hasOwnProperty.call(c,T)||T==="proxyCache")continue;let D=c[T],I=typeof D;T==="parent"&&I==="object"?f&&(d[T]=f):T==="source"?d[T]=D:Array.isArray(D)?d[T]=D.map(p=>y(p,d)):(I==="object"&&D!==null&&(D=y(D)),d[T]=D)}return d}class O{constructor(f={}){this.raws={},this[t]=!1,this[u]=!0;for(let d in f)if(d==="nodes"){this.nodes=[];for(let T of f[d])typeof T.clone=="function"?this.append(T.clone()):this.append(T)}else this[d]=f[d]}error(f,d={}){if(this.source){let{start:T,end:D}=this.rangeBy(d);return this.source.input.error(f,{line:T.line,column:T.column},{line:D.line,column:D.column},d)}return new s(f)}warn(f,d,T){let D={node:this};for(let I in T)D[I]=T[I];return f.warn(d,D)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(f=P){f.stringify&&(f=f.stringify);let d="";return f(this,T=>{d+=T}),d}assign(f={}){for(let d in f)this[d]=f[d];return this}clone(f={}){let d=y(this);for(let T in f)d[T]=f[T];return d}cloneBefore(f={}){let d=this.clone(f);return this.parent.insertBefore(this,d),d}cloneAfter(f={}){let d=this.clone(f);return this.parent.insertAfter(this,d),d}replaceWith(...f){if(this.parent){let d=this,T=!1;for(let D of f)D===this?T=!0:T?(this.parent.insertAfter(d,D),d=D):this.parent.insertBefore(d,D);T||this.remove()}return this}next(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f+1]}prev(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f-1]}before(f){return this.parent.insertBefore(this,f),this}after(f){return this.parent.insertAfter(this,f),this}root(){let f=this;for(;f.parent&&f.parent.type!=="document";)f=f.parent;return f}raw(f,d){return new g().raw(this,f,d)}cleanRaws(f){delete this.raws.before,delete this.raws.after,f||delete this.raws.between}toJSON(f,d){let T={},D=d==null;d=d||new Map;let I=0;for(let p in this){if(!Object.prototype.hasOwnProperty.call(this,p)||p==="parent"||p==="proxyCache")continue;let l=this[p];if(Array.isArray(l))T[p]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,d):a);else if(typeof l=="object"&&l.toJSON)T[p]=l.toJSON(null,d);else if(p==="source"){let a=d.get(l.input);a==null&&(a=I,d.set(l.input,I),I++),T[p]={inputId:a,start:l.start,end:l.end}}else T[p]=l}return D&&(T.inputs=[...d.keys()].map(p=>p.toJSON())),T}positionInside(f){let d=this.toString(),T=this.source.start.column,D=this.source.start.line;for(let I=0;I<f;I++)d[I]===`
`?(T=1,D+=1):T+=1;return{line:D,column:T}}positionBy(f){let d=this.source.start;if(f.index)d=this.positionInside(f.index);else if(f.word){let T=this.toString().indexOf(f.word);T!==-1&&(d=this.positionInside(T))}return d}rangeBy(f){let d={line:this.source.start.line,column:this.source.start.column},T=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:d.line,column:d.column+1};if(f.word){let D=this.toString().indexOf(f.word);D!==-1&&(d=this.positionInside(D),T=this.positionInside(D+f.word.length))}else f.start?d={line:f.start.line,column:f.start.column}:f.index&&(d=this.positionInside(f.index)),f.end?T={line:f.end.line,column:f.end.column}:f.endIndex?T=this.positionInside(f.endIndex):f.index&&(T=this.positionInside(f.index+1));return(T.line<d.line||T.line===d.line&&T.column<=d.column)&&(T={line:d.line,column:d.column+1}),{start:d,end:T}}getProxyProcessor(){return{set(f,d,T){return f[d]===T||(f[d]=T,(d==="prop"||d==="value"||d==="name"||d==="params"||d==="important"||d==="text")&&f.markDirty()),!0},get(f,d){return d==="proxyOf"?f:d==="root"?()=>f.root().toProxy():f[d]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(f){if(f.postcssNode=this,f.stack&&this.source&&/\n\s{4}at /.test(f.stack)){let d=this.source;f.stack=f.stack.replace(/\n\s{4}at /,`$&${d.input.from}:${d.start.line}:${d.start.column}$&`)}return f}markDirty(){if(this[t]){this[t]=!1;let f=this;for(;f=f.parent;)f[t]=!1}}get proxyOf(){return this}}H.exports=O,O.default=O},66939:(H,E,e)=>{"use strict";let t=e(21019),u=e(68867),s=e(5995);function g(P,y){let O=new s(P,y),c=new u(O);try{c.parse()}catch(f){throw f}return c.root}H.exports=g,g.default=g,t.registerParse(g)},68867:(H,E,e)=>{"use strict";let t=e(94258),u=e(83852),s=e(69932),g=e(41353),P=e(41025),y=e(31675);const O={empty:!0,space:!0};function c(d){for(let T=d.length-1;T>=0;T--){let D=d[T],I=D[3]||D[2];if(I)return I}}class f{constructor(T){this.input=T,this.root=new P,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:T,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=u(this.input)}parse(){let T;for(;!this.tokenizer.endOfFile();)switch(T=this.tokenizer.nextToken(),T[0]){case"space":this.spaces+=T[1];break;case";":this.freeSemicolon(T);break;case"}":this.end(T);break;case"comment":this.comment(T);break;case"at-word":this.atrule(T);break;case"{":this.emptyRule(T);break;default:this.other(T);break}this.endFile()}comment(T){let D=new s;this.init(D,T[2]),D.source.end=this.getPosition(T[3]||T[2]);let I=T[1].slice(2,-2);if(/^\s*$/.test(I))D.text="",D.raws.left=I,D.raws.right="";else{let p=I.match(/^(\s*)([^]*\S)(\s*)$/);D.text=p[2],D.raws.left=p[1],D.raws.right=p[3]}}emptyRule(T){let D=new y;this.init(D,T[2]),D.selector="",D.raws.between="",this.current=D}other(T){let D=!1,I=null,p=!1,l=null,a=[],v=T[1].startsWith("--"),w=[],M=T;for(;M;){if(I=M[0],w.push(M),I==="("||I==="[")l||(l=M),a.push(I==="("?")":"]");else if(v&&p&&I==="{")l||(l=M),a.push("}");else if(a.length===0)if(I===";")if(p){this.decl(w,v);return}else break;else if(I==="{"){this.rule(w);return}else if(I==="}"){this.tokenizer.back(w.pop()),D=!0;break}else I===":"&&(p=!0);else I===a[a.length-1]&&(a.pop(),a.length===0&&(l=null));M=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(D=!0),a.length>0&&this.unclosedBracket(l),D&&p){if(!v)for(;w.length&&(M=w[w.length-1][0],!(M!=="space"&&M!=="comment"));)this.tokenizer.back(w.pop());this.decl(w,v)}else this.unknownWord(w)}rule(T){T.pop();let D=new y;this.init(D,T[0][2]),D.raws.between=this.spacesAndCommentsFromEnd(T),this.raw(D,"selector",T),this.current=D}decl(T,D){let I=new t;this.init(I,T[0][2]);let p=T[T.length-1];for(p[0]===";"&&(this.semicolon=!0,T.pop()),I.source.end=this.getPosition(p[3]||p[2]||c(T));T[0][0]!=="word";)T.length===1&&this.unknownWord(T),I.raws.before+=T.shift()[1];for(I.source.start=this.getPosition(T[0][2]),I.prop="";T.length;){let M=T[0][0];if(M===":"||M==="space"||M==="comment")break;I.prop+=T.shift()[1]}I.raws.between="";let l;for(;T.length;)if(l=T.shift(),l[0]===":"){I.raws.between+=l[1];break}else l[0]==="word"&&/\w/.test(l[1])&&this.unknownWord([l]),I.raws.between+=l[1];(I.prop[0]==="_"||I.prop[0]==="*")&&(I.raws.before+=I.prop[0],I.prop=I.prop.slice(1));let a=[],v;for(;T.length&&(v=T[0][0],!(v!=="space"&&v!=="comment"));)a.push(T.shift());this.precheckMissedSemicolon(T);for(let M=T.length-1;M>=0;M--){if(l=T[M],l[1].toLowerCase()==="!important"){I.important=!0;let C=this.stringFrom(T,M);C=this.spacesFromEnd(T)+C,C!==" !important"&&(I.raws.important=C);break}else if(l[1].toLowerCase()==="important"){let C=T.slice(0),L="";for(let S=M;S>0;S--){let N=C[S][0];if(L.trim().indexOf("!")===0&&N!=="space")break;L=C.pop()[1]+L}L.trim().indexOf("!")===0&&(I.important=!0,I.raws.important=L,T=C)}if(l[0]!=="space"&&l[0]!=="comment")break}T.some(M=>M[0]!=="space"&&M[0]!=="comment")&&(I.raws.between+=a.map(M=>M[1]).join(""),a=[]),this.raw(I,"value",a.concat(T),D),I.value.includes(":")&&!D&&this.checkMissedSemicolon(T)}atrule(T){let D=new g;D.name=T[1].slice(1),D.name===""&&this.unnamedAtrule(D,T),this.init(D,T[2]);let I,p,l,a=!1,v=!1,w=[],M=[];for(;!this.tokenizer.endOfFile();){if(T=this.tokenizer.nextToken(),I=T[0],I==="("||I==="["?M.push(I==="("?")":"]"):I==="{"&&M.length>0?M.push("}"):I===M[M.length-1]&&M.pop(),M.length===0)if(I===";"){D.source.end=this.getPosition(T[2]),this.semicolon=!0;break}else if(I==="{"){v=!0;break}else if(I==="}"){if(w.length>0){for(l=w.length-1,p=w[l];p&&p[0]==="space";)p=w[--l];p&&(D.source.end=this.getPosition(p[3]||p[2]))}this.end(T);break}else w.push(T);else w.push(T);if(this.tokenizer.endOfFile()){a=!0;break}}D.raws.between=this.spacesAndCommentsFromEnd(w),w.length?(D.raws.afterName=this.spacesAndCommentsFromStart(w),this.raw(D,"params",w),a&&(T=w[w.length-1],D.source.end=this.getPosition(T[3]||T[2]),this.spaces=D.raws.between,D.raws.between="")):(D.raws.afterName="",D.params=""),v&&(D.nodes=[],this.current=D)}end(T){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(T[2]),this.current=this.current.parent):this.unexpectedClose(T)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(T){if(this.spaces+=T[1],this.current.nodes){let D=this.current.nodes[this.current.nodes.length-1];D&&D.type==="rule"&&!D.raws.ownSemicolon&&(D.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(T){let D=this.input.fromOffset(T);return{offset:T,line:D.line,column:D.col}}init(T,D){this.current.push(T),T.source={start:this.getPosition(D),input:this.input},T.raws.before=this.spaces,this.spaces="",T.type!=="comment"&&(this.semicolon=!1)}raw(T,D,I,p){let l,a,v=I.length,w="",M=!0,C,L;for(let S=0;S<v;S+=1)l=I[S],a=l[0],a==="space"&&S===v-1&&!p?M=!1:a==="comment"?(L=I[S-1]?I[S-1][0]:"empty",C=I[S+1]?I[S+1][0]:"empty",!O[L]&&!O[C]?w.slice(-1)===","?M=!1:w+=l[1]:M=!1):w+=l[1];if(!M){let S=I.reduce((N,R)=>N+R[1],"");T.raws[D]={value:w,raw:S}}T[D]=w}spacesAndCommentsFromEnd(T){let D,I="";for(;T.length&&(D=T[T.length-1][0],!(D!=="space"&&D!=="comment"));)I=T.pop()[1]+I;return I}spacesAndCommentsFromStart(T){let D,I="";for(;T.length&&(D=T[0][0],!(D!=="space"&&D!=="comment"));)I+=T.shift()[1];return I}spacesFromEnd(T){let D,I="";for(;T.length&&(D=T[T.length-1][0],D==="space");)I=T.pop()[1]+I;return I}stringFrom(T,D){let I="";for(let p=D;p<T.length;p++)I+=T[p][1];return T.splice(D,T.length-D),I}colon(T){let D=0,I,p,l;for(let[a,v]of T.entries()){if(I=v,p=I[0],p==="("&&(D+=1),p===")"&&(D-=1),D===0&&p===":")if(!l)this.doubleColon(I);else{if(l[0]==="word"&&l[1]==="progid")continue;return a}l=I}return!1}unclosedBracket(T){throw this.input.error("Unclosed bracket",{offset:T[2]},{offset:T[2]+1})}unknownWord(T){throw this.input.error("Unknown word",{offset:T[0][2]},{offset:T[0][2]+T[0][1].length})}unexpectedClose(T){throw this.input.error("Unexpected }",{offset:T[2]},{offset:T[2]+1})}unclosedBlock(){let T=this.current.source.start;throw this.input.error("Unclosed block",T.line,T.column)}doubleColon(T){throw this.input.error("Double colon",{offset:T[2]},{offset:T[2]+T[1].length})}unnamedAtrule(T,D){throw this.input.error("At-rule without name",{offset:D[2]},{offset:D[2]+D[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(T){let D=this.colon(T);if(D===!1)return;let I=0,p;for(let l=D-1;l>=0&&(p=T[l],!(p[0]!=="space"&&(I+=1,I===2)));l--);throw this.input.error("Missed semicolon",p[0]==="word"?p[3]+1:p[2])}}H.exports=f},50020:(H,E,e)=>{"use strict";let t=e(42671),u=e(94258),s=e(21939),g=e(21019),P=e(71723),y=e(67088),O=e(50250),c=e(26461),f=e(11728),d=e(69932),T=e(41353),D=e(83632),I=e(5995),p=e(66939),l=e(54715),a=e(31675),v=e(41025),w=e(65631);function M(...C){return C.length===1&&Array.isArray(C[0])&&(C=C[0]),new P(C)}M.plugin=function(L,S){let N=!1;function R(...F){console&&console.warn&&!N&&(N=!0,console.warn(L+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(L+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let $=S(...F);return $.postcssPlugin=L,$.postcssVersion=new P().version,$}let U;return Object.defineProperty(R,"postcss",{get(){return U||(U=R()),U}}),R.process=function(F,$,G){return M([R(G)]).process(F,$)},R},M.stringify=y,M.parse=p,M.fromJSON=O,M.list=l,M.comment=C=>new d(C),M.atRule=C=>new T(C),M.decl=C=>new u(C),M.rule=C=>new a(C),M.root=C=>new v(C),M.document=C=>new c(C),M.CssSyntaxError=t,M.Declaration=u,M.Container=g,M.Processor=P,M.Document=c,M.Comment=d,M.Warning=f,M.AtRule=T,M.Result=D,M.Input=I,M.Rule=a,M.Root=v,M.Node=w,s.registerPostcss(M),H.exports=M,M.default=M},47981:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:u}=e(70209),{existsSync:s,readFileSync:g}=e(14777),{dirname:P,join:y}=e(99830);function O(f){return Buffer?Buffer.from(f,"base64").toString():window.atob(f)}class c{constructor(d,T){if(T.map===!1)return;this.loadAnnotation(d),this.inline=this.startWith(this.annotation,"data:");let D=T.map?T.map.prev:void 0,I=this.loadMap(T.from,D);!this.mapFile&&T.from&&(this.mapFile=T.from),this.mapFile&&(this.root=P(this.mapFile)),I&&(this.text=I)}consumer(){return this.consumerCache||(this.consumerCache=new t(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(d,T){return d?d.substr(0,T.length)===T:!1}getAnnotationURL(d){return d.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(d){let T=d.match(/\/\*\s*# sourceMappingURL=/gm);if(!T)return;let D=d.lastIndexOf(T.pop()),I=d.indexOf("*/",D);D>-1&&I>-1&&(this.annotation=this.getAnnotationURL(d.substring(D,I)))}decodeInline(d){let T=/^data:application\/json;charset=utf-?8;base64,/,D=/^data:application\/json;base64,/,I=/^data:application\/json;charset=utf-?8,/,p=/^data:application\/json,/;if(I.test(d)||p.test(d))return decodeURIComponent(d.substr(RegExp.lastMatch.length));if(T.test(d)||D.test(d))return O(d.substr(RegExp.lastMatch.length));let l=d.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}loadFile(d){if(this.root=P(d),s(d))return this.mapFile=d,g(d,"utf-8").toString().trim()}loadMap(d,T){if(T===!1)return!1;if(T){if(typeof T=="string")return T;if(typeof T=="function"){let D=T(d);if(D){let I=this.loadFile(D);if(!I)throw new Error("Unable to load previous source map: "+D.toString());return I}}else{if(T instanceof t)return u.fromSourceMap(T).toString();if(T instanceof u)return T.toString();if(this.isMap(T))return JSON.stringify(T);throw new Error("Unsupported previous source map format: "+T.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let D=this.annotation;return d&&(D=y(P(d),D)),this.loadFile(D)}}}isMap(d){return typeof d!="object"?!1:typeof d.mappings=="string"||typeof d._mappings=="string"||Array.isArray(d.sections)}}H.exports=c,c.default=c},71723:(H,E,e)=>{"use strict";let t=e(47647),u=e(21939),s=e(26461),g=e(41025);class P{constructor(O=[]){this.version="8.4.24",this.plugins=this.normalize(O)}use(O){return this.plugins=this.plugins.concat(this.normalize([O])),this}process(O,c={}){return this.plugins.length===0&&typeof c.parser=="undefined"&&typeof c.stringifier=="undefined"&&typeof c.syntax=="undefined"?new t(this,O,c):new u(this,O,c)}normalize(O){let c=[];for(let f of O)if(f.postcss===!0?f=f():f.postcss&&(f=f.postcss),typeof f=="object"&&Array.isArray(f.plugins))c=c.concat(f.plugins);else if(typeof f=="object"&&f.postcssPlugin)c.push(f);else if(typeof f=="function")c.push(f);else if(!(typeof f=="object"&&(f.parse||f.stringify)))throw new Error(f+" is not a PostCSS plugin");return c}}H.exports=P,P.default=P,g.registerProcessor(P),s.registerProcessor(P)},83632:(H,E,e)=>{"use strict";let t=e(11728);class u{constructor(g,P,y){this.processor=g,this.messages=[],this.root=P,this.opts=y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(g,P={}){P.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(P.plugin=this.lastPlugin.postcssPlugin);let y=new t(g,P);return this.messages.push(y),y}warnings(){return this.messages.filter(g=>g.type==="warning")}get content(){return this.css}}H.exports=u,u.default=u},41025:(H,E,e)=>{"use strict";let t=e(21019),u,s;class g extends t{constructor(y){super(y),this.type="root",this.nodes||(this.nodes=[])}removeChild(y,O){let c=this.index(y);return!O&&c===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[c].raws.before),super.removeChild(y)}normalize(y,O,c){let f=super.normalize(y);if(O){if(c==="prepend")this.nodes.length>1?O.raws.before=this.nodes[1].raws.before:delete O.raws.before;else if(this.first!==O)for(let d of f)d.raws.before=O.raws.before}return f}toResult(y={}){return new u(new s,this,y).stringify()}}g.registerLazyResult=P=>{u=P},g.registerProcessor=P=>{s=P},H.exports=g,g.default=g,t.registerRoot(g)},31675:(H,E,e)=>{"use strict";let t=e(21019),u=e(54715);class s extends t{constructor(P){super(P),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return u.comma(this.selector)}set selectors(P){let y=this.selector?this.selector.match(/,\s*/):null,O=y?y[0]:","+this.raw("between","beforeOpen");this.selector=P.join(O)}}H.exports=s,s.default=s,t.registerRule(s)},1062:H=>{"use strict";const E={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(u){return u[0].toUpperCase()+u.slice(1)}class t{constructor(s){this.builder=s}stringify(s,g){if(!this[s.type])throw new Error("Unknown AST node type "+s.type+". Maybe you need to change PostCSS stringifier.");this[s.type](s,g)}document(s){this.body(s)}root(s){this.body(s),s.raws.after&&this.builder(s.raws.after)}comment(s){let g=this.raw(s,"left","commentLeft"),P=this.raw(s,"right","commentRight");this.builder("/*"+g+s.text+P+"*/",s)}decl(s,g){let P=this.raw(s,"between","colon"),y=s.prop+P+this.rawValue(s,"value");s.important&&(y+=s.raws.important||" !important"),g&&(y+=";"),this.builder(y,s)}rule(s){this.block(s,this.rawValue(s,"selector")),s.raws.ownSemicolon&&this.builder(s.raws.ownSemicolon,s,"end")}atrule(s,g){let P="@"+s.name,y=s.params?this.rawValue(s,"params"):"";if(typeof s.raws.afterName!="undefined"?P+=s.raws.afterName:y&&(P+=" "),s.nodes)this.block(s,P+y);else{let O=(s.raws.between||"")+(g?";":"");this.builder(P+y+O,s)}}body(s){let g=s.nodes.length-1;for(;g>0&&s.nodes[g].type==="comment";)g-=1;let P=this.raw(s,"semicolon");for(let y=0;y<s.nodes.length;y++){let O=s.nodes[y],c=this.raw(O,"before");c&&this.builder(c),this.stringify(O,g!==y||P)}}block(s,g){let P=this.raw(s,"between","beforeOpen");this.builder(g+P+"{",s,"start");let y;s.nodes&&s.nodes.length?(this.body(s),y=this.raw(s,"after")):y=this.raw(s,"after","emptyBody"),y&&this.builder(y),this.builder("}",s,"end")}raw(s,g,P){let y;if(P||(P=g),g&&(y=s.raws[g],typeof y!="undefined"))return y;let O=s.parent;if(P==="before"&&(!O||O.type==="root"&&O.first===s||O&&O.type==="document"))return"";if(!O)return E[P];let c=s.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[P]!="undefined")return c.rawCache[P];if(P==="before"||P==="after")return this.beforeAfter(s,P);{let f="raw"+e(P);this[f]?y=this[f](c,s):c.walk(d=>{if(y=d.raws[g],typeof y!="undefined")return!1})}return typeof y=="undefined"&&(y=E[P]),c.rawCache[P]=y,y}rawSemicolon(s){let g;return s.walk(P=>{if(P.nodes&&P.nodes.length&&P.last.type==="decl"&&(g=P.raws.semicolon,typeof g!="undefined"))return!1}),g}rawEmptyBody(s){let g;return s.walk(P=>{if(P.nodes&&P.nodes.length===0&&(g=P.raws.after,typeof g!="undefined"))return!1}),g}rawIndent(s){if(s.raws.indent)return s.raws.indent;let g;return s.walk(P=>{let y=P.parent;if(y&&y!==s&&y.parent&&y.parent===s&&typeof P.raws.before!="undefined"){let O=P.raws.before.split(`
`);return g=O[O.length-1],g=g.replace(/\S/g,""),!1}}),g}rawBeforeComment(s,g){let P;return s.walkComments(y=>{if(typeof y.raws.before!="undefined")return P=y.raws.before,P.includes(`
`)&&(P=P.replace(/[^\n]+$/,"")),!1}),typeof P=="undefined"?P=this.raw(g,null,"beforeDecl"):P&&(P=P.replace(/\S/g,"")),P}rawBeforeDecl(s,g){let P;return s.walkDecls(y=>{if(typeof y.raws.before!="undefined")return P=y.raws.before,P.includes(`
`)&&(P=P.replace(/[^\n]+$/,"")),!1}),typeof P=="undefined"?P=this.raw(g,null,"beforeRule"):P&&(P=P.replace(/\S/g,"")),P}rawBeforeRule(s){let g;return s.walk(P=>{if(P.nodes&&(P.parent!==s||s.first!==P)&&typeof P.raws.before!="undefined")return g=P.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),g&&(g=g.replace(/\S/g,"")),g}rawBeforeClose(s){let g;return s.walk(P=>{if(P.nodes&&P.nodes.length>0&&typeof P.raws.after!="undefined")return g=P.raws.after,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),g&&(g=g.replace(/\S/g,"")),g}rawBeforeOpen(s){let g;return s.walk(P=>{if(P.type!=="decl"&&(g=P.raws.between,typeof g!="undefined"))return!1}),g}rawColon(s){let g;return s.walkDecls(P=>{if(typeof P.raws.between!="undefined")return g=P.raws.between.replace(/[^\s:]/g,""),!1}),g}beforeAfter(s,g){let P;s.type==="decl"?P=this.raw(s,null,"beforeDecl"):s.type==="comment"?P=this.raw(s,null,"beforeComment"):g==="before"?P=this.raw(s,null,"beforeRule"):P=this.raw(s,null,"beforeClose");let y=s.parent,O=0;for(;y&&y.type!=="root";)O+=1,y=y.parent;if(P.includes(`
`)){let c=this.raw(s,null,"indent");if(c.length)for(let f=0;f<O;f++)P+=c}return P}rawValue(s,g){let P=s[g],y=s.raws[g];return y&&y.value===P?y.raw:P}}H.exports=t,t.default=t},67088:(H,E,e)=>{"use strict";let t=e(1062);function u(s,g){new t(g).stringify(s)}H.exports=u,u.default=u},65513:H=>{"use strict";H.exports.isClean=Symbol("isClean"),H.exports.my=Symbol("my")},83852:H=>{"use strict";const E="'".charCodeAt(0),e='"'.charCodeAt(0),t="\\".charCodeAt(0),u="/".charCodeAt(0),s=`
`.charCodeAt(0),g=" ".charCodeAt(0),P="\f".charCodeAt(0),y="	".charCodeAt(0),O="\r".charCodeAt(0),c="[".charCodeAt(0),f="]".charCodeAt(0),d="(".charCodeAt(0),T=")".charCodeAt(0),D="{".charCodeAt(0),I="}".charCodeAt(0),p=";".charCodeAt(0),l="*".charCodeAt(0),a=":".charCodeAt(0),v="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,M=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,C=/.[\n"'(/\\]/,L=/[\da-f]/i;H.exports=function(N,R={}){let U=N.css.valueOf(),F=R.ignoreErrors,$,G,Q,K,W,Y,ne,V,j,te,ie=U.length,ue=0,he=[],Z=[];function J(){return ue}function ae(z){throw N.error("Unclosed "+z,ue)}function le(){return Z.length===0&&ue>=ie}function oe(z){if(Z.length)return Z.pop();if(ue>=ie)return;let re=z?z.ignoreUnclosed:!1;switch($=U.charCodeAt(ue),$){case s:case g:case y:case O:case P:{G=ue;do G+=1,$=U.charCodeAt(G);while($===g||$===s||$===y||$===O||$===P);te=["space",U.slice(ue,G)],ue=G-1;break}case c:case f:case D:case I:case a:case p:case T:{let se=String.fromCharCode($);te=[se,se,ue];break}case d:{if(V=he.length?he.pop()[1]:"",j=U.charCodeAt(ue+1),V==="url"&&j!==E&&j!==e&&j!==g&&j!==s&&j!==y&&j!==P&&j!==O){G=ue;do{if(Y=!1,G=U.indexOf(")",G+1),G===-1)if(F||re){G=ue;break}else ae("bracket");for(ne=G;U.charCodeAt(ne-1)===t;)ne-=1,Y=!Y}while(Y);te=["brackets",U.slice(ue,G+1),ue,G],ue=G}else G=U.indexOf(")",ue+1),K=U.slice(ue,G+1),G===-1||C.test(K)?te=["(","(",ue]:(te=["brackets",K,ue,G],ue=G);break}case E:case e:{Q=$===E?"'":'"',G=ue;do{if(Y=!1,G=U.indexOf(Q,G+1),G===-1)if(F||re){G=ue+1;break}else ae("string");for(ne=G;U.charCodeAt(ne-1)===t;)ne-=1,Y=!Y}while(Y);te=["string",U.slice(ue,G+1),ue,G],ue=G;break}case v:{w.lastIndex=ue+1,w.test(U),w.lastIndex===0?G=U.length-1:G=w.lastIndex-2,te=["at-word",U.slice(ue,G+1),ue,G],ue=G;break}case t:{for(G=ue,W=!0;U.charCodeAt(G+1)===t;)G+=1,W=!W;if($=U.charCodeAt(G+1),W&&$!==u&&$!==g&&$!==s&&$!==y&&$!==O&&$!==P&&(G+=1,L.test(U.charAt(G)))){for(;L.test(U.charAt(G+1));)G+=1;U.charCodeAt(G+1)===g&&(G+=1)}te=["word",U.slice(ue,G+1),ue,G],ue=G;break}default:{$===u&&U.charCodeAt(ue+1)===l?(G=U.indexOf("*/",ue+2)+1,G===0&&(F||re?G=U.length:ae("comment")),te=["comment",U.slice(ue,G+1),ue,G],ue=G):(M.lastIndex=ue+1,M.test(U),M.lastIndex===0?G=U.length-1:G=M.lastIndex-2,te=["word",U.slice(ue,G+1),ue,G],he.push(te),ue=G);break}}return ue++,te}function ee(z){Z.push(z)}return{back:ee,nextToken:oe,endOfFile:le,position:J}}},72448:H=>{"use strict";let E={};H.exports=function(t){E[t]||(E[t]=!0,typeof console!="undefined"&&console.warn&&console.warn(t))}},11728:H=>{"use strict";class E{constructor(t,u={}){if(this.type="warning",this.text=t,u.node&&u.node.source){let s=u.node.rangeBy(u);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(let s in u)this[s]=u[s]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}H.exports=E,E.default=E},53836:(H,E,e)=>{E.__esModule=!0;var t=function(){function he(Z,J){for(var ae=0;ae<J.length;ae++){var le=J[ae];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Z,le.key,le)}}return function(Z,J,ae){return J&&he(Z.prototype,J),ae&&he(Z,ae),Z}}(),u=Object.assign||function(he){for(var Z=1;Z<arguments.length;Z++){var J=arguments[Z];for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&(he[ae]=J[ae])}return he},s=e(6400),g=e(98278),P=T(g),y=e(10251),O=T(y),c=e(27418),f=T(c),d=e(7937);function T(he){return he&&he.__esModule?he:{default:he}}function D(he,Z){if(!(he instanceof Z))throw new TypeError("Cannot call a class as a function")}function I(he,Z){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:he}function p(he,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);he.prototype=Object.create(Z&&Z.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(he,Z):he.__proto__=Z)}function l(he,Z,J){return Z in he?Object.defineProperty(he,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):he[Z]=J,he}var a="data-preact-helmet",v=function(Z){return String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},w=function(Z,J){for(var ae=Z.length-1;ae>=0;ae--){var le=Z[ae];if(le[J])return le[J]}return null},M=function(Z){var J=w(Z,"title"),ae=w(Z,"titleTemplate");if(ae&&J)return ae.replace(/%s/g,function(){return J});var le=w(Z,"defaultTitle");return J||le||""},C=function(Z){return w(Z,"onChangeClientState")||function(){}},L=function(Z,J){return J.filter(function(ae){return typeof ae[Z]!="undefined"}).map(function(ae){return ae[Z]}).reduce(function(ae,le){return u({},ae,le)},{})},S=function(Z,J){return J.filter(function(ae){return typeof ae[d.TAG_NAMES.BASE]!="undefined"}).map(function(ae){return ae[d.TAG_NAMES.BASE]}).reverse().reduce(function(ae,le){if(!ae.length)for(var oe=Object.keys(le),ee=0;ee<oe.length;ee++){var z=oe[ee],re=z.toLowerCase();if(Z.indexOf(re)!==-1&&le[re])return ae.concat(le)}return ae},[])},N=function(Z,J,ae){var le={};return ae.filter(function(oe){return typeof oe[Z]!="undefined"}).map(function(oe){return oe[Z]}).reverse().reduce(function(oe,ee){var z={};ee.filter(function(ge){for(var be=void 0,me=Object.keys(ge),pe=0;pe<me.length;pe++){var Le=me[pe],je=Le.toLowerCase();J.indexOf(je)!==-1&&!(be===d.TAG_PROPERTIES.REL&&ge[be].toLowerCase()==="canonical")&&!(je===d.TAG_PROPERTIES.REL&&ge[je].toLowerCase()==="stylesheet")&&(be=je),J.indexOf(Le)!==-1&&(Le===d.TAG_PROPERTIES.INNER_HTML||Le===d.TAG_PROPERTIES.CSS_TEXT||Le===d.TAG_PROPERTIES.ITEM_PROP)&&(be=Le)}if(!be||!ge[be])return!1;var xe=ge[be].toLowerCase();return le[be]||(le[be]={}),z[be]||(z[be]={}),le[be][xe]?!1:(z[be][xe]=!0,!0)}).reverse().forEach(function(ge){return oe.push(ge)});for(var re=Object.keys(z),se=0;se<re.length;se++){var fe=re[se],Ee=(0,f.default)({},le[fe],z[fe]);le[fe]=Ee}return oe},[]).reverse()},R=function(Z,J){document.title=Z||document.title,U(d.TAG_NAMES.TITLE,J)},U=function(Z,J){for(var ae=document.getElementsByTagName(Z)[0],le=ae.getAttribute(a),oe=le?le.split(","):[],ee=[].concat(oe),z=Object.keys(J),re=0;re<z.length;re++){var se=z[re],fe=J[se]||"";ae.setAttribute(se,fe),oe.indexOf(se)===-1&&oe.push(se);var Ee=ee.indexOf(se);Ee!==-1&&ee.splice(Ee,1)}for(var ge=ee.length-1;ge>=0;ge--)ae.removeAttribute(ee[ge]);oe.length===ee.length?ae.removeAttribute(a):ae.setAttribute(a,oe.join(","))},F=function(Z,J){var ae=document.head||document.querySelector("head"),le=ae.querySelectorAll(Z+"["+a+"]"),oe=Array.prototype.slice.call(le),ee=[],z=void 0;return J&&J.length&&J.forEach(function(re){var se=document.createElement(Z);for(var fe in re)if(re.hasOwnProperty(fe))if(fe==="innerHTML")se.innerHTML=re.innerHTML;else if(fe==="cssText")se.styleSheet?se.styleSheet.cssText=re.cssText:se.appendChild(document.createTextNode(re.cssText));else{var Ee=typeof re[fe]=="undefined"?"":re[fe];se.setAttribute(fe,Ee)}se.setAttribute(a,"true"),oe.some(function(ge,be){return z=be,se.isEqualNode(ge)})?oe.splice(z,1):ee.push(se)}),oe.forEach(function(re){return re.parentNode.removeChild(re)}),ee.forEach(function(re){return ae.appendChild(re)}),{oldTags:oe,newTags:ee}},$=function(Z){return Object.keys(Z).reduce(function(J,ae){var le=typeof Z[ae]!="undefined"?ae+'="'+Z[ae]+'"':""+ae;return J?J+" "+le:le},"")},G=function(Z,J,ae){var le=$(ae);return le?"<"+Z+" "+a+" "+le+">"+v(J)+"</"+Z+">":"<"+Z+" "+a+">"+v(J)+"</"+Z+">"},Q=function(Z,J){return J.reduce(function(ae,le){var oe=Object.keys(le).filter(function(re){return!(re==="innerHTML"||re==="cssText")}).reduce(function(re,se){var fe=typeof le[se]=="undefined"?se:se+'="'+v(le[se])+'"';return re?re+" "+fe:fe},""),ee=le.innerHTML||le.cssText||"",z=[d.TAG_NAMES.NOSCRIPT,d.TAG_NAMES.SCRIPT,d.TAG_NAMES.STYLE].indexOf(Z)===-1;return ae+"<"+Z+" "+a+" "+oe+(z?">":">"+ee+"</"+Z+">")},"")},K=function(Z,J,ae){var le=l({key:J},a,!0),oe=Object.keys(ae).reduce(function(ee,z){return ee[z]=ae[z],ee},le);return[(0,s.h)(d.TAG_NAMES.TITLE,oe,J)]},W=function(Z,J){return J.map(function(ae,le){var oe=l({key:le},a,!0);return Object.keys(ae).forEach(function(ee){var z=ee;if(z==="innerHTML"||z==="cssText"){var re=ae.innerHTML||ae.cssText;oe.dangerouslySetInnerHTML={__html:re}}else oe[z]=ae[ee]}),(0,s.h)(Z,oe)})},Y=function(Z,J){switch(Z){case d.TAG_NAMES.TITLE:return{toComponent:function(){return K(Z,J.title,J.titleAttributes)},toString:function(){return G(Z,J.title,J.titleAttributes)}};case d.TAG_NAMES.HTML:return{toComponent:function(){return J},toString:function(){return $(J)}};default:return{toComponent:function(){return W(Z,J)},toString:function(){return Q(Z,J)}}}},ne=function(Z){var J=Z.htmlAttributes,ae=Z.title,le=Z.titleAttributes,oe=Z.baseTag,ee=Z.metaTags,z=Z.linkTags,re=Z.scriptTags,se=Z.noscriptTags,fe=Z.styleTags;return{htmlAttributes:Y(d.TAG_NAMES.HTML,J),title:Y(d.TAG_NAMES.TITLE,{title:ae,titleAttributes:le}),base:Y(d.TAG_NAMES.BASE,oe),meta:Y(d.TAG_NAMES.META,ee),link:Y(d.TAG_NAMES.LINK,z),script:Y(d.TAG_NAMES.SCRIPT,re),noscript:Y(d.TAG_NAMES.NOSCRIPT,se),style:Y(d.TAG_NAMES.STYLE,fe)}},V=function(Z){var J,ae;return ae=J=function(le){p(oe,le);function oe(){return D(this,oe),I(this,(oe.__proto__||Object.getPrototypeOf(oe)).apply(this,arguments))}return t(oe,[{key:"shouldComponentUpdate",value:function(z){var re=u({},z);return(!re.children||!re.children.length)&&delete re.children,!(0,O.default)(this.props,re)}},{key:"render",value:function(){return(0,s.h)(Z,this.props)}}],[{key:"canUseDOM",set:function(z){Z.canUseDOM=z}}]),oe}(s.Component),J.peek=Z.peek,J.rewind=function(){var le=Z.rewind();return le||(le=ne({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),le},ae},j=function(Z){return{htmlAttributes:L(d.TAG_NAMES.HTML,Z),title:M(Z),titleAttributes:L("titleAttributes",Z),baseTag:S([d.TAG_PROPERTIES.HREF],Z),metaTags:N(d.TAG_NAMES.META,[d.TAG_PROPERTIES.NAME,d.TAG_PROPERTIES.CHARSET,d.TAG_PROPERTIES.HTTPEQUIV,d.TAG_PROPERTIES.PROPERTY,d.TAG_PROPERTIES.ITEM_PROP],Z),linkTags:N(d.TAG_NAMES.LINK,[d.TAG_PROPERTIES.REL,d.TAG_PROPERTIES.HREF],Z),scriptTags:N(d.TAG_NAMES.SCRIPT,[d.TAG_PROPERTIES.SRC,d.TAG_PROPERTIES.INNER_HTML],Z),noscriptTags:N(d.TAG_NAMES.NOSCRIPT,[d.TAG_PROPERTIES.INNER_HTML],Z),styleTags:N(d.TAG_NAMES.STYLE,[d.TAG_PROPERTIES.CSS_TEXT],Z),onChangeClientState:C(Z)}},te=function(Z){var J=Z.htmlAttributes,ae=Z.title,le=Z.titleAttributes,oe=Z.baseTag,ee=Z.metaTags,z=Z.linkTags,re=Z.scriptTags,se=Z.noscriptTags,fe=Z.styleTags,Ee=Z.onChangeClientState;U("html",J),R(ae,le);var ge={baseTag:F(d.TAG_NAMES.BASE,oe),metaTags:F(d.TAG_NAMES.META,ee),linkTags:F(d.TAG_NAMES.LINK,z),scriptTags:F(d.TAG_NAMES.SCRIPT,re),noscriptTags:F(d.TAG_NAMES.NOSCRIPT,se),styleTags:F(d.TAG_NAMES.STYLE,fe)},be={},me={};Object.keys(ge).forEach(function(pe){var Le=ge[pe],je=Le.newTags,xe=Le.oldTags;je.length&&(be[pe]=je),xe.length&&(me[pe]=ge[pe].oldTags)}),Ee(Z,be,me)},ie=function(){return null},ue=(0,P.default)(j,te,ne)(ie);E.default=V(ue),H.exports=E.default},7937:(H,E)=>{E.__esModule=!0;var e=E.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},t=E.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},u=E.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Link:()=>$,Route:()=>G,Router:()=>F,default:()=>Q,exec:()=>g,getCurrentUrl:()=>a,route:()=>v,subscribers:()=>I});var t=e(6400),u={};function s(K,W){for(var Y in W)K[Y]=W[Y];return K}function g(K,W,Y){var ne=/(?:\?([^#]*))?(#.*)?$/,V=K.match(ne),j={},te;if(V&&V[1])for(var ie=V[1].split("&"),ue=0;ue<ie.length;ue++){var he=ie[ue].split("=");j[decodeURIComponent(he[0])]=decodeURIComponent(he.slice(1).join("="))}K=O(K.replace(ne,"")),W=O(W||"");for(var Z=Math.max(K.length,W.length),J=0;J<Z;J++)if(W[J]&&W[J].charAt(0)===":"){var ae=W[J].replace(/(^:|[+*?]+$)/g,""),le=(W[J].match(/[+*?]+$/)||u)[0]||"",oe=~le.indexOf("+"),ee=~le.indexOf("*"),z=K[J]||"";if(!z&&!ee&&(le.indexOf("?")<0||oe)){te=!1;break}if(j[ae]=decodeURIComponent(z),oe||ee){j[ae]=K.slice(J).map(decodeURIComponent).join("/");break}}else if(W[J]!==K[J]){te=!1;break}return Y.default!==!0&&te===!1?!1:j}function P(K,W){return K.rank<W.rank?1:K.rank>W.rank?-1:K.index-W.index}function y(K,W){return K.index=W,K.rank=d(K),K.props}function O(K){return K.replace(/(^\/+|\/+$)/g,"").split("/")}function c(K){return K.charAt(0)==":"?1+"*+?".indexOf(K.charAt(K.length-1))||4:5}function f(K){return O(K).map(c).join("")}function d(K){return K.props.default?0:f(K.props.path)}var T=null,D=[],I=[],p={};function l(K,W){W===void 0&&(W="push"),T&&T[W]?T[W](K):typeof history!="undefined"&&history[W+"State"]&&history[W+"State"](null,null,K)}function a(){var K;return T&&T.location?K=T.location:T&&T.getCurrentLocation?K=T.getCurrentLocation():K=typeof location!="undefined"?location:p,""+(K.pathname||"")+(K.search||"")}function v(K,W){return W===void 0&&(W=!1),typeof K!="string"&&K.url&&(W=K.replace,K=K.url),w(K)&&l(K,W?"replace":"push"),M(K)}function w(K){for(var W=D.length;W--;)if(D[W].canRoute(K))return!0;return!1}function M(K){for(var W=!1,Y=0;Y<D.length;Y++)D[Y].routeTo(K)===!0&&(W=!0);for(var ne=I.length;ne--;)I[ne](K);return W}function C(K){if(!(!K||!K.getAttribute)){var W=K.getAttribute("href"),Y=K.getAttribute("target");if(!(!W||!W.match(/^\//g)||Y&&!Y.match(/^_?self$/i)))return v(W)}}function L(K){if(!(K.ctrlKey||K.metaKey||K.altKey||K.shiftKey||K.button!==0))return C(K.currentTarget||K.target||this),S(K)}function S(K){return K&&(K.stopImmediatePropagation&&K.stopImmediatePropagation(),K.stopPropagation&&K.stopPropagation(),K.preventDefault()),!1}function N(K){if(!(K.ctrlKey||K.metaKey||K.altKey||K.shiftKey||K.button!==0)){var W=K.target;do if(String(W.nodeName).toUpperCase()==="A"&&W.getAttribute("href")){if(W.hasAttribute("native"))return;if(C(W))return S(K)}while(W=W.parentNode)}}var R=!1;function U(){R||(typeof addEventListener=="function"&&(T||addEventListener("popstate",function(){M(a())}),addEventListener("click",N)),R=!0)}var F=function(K){function W(Y){K.call(this,Y),Y.history&&(T=Y.history),this.state={url:Y.url||a()},U()}return K&&(W.__proto__=K),W.prototype=Object.create(K&&K.prototype),W.prototype.constructor=W,W.prototype.shouldComponentUpdate=function(ne){return ne.static!==!0?!0:ne.url!==this.props.url||ne.onChange!==this.props.onChange},W.prototype.canRoute=function(ne){var V=(0,t.toChildArray)(this.props.children);return this.getMatchingChildren(V,ne,!1).length>0},W.prototype.routeTo=function(ne){this.setState({url:ne});var V=this.canRoute(ne);return this.updating||this.forceUpdate(),V},W.prototype.componentWillMount=function(){D.push(this),this.updating=!0},W.prototype.componentDidMount=function(){var ne=this;T&&(this.unlisten=T.listen(function(V){ne.routeTo(""+(V.pathname||"")+(V.search||""))})),this.updating=!1},W.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),D.splice(D.indexOf(this),1)},W.prototype.componentWillUpdate=function(){this.updating=!0},W.prototype.componentDidUpdate=function(){this.updating=!1},W.prototype.getMatchingChildren=function(ne,V,j){return ne.filter(y).sort(P).map(function(te){var ie=g(V,te.props.path,te.props);if(ie){if(j!==!1){var ue={url:V,matches:ie};return s(ue,ie),delete ue.ref,delete ue.key,(0,t.cloneElement)(te,ue)}return te}}).filter(Boolean)},W.prototype.render=function(ne,V){var j=ne.children,te=ne.onChange,ie=V.url,ue=this.getMatchingChildren((0,t.toChildArray)(j),ie,!0),he=ue[0]||null,Z=this.previousUrl;return ie!==Z&&(this.previousUrl=ie,typeof te=="function"&&te({router:this,url:ie,previous:Z,active:ue,current:he})),he},W}(t.Component),$=function(K){return(0,t.createElement)("a",s({onClick:L},K))},G=function(K){return(0,t.createElement)(K.component,K)};F.subscribers=I,F.getCurrentUrl=a,F.route=v,F.Router=F,F.Route=G,F.Link=$,F.exec=g;const Q=F},56232:(H,E,e)=>{"use strict";var t;t={value:!0},t=E.qE=void 0;var u=Object.assign||function(T){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var p in I)Object.prototype.hasOwnProperty.call(I,p)&&(T[p]=I[p])}return T},s=e(6400),g=e(20042);function P(T,D){var I={};for(var p in T)D.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(T,p)&&(I[p]=T[p]);return I}function y(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function O(T,D){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:T}function c(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(T,D):T.__proto__=D)}var f=E.qE=function(T){c(D,T);function D(){var I,p,l;y(this,D);for(var a=arguments.length,v=Array(a),w=0;w<a;w++)v[w]=arguments[w];return l=(I=(p=O(this,T.call.apply(T,[this].concat(v))),p),p.update=function(M){p.nextUrl=M,p.setState({})},I),O(p,l)}return D.prototype.componentDidMount=function(){g.subscribers.push(this.update)},D.prototype.componentWillUnmount=function(){g.subscribers.splice(g.subscribers.indexOf(this.update)>>>0,1)},D.prototype.render=function(p){var l=this.nextUrl||(0,g.getCurrentUrl)(),a=l.replace(/\?.+$/,"");return this.nextUrl=null,p.children({url:l,path:a,matches:(0,g.exec)(a,p.path,{})!==!1})},D}(s.Component),d=function(D){var I=D.activeClassName,p=D.path,l=P(D,["activeClassName","path"]);return(0,s.h)(f,{path:p||l.href},function(a){var v=a.matches;return(0,s.h)(g.Link,u({},l,{class:[l.class||l.className,v&&I].filter(Boolean).join(" ")}))})};t=d,t=f,f.Link=d},98278:(H,E,e)=>{"use strict";var t=e(6400);function u(y,O){var c={};for(var f in y)O.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f]);return c}function s(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function g(y,O){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:y}function P(y,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);y.prototype=Object.create(O&&O.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(y,O):y.__proto__=O)}H.exports=function(O,c,f){if(typeof O!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f!="undefined"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function d(D){return D.displayName||D.name||"Component"}return function(I){if(typeof I!="function")throw new Error("Expected WrappedComponent to be a React component.");var p=[],l=void 0;function a(){l=O(p.map(function(w){return w.props})),v.canUseDOM?c(l):f&&(l=f(l))}var v=function(w){P(M,w);function M(){return s(this,M),g(this,w.apply(this,arguments))}return M.peek=function(){return l},M.rewind=function(){if(M.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var L=l;return l=void 0,p=[],L},M.prototype.shouldComponentUpdate=function(L){var S=L.children,N=u(L,["children"]);return S&&S.length&&(N.children=S),T(N,this.props)},M.prototype.componentWillMount=function(){p.push(this),a()},M.prototype.componentDidUpdate=function(){a()},M.prototype.componentWillUnmount=function(){var L=p.indexOf(this);p.splice(L,1),a()},M.prototype.render=function(){return(0,t.h)(I,this.props)},M}(t.Component);return v.displayName="SideEffect("+d(I)+")",v.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),v};function T(D,I){for(var p in D)if(!(p in I))return!0;for(var l in I)if(D[l]!==I[l])return!0;return!1}}},98661:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Children:()=>D,Component:()=>t.Component,Fragment:()=>t.Fragment,PureComponent:()=>y,StrictMode:()=>ge,Suspense:()=>v,SuspenseList:()=>C,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>ae,cloneElement:()=>z,createContext:()=>t.createContext,createElement:()=>t.createElement,createFactory:()=>oe,createPortal:()=>R,createRef:()=>t.createRef,default:()=>xe,findDOMNode:()=>se,flushSync:()=>Ee,forwardRef:()=>d,hydrate:()=>Y,isValidElement:()=>ee,lazy:()=>M,memo:()=>O,render:()=>W,startTransition:()=>be,unmountComponentAtNode:()=>re,unstable_batchedUpdates:()=>fe,useCallback:()=>u.I4,useContext:()=>u.qp,useDebugValue:()=>u.Qb,useDeferredValue:()=>me,useEffect:()=>u.d4,useErrorBoundary:()=>u.cO,useId:()=>u.Me,useImperativeHandle:()=>u.aP,useInsertionEffect:()=>Le,useLayoutEffect:()=>u.bt,useMemo:()=>u.Ye,useReducer:()=>u._Y,useRef:()=>u.sO,useState:()=>u.eJ,useSyncExternalStore:()=>je,useTransition:()=>pe,version:()=>le});var t=e(6400),u=e(30396);function s(ye,Me){for(var We in Me)ye[We]=Me[We];return ye}function g(ye,Me){for(var We in ye)if(We!=="__source"&&!(We in Me))return!0;for(var De in Me)if(De!=="__source"&&ye[De]!==Me[De])return!0;return!1}function P(ye,Me){return ye===Me&&(ye!==0||1/ye==1/Me)||ye!=ye&&Me!=Me}function y(ye){this.props=ye}function O(ye,Me){function We(Ge){var pt=this.props.ref,wt=pt==Ge.ref;return!wt&&pt&&(pt.call?pt(null):pt.current=null),Me?!Me(this.props,Ge)||!wt:g(this.props,Ge)}function De(Ge){return this.shouldComponentUpdate=We,(0,t.createElement)(ye,Ge)}return De.displayName="Memo("+(ye.displayName||ye.name)+")",De.prototype.isReactComponent=!0,De.__f=!0,De}(y.prototype=new t.Component).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(ye,Me){return g(this.props,ye)||g(this.state,Me)};var c=t.options.__b;t.options.__b=function(ye){ye.type&&ye.type.__f&&ye.ref&&(ye.props.ref=ye.ref,ye.ref=null),c&&c(ye)};var f=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function d(ye){function Me(We){var De=s({},We);return delete De.ref,ye(De,We.ref||null)}return Me.$$typeof=f,Me.render=Me,Me.prototype.isReactComponent=Me.__f=!0,Me.displayName="ForwardRef("+(ye.displayName||ye.name)+")",Me}var T=function(ye,Me){return ye==null?null:(0,t.toChildArray)((0,t.toChildArray)(ye).map(Me))},D={map:T,forEach:T,count:function(ye){return ye?(0,t.toChildArray)(ye).length:0},only:function(ye){var Me=(0,t.toChildArray)(ye);if(Me.length!==1)throw"Children.only";return Me[0]},toArray:t.toChildArray},I=t.options.__e;t.options.__e=function(ye,Me,We,De){if(ye.then){for(var Ge,pt=Me;pt=pt.__;)if((Ge=pt.__c)&&Ge.__c)return Me.__e==null&&(Me.__e=We.__e,Me.__k=We.__k),Ge.__c(ye,Me)}I(ye,Me,We,De)};var p=t.options.unmount;function l(ye,Me,We){return ye&&(ye.__c&&ye.__c.__H&&(ye.__c.__H.__.forEach(function(De){typeof De.__c=="function"&&De.__c()}),ye.__c.__H=null),(ye=s({},ye)).__c!=null&&(ye.__c.__P===We&&(ye.__c.__P=Me),ye.__c=null),ye.__k=ye.__k&&ye.__k.map(function(De){return l(De,Me,We)})),ye}function a(ye,Me,We){return ye&&(ye.__v=null,ye.__k=ye.__k&&ye.__k.map(function(De){return a(De,Me,We)}),ye.__c&&ye.__c.__P===Me&&(ye.__e&&We.insertBefore(ye.__e,ye.__d),ye.__c.__e=!0,ye.__c.__P=We)),ye}function v(){this.__u=0,this.t=null,this.__b=null}function w(ye){var Me=ye.__.__c;return Me&&Me.__a&&Me.__a(ye)}function M(ye){var Me,We,De;function Ge(pt){if(Me||(Me=ye()).then(function(wt){We=wt.default||wt},function(wt){De=wt}),De)throw De;if(!We)throw Me;return(0,t.createElement)(We,pt)}return Ge.displayName="Lazy",Ge.__f=!0,Ge}function C(){this.u=null,this.o=null}t.options.unmount=function(ye){var Me=ye.__c;Me&&Me.__R&&Me.__R(),Me&&ye.__h===!0&&(ye.type=null),p&&p(ye)},(v.prototype=new t.Component).__c=function(ye,Me){var We=Me.__c,De=this;De.t==null&&(De.t=[]),De.t.push(We);var Ge=w(De.__v),pt=!1,wt=function(){pt||(pt=!0,We.__R=null,Ge?Ge(Ht):Ht())};We.__R=wt;var Ht=function(){if(!--De.__u){if(De.state.__a){var Ze=De.state.__a;De.__v.__k[0]=a(Ze,Ze.__c.__P,Ze.__c.__O)}var st;for(De.setState({__a:De.__b=null});st=De.t.pop();)st.forceUpdate()}},nt=Me.__h===!0;De.__u++||nt||De.setState({__a:De.__b=De.__v.__k[0]}),ye.then(wt,wt)},v.prototype.componentWillUnmount=function(){this.t=[]},v.prototype.render=function(ye,Me){if(this.__b){if(this.__v.__k){var We=document.createElement("div"),De=this.__v.__k[0].__c;this.__v.__k[0]=l(this.__b,We,De.__O=De.__P)}this.__b=null}var Ge=Me.__a&&(0,t.createElement)(t.Fragment,null,ye.fallback);return Ge&&(Ge.__h=null),[(0,t.createElement)(t.Fragment,null,Me.__a?null:ye.children),Ge]};var L=function(ye,Me,We){if(++We[1]===We[0]&&ye.o.delete(Me),ye.props.revealOrder&&(ye.props.revealOrder[0]!=="t"||!ye.o.size))for(We=ye.u;We;){for(;We.length>3;)We.pop()();if(We[1]<We[0])break;ye.u=We=We[2]}};function S(ye){return this.getChildContext=function(){return ye.context},ye.children}function N(ye){var Me=this,We=ye.i;Me.componentWillUnmount=function(){(0,t.render)(null,Me.l),Me.l=null,Me.i=null},Me.i&&Me.i!==We&&Me.componentWillUnmount(),ye.__v?(Me.l||(Me.i=We,Me.l={nodeType:1,parentNode:We,childNodes:[],appendChild:function(De){this.childNodes.push(De),Me.i.appendChild(De)},insertBefore:function(De,Ge){this.childNodes.push(De),Me.i.appendChild(De)},removeChild:function(De){this.childNodes.splice(this.childNodes.indexOf(De)>>>1,1),Me.i.removeChild(De)}}),(0,t.render)((0,t.createElement)(S,{context:Me.context},ye.__v),Me.l)):Me.l&&Me.componentWillUnmount()}function R(ye,Me){var We=(0,t.createElement)(N,{__v:ye,i:Me});return We.containerInfo=Me,We}(C.prototype=new t.Component).__a=function(ye){var Me=this,We=w(Me.__v),De=Me.o.get(ye);return De[0]++,function(Ge){var pt=function(){Me.props.revealOrder?(De.push(Ge),L(Me,ye,De)):Ge()};We?We(pt):pt()}},C.prototype.render=function(ye){this.u=null,this.o=new Map;var Me=(0,t.toChildArray)(ye.children);ye.revealOrder&&ye.revealOrder[0]==="b"&&Me.reverse();for(var We=Me.length;We--;)this.o.set(Me[We],this.u=[1,0,this.u]);return ye.children},C.prototype.componentDidUpdate=C.prototype.componentDidMount=function(){var ye=this;this.o.forEach(function(Me,We){L(ye,We,Me)})};var U=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,F=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,G=/[A-Z0-9]/g,Q=typeof document!="undefined",K=function(ye){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(ye)};function W(ye,Me,We){return Me.__k==null&&(Me.textContent=""),(0,t.render)(ye,Me),typeof We=="function"&&We(),ye?ye.__c:null}function Y(ye,Me,We){return(0,t.hydrate)(ye,Me),typeof We=="function"&&We(),ye?ye.__c:null}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ye){Object.defineProperty(t.Component.prototype,ye,{configurable:!0,get:function(){return this["UNSAFE_"+ye]},set:function(Me){Object.defineProperty(this,ye,{configurable:!0,writable:!0,value:Me})}})});var ne=t.options.event;function V(){}function j(){return this.cancelBubble}function te(){return this.defaultPrevented}t.options.event=function(ye){return ne&&(ye=ne(ye)),ye.persist=V,ye.isPropagationStopped=j,ye.isDefaultPrevented=te,ye.nativeEvent=ye};var ie,ue={configurable:!0,get:function(){return this.class}},he=t.options.vnode;t.options.vnode=function(ye){var Me=ye.type,We=ye.props,De=We;if(typeof Me=="string"){for(var Ge in De={},We){var pt=We[Ge];if(!(Ge==="value"&&"defaultValue"in We&&pt==null||Q&&Ge==="children"&&Me==="noscript")){var wt=Ge.toLowerCase();Ge==="defaultValue"&&"value"in We&&We.value==null?Ge="value":Ge==="download"&&pt===!0?pt="":wt==="ondoubleclick"?Ge="ondblclick":wt!=="onchange"||Me!=="input"&&Me!=="textarea"||K(We.type)?wt==="onfocus"?Ge="onfocusin":wt==="onblur"?Ge="onfocusout":$.test(Ge)?Ge=wt:Me.indexOf("-")===-1&&F.test(Ge)?Ge=Ge.replace(G,"-$&").toLowerCase():pt===null&&(pt=void 0):wt=Ge="oninput",wt==="oninput"&&De[Ge=wt]&&(Ge="oninputCapture"),De[Ge]=pt}}Me=="select"&&De.multiple&&Array.isArray(De.value)&&(De.value=(0,t.toChildArray)(We.children).forEach(function(Ht){Ht.props.selected=De.value.indexOf(Ht.props.value)!=-1})),Me=="select"&&De.defaultValue!=null&&(De.value=(0,t.toChildArray)(We.children).forEach(function(Ht){Ht.props.selected=De.multiple?De.defaultValue.indexOf(Ht.props.value)!=-1:De.defaultValue==Ht.props.value})),ye.props=De,We.class!=We.className&&(ue.enumerable="className"in We,We.className!=null&&(De.class=We.className),Object.defineProperty(De,"className",ue))}ye.$$typeof=U,he&&he(ye)};var Z=t.options.__r;t.options.__r=function(ye){Z&&Z(ye),ie=ye.__c};var J=t.options.diffed;t.options.diffed=function(ye){J&&J(ye);var Me=ye.props,We=ye.__e;We!=null&&ye.type==="textarea"&&"value"in Me&&Me.value!==We.value&&(We.value=Me.value==null?"":Me.value),ie=null};var ae={ReactCurrentDispatcher:{current:{readContext:function(ye){return ie.__n[ye.__c].props.value}}}},le="17.0.2";function oe(ye){return t.createElement.bind(null,ye)}function ee(ye){return!!ye&&ye.$$typeof===U}function z(ye){return ee(ye)?t.cloneElement.apply(null,arguments):ye}function re(ye){return!!ye.__k&&((0,t.render)(null,ye),!0)}function se(ye){return ye&&(ye.base||ye.nodeType===1&&ye)||null}var fe=function(ye,Me){return ye(Me)},Ee=function(ye,Me){return ye(Me)},ge=t.Fragment;function be(ye){ye()}function me(ye){return ye}function pe(){return[!1,be]}var Le=u.bt;function je(ye,Me){var We=Me(),De=(0,u.eJ)({h:{__:We,v:Me}}),Ge=De[0].h,pt=De[1];return(0,u.bt)(function(){Ge.__=We,Ge.v=Me,P(Ge.__,Me())||pt({h:Ge})},[ye,We,Me]),(0,u.d4)(function(){return P(Ge.__,Ge.v())||pt({h:Ge}),ye(function(){P(Ge.__,Ge.v())||pt({h:Ge})})},[ye]),We}var xe={useState:u.eJ,useId:u.Me,useReducer:u._Y,useEffect:u.d4,useLayoutEffect:u.bt,useInsertionEffect:Le,useTransition:pe,useDeferredValue:me,useSyncExternalStore:je,startTransition:be,useRef:u.sO,useImperativeHandle:u.aP,useMemo:u.Ye,useCallback:u.I4,useContext:u.qp,useDebugValue:u.Qb,version:"17.0.2",Children:D,render:W,hydrate:Y,unmountComponentAtNode:re,createPortal:R,createElement:t.createElement,createContext:t.createContext,createFactory:oe,cloneElement:z,createRef:t.createRef,Fragment:t.Fragment,isValidElement:ee,findDOMNode:se,Component:t.Component,PureComponent:y,memo:O,forwardRef:d,flushSync:Ee,unstable_batchedUpdates:fe,StrictMode:ge,Suspense:v,SuspenseList:C,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ae}},14369:(H,E,e)=>{"use strict";e.r(E),e.d(E,{addHookName:()=>u});var t=e(6400);function u(s,g){return t.options.__a&&t.options.__a(g),s}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",t.options,{Fragment:t.Fragment,Component:t.Component})},6400:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Component:()=>M,Fragment:()=>w,cloneElement:()=>ae,createContext:()=>le,createElement:()=>l,createRef:()=>v,h:()=>l,hydrate:()=>J,isValidElement:()=>g,options:()=>u,render:()=>Z,toChildArray:()=>F});var t,u,s,g,P,y,O,c,f,d={},T=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(oe,ee){for(var z in ee)oe[z]=ee[z];return oe}function p(oe){var ee=oe.parentNode;ee&&ee.removeChild(oe)}function l(oe,ee,z){var re,se,fe,Ee={};for(fe in ee)fe=="key"?re=ee[fe]:fe=="ref"?se=ee[fe]:Ee[fe]=ee[fe];if(arguments.length>2&&(Ee.children=arguments.length>3?t.call(arguments,2):z),typeof oe=="function"&&oe.defaultProps!=null)for(fe in oe.defaultProps)Ee[fe]===void 0&&(Ee[fe]=oe.defaultProps[fe]);return a(oe,Ee,re,se,null)}function a(oe,ee,z,re,se){var fe={type:oe,props:ee,key:z,ref:re,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:se==null?++s:se};return se==null&&u.vnode!=null&&u.vnode(fe),fe}function v(){return{current:null}}function w(oe){return oe.children}function M(oe,ee){this.props=oe,this.context=ee}function C(oe,ee){if(ee==null)return oe.__?C(oe.__,oe.__.__k.indexOf(oe)+1):null;for(var z;ee<oe.__k.length;ee++)if((z=oe.__k[ee])!=null&&z.__e!=null)return z.__e;return typeof oe.type=="function"?C(oe):null}function L(oe){var ee,z;if((oe=oe.__)!=null&&oe.__c!=null){for(oe.__e=oe.__c.base=null,ee=0;ee<oe.__k.length;ee++)if((z=oe.__k[ee])!=null&&z.__e!=null){oe.__e=oe.__c.base=z.__e;break}return L(oe)}}function S(oe){(!oe.__d&&(oe.__d=!0)&&P.push(oe)&&!N.__r++||y!==u.debounceRendering)&&((y=u.debounceRendering)||O)(N)}function N(){var oe,ee,z,re,se,fe,Ee,ge;for(P.sort(c);oe=P.shift();)oe.__d&&(ee=P.length,re=void 0,se=void 0,Ee=(fe=(z=oe).__v).__e,(ge=z.__P)&&(re=[],(se=I({},fe)).__v=fe.__v+1,V(ge,fe,se,z.__n,ge.ownerSVGElement!==void 0,fe.__h!=null?[Ee]:null,re,Ee==null?C(fe):Ee,fe.__h),j(re,fe),fe.__e!=Ee&&L(fe)),P.length>ee&&P.sort(c));N.__r=0}function R(oe,ee,z,re,se,fe,Ee,ge,be,me){var pe,Le,je,xe,ye,Me,We,De=re&&re.__k||T,Ge=De.length;for(z.__k=[],pe=0;pe<ee.length;pe++)if((xe=z.__k[pe]=(xe=ee[pe])==null||typeof xe=="boolean"||typeof xe=="function"?null:typeof xe=="string"||typeof xe=="number"||typeof xe=="bigint"?a(null,xe,null,null,xe):Array.isArray(xe)?a(w,{children:xe},null,null,null):xe.__b>0?a(xe.type,xe.props,xe.key,xe.ref?xe.ref:null,xe.__v):xe)!=null){if(xe.__=z,xe.__b=z.__b+1,(je=De[pe])===null||je&&xe.key==je.key&&xe.type===je.type)De[pe]=void 0;else for(Le=0;Le<Ge;Le++){if((je=De[Le])&&xe.key==je.key&&xe.type===je.type){De[Le]=void 0;break}je=null}V(oe,xe,je=je||d,se,fe,Ee,ge,be,me),ye=xe.__e,(Le=xe.ref)&&je.ref!=Le&&(We||(We=[]),je.ref&&We.push(je.ref,null,xe),We.push(Le,xe.__c||ye,xe)),ye!=null?(Me==null&&(Me=ye),typeof xe.type=="function"&&xe.__k===je.__k?xe.__d=be=U(xe,be,oe):be=$(oe,xe,je,De,ye,be),typeof z.type=="function"&&(z.__d=be)):be&&je.__e==be&&be.parentNode!=oe&&(be=C(je))}for(z.__e=Me,pe=Ge;pe--;)De[pe]!=null&&(typeof z.type=="function"&&De[pe].__e!=null&&De[pe].__e==z.__d&&(z.__d=G(re).nextSibling),ue(De[pe],De[pe]));if(We)for(pe=0;pe<We.length;pe++)ie(We[pe],We[++pe],We[++pe])}function U(oe,ee,z){for(var re,se=oe.__k,fe=0;se&&fe<se.length;fe++)(re=se[fe])&&(re.__=oe,ee=typeof re.type=="function"?U(re,ee,z):$(z,re,re,se,re.__e,ee));return ee}function F(oe,ee){return ee=ee||[],oe==null||typeof oe=="boolean"||(Array.isArray(oe)?oe.some(function(z){F(z,ee)}):ee.push(oe)),ee}function $(oe,ee,z,re,se,fe){var Ee,ge,be;if(ee.__d!==void 0)Ee=ee.__d,ee.__d=void 0;else if(z==null||se!=fe||se.parentNode==null)e:if(fe==null||fe.parentNode!==oe)oe.appendChild(se),Ee=null;else{for(ge=fe,be=0;(ge=ge.nextSibling)&&be<re.length;be+=1)if(ge==se)break e;oe.insertBefore(se,fe),Ee=fe}return Ee!==void 0?Ee:se.nextSibling}function G(oe){var ee,z,re;if(oe.type==null||typeof oe.type=="string")return oe.__e;if(oe.__k){for(ee=oe.__k.length-1;ee>=0;ee--)if((z=oe.__k[ee])&&(re=G(z)))return re}return null}function Q(oe,ee,z,re,se){var fe;for(fe in z)fe==="children"||fe==="key"||fe in ee||W(oe,fe,null,z[fe],re);for(fe in ee)se&&typeof ee[fe]!="function"||fe==="children"||fe==="key"||fe==="value"||fe==="checked"||z[fe]===ee[fe]||W(oe,fe,ee[fe],z[fe],re)}function K(oe,ee,z){ee[0]==="-"?oe.setProperty(ee,z==null?"":z):oe[ee]=z==null?"":typeof z!="number"||D.test(ee)?z:z+"px"}function W(oe,ee,z,re,se){var fe;e:if(ee==="style")if(typeof z=="string")oe.style.cssText=z;else{if(typeof re=="string"&&(oe.style.cssText=re=""),re)for(ee in re)z&&ee in z||K(oe.style,ee,"");if(z)for(ee in z)re&&z[ee]===re[ee]||K(oe.style,ee,z[ee])}else if(ee[0]==="o"&&ee[1]==="n")fe=ee!==(ee=ee.replace(/Capture$/,"")),ee=ee.toLowerCase()in oe?ee.toLowerCase().slice(2):ee.slice(2),oe.l||(oe.l={}),oe.l[ee+fe]=z,z?re||oe.addEventListener(ee,fe?ne:Y,fe):oe.removeEventListener(ee,fe?ne:Y,fe);else if(ee!=="dangerouslySetInnerHTML"){if(se)ee=ee.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(ee!=="width"&&ee!=="height"&&ee!=="href"&&ee!=="list"&&ee!=="form"&&ee!=="tabIndex"&&ee!=="download"&&ee in oe)try{oe[ee]=z==null?"":z;break e}catch(Ee){}typeof z=="function"||(z==null||z===!1&&ee.indexOf("-")==-1?oe.removeAttribute(ee):oe.setAttribute(ee,z))}}function Y(oe){return this.l[oe.type+!1](u.event?u.event(oe):oe)}function ne(oe){return this.l[oe.type+!0](u.event?u.event(oe):oe)}function V(oe,ee,z,re,se,fe,Ee,ge,be){var me,pe,Le,je,xe,ye,Me,We,De,Ge,pt,wt,Ht,nt,Ze,st=ee.type;if(ee.constructor!==void 0)return null;z.__h!=null&&(be=z.__h,ge=ee.__e=z.__e,ee.__h=null,fe=[ge]),(me=u.__b)&&me(ee);try{e:if(typeof st=="function"){if(We=ee.props,De=(me=st.contextType)&&re[me.__c],Ge=me?De?De.props.value:me.__:re,z.__c?Me=(pe=ee.__c=z.__c).__=pe.__E:("prototype"in st&&st.prototype.render?ee.__c=pe=new st(We,Ge):(ee.__c=pe=new M(We,Ge),pe.constructor=st,pe.render=he),De&&De.sub(pe),pe.props=We,pe.state||(pe.state={}),pe.context=Ge,pe.__n=re,Le=pe.__d=!0,pe.__h=[],pe._sb=[]),pe.__s==null&&(pe.__s=pe.state),st.getDerivedStateFromProps!=null&&(pe.__s==pe.state&&(pe.__s=I({},pe.__s)),I(pe.__s,st.getDerivedStateFromProps(We,pe.__s))),je=pe.props,xe=pe.state,pe.__v=ee,Le)st.getDerivedStateFromProps==null&&pe.componentWillMount!=null&&pe.componentWillMount(),pe.componentDidMount!=null&&pe.__h.push(pe.componentDidMount);else{if(st.getDerivedStateFromProps==null&&We!==je&&pe.componentWillReceiveProps!=null&&pe.componentWillReceiveProps(We,Ge),!pe.__e&&pe.shouldComponentUpdate!=null&&pe.shouldComponentUpdate(We,pe.__s,Ge)===!1||ee.__v===z.__v){for(ee.__v!==z.__v&&(pe.props=We,pe.state=pe.__s,pe.__d=!1),pe.__e=!1,ee.__e=z.__e,ee.__k=z.__k,ee.__k.forEach(function(Ie){Ie&&(Ie.__=ee)}),pt=0;pt<pe._sb.length;pt++)pe.__h.push(pe._sb[pt]);pe._sb=[],pe.__h.length&&Ee.push(pe);break e}pe.componentWillUpdate!=null&&pe.componentWillUpdate(We,pe.__s,Ge),pe.componentDidUpdate!=null&&pe.__h.push(function(){pe.componentDidUpdate(je,xe,ye)})}if(pe.context=Ge,pe.props=We,pe.__P=oe,wt=u.__r,Ht=0,"prototype"in st&&st.prototype.render){for(pe.state=pe.__s,pe.__d=!1,wt&&wt(ee),me=pe.render(pe.props,pe.state,pe.context),nt=0;nt<pe._sb.length;nt++)pe.__h.push(pe._sb[nt]);pe._sb=[]}else do pe.__d=!1,wt&&wt(ee),me=pe.render(pe.props,pe.state,pe.context),pe.state=pe.__s;while(pe.__d&&++Ht<25);pe.state=pe.__s,pe.getChildContext!=null&&(re=I(I({},re),pe.getChildContext())),Le||pe.getSnapshotBeforeUpdate==null||(ye=pe.getSnapshotBeforeUpdate(je,xe)),Ze=me!=null&&me.type===w&&me.key==null?me.props.children:me,R(oe,Array.isArray(Ze)?Ze:[Ze],ee,z,re,se,fe,Ee,ge,be),pe.base=ee.__e,ee.__h=null,pe.__h.length&&Ee.push(pe),Me&&(pe.__E=pe.__=null),pe.__e=!1}else fe==null&&ee.__v===z.__v?(ee.__k=z.__k,ee.__e=z.__e):ee.__e=te(z.__e,ee,z,re,se,fe,Ee,be);(me=u.diffed)&&me(ee)}catch(Ie){ee.__v=null,(be||fe!=null)&&(ee.__e=ge,ee.__h=!!be,fe[fe.indexOf(ge)]=null),u.__e(Ie,ee,z)}}function j(oe,ee){u.__c&&u.__c(ee,oe),oe.some(function(z){try{oe=z.__h,z.__h=[],oe.some(function(re){re.call(z)})}catch(re){u.__e(re,z.__v)}})}function te(oe,ee,z,re,se,fe,Ee,ge){var be,me,pe,Le=z.props,je=ee.props,xe=ee.type,ye=0;if(xe==="svg"&&(se=!0),fe!=null){for(;ye<fe.length;ye++)if((be=fe[ye])&&"setAttribute"in be==!!xe&&(xe?be.localName===xe:be.nodeType===3)){oe=be,fe[ye]=null;break}}if(oe==null){if(xe===null)return document.createTextNode(je);oe=se?document.createElementNS("http://www.w3.org/2000/svg",xe):document.createElement(xe,je.is&&je),fe=null,ge=!1}if(xe===null)Le===je||ge&&oe.data===je||(oe.data=je);else{if(fe=fe&&t.call(oe.childNodes),me=(Le=z.props||d).dangerouslySetInnerHTML,pe=je.dangerouslySetInnerHTML,!ge){if(fe!=null)for(Le={},ye=0;ye<oe.attributes.length;ye++)Le[oe.attributes[ye].name]=oe.attributes[ye].value;(pe||me)&&(pe&&(me&&pe.__html==me.__html||pe.__html===oe.innerHTML)||(oe.innerHTML=pe&&pe.__html||""))}if(Q(oe,je,Le,se,ge),pe)ee.__k=[];else if(ye=ee.props.children,R(oe,Array.isArray(ye)?ye:[ye],ee,z,re,se&&xe!=="foreignObject",fe,Ee,fe?fe[0]:z.__k&&C(z,0),ge),fe!=null)for(ye=fe.length;ye--;)fe[ye]!=null&&p(fe[ye]);ge||("value"in je&&(ye=je.value)!==void 0&&(ye!==oe.value||xe==="progress"&&!ye||xe==="option"&&ye!==Le.value)&&W(oe,"value",ye,Le.value,!1),"checked"in je&&(ye=je.checked)!==void 0&&ye!==oe.checked&&W(oe,"checked",ye,Le.checked,!1))}return oe}function ie(oe,ee,z){try{typeof oe=="function"?oe(ee):oe.current=ee}catch(re){u.__e(re,z)}}function ue(oe,ee,z){var re,se;if(u.unmount&&u.unmount(oe),(re=oe.ref)&&(re.current&&re.current!==oe.__e||ie(re,null,ee)),(re=oe.__c)!=null){if(re.componentWillUnmount)try{re.componentWillUnmount()}catch(fe){u.__e(fe,ee)}re.base=re.__P=null,oe.__c=void 0}if(re=oe.__k)for(se=0;se<re.length;se++)re[se]&&ue(re[se],ee,z||typeof oe.type!="function");z||oe.__e==null||p(oe.__e),oe.__=oe.__e=oe.__d=void 0}function he(oe,ee,z){return this.constructor(oe,z)}function Z(oe,ee,z){var re,se,fe;u.__&&u.__(oe,ee),se=(re=typeof z=="function")?null:z&&z.__k||ee.__k,fe=[],V(ee,oe=(!re&&z||ee).__k=l(w,null,[oe]),se||d,d,ee.ownerSVGElement!==void 0,!re&&z?[z]:se?null:ee.firstChild?t.call(ee.childNodes):null,fe,!re&&z?z:se?se.__e:ee.firstChild,re),j(fe,oe)}function J(oe,ee){Z(oe,ee,J)}function ae(oe,ee,z){var re,se,fe,Ee=I({},oe.props);for(fe in ee)fe=="key"?re=ee[fe]:fe=="ref"?se=ee[fe]:Ee[fe]=ee[fe];return arguments.length>2&&(Ee.children=arguments.length>3?t.call(arguments,2):z),a(oe.type,Ee,re||oe.key,se||oe.ref,null)}function le(oe,ee){var z={__c:ee="__cC"+f++,__:oe,Consumer:function(re,se){return re.children(se)},Provider:function(re){var se,fe;return this.getChildContext||(se=[],(fe={})[ee]=this,this.getChildContext=function(){return fe},this.shouldComponentUpdate=function(Ee){this.props.value!==Ee.value&&se.some(function(ge){ge.__e=!0,S(ge)})},this.sub=function(Ee){se.push(Ee);var ge=Ee.componentWillUnmount;Ee.componentWillUnmount=function(){se.splice(se.indexOf(Ee),1),ge&&ge.call(Ee)}}),re.children}};return z.Provider.__=z.Consumer.contextType=z}t=T.slice,u={__e:function(oe,ee,z,re){for(var se,fe,Ee;ee=ee.__;)if((se=ee.__c)&&!se.__)try{if((fe=se.constructor)&&fe.getDerivedStateFromError!=null&&(se.setState(fe.getDerivedStateFromError(oe)),Ee=se.__d),se.componentDidCatch!=null&&(se.componentDidCatch(oe,re||{}),Ee=se.__d),Ee)return se.__E=se}catch(ge){oe=ge}throw oe}},s=0,g=function(oe){return oe!=null&&oe.constructor===void 0},M.prototype.setState=function(oe,ee){var z;z=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof oe=="function"&&(oe=oe(I({},z),this.props)),oe&&I(z,oe),oe!=null&&this.__v&&(ee&&this._sb.push(ee),S(this))},M.prototype.forceUpdate=function(oe){this.__v&&(this.__e=!0,oe&&this.__h.push(oe),S(this))},M.prototype.render=w,P=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(oe,ee){return oe.__v.__b-ee.__v.__b},N.__r=0,f=0},30396:(H,E,e)=>{"use strict";e.d(E,{I4:()=>S,Me:()=>F,Qb:()=>R,Ye:()=>L,_Y:()=>a,aP:()=>C,bt:()=>w,cO:()=>U,d4:()=>v,eJ:()=>l,qp:()=>N,sO:()=>M});var t=e(6400),u,s,g,P,y=0,O=[],c=[],f=t.options.__b,d=t.options.__r,T=t.options.diffed,D=t.options.__c,I=t.options.unmount;function p(V,j){t.options.__h&&t.options.__h(s,V,y||j),y=0;var te=s.__H||(s.__H={__:[],__h:[]});return V>=te.__.length&&te.__.push({__V:c}),te.__[V]}function l(V){return y=1,a(ne,V)}function a(V,j,te){var ie=p(u++,2);if(ie.t=V,!ie.__c&&(ie.__=[te?te(j):ne(void 0,j),function(J){var ae=ie.__N?ie.__N[0]:ie.__[0],le=ie.t(ae,J);ae!==le&&(ie.__N=[le,ie.__[1]],ie.__c.setState({}))}],ie.__c=s,!s.u)){var ue=function(J,ae,le){if(!ie.__c.__H)return!0;var oe=ie.__c.__H.__.filter(function(z){return z.__c});if(oe.every(function(z){return!z.__N}))return!he||he.call(this,J,ae,le);var ee=!1;return oe.forEach(function(z){if(z.__N){var re=z.__[0];z.__=z.__N,z.__N=void 0,re!==z.__[0]&&(ee=!0)}}),!(!ee&&ie.__c.props===J)&&(!he||he.call(this,J,ae,le))};s.u=!0;var he=s.shouldComponentUpdate,Z=s.componentWillUpdate;s.componentWillUpdate=function(J,ae,le){if(this.__e){var oe=he;he=void 0,ue(J,ae,le),he=oe}Z&&Z.call(this,J,ae,le)},s.shouldComponentUpdate=ue}return ie.__N||ie.__}function v(V,j){var te=p(u++,3);!t.options.__s&&Y(te.__H,j)&&(te.__=V,te.i=j,s.__H.__h.push(te))}function w(V,j){var te=p(u++,4);!t.options.__s&&Y(te.__H,j)&&(te.__=V,te.i=j,s.__h.push(te))}function M(V){return y=5,L(function(){return{current:V}},[])}function C(V,j,te){y=6,w(function(){return typeof V=="function"?(V(j()),function(){return V(null)}):V?(V.current=j(),function(){return V.current=null}):void 0},te==null?te:te.concat(V))}function L(V,j){var te=p(u++,7);return Y(te.__H,j)?(te.__V=V(),te.i=j,te.__h=V,te.__V):te.__}function S(V,j){return y=8,L(function(){return V},j)}function N(V){var j=s.context[V.__c],te=p(u++,9);return te.c=V,j?(te.__==null&&(te.__=!0,j.sub(s)),j.props.value):V.__}function R(V,j){t.options.useDebugValue&&t.options.useDebugValue(j?j(V):V)}function U(V){var j=p(u++,10),te=l();return j.__=V,s.componentDidCatch||(s.componentDidCatch=function(ie,ue){j.__&&j.__(ie,ue),te[1](ie)}),[te[0],function(){te[1](void 0)}]}function F(){var V=p(u++,11);if(!V.__){for(var j=s.__v;j!==null&&!j.__m&&j.__!==null;)j=j.__;var te=j.__m||(j.__m=[0,0]);V.__="P"+te[0]+"-"+te[1]++}return V.__}function $(){for(var V;V=O.shift();)if(V.__P&&V.__H)try{V.__H.__h.forEach(K),V.__H.__h.forEach(W),V.__H.__h=[]}catch(j){V.__H.__h=[],t.options.__e(j,V.__v)}}t.options.__b=function(V){s=null,f&&f(V)},t.options.__r=function(V){d&&d(V),u=0;var j=(s=V.__c).__H;j&&(g===s?(j.__h=[],s.__h=[],j.__.forEach(function(te){te.__N&&(te.__=te.__N),te.__V=c,te.__N=te.i=void 0})):(j.__h.forEach(K),j.__h.forEach(W),j.__h=[])),g=s},t.options.diffed=function(V){T&&T(V);var j=V.__c;j&&j.__H&&(j.__H.__h.length&&(O.push(j)!==1&&P===t.options.requestAnimationFrame||((P=t.options.requestAnimationFrame)||Q)($)),j.__H.__.forEach(function(te){te.i&&(te.__H=te.i),te.__V!==c&&(te.__=te.__V),te.i=void 0,te.__V=c})),g=s=null},t.options.__c=function(V,j){j.some(function(te){try{te.__h.forEach(K),te.__h=te.__h.filter(function(ie){return!ie.__||W(ie)})}catch(ie){j.some(function(ue){ue.__h&&(ue.__h=[])}),j=[],t.options.__e(ie,te.__v)}}),D&&D(V,j)},t.options.unmount=function(V){I&&I(V);var j,te=V.__c;te&&te.__H&&(te.__H.__.forEach(function(ie){try{K(ie)}catch(ue){j=ue}}),te.__H=void 0,j&&t.options.__e(j,te.__v))};var G=typeof requestAnimationFrame=="function";function Q(V){var j,te=function(){clearTimeout(ie),G&&cancelAnimationFrame(j),setTimeout(V)},ie=setTimeout(te,100);G&&(j=requestAnimationFrame(te))}function K(V){var j=s,te=V.__c;typeof te=="function"&&(V.__c=void 0,te()),s=j}function W(V){var j=s;V.__c=V.__(),s=j}function Y(V,j){return!V||V.length!==j.length||j.some(function(te,ie){return te!==V[ie]})}function ne(V,j){return typeof j=="function"?j(V):j}},92703:(H,E,e)=>{"use strict";var t=e(50414);function u(){}function s(){}s.resetWarningCache=u,H.exports=function(){function g(O,c,f,d,T,D){if(D!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}g.isRequired=g;function P(){return g}var y={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:P,element:g,elementType:g,instanceOf:P,node:g,objectOf:P,oneOf:P,oneOfType:P,shape:P,exact:P,checkPropTypes:s,resetWarningCache:u};return y.PropTypes=y,y}},45697:(H,E,e)=>{if(!1)var t,u;else H.exports=e(92703)()},50414:H=>{"use strict";var E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";H.exports=E},92592:(H,E,e)=>{const t=e(47138),u=e(95115),s=e(6907),g=e(93776);function P(y,O,c,f,d){const T=[].slice.call(arguments,1),D=T.length,I=typeof T[D-1]=="function";if(!I&&!t())throw new Error("Callback required as last argument");if(I){if(D<2)throw new Error("Too few arguments provided");D===2?(d=c,c=O,O=f=void 0):D===3&&(O.getContext&&typeof d=="undefined"?(d=f,f=void 0):(d=f,f=c,c=O,O=void 0))}else{if(D<1)throw new Error("Too few arguments provided");return D===1?(c=O,O=f=void 0):D===2&&!O.getContext&&(f=c,c=O,O=void 0),new Promise(function(p,l){try{const a=u.create(c,f);p(y(a,O,f))}catch(a){l(a)}})}try{const p=u.create(c,f);d(null,y(p,O,f))}catch(p){d(p)}}E.create=u.create,E.toCanvas=P.bind(null,s.render),E.toDataURL=P.bind(null,s.renderToDataURL),E.toString=P.bind(null,function(y,O,c){return g.render(y,c)})},47138:H=>{H.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(H,E,e)=>{const t=e(10242).getSymbolSize;E.getRowColCoords=function(s){if(s===1)return[];const g=Math.floor(s/7)+2,P=t(s),y=P===145?26:Math.ceil((P-13)/(2*g-2))*2,O=[P-7];for(let c=1;c<g-1;c++)O[c]=O[c-1]-y;return O.push(6),O.reverse()},E.getPositions=function(s){const g=[],P=E.getRowColCoords(s),y=P.length;for(let O=0;O<y;O++)for(let c=0;c<y;c++)O===0&&c===0||O===0&&c===y-1||O===y-1&&c===0||g.push([P[O],P[c]]);return g}},8260:(H,E,e)=>{const t=e(76910),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(g){this.mode=t.ALPHANUMERIC,this.data=g}s.getBitsLength=function(P){return 11*Math.floor(P/2)+6*(P%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(P){let y;for(y=0;y+2<=this.data.length;y+=2){let O=u.indexOf(this.data[y])*45;O+=u.indexOf(this.data[y+1]),P.put(O,11)}this.data.length%2&&P.put(u.indexOf(this.data[y]),6)},H.exports=s},97245:H=>{function E(){this.buffer=[],this.length=0}E.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let u=0;u<t;u++)this.putBit((e>>>t-u-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},H.exports=E},73280:H=>{function E(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}E.prototype.set=function(e,t,u,s){const g=e*this.size+t;this.data[g]=u,s&&(this.reservedBit[g]=!0)},E.prototype.get=function(e,t){return this.data[e*this.size+t]},E.prototype.xor=function(e,t,u){this.data[e*this.size+t]^=u},E.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},H.exports=E},43424:(H,E,e)=>{const t=e(62378),u=e(76910);function s(g){this.mode=u.BYTE,typeof g=="string"&&(g=t(g)),this.data=new Uint8Array(g)}s.getBitsLength=function(P){return P*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(g){for(let P=0,y=this.data.length;P<y;P++)g.put(this.data[P],8)},H.exports=s},26245:(H,E,e)=>{const t=e(64908),u=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];E.getBlocksCount=function(P,y){switch(y){case t.L:return u[(P-1)*4+0];case t.M:return u[(P-1)*4+1];case t.Q:return u[(P-1)*4+2];case t.H:return u[(P-1)*4+3];default:return}},E.getTotalCodewordsCount=function(P,y){switch(y){case t.L:return s[(P-1)*4+0];case t.M:return s[(P-1)*4+1];case t.Q:return s[(P-1)*4+2];case t.H:return s[(P-1)*4+3];default:return}}},64908:(H,E)=>{E.L={bit:1},E.M={bit:0},E.Q={bit:3},E.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return E.L;case"m":case"medium":return E.M;case"q":case"quartile":return E.Q;case"h":case"high":return E.H;default:throw new Error("Unknown EC Level: "+t)}}E.isValid=function(u){return u&&typeof u.bit!="undefined"&&u.bit>=0&&u.bit<4},E.from=function(u,s){if(E.isValid(u))return u;try{return e(u)}catch(g){return s}}},76526:(H,E,e)=>{const t=e(10242).getSymbolSize,u=7;E.getPositions=function(g){const P=t(g);return[[0,0],[P-u,0],[0,P-u]]}},61642:(H,E,e)=>{const t=e(10242),u=1335,s=21522,g=t.getBCHDigit(u);E.getEncodedBits=function(y,O){const c=y.bit<<3|O;let f=c<<10;for(;t.getBCHDigit(f)-g>=0;)f^=u<<t.getBCHDigit(f)-g;return(c<<10|f)^s}},69729:(H,E)=>{const e=new Uint8Array(512),t=new Uint8Array(256);(function(){let s=1;for(let g=0;g<255;g++)e[g]=s,t[s]=g,s<<=1,s&256&&(s^=285);for(let g=255;g<512;g++)e[g]=e[g-255]})(),E.log=function(s){if(s<1)throw new Error("log("+s+")");return t[s]},E.exp=function(s){return e[s]},E.mul=function(s,g){return s===0||g===0?0:e[t[s]+t[g]]}},51018:(H,E,e)=>{const t=e(76910),u=e(10242);function s(g){this.mode=t.KANJI,this.data=g}s.getBitsLength=function(P){return P*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(g){let P;for(P=0;P<this.data.length;P++){let y=u.toSJIS(this.data[P]);if(y>=33088&&y<=40956)y-=33088;else if(y>=57408&&y<=60351)y-=49472;else throw new Error("Invalid SJIS character: "+this.data[P]+`
Make sure your charset is UTF-8`);y=(y>>>8&255)*192+(y&255),g.put(y,13)}},H.exports=s},27126:(H,E)=>{E.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};E.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},E.from=function(s){return E.isValid(s)?parseInt(s,10):void 0},E.getPenaltyN1=function(s){const g=s.size;let P=0,y=0,O=0,c=null,f=null;for(let d=0;d<g;d++){y=O=0,c=f=null;for(let T=0;T<g;T++){let D=s.get(d,T);D===c?y++:(y>=5&&(P+=e.N1+(y-5)),c=D,y=1),D=s.get(T,d),D===f?O++:(O>=5&&(P+=e.N1+(O-5)),f=D,O=1)}y>=5&&(P+=e.N1+(y-5)),O>=5&&(P+=e.N1+(O-5))}return P},E.getPenaltyN2=function(s){const g=s.size;let P=0;for(let y=0;y<g-1;y++)for(let O=0;O<g-1;O++){const c=s.get(y,O)+s.get(y,O+1)+s.get(y+1,O)+s.get(y+1,O+1);(c===4||c===0)&&P++}return P*e.N2},E.getPenaltyN3=function(s){const g=s.size;let P=0,y=0,O=0;for(let c=0;c<g;c++){y=O=0;for(let f=0;f<g;f++)y=y<<1&2047|s.get(c,f),f>=10&&(y===1488||y===93)&&P++,O=O<<1&2047|s.get(f,c),f>=10&&(O===1488||O===93)&&P++}return P*e.N3},E.getPenaltyN4=function(s){let g=0;const P=s.data.length;for(let O=0;O<P;O++)g+=s.data[O];return Math.abs(Math.ceil(g*100/P/5)-10)*e.N4};function t(u,s,g){switch(u){case E.Patterns.PATTERN000:return(s+g)%2===0;case E.Patterns.PATTERN001:return s%2===0;case E.Patterns.PATTERN010:return g%3===0;case E.Patterns.PATTERN011:return(s+g)%3===0;case E.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(g/3))%2===0;case E.Patterns.PATTERN101:return s*g%2+s*g%3===0;case E.Patterns.PATTERN110:return(s*g%2+s*g%3)%2===0;case E.Patterns.PATTERN111:return(s*g%3+(s+g)%2)%2===0;default:throw new Error("bad maskPattern:"+u)}}E.applyMask=function(s,g){const P=g.size;for(let y=0;y<P;y++)for(let O=0;O<P;O++)g.isReserved(O,y)||g.xor(O,y,t(s,O,y))},E.getBestMask=function(s,g){const P=Object.keys(E.Patterns).length;let y=0,O=1/0;for(let c=0;c<P;c++){g(c),E.applyMask(c,s);const f=E.getPenaltyN1(s)+E.getPenaltyN2(s)+E.getPenaltyN3(s)+E.getPenaltyN4(s);E.applyMask(c,s),f<O&&(O=f,y=c)}return y}},76910:(H,E,e)=>{const t=e(43114),u=e(7007);E.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},E.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},E.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},E.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},E.MIXED={bit:-1},E.getCharCountIndicator=function(P,y){if(!P.ccBits)throw new Error("Invalid mode: "+P);if(!t.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?P.ccBits[0]:y<27?P.ccBits[1]:P.ccBits[2]},E.getBestModeForData=function(P){return u.testNumeric(P)?E.NUMERIC:u.testAlphanumeric(P)?E.ALPHANUMERIC:u.testKanji(P)?E.KANJI:E.BYTE},E.toString=function(P){if(P&&P.id)return P.id;throw new Error("Invalid mode")},E.isValid=function(P){return P&&P.bit&&P.ccBits};function s(g){if(typeof g!="string")throw new Error("Param is not a string");switch(g.toLowerCase()){case"numeric":return E.NUMERIC;case"alphanumeric":return E.ALPHANUMERIC;case"kanji":return E.KANJI;case"byte":return E.BYTE;default:throw new Error("Unknown mode: "+g)}}E.from=function(P,y){if(E.isValid(P))return P;try{return s(P)}catch(O){return y}}},41085:(H,E,e)=>{const t=e(76910);function u(s){this.mode=t.NUMERIC,this.data=s.toString()}u.getBitsLength=function(g){return 10*Math.floor(g/3)+(g%3?g%3*3+1:0)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(g){let P,y,O;for(P=0;P+3<=this.data.length;P+=3)y=this.data.substr(P,3),O=parseInt(y,10),g.put(O,10);const c=this.data.length-P;c>0&&(y=this.data.substr(P),O=parseInt(y,10),g.put(O,c*3+1))},H.exports=u},26143:(H,E,e)=>{const t=e(69729);E.mul=function(s,g){const P=new Uint8Array(s.length+g.length-1);for(let y=0;y<s.length;y++)for(let O=0;O<g.length;O++)P[y+O]^=t.mul(s[y],g[O]);return P},E.mod=function(s,g){let P=new Uint8Array(s);for(;P.length-g.length>=0;){const y=P[0];for(let c=0;c<g.length;c++)P[c]^=t.mul(g[c],y);let O=0;for(;O<P.length&&P[O]===0;)O++;P=P.slice(O)}return P},E.generateECPolynomial=function(s){let g=new Uint8Array([1]);for(let P=0;P<s;P++)g=E.mul(g,new Uint8Array([1,t.exp(P)]));return g}},95115:(H,E,e)=>{const t=e(10242),u=e(64908),s=e(97245),g=e(73280),P=e(21845),y=e(76526),O=e(27126),c=e(26245),f=e(52882),d=e(23103),T=e(61642),D=e(76910),I=e(16130);function p(N,R){const U=N.size,F=y.getPositions(R);for(let $=0;$<F.length;$++){const G=F[$][0],Q=F[$][1];for(let K=-1;K<=7;K++)if(!(G+K<=-1||U<=G+K))for(let W=-1;W<=7;W++)Q+W<=-1||U<=Q+W||(K>=0&&K<=6&&(W===0||W===6)||W>=0&&W<=6&&(K===0||K===6)||K>=2&&K<=4&&W>=2&&W<=4?N.set(G+K,Q+W,!0,!0):N.set(G+K,Q+W,!1,!0))}}function l(N){const R=N.size;for(let U=8;U<R-8;U++){const F=U%2===0;N.set(U,6,F,!0),N.set(6,U,F,!0)}}function a(N,R){const U=P.getPositions(R);for(let F=0;F<U.length;F++){const $=U[F][0],G=U[F][1];for(let Q=-2;Q<=2;Q++)for(let K=-2;K<=2;K++)Q===-2||Q===2||K===-2||K===2||Q===0&&K===0?N.set($+Q,G+K,!0,!0):N.set($+Q,G+K,!1,!0)}}function v(N,R){const U=N.size,F=d.getEncodedBits(R);let $,G,Q;for(let K=0;K<18;K++)$=Math.floor(K/3),G=K%3+U-8-3,Q=(F>>K&1)===1,N.set($,G,Q,!0),N.set(G,$,Q,!0)}function w(N,R,U){const F=N.size,$=T.getEncodedBits(R,U);let G,Q;for(G=0;G<15;G++)Q=($>>G&1)===1,G<6?N.set(G,8,Q,!0):G<8?N.set(G+1,8,Q,!0):N.set(F-15+G,8,Q,!0),G<8?N.set(8,F-G-1,Q,!0):G<9?N.set(8,15-G-1+1,Q,!0):N.set(8,15-G-1,Q,!0);N.set(F-8,8,1,!0)}function M(N,R){const U=N.size;let F=-1,$=U-1,G=7,Q=0;for(let K=U-1;K>0;K-=2)for(K===6&&K--;;){for(let W=0;W<2;W++)if(!N.isReserved($,K-W)){let Y=!1;Q<R.length&&(Y=(R[Q]>>>G&1)===1),N.set($,K-W,Y),G--,G===-1&&(Q++,G=7)}if($+=F,$<0||U<=$){$-=F,F=-F;break}}}function C(N,R,U){const F=new s;U.forEach(function(W){F.put(W.mode.bit,4),F.put(W.getLength(),D.getCharCountIndicator(W.mode,N)),W.write(F)});const $=t.getSymbolTotalCodewords(N),G=c.getTotalCodewordsCount(N,R),Q=($-G)*8;for(F.getLengthInBits()+4<=Q&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const K=(Q-F.getLengthInBits())/8;for(let W=0;W<K;W++)F.put(W%2?17:236,8);return L(F,N,R)}function L(N,R,U){const F=t.getSymbolTotalCodewords(R),$=c.getTotalCodewordsCount(R,U),G=F-$,Q=c.getBlocksCount(R,U),K=F%Q,W=Q-K,Y=Math.floor(F/Q),ne=Math.floor(G/Q),V=ne+1,j=Y-ne,te=new f(j);let ie=0;const ue=new Array(Q),he=new Array(Q);let Z=0;const J=new Uint8Array(N.buffer);for(let z=0;z<Q;z++){const re=z<W?ne:V;ue[z]=J.slice(ie,ie+re),he[z]=te.encode(ue[z]),ie+=re,Z=Math.max(Z,re)}const ae=new Uint8Array(F);let le=0,oe,ee;for(oe=0;oe<Z;oe++)for(ee=0;ee<Q;ee++)oe<ue[ee].length&&(ae[le++]=ue[ee][oe]);for(oe=0;oe<j;oe++)for(ee=0;ee<Q;ee++)ae[le++]=he[ee][oe];return ae}function S(N,R,U,F){let $;if(Array.isArray(N))$=I.fromArray(N);else if(typeof N=="string"){let Y=R;if(!Y){const ne=I.rawSplit(N);Y=d.getBestVersionForData(ne,U)}$=I.fromString(N,Y||40)}else throw new Error("Invalid data");const G=d.getBestVersionForData($,U);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=G;else if(R<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const Q=C(R,U,$),K=t.getSymbolSize(R),W=new g(K);return p(W,R),l(W),a(W,R),w(W,U,0),R>=7&&v(W,R),M(W,Q),isNaN(F)&&(F=O.getBestMask(W,w.bind(null,W,U))),O.applyMask(F,W),w(W,U,F),{modules:W,version:R,errorCorrectionLevel:U,maskPattern:F,segments:$}}E.create=function(R,U){if(typeof R=="undefined"||R==="")throw new Error("No input text");let F=u.M,$,G;return typeof U!="undefined"&&(F=u.from(U.errorCorrectionLevel,u.M),$=d.from(U.version),G=O.from(U.maskPattern),U.toSJISFunc&&t.setToSJISFunction(U.toSJISFunc)),S(R,$,F,G)}},52882:(H,E,e)=>{const t=e(26143);function u(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}u.prototype.initialize=function(g){this.degree=g,this.genPoly=t.generateECPolynomial(this.degree)},u.prototype.encode=function(g){if(!this.genPoly)throw new Error("Encoder not initialized");const P=new Uint8Array(g.length+this.degree);P.set(g);const y=t.mod(P,this.genPoly),O=this.degree-y.length;if(O>0){const c=new Uint8Array(this.degree);return c.set(y,O),c}return y},H.exports=u},7007:(H,E)=>{const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let u="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";u=u.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+u+`)(?:.|[\r
]))+`;E.KANJI=new RegExp(u,"g"),E.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),E.BYTE=new RegExp(s,"g"),E.NUMERIC=new RegExp(e,"g"),E.ALPHANUMERIC=new RegExp(t,"g");const g=new RegExp("^"+u+"$"),P=new RegExp("^"+e+"$"),y=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");E.testKanji=function(c){return g.test(c)},E.testNumeric=function(c){return P.test(c)},E.testAlphanumeric=function(c){return y.test(c)}},16130:(H,E,e)=>{const t=e(76910),u=e(41085),s=e(8260),g=e(43424),P=e(51018),y=e(7007),O=e(10242),c=e(65987);function f(v){return unescape(encodeURIComponent(v)).length}function d(v,w,M){const C=[];let L;for(;(L=v.exec(M))!==null;)C.push({data:L[0],index:L.index,mode:w,length:L[0].length});return C}function T(v){const w=d(y.NUMERIC,t.NUMERIC,v),M=d(y.ALPHANUMERIC,t.ALPHANUMERIC,v);let C,L;return O.isKanjiModeEnabled()?(C=d(y.BYTE,t.BYTE,v),L=d(y.KANJI,t.KANJI,v)):(C=d(y.BYTE_KANJI,t.BYTE,v),L=[]),w.concat(M,C,L).sort(function(N,R){return N.index-R.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function D(v,w){switch(w){case t.NUMERIC:return u.getBitsLength(v);case t.ALPHANUMERIC:return s.getBitsLength(v);case t.KANJI:return P.getBitsLength(v);case t.BYTE:return g.getBitsLength(v)}}function I(v){return v.reduce(function(w,M){const C=w.length-1>=0?w[w.length-1]:null;return C&&C.mode===M.mode?(w[w.length-1].data+=M.data,w):(w.push(M),w)},[])}function p(v){const w=[];for(let M=0;M<v.length;M++){const C=v[M];switch(C.mode){case t.NUMERIC:w.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:w.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:w.push([C,{data:C.data,mode:t.BYTE,length:f(C.data)}]);break;case t.BYTE:w.push([{data:C.data,mode:t.BYTE,length:f(C.data)}])}}return w}function l(v,w){const M={},C={start:{}};let L=["start"];for(let S=0;S<v.length;S++){const N=v[S],R=[];for(let U=0;U<N.length;U++){const F=N[U],$=""+S+U;R.push($),M[$]={node:F,lastCount:0},C[$]={};for(let G=0;G<L.length;G++){const Q=L[G];M[Q]&&M[Q].node.mode===F.mode?(C[Q][$]=D(M[Q].lastCount+F.length,F.mode)-D(M[Q].lastCount,F.mode),M[Q].lastCount+=F.length):(M[Q]&&(M[Q].lastCount=F.length),C[Q][$]=D(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,w))}}L=R}for(let S=0;S<L.length;S++)C[L[S]].end=0;return{map:C,table:M}}function a(v,w){let M;const C=t.getBestModeForData(v);if(M=t.from(w,C),M!==t.BYTE&&M.bit<C.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(M)+`.
 Suggested mode is: `+t.toString(C));switch(M===t.KANJI&&!O.isKanjiModeEnabled()&&(M=t.BYTE),M){case t.NUMERIC:return new u(v);case t.ALPHANUMERIC:return new s(v);case t.KANJI:return new P(v);case t.BYTE:return new g(v)}}E.fromArray=function(w){return w.reduce(function(M,C){return typeof C=="string"?M.push(a(C,null)):C.data&&M.push(a(C.data,C.mode)),M},[])},E.fromString=function(w,M){const C=T(w,O.isKanjiModeEnabled()),L=p(C),S=l(L,M),N=c.find_path(S.map,"start","end"),R=[];for(let U=1;U<N.length-1;U++)R.push(S.table[N[U]].node);return E.fromArray(I(R))},E.rawSplit=function(w){return E.fromArray(T(w,O.isKanjiModeEnabled()))}},10242:(H,E)=>{let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];E.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17},E.getSymbolTotalCodewords=function(s){return t[s]},E.getBCHDigit=function(u){let s=0;for(;u!==0;)s++,u>>>=1;return s},E.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');e=s},E.isKanjiModeEnabled=function(){return typeof e!="undefined"},E.toSJIS=function(s){return e(s)}},43114:(H,E)=>{E.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},23103:(H,E,e)=>{const t=e(10242),u=e(26245),s=e(64908),g=e(76910),P=e(43114),y=7973,O=t.getBCHDigit(y);function c(D,I,p){for(let l=1;l<=40;l++)if(I<=E.getCapacity(l,p,D))return l}function f(D,I){return g.getCharCountIndicator(D,I)+4}function d(D,I){let p=0;return D.forEach(function(l){const a=f(l.mode,I);p+=a+l.getBitsLength()}),p}function T(D,I){for(let p=1;p<=40;p++)if(d(D,p)<=E.getCapacity(p,I,g.MIXED))return p}E.from=function(I,p){return P.isValid(I)?parseInt(I,10):p},E.getCapacity=function(I,p,l){if(!P.isValid(I))throw new Error("Invalid QR Code version");typeof l=="undefined"&&(l=g.BYTE);const a=t.getSymbolTotalCodewords(I),v=u.getTotalCodewordsCount(I,p),w=(a-v)*8;if(l===g.MIXED)return w;const M=w-f(l,I);switch(l){case g.NUMERIC:return Math.floor(M/10*3);case g.ALPHANUMERIC:return Math.floor(M/11*2);case g.KANJI:return Math.floor(M/13);case g.BYTE:default:return Math.floor(M/8)}},E.getBestVersionForData=function(I,p){let l;const a=s.from(p,s.M);if(Array.isArray(I)){if(I.length>1)return T(I,a);if(I.length===0)return 1;l=I[0]}else l=I;return c(l.mode,l.getLength(),a)},E.getEncodedBits=function(I){if(!P.isValid(I)||I<7)throw new Error("Invalid QR Code version");let p=I<<12;for(;t.getBCHDigit(p)-O>=0;)p^=y<<t.getBCHDigit(p)-O;return I<<12|p}},6907:(H,E,e)=>{const t=e(89653);function u(g,P,y){g.clearRect(0,0,P.width,P.height),P.style||(P.style={}),P.height=y,P.width=y,P.style.height=y+"px",P.style.width=y+"px"}function s(){try{return document.createElement("canvas")}catch(g){throw new Error("You need to specify a canvas element")}}E.render=function(P,y,O){let c=O,f=y;typeof c=="undefined"&&(!y||!y.getContext)&&(c=y,y=void 0),y||(f=s()),c=t.getOptions(c);const d=t.getImageWidth(P.modules.size,c),T=f.getContext("2d"),D=T.createImageData(d,d);return t.qrToImageData(D.data,P,c),u(T,f,d),T.putImageData(D,0,0),f},E.renderToDataURL=function(P,y,O){let c=O;typeof c=="undefined"&&(!y||!y.getContext)&&(c=y,y=void 0),c||(c={});const f=E.render(P,y,c),d=c.type||"image/png",T=c.rendererOpts||{};return f.toDataURL(d,T.quality)}},93776:(H,E,e)=>{const t=e(89653);function u(P,y){const O=P.a/255,c=y+'="'+P.hex+'"';return O<1?c+" "+y+'-opacity="'+O.toFixed(2).slice(1)+'"':c}function s(P,y,O){let c=P+y;return typeof O!="undefined"&&(c+=" "+O),c}function g(P,y,O){let c="",f=0,d=!1,T=0;for(let D=0;D<P.length;D++){const I=Math.floor(D%y),p=Math.floor(D/y);!I&&!d&&(d=!0),P[D]?(T++,D>0&&I>0&&P[D-1]||(c+=d?s("M",I+O,.5+p+O):s("m",f,0),f=0,d=!1),I+1<y&&P[D+1]||(c+=s("h",T),T=0)):f++}return c}E.render=function(y,O,c){const f=t.getOptions(O),d=y.modules.size,T=y.modules.data,D=d+f.margin*2,I=f.color.light.a?"<path "+u(f.color.light,"fill")+' d="M0 0h'+D+"v"+D+'H0z"/>':"",p="<path "+u(f.color.dark,"stroke")+' d="'+g(T,d,f.margin)+'"/>',l='viewBox="0 0 '+D+" "+D+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+l+' shape-rendering="crispEdges">'+I+p+`</svg>
`;return typeof c=="function"&&c(null,v),v}},89653:(H,E)=>{function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let u=t.slice().replace("#","").split("");if(u.length<3||u.length===5||u.length>8)throw new Error("Invalid hex color: "+t);(u.length===3||u.length===4)&&(u=Array.prototype.concat.apply([],u.map(function(g){return[g,g]}))),u.length===6&&u.push("F","F");const s=parseInt(u.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+u.slice(0,6).join("")}}E.getOptions=function(u){u||(u={}),u.color||(u.color={});const s=typeof u.margin=="undefined"||u.margin===null||u.margin<0?4:u.margin,g=u.width&&u.width>=21?u.width:void 0,P=u.scale||4;return{width:g,scale:g?4:P,margin:s,color:{dark:e(u.color.dark||"#000000ff"),light:e(u.color.light||"#ffffffff")},type:u.type,rendererOpts:u.rendererOpts||{}}},E.getScale=function(u,s){return s.width&&s.width>=u+s.margin*2?s.width/(u+s.margin*2):s.scale},E.getImageWidth=function(u,s){const g=E.getScale(u,s);return Math.floor((u+s.margin*2)*g)},E.qrToImageData=function(u,s,g){const P=s.modules.size,y=s.modules.data,O=E.getScale(P,g),c=Math.floor((P+g.margin*2)*O),f=g.margin*O,d=[g.color.light,g.color.dark];for(let T=0;T<c;T++)for(let D=0;D<c;D++){let I=(T*c+D)*4,p=g.color.light;if(T>=f&&D>=f&&T<c-f&&D<c-f){const l=Math.floor((T-f)/O),a=Math.floor((D-f)/O);p=d[y[l*P+a]?1:0]}u[I++]=p.r,u[I++]=p.g,u[I++]=p.b,u[I]=p.a}}},55798:H=>{"use strict";var E=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};H.exports={default:t.RFC3986,formatters:{RFC1738:function(u){return E.call(u,e,"+")},RFC3986:function(u){return String(u)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986}},80129:(H,E,e)=>{"use strict";var t=e(58261),u=e(55235),s=e(55798);H.exports={formats:s,parse:u,stringify:t}},55235:(H,E,e)=>{"use strict";var t=e(12769),u=Object.prototype.hasOwnProperty,s=Array.isArray,g={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},P=function(I){return I.replace(/&#(\d+);/g,function(p,l){return String.fromCharCode(parseInt(l,10))})},y=function(I,p){return I&&typeof I=="string"&&p.comma&&I.indexOf(",")>-1?I.split(","):I},O="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",f=function(p,l){var a={},v=l.ignoreQueryPrefix?p.replace(/^\?/,""):p,w=l.parameterLimit===1/0?void 0:l.parameterLimit,M=v.split(l.delimiter,w),C=-1,L,S=l.charset;if(l.charsetSentinel)for(L=0;L<M.length;++L)M[L].indexOf("utf8=")===0&&(M[L]===c?S="utf-8":M[L]===O&&(S="iso-8859-1"),C=L,L=M.length);for(L=0;L<M.length;++L)if(L!==C){var N=M[L],R=N.indexOf("]="),U=R===-1?N.indexOf("="):R+1,F,$;U===-1?(F=l.decoder(N,g.decoder,S,"key"),$=l.strictNullHandling?null:""):(F=l.decoder(N.slice(0,U),g.decoder,S,"key"),$=t.maybeMap(y(N.slice(U+1),l),function(G){return l.decoder(G,g.decoder,S,"value")})),$&&l.interpretNumericEntities&&S==="iso-8859-1"&&($=P($)),N.indexOf("[]=")>-1&&($=s($)?[$]:$),u.call(a,F)?a[F]=t.combine(a[F],$):a[F]=$}return a},d=function(I,p,l,a){for(var v=a?p:y(p,l),w=I.length-1;w>=0;--w){var M,C=I[w];if(C==="[]"&&l.parseArrays)M=[].concat(v);else{M=l.plainObjects?Object.create(null):{};var L=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,S=parseInt(L,10);!l.parseArrays&&L===""?M={0:v}:!isNaN(S)&&C!==L&&String(S)===L&&S>=0&&l.parseArrays&&S<=l.arrayLimit?(M=[],M[S]=v):L!=="__proto__"&&(M[L]=v)}v=M}return v},T=function(p,l,a,v){if(p){var w=a.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,M=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,L=a.depth>0&&M.exec(w),S=L?w.slice(0,L.index):w,N=[];if(S){if(!a.plainObjects&&u.call(Object.prototype,S)&&!a.allowPrototypes)return;N.push(S)}for(var R=0;a.depth>0&&(L=C.exec(w))!==null&&R<a.depth;){if(R+=1,!a.plainObjects&&u.call(Object.prototype,L[1].slice(1,-1))&&!a.allowPrototypes)return;N.push(L[1])}return L&&N.push("["+w.slice(L.index)+"]"),d(N,l,a,v)}},D=function(p){if(!p)return g;if(p.decoder!==null&&p.decoder!==void 0&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset!="undefined"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=typeof p.charset=="undefined"?g.charset:p.charset;return{allowDots:typeof p.allowDots=="undefined"?g.allowDots:!!p.allowDots,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:g.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:g.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:g.arrayLimit,charset:l,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:g.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:g.comma,decoder:typeof p.decoder=="function"?p.decoder:g.decoder,delimiter:typeof p.delimiter=="string"||t.isRegExp(p.delimiter)?p.delimiter:g.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:g.depth,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:g.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:g.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:g.plainObjects,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:g.strictNullHandling}};H.exports=function(I,p){var l=D(p);if(I===""||I===null||typeof I=="undefined")return l.plainObjects?Object.create(null):{};for(var a=typeof I=="string"?f(I,l):I,v=l.plainObjects?Object.create(null):{},w=Object.keys(a),M=0;M<w.length;++M){var C=w[M],L=T(C,a[C],l,typeof I=="string");v=t.merge(v,L,l)}return l.allowSparse===!0?v:t.compact(v)}},58261:(H,E,e)=>{"use strict";var t=e(37478),u=e(12769),s=e(55798),g=Object.prototype.hasOwnProperty,P={brackets:function(w){return w+"[]"},comma:"comma",indices:function(w,M){return w+"["+M+"]"},repeat:function(w){return w}},y=Array.isArray,O=String.prototype.split,c=Array.prototype.push,f=function(v,w){c.apply(v,y(w)?w:[w])},d=Date.prototype.toISOString,T=s.default,D={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:u.encode,encodeValuesOnly:!1,format:T,formatter:s.formatters[T],indices:!1,serializeDate:function(w){return d.call(w)},skipNulls:!1,strictNullHandling:!1},I=function(w){return typeof w=="string"||typeof w=="number"||typeof w=="boolean"||typeof w=="symbol"||typeof w=="bigint"},p={},l=function v(w,M,C,L,S,N,R,U,F,$,G,Q,K,W,Y,ne){for(var V=w,j=ne,te=0,ie=!1;(j=j.get(p))!==void 0&&!ie;){var ue=j.get(w);if(te+=1,typeof ue!="undefined"){if(ue===te)throw new RangeError("Cyclic object value");ie=!0}typeof j.get(p)=="undefined"&&(te=0)}if(typeof U=="function"?V=U(M,V):V instanceof Date?V=G(V):C==="comma"&&y(V)&&(V=u.maybeMap(V,function(be){return be instanceof Date?G(be):be})),V===null){if(S)return R&&!W?R(M,D.encoder,Y,"key",Q):M;V=""}if(I(V)||u.isBuffer(V)){if(R){var he=W?M:R(M,D.encoder,Y,"key",Q);if(C==="comma"&&W){for(var Z=O.call(String(V),","),J="",ae=0;ae<Z.length;++ae)J+=(ae===0?"":",")+K(R(Z[ae],D.encoder,Y,"value",Q));return[K(he)+(L&&y(V)&&Z.length===1?"[]":"")+"="+J]}return[K(he)+"="+K(R(V,D.encoder,Y,"value",Q))]}return[K(M)+"="+K(String(V))]}var le=[];if(typeof V=="undefined")return le;var oe;if(C==="comma"&&y(V))oe=[{value:V.length>0?V.join(",")||null:void 0}];else if(y(U))oe=U;else{var ee=Object.keys(V);oe=F?ee.sort(F):ee}for(var z=L&&y(V)&&V.length===1?M+"[]":M,re=0;re<oe.length;++re){var se=oe[re],fe=typeof se=="object"&&typeof se.value!="undefined"?se.value:V[se];if(!(N&&fe===null)){var Ee=y(V)?typeof C=="function"?C(z,se):z:z+($?"."+se:"["+se+"]");ne.set(w,te);var ge=t();ge.set(p,ne),f(le,v(fe,Ee,C,L,S,N,R,U,F,$,G,Q,K,W,Y,ge))}}return le},a=function(w){if(!w)return D;if(w.encoder!==null&&typeof w.encoder!="undefined"&&typeof w.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=w.charset||D.charset;if(typeof w.charset!="undefined"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=s.default;if(typeof w.format!="undefined"){if(!g.call(s.formatters,w.format))throw new TypeError("Unknown format option provided.");C=w.format}var L=s.formatters[C],S=D.filter;return(typeof w.filter=="function"||y(w.filter))&&(S=w.filter),{addQueryPrefix:typeof w.addQueryPrefix=="boolean"?w.addQueryPrefix:D.addQueryPrefix,allowDots:typeof w.allowDots=="undefined"?D.allowDots:!!w.allowDots,charset:M,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:D.charsetSentinel,delimiter:typeof w.delimiter=="undefined"?D.delimiter:w.delimiter,encode:typeof w.encode=="boolean"?w.encode:D.encode,encoder:typeof w.encoder=="function"?w.encoder:D.encoder,encodeValuesOnly:typeof w.encodeValuesOnly=="boolean"?w.encodeValuesOnly:D.encodeValuesOnly,filter:S,format:C,formatter:L,serializeDate:typeof w.serializeDate=="function"?w.serializeDate:D.serializeDate,skipNulls:typeof w.skipNulls=="boolean"?w.skipNulls:D.skipNulls,sort:typeof w.sort=="function"?w.sort:null,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:D.strictNullHandling}};H.exports=function(v,w){var M=v,C=a(w),L,S;typeof C.filter=="function"?(S=C.filter,M=S("",M)):y(C.filter)&&(S=C.filter,L=S);var N=[];if(typeof M!="object"||M===null)return"";var R;w&&w.arrayFormat in P?R=w.arrayFormat:w&&"indices"in w?R=w.indices?"indices":"repeat":R="indices";var U=P[R];if(w&&"commaRoundTrip"in w&&typeof w.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var F=U==="comma"&&w&&w.commaRoundTrip;L||(L=Object.keys(M)),C.sort&&L.sort(C.sort);for(var $=t(),G=0;G<L.length;++G){var Q=L[G];C.skipNulls&&M[Q]===null||f(N,l(M[Q],Q,U,F,C.strictNullHandling,C.skipNulls,C.encode?C.encoder:null,C.filter,C.sort,C.allowDots,C.serializeDate,C.format,C.formatter,C.encodeValuesOnly,C.charset,$))}var K=N.join(C.delimiter),W=C.addQueryPrefix===!0?"?":"";return C.charsetSentinel&&(C.charset==="iso-8859-1"?W+="utf8=%26%2310003%3B&":W+="utf8=%E2%9C%93&"),K.length>0?W+K:""}},12769:(H,E,e)=>{"use strict";var t=e(55798),u=Object.prototype.hasOwnProperty,s=Array.isArray,g=function(){for(var a=[],v=0;v<256;++v)a.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return a}(),P=function(v){for(;v.length>1;){var w=v.pop(),M=w.obj[w.prop];if(s(M)){for(var C=[],L=0;L<M.length;++L)typeof M[L]!="undefined"&&C.push(M[L]);w.obj[w.prop]=C}}},y=function(v,w){for(var M=w&&w.plainObjects?Object.create(null):{},C=0;C<v.length;++C)typeof v[C]!="undefined"&&(M[C]=v[C]);return M},O=function a(v,w,M){if(!w)return v;if(typeof w!="object"){if(s(v))v.push(w);else if(v&&typeof v=="object")(M&&(M.plainObjects||M.allowPrototypes)||!u.call(Object.prototype,w))&&(v[w]=!0);else return[v,w];return v}if(!v||typeof v!="object")return[v].concat(w);var C=v;return s(v)&&!s(w)&&(C=y(v,M)),s(v)&&s(w)?(w.forEach(function(L,S){if(u.call(v,S)){var N=v[S];N&&typeof N=="object"&&L&&typeof L=="object"?v[S]=a(N,L,M):v.push(L)}else v[S]=L}),v):Object.keys(w).reduce(function(L,S){var N=w[S];return u.call(L,S)?L[S]=a(L[S],N,M):L[S]=N,L},C)},c=function(v,w){return Object.keys(w).reduce(function(M,C){return M[C]=w[C],M},v)},f=function(a,v,w){var M=a.replace(/\+/g," ");if(w==="iso-8859-1")return M.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(M)}catch(C){return M}},d=function(v,w,M,C,L){if(v.length===0)return v;var S=v;if(typeof v=="symbol"?S=Symbol.prototype.toString.call(v):typeof v!="string"&&(S=String(v)),M==="iso-8859-1")return escape(S).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var N="",R=0;R<S.length;++R){var U=S.charCodeAt(R);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||L===t.RFC1738&&(U===40||U===41)){N+=S.charAt(R);continue}if(U<128){N=N+g[U];continue}if(U<2048){N=N+(g[192|U>>6]+g[128|U&63]);continue}if(U<55296||U>=57344){N=N+(g[224|U>>12]+g[128|U>>6&63]+g[128|U&63]);continue}R+=1,U=65536+((U&1023)<<10|S.charCodeAt(R)&1023),N+=g[240|U>>18]+g[128|U>>12&63]+g[128|U>>6&63]+g[128|U&63]}return N},T=function(v){for(var w=[{obj:{o:v},prop:"o"}],M=[],C=0;C<w.length;++C)for(var L=w[C],S=L.obj[L.prop],N=Object.keys(S),R=0;R<N.length;++R){var U=N[R],F=S[U];typeof F=="object"&&F!==null&&M.indexOf(F)===-1&&(w.push({obj:S,prop:U}),M.push(F))}return P(w),v},D=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},I=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},p=function(v,w){return[].concat(v,w)},l=function(v,w){if(s(v)){for(var M=[],C=0;C<v.length;C+=1)M.push(w(v[C]));return M}return w(v)};H.exports={arrayToObject:y,assign:c,combine:p,compact:T,decode:f,encode:d,isBuffer:I,isRegExp:D,maybeMap:l,merge:O}},35639:(H,E,e)=>{"use strict";var t;t={value:!0};var u=Object.assign||function(C){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(C[N]=S[N])}return C},s=function(){function C(L,S){for(var N=0;N<S.length;N++){var R=S[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}return function(L,S,N){return S&&C(L.prototype,S),N&&C(L,N),L}}(),g=e(98661),P=c(g),y=e(45697),O=c(y);function c(C){return C&&C.__esModule?C:{default:C}}function f(C,L){var S={};for(var N in C)L.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(C,N)&&(S[N]=C[N]);return S}function d(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function T(C,L){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:C}function D(C,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(C,L):C.__proto__=L)}var I={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],l=function(L){return p.forEach(function(S){return delete L[S]}),L},a=function(L,S){S.style.fontSize=L.fontSize,S.style.fontFamily=L.fontFamily,S.style.fontWeight=L.fontWeight,S.style.fontStyle=L.fontStyle,S.style.letterSpacing=L.letterSpacing,S.style.textTransform=L.textTransform},v=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,w=function(){return v?"_"+Math.random().toString(36).substr(2,12):void 0},M=function(C){D(L,C),s(L,null,[{key:"getDerivedStateFromProps",value:function(N,R){var U=N.id;return U!==R.prevId?{inputId:U||w(),prevId:U}:null}}]);function L(S){d(this,L);var N=T(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,S));return N.inputRef=function(R){N.input=R,typeof N.props.inputRef=="function"&&N.props.inputRef(R)},N.placeHolderSizerRef=function(R){N.placeHolderSizer=R},N.sizerRef=function(R){N.sizer=R},N.state={inputWidth:S.minWidth,inputId:S.id||w(),prevId:S.id},N}return s(L,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(N,R){R.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var N=this.input&&window.getComputedStyle(this.input);N&&(a(N,this.sizer),this.placeHolderSizer&&a(N,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var N=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?N=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:N=this.sizer.scrollWidth+2;var R=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;N+=R,N<this.props.minWidth&&(N=this.props.minWidth),N!==this.state.inputWidth&&this.setState({inputWidth:N})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var N=this.props.injectStyles;return v&&N?P.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var N=[this.props.defaultValue,this.props.value,""].reduce(function($,G){return $!=null?$:G}),R=u({},this.props.style);R.display||(R.display="inline-block");var U=u({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),F=f(this.props,[]);return l(F),F.className=this.props.inputClassName,F.id=this.state.inputId,F.style=U,P.default.createElement("div",{className:this.props.className,style:R},this.renderStyles(),P.default.createElement("input",u({},F,{ref:this.inputRef})),P.default.createElement("div",{ref:this.sizerRef,style:I},N),this.props.placeholder?P.default.createElement("div",{ref:this.placeHolderSizerRef,style:I},this.props.placeholder):null)}}]),L}(g.Component);M.propTypes={className:O.default.string,defaultValue:O.default.any,extraWidth:O.default.oneOfType([O.default.number,O.default.string]),id:O.default.string,injectStyles:O.default.bool,inputClassName:O.default.string,inputRef:O.default.func,inputStyle:O.default.object,minWidth:O.default.oneOfType([O.default.number,O.default.string]),onAutosize:O.default.func,onChange:O.default.func,placeholder:O.default.string,placeholderIsMinWidth:O.default.bool,style:O.default.object,value:O.default.any},M.defaultProps={minWidth:1,injectStyles:!0},E.Z=M},62372:(H,E,e)=>{"use strict";e.d(E,{XI:()=>Ze,sJ:()=>be});var t=e(98661);function u(Ie,Pe){for(var Ce=0;Ce<Pe.length;Ce++){var Be=Pe[Ce];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Ie,Be.key,Be)}}function s(Ie,Pe,Ce){return Pe&&u(Ie.prototype,Pe),Ce&&u(Ie,Ce),Ie}function g(){return g=Object.assign||function(Ie){for(var Pe=1;Pe<arguments.length;Pe++){var Ce=arguments[Pe];for(var Be in Ce)Object.prototype.hasOwnProperty.call(Ce,Be)&&(Ie[Be]=Ce[Be])}return Ie},g.apply(this,arguments)}function P(Ie,Pe){Ie.prototype=Object.create(Pe.prototype),Ie.prototype.constructor=Ie,y(Ie,Pe)}function y(Ie,Pe){return y=Object.setPrototypeOf||function(Be,Ve){return Be.__proto__=Ve,Be},y(Ie,Pe)}function O(Ie,Pe){if(Ie==null)return{};var Ce={},Be=Object.keys(Ie),Ve,$e;for($e=0;$e<Be.length;$e++)Ve=Be[$e],!(Pe.indexOf(Ve)>=0)&&(Ce[Ve]=Ie[Ve]);return Ce}function c(Ie,Pe){if(Ie){if(typeof Ie=="string")return f(Ie,Pe);var Ce=Object.prototype.toString.call(Ie).slice(8,-1);if(Ce==="Object"&&Ie.constructor&&(Ce=Ie.constructor.name),Ce==="Map"||Ce==="Set")return Array.from(Ie);if(Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return f(Ie,Pe)}}function f(Ie,Pe){(Pe==null||Pe>Ie.length)&&(Pe=Ie.length);for(var Ce=0,Be=new Array(Pe);Ce<Pe;Ce++)Be[Ce]=Ie[Ce];return Be}function d(Ie,Pe){var Ce=typeof Symbol!="undefined"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(Ce)return(Ce=Ce.call(Ie)).next.bind(Ce);if(Array.isArray(Ie)||(Ce=c(Ie))||Pe&&Ie&&typeof Ie.length=="number"){Ce&&(Ie=Ce);var Be=0;return function(){return Be>=Ie.length?{done:!0}:{done:!1,value:Ie[Be++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(Ie){var Pe=(0,t.useRef)(null);function Ce(Be){!Be||Be===Pe.current||(Pe.current=Be,Ie(Be))}return Ce}function D(Ie){var Pe=(0,t.useRef)(Ie);return(0,t.useMemo)(function(){function Ce(Ve){typeof Ve=="function"?Pe.current=Ve(Pe.current):Pe.current=Ve}function Be(){return Pe.current}return[Be,Ce]},[])}function I(){var Ie=(0,t.useRef)([]);return(0,t.useMemo)(function(){function Pe(){return Ie.current.length>0}function Ce(){for(var Ve=d(Ie.current),$e;!($e=Ve()).done;){var Qe=$e.value;Qe()}Ie.current=[]}function Be(Ve){Ie.current.push(Ve)}return{hasEventSubscriptions:Pe,removeAllEventSubscriptions:Ce,addEventSubscription:Be}},[])}var p=typeof window!="undefined"?t.useLayoutEffect:t.useEffect;function l(Ie,Pe){var Ce=(0,t.useRef)(Ie);return Pe?(Ce.current=Ie,Ce):(Ce.current=null,Ce)}var a={top:0,left:0,right:1,bottom:1,width:1,height:1};function v(Ie){var Pe=Ie===void 0?{}:Ie,Ce=Pe.enabled,Be=Ce===void 0?!0:Ce,Ve=Pe.preventDefault,$e=Ve===void 0?!0:Ve,Qe=useRef(null),ze=useState(a),Ke=ze[0],lt=ze[1];function vt(){lt(a)}var Pt=Ke!==a;function Wt(Ut){if(Be){$e&&Ut.preventDefault();var jt=Ut.clientX,Vt=Ut.clientY;lt({top:Vt,left:jt,width:1,height:1,right:jt+1,bottom:Vt+1})}}return{hasMousePosition:Pt,resetMousePosition:vt,handleMouseEvent:Wt,trigger:{getBounds:function(){return Ke},getParent:Qe.current?function(){return Qe.current}:void 0},parentRef:Qe}}function w(Ie){return parseFloat(Ie.replace("px",""))}function M(Ie,Pe,Ce){return Ie<Pe?Pe:Ie>Ce?Ce:Ie}function C(Ie){return Ie!=null}function L(){for(var Ie=arguments.length,Pe=new Array(Ie),Ce=0;Ce<Ie;Ce++)Pe[Ce]=arguments[Ce];return function(Be){for(var Ve=d(Pe),$e;!($e=Ve()).done;){var Qe=$e.value;Qe&&(typeof Qe=="function"?Qe(Be):Qe.current=Be)}}}function S(Ie,Pe){if(typeof Ie!="undefined")return Pe||Ie.ResizeObserver}function N(Ie,Pe){var Ce=[];if(!Ie||!Pe||Ie===document.body)return Ce;var Be=Pe.getComputedStyle(Ie),Ve=Be.overflow,$e=Be.overflowX,Qe=Be.overflowY;return[Ve,$e,Qe].some(function(ze){return["auto","scroll"].includes(ze)})&&Ce.push(Ie),[].concat(Ce,N(Ie.parentElement,Pe))}function R(Ie){return"react-laag: Could not find a valid reference for the "+Ie+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Ie+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Ie+" when the isOpen prop is set to true"}function U(Ie){var Pe=Ie.enabled,Ce=Ie.onChange,Be=Ie.environment,Ve=Ie.ResizeObserverPolyfill,$e=Ie.overflowContainer,Qe=Ie.triggerOption,ze=S(Be,Ve);(0,t.useEffect)(function(){},[ze]);var Ke=(0,t.useRef)(null),lt=!!Qe,vt=D({scrollContainers:[],trigger:null,layer:null}),Pt=vt[0],Wt=vt[1],Ut=I(),jt=Ut.hasEventSubscriptions,Vt=Ut.addEventSubscription,lr=Ut.removeAllEventSubscriptions,Jt=(0,t.useCallback)(function(){var Ar=Pt(),jr=Ar.layer,Ur=Ar.trigger,Er=Ar.scrollContainers,Ir=Er[0];if(!jr)throw new Error(R("layer"));if(!Ur&&!lt)throw new Error(R("trigger"));var Kr={top:0,left:0};if(Ir){var rn=Ir.scrollLeft,En=Ir.scrollTop;Kr={top:En,left:rn}}else{var Pn=Be.scrollX,an=Be.scrollY;Kr={top:an,left:Pn}}var Fn={left:0,top:0};if(Ir){var In=Be.getComputedStyle(Ir),_n=In.borderLeftWidth,jn=In.borderTopWidth;Fn={left:w(_n)||0,top:w(jn)||0}}Ce({layer:jr,trigger:Ur,scrollContainers:Er,arrow:Ke.current},Kr,Fn)},[Pt,Ce,Be,Ke,lt]),or=(0,t.useCallback)(function(){var Ar=Pt(),jr=Ar.trigger,Ur=Ar.layer,Er=Ar.scrollContainers;if(!Ur)throw new Error(R("layer"));if(!jr&&!lt)throw new Error(R("trigger"));if(ze){for(var Ir=!1,Kr=function(){if(!Ir){Ir=!0;return}Jt()},rn=new ze(Kr),En=0,Pn=[jr,Ur,document.body];En<Pn.length;En++){var an=Pn[En];an&&rn.observe(an)}Vt(function(){for(var xt=0,Rt=[jr,Ur,document.body];xt<Rt.length;xt++){var Zt=Rt[xt];Zt&&rn.unobserve(Zt)}rn.disconnect()})}for(var Fn=[Be].concat(Er),In=function(){var Rt=jn.value;Rt.addEventListener("scroll",Jt),Vt(function(){return Rt.removeEventListener("scroll",Jt)})},_n=d(Fn),jn;!(jn=_n()).done;)In()},[Pt,Vt,Jt,Be,ze,lt]),Et=(0,t.useCallback)(function(br,Ar){Pe&&br&&br!==Ar&&(lr(),or(),Jt())},[lr,or,Jt,Pe]),gr=T((0,t.useCallback)(function(br){var Ar=Pt(),jr=Ar.layer;Wt(function(Ur){return g({},Ur,{layer:br})}),Et(jr,br)},[Pt,Wt,Et])),Dr=(0,t.useCallback)(function(Ar){var jr=N(Ar,Be),Ur=jr[0];if(Ur){var Er=Be.getComputedStyle(Ur).position,Ir=["relative","absolute","fixed"].includes(Er)||$e;Ir||(Ur.style.position="relative")}return jr},[Be,$e]),Or=T((0,t.useCallback)(function(br){var Ar=Dr(br),jr=Pt(),Ur=jr.trigger;Wt(function(Er){return g({},Er,{trigger:br,scrollContainers:Ar})}),Et(Ur,br)},[Pt,Wt,Et,Dr])),wr=Qe==null||Qe.getParent==null?void 0:Qe.getParent();return p(function(){wr&&Wt(function(br){return g({},br,{scrollContainers:Dr(wr)})})},[wr,Wt,Dr]),p(function(){return Pe&&(jt()||or()),function(){jt()&&lr()}},[Pe,jt,or,lr]),p(function(){Pe&&Jt()}),{triggerRef:Or,layerRef:gr,arrowRef:Ke,closestScrollContainer:Pt().scrollContainers[0]||null}}var F=(0,t.createContext)({});function $(Ie){var Pe=Ie.children,Ce=Ie.registrations,Be=(0,t.useCallback)(function($e){return Ce.current.add($e),function(){return Ce.current.delete($e)}},[Ce]);return(0,t.createElement)(F.Provider,{value:Be},Pe)}function G(Ie,Pe){for(var Ce=d(Ie),Be;!(Be=Ce()).done;){var Ve=Be.value.shouldCloseWhenClickedOutside;if(!Ve(Pe))return!1}return!0}function Q(Ie){var Pe=Ie.isOpen,Ce=Ie.onOutsideClick,Be=Ie.onParentClose,Ve=(0,t.useRef)(null),$e=(0,t.useRef)(null),Qe=(0,t.useRef)(new Set),ze=(0,t.useContext)(F),Ke=(0,t.useCallback)(function(vt){var Pt=vt.target,Wt=Ve.current&&Ve.current.contains(Pt),Ut=$e.current&&$e.current.contains(Pt),jt=G(Qe.current,vt);return Ut&&jt&&Qe.current.forEach(function(Vt){var lr=Vt.closeChild;return lr()}),!Wt&&!Ut&&jt},[Ve,$e,Qe]);return(0,t.useEffect)(function(){if(typeof ze=="function")return ze({shouldCloseWhenClickedOutside:Ke,closeChild:function(){Be&&Be()}})},[ze,Ke,Be,Qe]),(0,t.useEffect)(function(){var lt=typeof ze=="function",vt=!Pe||!Ce||lt;if(vt)return;function Pt(Wt){Ke(Wt)&&Ce()}return document.addEventListener("click",Pt,!0),function(){return document.removeEventListener("click",Pt,!0)}},[Pe,Ce,Ke,ze]),(0,t.useEffect)(function(){Pe||Qe.current.forEach(function(lt){var vt=lt.closeChild;return vt()})},[Pe]),{closeOnOutsideClickRefs:{trigger:Ve,layer:$e},registrations:Qe}}var K=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],W={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},Y=function(){function Ie(Ce,Be,Ve,$e,Qe,ze,Ke,lt,vt){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=Ce,this.opposite=Be,this.isHorizontal=Ve,this.sizeProp=$e,this.oppositeSizeProp=Qe,this.cssProp=ze,this.oppositeCssProp=Ke,this.isCenter=lt,this.isPush=vt}var Pe=Ie.prototype;return Pe.factor=function(Be){return Be*(this.isPush?1:-1)},Pe.isOppositeDirection=function(Be){return this.isHorizontal!==Be.isHorizontal},Ie}();function ne(Ie,Pe){Pe===void 0&&(Pe=!0);var Ce=["left","right"].includes(Ie);return new Y(Ie,Pe?ne(W[Ie],!1):null,Ce,Ce?"width":"height",Ce?"height":"width",Ce?"left":"top",Ce?"top":"left",Ie==="center",!["right","bottom"].includes(Ie))}var V={top:ne("top"),bottom:ne("bottom"),left:ne("left"),right:ne("right")},j=g({},V,{center:ne("center")}),te=["top","left","bottom","right"],ie=function(){function Ie(Pe){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Pe)}return Ie.mergeSmallestSides=function(Ce){var Be=Ce[0],Ve=Ce.slice(1);if(!Be)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var $e=Object.fromEntries(te.map(function(Wt){return[Wt,Be[Wt]]})),Qe=d(Ve),ze;!(ze=Qe()).done;)for(var Ke=ze.value,lt=d(te),vt;!(vt=lt()).done;){var Pt=vt.value;$e[Pt]=Math.min($e[Pt],Ke[Pt])}return new Ie($e)},s(Ie,[{key:"allSidesArePositive",get:function(){var Ce=this;return te.every(function(Be){return Ce[Be]>=0})}},{key:"negativeSides",get:function(){var Ce=this;return Object.fromEntries(te.filter(function(Be){return Ce[Be]<0}).map(function(Be){return[Be,Ce[Be]]}))}}]),Ie}();function ue(){for(var Ie=arguments.length,Pe=new Array(Ie),Ce=0;Ce<Ie;Ce++)Pe[Ce]=arguments[Ce];return Pe.reduce(function(Be,Ve){return Be+(Ve?w(Ve):0)},0)}function he(Ie){var Pe=Ie.top,Ce=Ie.left,Be=Ie.right,Ve=Ie.bottom,$e=Ie.width,Qe=Ie.height;return{top:Pe,left:Ce,right:Be,bottom:Ve,width:$e,height:Qe}}var Z={top:0,left:0,right:0,bottom:0,width:0,height:0},J=function(){Ie.create=function(Be){return new Ie(Be)},Ie.fromElement=function(Be,Ve){Ve===void 0&&(Ve={});var $e=Ve,Qe=$e.withTransform,ze=Qe===void 0?!0:Qe,Ke=$e.environment,lt=Ke===void 0?window:Ke,vt=$e.withScrollbars,Pt=vt===void 0?!0:vt,Wt=he(Be.getBoundingClientRect()),Ut=new Ie(Wt);if(!ze){var jt=lt.getComputedStyle(Be),Vt=jt.width,lr=jt.height,Jt=jt.boxSizing,or=jt.borderLeft,Et=jt.borderRight,gr=jt.borderTop,Dr=jt.borderBottom,Or=jt.paddingLeft,wr=jt.paddingRight,br=jt.paddingTop,Ar=jt.paddingBottom,jr=Jt==="border-box"?w(Vt):ue(Vt,or,Et,Or,wr),Ur=Jt==="border-box"?w(lr):ue(lr,gr,Dr,br,Ar);Ut=new Ie(g({},Ut,{width:jr,height:Ur}))}if(!Pt){var Er=Ut.width-Be.clientWidth,Ir=Ut.height-Be.clientHeight;return Ut.substract({right:Er,bottom:Ir})}return Ut},Ie.empty=function(){return new Ie},Ie.fromWindow=function(Be){var Ve,$e=(Ve=Be==null?void 0:Be.document.scrollingElement)!=null?Ve:Be==null?void 0:Be.document.documentElement,Qe=$e!=null?$e:{},ze=Qe.clientWidth,Ke=ze===void 0?0:ze,lt=Qe.clientHeight,vt=lt===void 0?0:lt;return new Ie({width:Ke,height:vt,right:Ke,bottom:vt})};function Ie(Ce){return Ce===void 0&&(Ce={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,Z,Ce)}var Pe=Ie.prototype;return Pe.toObject=function(){return he(this)},Pe.merge=function(Be){var Ve=this.toObject();return new Ie(g({},Ve,typeof Be=="function"?Be(Ve):Be))},Pe.substract=function(Be){for(var Ve=this.toObject(),$e=Object.entries(Be),Qe=0,ze=$e;Qe<ze.length;Qe++){var Ke=ze[Qe],lt=Ke[0],vt=Ke[1];if(lt in V){var Pt=V[lt];Ve[lt]+=Pt.factor(vt),Ve[Pt.isHorizontal?"width":"height"]-=vt}else Ve[lt]-=vt||0}return new Ie(Ve)},Pe.offsetsTo=function(Be){return new ie({top:Be.top-this.top,bottom:this.bottom-Be.bottom,left:Be.left-this.left,right:this.right-Be.right})},Pe.mapSides=function(Be){for(var Ve=this.toObject(),$e=Object.values(V),Qe=0,ze=$e;Qe<ze.length;Qe++){var Ke=ze[Qe];Ve[Ke.prop]=Be(Ke,Ve[Ke.prop])}return new Ie(Ve)},s(Ie,[{key:"surface",get:function(){return this.width*this.height}}]),Ie}(),ae=function(){function Ie(Ce,Be,Ve,$e,Qe){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=Ce,this.secondary=Be,this.offsets=Qe,this.setSubjectsBounds(Ve,$e)}var Pe=Ie.prototype;return Pe.setSubjectsBounds=function(Be,Ve){if(!Ve){this.subjectsBounds=Be;return}var $e=typeof Ve=="function"?Ve(this.primary.prop):Ve;this.subjectsBounds=Be.merge({layer:g({},Be.layer,$e)})},Pe.getLayerBounds=function(Be){if(Be===void 0&&(Be=0),this._cachedLayerBounds&&Be===0)return this._cachedLayerBounds;var Ve=this.primary,$e=this.secondary,Qe=this.subjectsBounds,ze=Qe.trigger,Ke=Qe.layer,lt=Qe.arrow,vt=Ve.isHorizontal,Pt=Ve.oppositeCssProp,Wt=Ve.oppositeSizeProp,Ut=Ve.prop,jt=Ve.opposite,Vt=J.empty();Vt[jt.prop]=ze[Ut]-Ve.factor(this.offsets.trigger),Vt[Ut]=Vt[jt.prop]-Ve.factor(Ke[Ve.sizeProp]);var lr=this.offsets.arrow*2,Jt=ze[Pt]-(Ke[Wt]-lt[Wt])+lr,or=ze[Pt]+(ze[Wt]-lt[Wt])-lr;if($e.isPush||(Jt+=Ke[Wt],or+=Ke[Wt]),$e.isCenter){var Et=(vt?V.top:V.left).prop,gr=(vt?V.bottom:V.right).prop;Vt[Et]=M(ze[Et]+ze[Wt]/2-Ke[Wt]/2+Be,Jt,or),Vt[gr]=Vt[Et]+Ke[Wt]}else{var Dr=$e,Or=ze[Dr.prop],wr=Or<Jt?Jt-Or:Or>or?or-Or:0;Vt[Dr.prop]=M(Or+Be+wr,Jt,or),Vt[Dr.opposite.prop]=Vt[Dr.prop]+$e.factor(Ke[Wt])}Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top;var br=J.create(Vt);return Be===0&&(this._cachedLayerBounds=br),br},Pe.getLayerCollisionBounds=function(){var Be=this.offsets.container;return this.getLayerBounds().mapSides(function(Ve,$e){return $e-=Ve.factor(Be)}).merge(function(Ve){var $e=Ve.width,Qe=Ve.height;return{width:$e+Be*2,height:Qe+Be*2}})},Pe.getContainerOffsets=function(Be){if(this._cachedContainerOffsets&&!Be)return this._cachedContainerOffsets;var Ve=this.subjectsBounds.merge({layer:Be||this.getLayerCollisionBounds()}),$e=ie.mergeSmallestSides(Ve.layerOffsetsToScrollContainers);return Be||(this._cachedContainerOffsets=$e),$e},s(Ie,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Be=this.secondary.isHorizontal,Ve=this.subjectsBounds,$e=Ve.triggerHasBiggerWidth,Qe=Ve.triggerHasBiggerHeight;return Be&&$e||!Be&&Qe}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Be=this.getLayerBounds(),Ve=this.getContainerOffsets(Be),$e=Ve.negativeSides;for(var Qe in $e)$e[Qe]=-$e[Qe];return Be.substract($e).surface}},{key:"secondaryOffsetSide",get:function(){var Be,Ve,$e=this,Qe=this.getContainerOffsets(),ze=(Be=(Ve=Object.entries(Qe.negativeSides).map(function(lt){var vt=lt[0],Pt=lt[1];return[V[vt],Pt]}).filter(function(lt){var vt=lt[0];return $e.primary.isOppositeDirection(vt)}).sort(function(lt,vt){var Pt=lt[1],Wt=vt[1];return Wt-Pt}))==null?void 0:Ve[0])!=null?Be:[],Ke=ze[0];return Ke||null}}]),Ie}(),le=function(Ie){P(Pe,Ie);function Pe(){return Ie.apply(this,arguments)||this}var Ce=Pe.prototype;return Ce.getLayerBounds=function(){var Ve=this.subjectsBounds,$e=Ve.trigger,Qe=Ve.layer,ze=J.empty();return ze.top=$e.top+$e.height/2-Qe.height/2,ze.bottom=ze.top+Qe.height,ze.left=$e.left+$e.width/2-Qe.width/2,ze.right=ze.left+Qe.width,ze.width=ze.right-ze.left,ze.height=ze.bottom-ze.top,ze},Pe}(ae);function oe(Ie,Pe,Ce){var Be=Ie.layer,Ve=Ie.trigger,$e=Ie.arrow,Qe=Pe.primary.oppositeSizeProp,ze=Pe.primary.isHorizontal?["top","bottom"]:["left","right"],Ke=ze[0],lt=ze[1],vt=Be[Ke]+Be[Qe]/2-Ve[Ke]-$e[Qe]/2-Ce,Pt=Be[lt]-Be[Qe]/2-Ve[lt]+$e[Qe]/2+Ce;return(vt<0?-vt:0)+(Pt>0?-Pt:0)}var ee={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function z(Ie,Pe,Ce){var Be;if(Pe.primary.isCenter)return ee;var Ve=Ie.layer,$e=Ie.trigger,Qe=Ie.arrow,ze=Pe.primary.oppositeSizeProp,Ke=$e[ze]>Ve[ze],lt=Ce+Qe[ze]/2,vt=Ve[ze]-Qe[ze]/2-Ce,Pt=oe(Ie,Pe,Ce),Wt=Pe.primary.prop,Ut=Pe.primary.oppositeCssProp,jt=Ke?Ve[ze]/2+Pt:$e[Ut]+$e[ze]/2-Ve[Ut];return g({},ee,(Be={},Be[Wt]="100%",Be[Ut]=M(jt,lt,vt),Be))}var re=function(){function Ie(Ce,Be,Ve){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=Ce,this.config=Be,this.subjectsBounds=Ve}Ie.getSidesFromPlacementType=function(Be){var Ve=Be.split("-"),$e=Ve[0],Qe=Ve[1],ze=V[$e],Ke;return Qe==="center"?Ke=j.center:ze.isHorizontal?Ke=Qe==="start"?j.top:j.bottom:Ke=Qe==="start"?j.left:j.right,[ze,Ke]},Ie.create=function(Be,Ve){var $e={arrow:Ve.arrowOffset,container:Ve.containerOffset,trigger:Ve.triggerOffset};function Qe(ze){ze===void 0&&(ze=Ve.placement);var Ke=Ie.getSidesFromPlacementType(ze),lt=Ke[0],vt=Ke[1],Pt=V[lt.isHorizontal?Ve.preferY:Ve.preferX],Wt=!lt.isHorizontal&&Be.triggerHasBiggerWidth||lt.isHorizontal&&Be.triggerHasBiggerHeight;function Ut(Vt,lr){return new ae(Vt,lr,Be,Ve.layerDimensions,$e)}var jt=[];return jt[0]=Ut(lt,vt),jt[1]=Ut(lt,vt.isCenter?Pt:j.center),jt[2]=Ut(lt,j[(vt.opposite.isCenter?Pt.opposite:vt.opposite).prop]),jt[3]=Ut(Pt,Wt?lt:j[lt.opposite.prop]),jt[4]=Ut(Pt,j.center),jt[5]=Ut(Pt,Wt?j[lt.opposite.prop]:lt),jt[6]=Ut(V[Pt.opposite.prop],Wt?lt:j[lt.opposite.prop]),jt[7]=Ut(V[Pt.opposite.prop],j.center),jt[8]=Ut(V[Pt.opposite.prop],Wt?j[lt.opposite.prop]:lt),jt[9]=Ut(V[lt.opposite.prop],vt),jt[10]=Ut(V[lt.opposite.prop],vt.isCenter?Pt:j.center),jt[11]=Ut(V[lt.opposite.prop],j[(vt.opposite.isCenter?Pt.opposite:vt.opposite).prop]),jt=jt.filter(function(Vt){return Vt.type===Ve.placement||Ve.possiblePlacements.includes(Vt.type)}),jt}return Ve.placement==="center"?new Ie([new le(j.center,j.center,Be,Ve.layerDimensions,$e)].concat(Qe(Ve.preferY+"-"+Ve.preferX)),Ve,Be):new Ie(Qe(),Ve,Be)};var Pe=Ie.prototype;return Pe.filterPlacementsBySide=function(Be){return this.placements.filter(function(Ve){return Ve.primary===Be})},Pe.findFirstPlacementThatFits=function(){return this.placements.find(function(Be){return Be.fitsContainer})},Pe.placementWithBiggestVisibleSurface=function(){var Be=this.placements.map(function($e){return{placement:$e,surface:$e.visibleSurface}}).sort(function($e,Qe){return Qe.surface-$e.surface}),Ve=Be[0].placement;return Ve},Pe.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Pe.getSecondaryOffset=function(Be){var Ve=this.config,$e=Ve.auto,Qe=Ve.snap;if(!$e||Qe||Be instanceof le)return 0;var ze=this.filterPlacementsBySide(Be.primary),Ke=ze.indexOf(Be)===0;if(Ke&&Be.fitsContainer)return 0;var lt=ze.find(function(Vt){return!Vt.fitsContainer});if(!lt)return 0;var vt=lt.secondaryOffsetSide;if(!vt)return 0;var Pt=Be.getContainerOffsets(),Wt=Be.secondary,Ut;Be.triggerIsBigger||lt===Be?Ut=vt.isPush?-1:1:Ut=Wt===j.left||[j.top,j.center].includes(Wt)&&vt.isPush?-1:1;var jt=Pt[vt.prop];return jt*Ut},Pe.getStyles=function(Be,Ve,$e,Qe){var ze={willChange:"top, left, width, height"},Ke=z(this.subjectsBounds.merge({layer:Be}),Ve,this.config.arrowOffset),lt=this.config.overflowContainer?g({},ze,{position:"fixed",top:Be.top,left:Be.left}):g({},ze,{position:"absolute",top:Be.top-this.subjectsBounds.parent.top+$e.top-Qe.top,left:Be.left-this.subjectsBounds.parent.left+$e.left-Qe.left});return{arrow:Ke,layer:lt}},Pe.getHasDisappeared=function(Be){var Ve=this.config.overflowContainer?this.subjectsBounds.trigger:Be,$e=ie.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(Ve,!0)),Qe=Object.entries($e.negativeSides),ze=Qe.some(function(Ke){var lt=Ke[0],vt=Ke[1],Pt=V[lt];return vt<=-Ve[Pt.sizeProp]});return ze?"full":$e.allSidesArePositive?null:"partial"},Pe.result=function(Be,Ve){var $e=this.findSuitablePlacement(),Qe=this.getSecondaryOffset($e),ze=$e.getLayerBounds(Qe),Ke=this.getStyles(ze,$e,Be,Ve),lt=$e.primary.prop;return{styles:Ke,layerSide:lt,placement:$e,layerBounds:ze,hasDisappeared:this.getHasDisappeared(ze)}},Ie}(),se=function(){function Ie(Ce,Be){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Be,Object.assign(this,Ce)}Ie.create=function(Be,Ve,$e,Qe,ze,Ke,lt,vt){var Pt=J.fromWindow(Be);return new Ie({layer:J.fromElement(Ve,{environment:Be,withTransform:!1}),trigger:vt?J.create(he(vt())):J.fromElement($e),arrow:ze?J.fromElement(ze):J.empty(),parent:Qe?J.fromElement(Qe):Pt,window:Pt,scrollContainers:[Pt].concat(Ke.map(function(Wt){return J.fromElement(Wt,{withScrollbars:!1})}))},lt)};var Pe=Ie.prototype;return Pe.merge=function(Be){return new Ie(g({},this,Be),this.overflowContainer)},Pe.offsetsToScrollContainers=function(Be,Ve){Ve===void 0&&(Ve=!1);var $e=this.overflowContainer&&!Ve?[this.window]:this.scrollContainers;return $e.map(function(Qe){return Qe.offsetsTo(Be)})},s(Ie,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Ie}(),fe=null;function Ee(Ie){typeof document!="undefined"&&(typeof Ie=="function"?fe=Ie():typeof Ie=="string"?fe=document.getElementById(Ie):fe=Ie)}var ge={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:K,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function be(Ie){var Pe,Ce=Ie.isOpen,Be=Ce===void 0?!1:Ce,Ve=Ie.overflowContainer,$e=Ve===void 0?ge.overflowContainer:Ve,Qe=Ie.environment,ze=Qe===void 0?typeof window!="undefined"?window:void 0:Qe,Ke=Ie.ResizeObserver,lt=Ie.placement,vt=lt===void 0?ge.placement:lt,Pt=Ie.possiblePlacements,Wt=Pt===void 0?ge.possiblePlacements:Pt,Ut=Ie.preferX,jt=Ut===void 0?ge.preferX:Ut,Vt=Ie.preferY,lr=Vt===void 0?ge.preferY:Vt,Jt=Ie.auto,or=Jt===void 0?ge.auto:Jt,Et=Ie.snap,gr=Et===void 0?ge.snap:Et,Dr=Ie.triggerOffset,Or=Dr===void 0?ge.triggerOffset:Dr,wr=Ie.containerOffset,br=wr===void 0?ge.containerOffset:wr,Ar=Ie.arrowOffset,jr=Ar===void 0?ge.arrowOffset:Ar,Ur=Ie.container,Er=Ur===void 0?ge.container:Ur,Ir=Ie.layerDimensions,Kr=Ir===void 0?null:Ir,rn=Ie.onDisappear,En=Ie.onOutsideClick,Pn=Ie.onParentClose,an=Ie.trigger,Fn=(0,t.useState)(function(){return{layerSide:vt==="center"?"center":re.getSidesFromPlacementType(vt)[0].prop,styles:{layer:{position:$e?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),In=Fn[0],_n=Fn[1],jn=(0,t.useRef)(null),xt=l(In,Be),Rt=(0,t.useRef)({cancelled:!1});(0,t.useEffect)(function(){return function(){Rt.current.cancelled=!0}},[]);var Zt=(0,t.useCallback)(function(Nt,Kt,_r){var dr=Nt.arrow,pr=Nt.layer,mr=Nt.scrollContainers,Jr=Nt.trigger,Xr=mr[0],Mr=se.create(ze,pr,Jr,Xr,dr,mr,$e,an==null?void 0:an.getBounds),sn={placement:vt,possiblePlacements:Wt,auto:or,layerDimensions:Kr,arrowOffset:jr,containerOffset:br,triggerOffset:Or,preferX:jt,preferY:lr,snap:gr,overflowContainer:$e},zr=re.create(Mr,sn).result(Kt,_r),On=zr.hasDisappeared,zn=zr.layerSide,gn=zr.styles,wn={layerSide:zn,styles:gn};if(!xt.current||me(xt.current,wn)){xt.current=wn,Rt.current.cancelled=!0;var hn={cancelled:!1};Rt.current=hn,Promise.resolve().then(function(){hn.cancelled||_n(wn)})}C(On)&&C(rn)&&rn(On)},[jr,or,br,ze,Kr,rn,$e,vt,Wt,jt,lr,gr,Or,xt,an]),Xe=U({ResizeObserverPolyfill:Ke,environment:ze,enabled:Be,overflowContainer:$e,onChange:Zt,triggerOption:an}),ot=Xe.triggerRef,Ue=Xe.layerRef,tt=Xe.arrowRef,ft=Xe.closestScrollContainer,Ct=Q({isOpen:Be,onOutsideClick:En,onParentClose:Pn}),yt=Ct.closeOnOutsideClickRefs,Te=Ct.registrations,Ye={triggerProps:an?{}:{ref:L(ot,yt.trigger,jn)},layerProps:{ref:L(Ue,yt.layer),style:In.styles.layer},arrowProps:{ref:tt,style:In.styles.arrow,layerSide:In.layerSide},layerSide:In.layerSide,triggerBounds:Be?an?an.getBounds():(Pe=jn.current)==null?void 0:Pe.getBoundingClientRect():null,renderLayer:function(Nt){return typeof document!="undefined"?(0,t.createPortal)((0,t.createElement)($,{registrations:Te,children:Nt}),$e||!ft?Le(Er):ft):null}};return Ye}function me(Ie,Pe){if(Ie.layerSide!==Pe.layerSide)return!0;for(var Ce=["position","top","left","right","bottom"],Be=0,Ve=Ce;Be<Ve.length;Be++){var $e=Ve[Be];if(Ie.styles.layer[$e]!==Pe.styles.layer[$e]||Ie.styles.arrow[$e]!==Pe.styles.arrow[$e])return!0}return!1}var pe="layers";function Le(Ie){var Pe;if(typeof Ie=="function"){if(Pe=Ie(),!Pe||!(Pe instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Ie instanceof HTMLElement)Pe=Ie;else if(typeof Ie=="string"){if(Pe=document.getElementById(Ie),!Pe)throw new Error("react-laag: You've passed element with id '"+Ie+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(fe instanceof HTMLElement)return fe;Pe=document.getElementById(pe),Pe||(Pe=document.createElement("div"),Pe.id=pe,Pe.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Pe))}return Pe}var je=null,xe="left",ye="top",Me="bottom",We="right";function De(Ie,Pe){return Math.tan(Ie*(Math.PI/180))*Pe}function Ge(Ie,Pe,Ce,Be){var Ve,$e=(Ve={},Ve[Me]="0 "+-Be+" "+Pe+" "+Ie,Ve[ye]="0 0 "+Pe+" "+(Ie+Be),Ve[We]=-Be+" 0 "+Ie+" "+Pe,Ve[xe]="0 0 "+(Ie+Be)+" "+Pe,Ve);return $e[Ce.prop]}function pt(Ie,Pe,Ce,Be,Ve){var $e,Qe,ze,Ke=Be/10*Ie*2,lt=($e={},$e[Me]=[0,Ie],$e[ye]=[0,0],$e[We]=[Ie,Pe],$e[xe]=[0,Pe],$e)[Ce.prop].join(" "),vt=Ce.isHorizontal?"V 0":"H "+Pe,Pt=Pe/2,Wt=Pe/2+De(Ve,Ie/8),Ut=Ie/8,jt=(Qe={},Qe[Me]=["C",Wt,Ut,Pt+Ke,0,Pt,0],Qe[ye]=["C",Wt,Ie-Ut,Pt+Ke,Ie,Pt,Ie],Qe[We]=["C",Ut,Pe-Wt,0,Pt-Ke,0,Pt],Qe[xe]=["C",Ie-Ut,Pe-Wt,Ie,Pt-Ke,Ie,Pt],Qe)[Ce.prop].join(" "),Vt=Pe/2-De(Ve,Ie/8),lr=Ie/8,Jt=(ze={},ze[Me]=["C",Pt-Ke,0,Vt,lr,lt],ze[ye]=["C",Pt-Ke,Ie,Vt,Ie-lr,lt],ze[We]=["C",0,Pt+Ke,lr,Pe-Vt,lt],ze[xe]=["C",Ie,Pt+Ke,Ie-lr,Pe-Vt,lt],ze)[Ce.prop].join(" ");return["M",lt,vt,jt,Jt].join(" ")}function wt(Ie,Pe,Ce,Be,Ve){var $e=De(Ve,Ce),Qe=Be.isPush?[0,Ce]:[Ie,Ie-Ce],ze=Qe[0],Ke=Qe[1];return Be.isHorizontal?["M",ze,Ce,"V",Pe-Ce,"L",Ke,Pe-Ce-$e,"V",$e+Ce,"Z"].join(" "):["M",Ce,ze,"H",Pe-Ce,"L",Pe-Ce-$e,Ke,"H",$e+Ce,"Z"].join(" ")}var Ht=null,nt;(function(Ie){Ie[Ie.ENTERING=0]="ENTERING",Ie[Ie.LEAVING=1]="LEAVING",Ie[Ie.IDLE=2]="IDLE"})(nt||(nt={}));function Ze(Ie){var Pe=Ie===void 0?{}:Ie,Ce=Pe.delayEnter,Be=Ce===void 0?0:Ce,Ve=Pe.delayLeave,$e=Ve===void 0?0:Ve,Qe=Pe.hideOnScroll,ze=Qe===void 0?!0:Qe,Ke=(0,t.useState)(!1),lt=Ke[0],vt=Ke[1],Pt=(0,t.useRef)(null),Wt=(0,t.useRef)(nt.IDLE),Ut=(0,t.useRef)(!1),jt=(0,t.useCallback)(function(){clearTimeout(Pt.current),Pt.current=null,Wt.current=nt.IDLE},[]);function Vt(){Wt.current===nt.LEAVING&&Pt.current&&jt(),!lt&&(Wt.current=nt.ENTERING,Pt.current=window.setTimeout(function(){vt(!0),Pt.current=null,Wt.current=nt.IDLE},Be))}function lr(or,Et){if(Wt.current===nt.ENTERING&&Pt.current&&jt(),!!lt){if(Et){vt(!1),Pt.current=null,Wt.current=nt.IDLE;return}Wt.current=nt.LEAVING,Pt.current=window.setTimeout(function(){vt(!1),Pt.current=null,Wt.current=nt.IDLE},$e)}}(0,t.useEffect)(function(){function or(){lt&&ze&&(jt(),vt(!1))}return window.addEventListener("scroll",or,!0),function(){window.removeEventListener("scroll",or,!0),Pt.current&&clearTimeout(Pt.current)}},[lt,ze,jt]);var Jt={onMouseEnter:Vt,onMouseLeave:lr,onTouchStart:function(){Ut.current=!1},onTouchMove:function(){Ut.current=!0},onTouchEnd:function(){!Ut.current&&!lt&&vt(!0),Ut.current=!1}};return[lt,Jt,function(){return lr(null,!0)}]}function st(Ie){var Pe=Ie.isOpen,Ce=Ie.children,Be=useState({isOpenInternal:Pe,isLeaving:!1}),Ve=Be[0],$e=Be[1],Qe=useRef(!1);return useEffect(function(){Pe?$e({isOpenInternal:!0,isLeaving:!1}):Qe.current&&$e({isOpenInternal:!1,isLeaving:!0})},[Pe,$e]),useEffect(function(){},[Ce]),useEffect(function(){Qe.current=!0},[]),!Pe&&!Ve.isOpenInternal&&!Ve.isLeaving?null:Ce(Ve.isOpenInternal,function(){Ve.isOpenInternal||$e(function(ze){return g({},ze,{isLeaving:!1})})},Ve.isLeaving)}},1852:function(H,E,e){(function(t,u){H.exports=u(e(98661))})(typeof self!="undefined"?self:this,function(t){return function(u){function s(P){if(g[P])return g[P].exports;var y=g[P]={i:P,l:!1,exports:{}};return u[P].call(y.exports,y,y.exports,s),y.l=!0,y.exports}var g={};return s.m=u,s.c=g,s.d=function(P,y,O){s.o(P,y)||Object.defineProperty(P,y,{configurable:!1,enumerable:!0,get:O})},s.n=function(P){var y=P&&P.__esModule?function(){return P.default}:function(){return P};return s.d(y,"a",y),y},s.o=function(P,y){return Object.prototype.hasOwnProperty.call(P,y)},s.p="",s(s.s=7)}([function(u,s,g){"use strict";function P(G,Q){return d(G)||f(G,Q)||O(G,Q)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(G,Q){if(G){if(typeof G=="string")return c(G,Q);var K=Object.prototype.toString.call(G).slice(8,-1);return K==="Object"&&G.constructor&&(K=G.constructor.name),K==="Map"||K==="Set"?Array.from(G):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?c(G,Q):void 0}}function c(G,Q){(Q==null||Q>G.length)&&(Q=G.length);for(var K=0,W=new Array(Q);K<Q;K++)W[K]=G[K];return W}function f(G,Q){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(G)){var K=[],W=!0,Y=!1,ne=void 0;try{for(var V,j=G[Symbol.iterator]();!(W=(V=j.next()).done)&&(K.push(V.value),!Q||K.length!==Q);W=!0);}catch(te){Y=!0,ne=te}finally{try{W||j.return==null||j.return()}finally{if(Y)throw ne}}return K}}function d(G){if(Array.isArray(G))return G}var T=g(1),D=g.n(T),I=g(8),p=g.n(I),l=g(2),a=g(10),v=g.n(a),w=g(3),M=g(6),C=function(G){return G.query||Object(w.a)(G)},L=function(G){if(!G)return null;var Q=Object.keys(G);return Q.length===0?null:Q.reduce(function(K,W){return K[Object(l.a)(W)]=G[W],K},{})},S=function(){var G=D.a.useRef(!1);return D.a.useEffect(function(){G.current=!0},[]),G.current},N=function(G){var Q=D.a.useContext(M.a),K=function(){return L(G)||L(Q)},W=D.a.useState(K),Y=P(W,2),ne=Y[0],V=Y[1];return D.a.useEffect(function(){var j=K();v()(ne,j)||V(j)},[G,Q]),ne},R=function(G){var Q=function(){return C(G)},K=D.a.useState(Q),W=P(K,2),Y=W[0],ne=W[1];return D.a.useEffect(function(){var V=Q();Y!==V&&ne(V)},[G]),Y},U=function(G,Q){var K=function(){return p()(G,Q||{},!!Q)},W=D.a.useState(K),Y=P(W,2),ne=Y[0],V=Y[1],j=S();return D.a.useEffect(function(){return j&&V(K()),function(){ne.dispose()}},[G,Q]),ne},F=function(G){var Q=D.a.useState(G.matches),K=P(Q,2),W=K[0],Y=K[1];return D.a.useEffect(function(){var ne=function(){Y(G.matches)};return G.addListener(ne),ne(),function(){G.removeListener(ne)}},[G]),W},$=function(G,Q,K){var W=N(Q),Y=R(G);if(!Y)throw new Error("Invalid or missing MediaQuery!");var ne=U(Y,W),V=F(ne),j=S();return D.a.useEffect(function(){j&&K&&K(V)},[V]),V};s.a=$},function(u,s){u.exports=t},function(u,s,g){"use strict";function P(d){return"-"+d.toLowerCase()}function y(d){if(f.hasOwnProperty(d))return f[d];var T=d.replace(O,P);return f[d]=c.test(T)?"-"+T:T}var O=/[A-Z]/g,c=/^ms-/,f={};s.a=y},function(u,s,g){"use strict";var P=g(2),y=g(11),O=function(T){return"not ".concat(T)},c=function(T,D){var I=Object(P.a)(T);return typeof D=="number"&&(D="".concat(D,"px")),D===!0?I:D===!1?O(I):"(".concat(I,": ").concat(D,")")},f=function(T){return T.join(" and ")},d=function(T){var D=[];return Object.keys(y.a.all).forEach(function(I){var p=T[I];p!=null&&D.push(c(I,p))}),f(D)};s.a=d},function(u,s,g){"use strict";u.exports=g(13)},function(u,s,g){"use strict";u.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(u,s,g){"use strict";var P=g(1),y=g.n(P),O=y.a.createContext();s.a=O},function(u,s,g){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var P=g(0),y=g(17),O=g(3),c=g(6);g.d(s,"default",function(){return y.a}),g.d(s,"useMediaQuery",function(){return P.a}),g.d(s,"toQuery",function(){return O.a}),g.d(s,"Context",function(){return c.a})},function(u,s,g){"use strict";function P(f,d,T){function D(w){v&&v.addListener(w)}function I(w){v&&v.removeListener(w)}function p(w){a.matches=w.matches,a.media=w.media}function l(){v&&v.removeListener(p)}var a=this;if(c&&!T){var v=c.call(window,f);this.matches=v.matches,this.media=v.media,v.addListener(p)}else this.matches=O(f,d),this.media=f;this.addListener=D,this.removeListener=I,this.dispose=l}function y(f,d,T){return new P(f,d,T)}var O=g(9).match,c=typeof window!="undefined"?window.matchMedia:null;u.exports=y},function(u,s,g){"use strict";function P(l,a){return y(l).some(function(v){var w=v.inverse,M=v.type==="all"||a.type===v.type;if(M&&w||!M&&!w)return!1;var C=v.expressions.every(function(L){var S=L.feature,N=L.modifier,R=L.value,U=a[S];if(!U)return!1;switch(S){case"orientation":case"scan":return U.toLowerCase()===R.toLowerCase();case"width":case"height":case"device-width":case"device-height":R=f(R),U=f(U);break;case"resolution":R=c(R),U=c(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":R=O(R),U=O(U);break;case"grid":case"color":case"color-index":case"monochrome":R=parseInt(R,10)||1,U=parseInt(U,10)||0}switch(N){case"min":return U>=R;case"max":return U<=R;default:return U===R}});return C&&!w||!C&&w})}function y(l){return l.split(",").map(function(a){a=a.trim();var v=a.match(d),w=v[1],M=v[2],C=v[3]||"",L={};return L.inverse=!!w&&w.toLowerCase()==="not",L.type=M?M.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],L.expressions=C.map(function(S){var N=S.match(T),R=N[1].toLowerCase().match(D);return{modifier:R[1],feature:R[2],value:N[2]}}),L})}function O(l){var a,v=Number(l);return v||(a=l.match(/^(\d+)\s*\/\s*(\d+)$/),v=a[1]/a[2]),v}function c(l){var a=parseFloat(l);switch(String(l).match(p)[1]){case"dpcm":return a/2.54;case"dppx":return 96*a;default:return a}}function f(l){var a=parseFloat(l);switch(String(l).match(I)[1]){case"em":case"rem":return 16*a;case"cm":return 96*a/2.54;case"mm":return 96*a/2.54/10;case"in":return 96*a;case"pt":return 72*a;case"pc":return 72*a/12;default:return a}}s.match=P,s.parse=y;var d=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,T=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,D=/^(?:(min|max)-)?(.+)/,I=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/},function(u,s,g){"use strict";function P(y,O){if(y===O)return!0;if(!y||!O)return!1;var c=Object.keys(y),f=Object.keys(O),d=c.length;if(f.length!==d)return!1;for(var T=0;T<d;T++){var D=c[T];if(y[D]!==O[D]||!Object.prototype.hasOwnProperty.call(O,D))return!1}return!0}u.exports=P},function(u,s,g){"use strict";function P(l,a){var v=Object.keys(l);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);a&&(w=w.filter(function(M){return Object.getOwnPropertyDescriptor(l,M).enumerable})),v.push.apply(v,w)}return v}function y(l){for(var a=1;a<arguments.length;a++){var v=arguments[a]!=null?arguments[a]:{};a%2?P(Object(v),!0).forEach(function(w){O(l,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(v)):P(Object(v)).forEach(function(w){Object.defineProperty(l,w,Object.getOwnPropertyDescriptor(v,w))})}return l}function O(l,a,v){return a in l?Object.defineProperty(l,a,{value:v,enumerable:!0,configurable:!0,writable:!0}):l[a]=v,l}var c=g(12),f=g.n(c),d=f.a.oneOfType([f.a.string,f.a.number]),T={orientation:f.a.oneOf(["portrait","landscape"]),scan:f.a.oneOf(["progressive","interlace"]),aspectRatio:f.a.string,deviceAspectRatio:f.a.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:f.a.bool,colorIndex:f.a.bool,monochrome:f.a.bool,resolution:d},D=y({minAspectRatio:f.a.string,maxAspectRatio:f.a.string,minDeviceAspectRatio:f.a.string,maxDeviceAspectRatio:f.a.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:f.a.number,maxColor:f.a.number,minColorIndex:f.a.number,maxColorIndex:f.a.number,minMonochrome:f.a.number,maxMonochrome:f.a.number,minResolution:d,maxResolution:d},T),I={all:f.a.bool,grid:f.a.bool,aural:f.a.bool,braille:f.a.bool,handheld:f.a.bool,print:f.a.bool,projection:f.a.bool,screen:f.a.bool,tty:f.a.bool,tv:f.a.bool,embossed:f.a.bool},p=y(y({},I),D);T.type=Object.keys(I),s.a={all:p,types:I,matchers:T,features:D}},function(u,s,g){var P=g(4);u.exports=g(14)(P.isElement,!0)},function(u,s,g){"use strict";(function(){function P(me){return typeof me=="string"||typeof me=="function"||me===N||me===Q||me===U||me===R||me===W||me===Y||typeof me=="object"&&me!==null&&(me.$$typeof===V||me.$$typeof===ne||me.$$typeof===F||me.$$typeof===$||me.$$typeof===K||me.$$typeof===te||me.$$typeof===ie||me.$$typeof===ue||me.$$typeof===j)}function y(me){if(typeof me=="object"&&me!==null){var pe=me.$$typeof;switch(pe){case L:var Le=me.type;switch(Le){case G:case Q:case N:case U:case R:case W:return Le;default:var je=Le&&Le.$$typeof;switch(je){case $:case K:case V:case ne:case F:return je;default:return pe}}case S:return pe}}}function O(me){return be||(be=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),c(me)||y(me)===G}function c(me){return y(me)===Q}function f(me){return y(me)===$}function d(me){return y(me)===F}function T(me){return typeof me=="object"&&me!==null&&me.$$typeof===L}function D(me){return y(me)===K}function I(me){return y(me)===N}function p(me){return y(me)===V}function l(me){return y(me)===ne}function a(me){return y(me)===S}function v(me){return y(me)===U}function w(me){return y(me)===R}function M(me){return y(me)===W}var C=typeof Symbol=="function"&&Symbol.for,L=C?Symbol.for("react.element"):60103,S=C?Symbol.for("react.portal"):60106,N=C?Symbol.for("react.fragment"):60107,R=C?Symbol.for("react.strict_mode"):60108,U=C?Symbol.for("react.profiler"):60114,F=C?Symbol.for("react.provider"):60109,$=C?Symbol.for("react.context"):60110,G=C?Symbol.for("react.async_mode"):60111,Q=C?Symbol.for("react.concurrent_mode"):60111,K=C?Symbol.for("react.forward_ref"):60112,W=C?Symbol.for("react.suspense"):60113,Y=C?Symbol.for("react.suspense_list"):60120,ne=C?Symbol.for("react.memo"):60115,V=C?Symbol.for("react.lazy"):60116,j=C?Symbol.for("react.block"):60121,te=C?Symbol.for("react.fundamental"):60117,ie=C?Symbol.for("react.responder"):60118,ue=C?Symbol.for("react.scope"):60119,he=G,Z=Q,J=$,ae=F,le=L,oe=K,ee=N,z=V,re=ne,se=S,fe=U,Ee=R,ge=W,be=!1;s.AsyncMode=he,s.ConcurrentMode=Z,s.ContextConsumer=J,s.ContextProvider=ae,s.Element=le,s.ForwardRef=oe,s.Fragment=ee,s.Lazy=z,s.Memo=re,s.Portal=se,s.Profiler=fe,s.StrictMode=Ee,s.Suspense=ge,s.isAsyncMode=O,s.isConcurrentMode=c,s.isContextConsumer=f,s.isContextProvider=d,s.isElement=T,s.isForwardRef=D,s.isFragment=I,s.isLazy=p,s.isMemo=l,s.isPortal=a,s.isProfiler=v,s.isStrictMode=w,s.isSuspense=M,s.isValidElementType=P,s.typeOf=y})()},function(u,s,g){"use strict";function P(){return null}var y=g(4),O=g(15),c=g(5),f=g(16),d=Function.call.bind(Object.prototype.hasOwnProperty),T=function(){};T=function(D){var I="Warning: "+D;typeof console!="undefined"&&console.error(I);try{throw new Error(I)}catch(p){}},u.exports=function(D,I){function p(te){var ie=te&&(Y&&te[Y]||te[ne]);if(typeof ie=="function")return ie}function l(te,ie){return te===ie?te!==0||1/te==1/ie:te!==te&&ie!==ie}function a(te){this.message=te,this.stack=""}function v(te){function ie(J,ae,le,oe,ee,z,re){if(oe=oe||V,z=z||le,re!==c){if(I){var se=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw se.name="Invariant Violation",se}if(typeof console!="undefined"){var fe=oe+":"+le;!ue[fe]&&he<3&&(T("You are manually calling a React.PropTypes validation function for the `"+z+"` prop on `"+oe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ue[fe]=!0,he++)}}return ae[le]==null?J?new a(ae[le]===null?"The "+ee+" `"+z+"` is marked as required in `"+oe+"`, but its value is `null`.":"The "+ee+" `"+z+"` is marked as required in `"+oe+"`, but its value is `undefined`."):null:te(ae,le,oe,ee,z)}var ue={},he=0,Z=ie.bind(null,!1);return Z.isRequired=ie.bind(null,!0),Z}function w(te){function ie(ue,he,Z,J,ae,le){var oe=ue[he];return G(oe)!==te?new a("Invalid "+J+" `"+ae+"` of type `"+Q(oe)+"` supplied to `"+Z+"`, expected `"+te+"`."):null}return v(ie)}function M(te){function ie(ue,he,Z,J,ae){if(typeof te!="function")return new a("Property `"+ae+"` of component `"+Z+"` has invalid PropType notation inside arrayOf.");var le=ue[he];if(!Array.isArray(le))return new a("Invalid "+J+" `"+ae+"` of type `"+G(le)+"` supplied to `"+Z+"`, expected an array.");for(var oe=0;oe<le.length;oe++){var ee=te(le,oe,Z,J,ae+"["+oe+"]",c);if(ee instanceof Error)return ee}return null}return v(ie)}function C(te){function ie(ue,he,Z,J,ae){if(!(ue[he]instanceof te)){var le=te.name||V;return new a("Invalid "+J+" `"+ae+"` of type `"+W(ue[he])+"` supplied to `"+Z+"`, expected instance of `"+le+"`.")}return null}return v(ie)}function L(te){function ie(ue,he,Z,J,ae){for(var le=ue[he],oe=0;oe<te.length;oe++)if(l(le,te[oe]))return null;var ee=JSON.stringify(te,function(z,re){return Q(re)==="symbol"?String(re):re});return new a("Invalid "+J+" `"+ae+"` of value `"+String(le)+"` supplied to `"+Z+"`, expected one of "+ee+".")}return Array.isArray(te)?v(ie):(T(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),P)}function S(te){function ie(ue,he,Z,J,ae){if(typeof te!="function")return new a("Property `"+ae+"` of component `"+Z+"` has invalid PropType notation inside objectOf.");var le=ue[he],oe=G(le);if(oe!=="object")return new a("Invalid "+J+" `"+ae+"` of type `"+oe+"` supplied to `"+Z+"`, expected an object.");for(var ee in le)if(d(le,ee)){var z=te(le,ee,Z,J,ae+"."+ee,c);if(z instanceof Error)return z}return null}return v(ie)}function N(te){function ie(Z,J,ae,le,oe){for(var ee=0;ee<te.length;ee++)if((0,te[ee])(Z,J,ae,le,oe,c)==null)return null;return new a("Invalid "+le+" `"+oe+"` supplied to `"+ae+"`.")}if(!Array.isArray(te))return T("Invalid argument supplied to oneOfType, expected an instance of array."),P;for(var ue=0;ue<te.length;ue++){var he=te[ue];if(typeof he!="function")return T("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+K(he)+" at index "+ue+"."),P}return v(ie)}function R(te){function ie(ue,he,Z,J,ae){var le=ue[he],oe=G(le);if(oe!=="object")return new a("Invalid "+J+" `"+ae+"` of type `"+oe+"` supplied to `"+Z+"`, expected `object`.");for(var ee in te){var z=te[ee];if(z){var re=z(le,ee,Z,J,ae+"."+ee,c);if(re)return re}}return null}return v(ie)}function U(te){function ie(ue,he,Z,J,ae){var le=ue[he],oe=G(le);if(oe!=="object")return new a("Invalid "+J+" `"+ae+"` of type `"+oe+"` supplied to `"+Z+"`, expected `object`.");var ee=O({},ue[he],te);for(var z in ee){var re=te[z];if(!re)return new a("Invalid "+J+" `"+ae+"` key `"+z+"` supplied to `"+Z+"`.\nBad object: "+JSON.stringify(ue[he],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(te),null,"  "));var se=re(le,z,Z,J,ae+"."+z,c);if(se)return se}return null}return v(ie)}function F(te){switch(typeof te){case"number":case"string":case"undefined":return!0;case"boolean":return!te;case"object":if(Array.isArray(te))return te.every(F);if(te===null||D(te))return!0;var ie=p(te);if(!ie)return!1;var ue,he=ie.call(te);if(ie!==te.entries){for(;!(ue=he.next()).done;)if(!F(ue.value))return!1}else for(;!(ue=he.next()).done;){var Z=ue.value;if(Z&&!F(Z[1]))return!1}return!0;default:return!1}}function $(te,ie){return te==="symbol"||!!ie&&(ie["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ie instanceof Symbol)}function G(te){var ie=typeof te;return Array.isArray(te)?"array":te instanceof RegExp?"object":$(ie,te)?"symbol":ie}function Q(te){if(te==null)return""+te;var ie=G(te);if(ie==="object"){if(te instanceof Date)return"date";if(te instanceof RegExp)return"regexp"}return ie}function K(te){var ie=Q(te);switch(ie){case"array":case"object":return"an "+ie;case"boolean":case"date":case"regexp":return"a "+ie;default:return ie}}function W(te){return te.constructor&&te.constructor.name?te.constructor.name:V}var Y=typeof Symbol=="function"&&Symbol.iterator,ne="@@iterator",V="<<anonymous>>",j={array:w("array"),bool:w("boolean"),func:w("function"),number:w("number"),object:w("object"),string:w("string"),symbol:w("symbol"),any:function(){return v(P)}(),arrayOf:M,element:function(){function te(ie,ue,he,Z,J){var ae=ie[ue];return D(ae)?null:new a("Invalid "+Z+" `"+J+"` of type `"+G(ae)+"` supplied to `"+he+"`, expected a single ReactElement.")}return v(te)}(),elementType:function(){function te(ie,ue,he,Z,J){var ae=ie[ue];return y.isValidElementType(ae)?null:new a("Invalid "+Z+" `"+J+"` of type `"+G(ae)+"` supplied to `"+he+"`, expected a single ReactElement type.")}return v(te)}(),instanceOf:C,node:function(){function te(ie,ue,he,Z,J){return F(ie[ue])?null:new a("Invalid "+Z+" `"+J+"` supplied to `"+he+"`, expected a ReactNode.")}return v(te)}(),objectOf:S,oneOf:L,oneOfType:N,shape:R,exact:U};return a.prototype=Error.prototype,j.checkPropTypes=f,j.resetWarningCache=f.resetWarningCache,j.PropTypes=j,j}},function(u,s,g){"use strict";function P(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;u.exports=function(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var d={},T=0;T<10;T++)d["_"+String.fromCharCode(T)]=T;if(Object.getOwnPropertyNames(d).map(function(I){return d[I]}).join("")!=="0123456789")return!1;var D={};return"abcdefghijklmnopqrst".split("").forEach(function(I){D[I]=I}),Object.keys(Object.assign({},D)).join("")==="abcdefghijklmnopqrst"}catch(I){return!1}}()?Object.assign:function(f,d){for(var T,D,I=P(f),p=1;p<arguments.length;p++){T=Object(arguments[p]);for(var l in T)O.call(T,l)&&(I[l]=T[l]);if(y){D=y(T);for(var a=0;a<D.length;a++)c.call(T,D[a])&&(I[D[a]]=T[D[a]])}}return I}},function(u,s,g){"use strict";function P(d,T,D,I,p){for(var l in d)if(f(d,l)){var a;try{if(typeof d[l]!="function"){var v=Error((I||"React class")+": "+D+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof d[l]+"`.");throw v.name="Invariant Violation",v}a=d[l](T,l,I,D,null,O)}catch(M){a=M}if(!a||a instanceof Error||y((I||"React class")+": type specification of "+D+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in c)){c[a.message]=!0;var w=p?p():"";y("Failed "+D+" type: "+a.message+(w!=null?w:""))}}}var y=function(){},O=g(5),c={},f=Function.call.bind(Object.prototype.hasOwnProperty);y=function(d){var T="Warning: "+d;typeof console!="undefined"&&console.error(T);try{throw new Error(T)}catch(D){}},P.resetWarningCache=function(){c={}},u.exports=P},function(u,s,g){"use strict";function P(f,d){if(f==null)return{};var T,D,I=y(f,d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);for(D=0;D<p.length;D++)T=p[D],d.indexOf(T)>=0||Object.prototype.propertyIsEnumerable.call(f,T)&&(I[T]=f[T])}return I}function y(f,d){if(f==null)return{};var T,D,I={},p=Object.keys(f);for(D=0;D<p.length;D++)T=p[D],d.indexOf(T)>=0||(I[T]=f[T]);return I}function O(f){var d=f.children,T=f.device,D=f.onChange,I=P(f,["children","device","onChange"]),p=Object(c.a)(I,T,D);return typeof d=="function"?d(p):p?d:null}s.a=O;var c=g(0)}])})},91036:(H,E,e)=>{const t=e(35106),u=e(22997),{klona:s}=e(23059),{isPlainObject:g}=e(10977),P=e(9996),y=e(79430),{parse:O}=e(50020),c=e(8575),f=["img","audio","video","picture","svg","object","map","iframe","embed"],d=["script","style"];function T(M,C){M&&Object.keys(M).forEach(function(L){C(M[L],L)})}function D(M,C){return{}.hasOwnProperty.call(M,C)}function I(M,C){const L=[];return T(M,function(S){C(S)&&L.push(S)}),L}function p(M){for(const C in M)if(D(M,C))return!1;return!0}function l(M){return M.map(function(C){if(!C.url)throw new Error("URL missing");return C.url+(C.w?` ${C.w}w`:"")+(C.h?` ${C.h}h`:"")+(C.d?` ${C.d}x`:"")}).join(", ")}H.exports=v;const a=/^[^\0\t\n\f\r /<=>]+$/;function v(M,C,L){let S="",N="";function R(z,re){const se=this;this.tag=z,this.attribs=re||{},this.tagPosition=S.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(Y.length){const fe=Y[Y.length-1];fe.text+=se.text}},this.updateParentNodeMediaChildren=function(){Y.length&&f.includes(this.tag)&&Y[Y.length-1].mediaChildren.push(this.tag)}}C?(C=Object.assign({},v.defaults,C),C.parser?C.parser=Object.assign({},w,C.parser):C.parser=w):(C=v.defaults,C.parser=w),d.forEach(function(z){C.allowedTags&&C.allowedTags.indexOf(z)>-1&&!C.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${z}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const U=C.nonTextTags||["script","style","textarea","option"];let F,$;C.allowedAttributes&&(F={},$={},T(C.allowedAttributes,function(z,re){F[re]=[];const se=[];z.forEach(function(fe){typeof fe=="string"&&fe.indexOf("*")>=0?se.push(u(fe).replace(/\\\*/g,".*")):F[re].push(fe)}),$[re]=new RegExp("^("+se.join("|")+")$")}));const G={};T(C.allowedClasses,function(z,re){F&&(D(F,re)||(F[re]=[]),F[re].push("class")),G[re]=z});const Q={};let K;T(C.transformTags,function(z,re){let se;typeof z=="function"?se=z:typeof z=="string"&&(se=v.simpleTransform(z)),re==="*"?K=se:Q[re]=se});let W,Y,ne,V,j,te,ie=!1;he();const ue=new t.Parser({onopentag:function(z,re){if(C.enforceHtmlBoundary&&z==="html"&&he(),j){te++;return}const se=new R(z,re);Y.push(se);let fe=!1;const Ee=!!se.text;let ge;if(D(Q,z)&&(ge=Q[z](z,re),se.attribs=re=ge.attribs,ge.text!==void 0&&(se.innerText=ge.text),z!==ge.tagName&&(se.name=z=ge.tagName,V[W]=ge.tagName)),K&&(ge=K(z,re),se.attribs=re=ge.attribs,z!==ge.tagName&&(se.name=z=ge.tagName,V[W]=ge.tagName)),(C.allowedTags&&C.allowedTags.indexOf(z)===-1||C.disallowedTagsMode==="recursiveEscape"&&!p(ne)||C.nestingLimit!=null&&W>=C.nestingLimit)&&(fe=!0,ne[W]=!0,C.disallowedTagsMode==="discard"&&U.indexOf(z)!==-1&&(j=!0,te=1),ne[W]=!0),W++,fe){if(C.disallowedTagsMode==="discard")return;N=S,S=""}S+="<"+z,(!F||D(F,z)||F["*"])&&T(re,function(be,me){if(!a.test(me)){delete se.attribs[me];return}let pe,Le=!1;if(!F||D(F,z)&&F[z].indexOf(me)!==-1||F["*"]&&F["*"].indexOf(me)!==-1||D($,z)&&$[z].test(me)||$["*"]&&$["*"].test(me))Le=!0;else if(F&&F[z]){for(const je of F[z])if(g(je)&&je.name&&je.name===me){Le=!0;let xe="";if(je.multiple===!0){const ye=be.split(" ");for(const Me of ye)je.values.indexOf(Me)!==-1&&(xe===""?xe=Me:xe+=" "+Me)}else je.values.indexOf(be)>=0&&(xe=be);be=xe}}if(Le){if(C.allowedSchemesAppliedToAttributes.indexOf(me)!==-1&&J(z,be)){delete se.attribs[me];return}if(z==="iframe"&&me==="src"){let je=!0;try{if(pe=c.parse(be,!1,!0),pe&&pe.host===null&&pe.protocol===null)je=D(C,"allowIframeRelativeUrls")?C.allowIframeRelativeUrls:!C.allowedIframeHostnames&&!C.allowedIframeDomains;else if(C.allowedIframeHostnames||C.allowedIframeDomains){const ye=(C.allowedIframeHostnames||[]).find(function(We){return We===pe.hostname}),Me=(C.allowedIframeDomains||[]).find(function(We){return pe.hostname===We||pe.hostname.endsWith(`.${We}`)});je=ye||Me}}catch(xe){je=!1}if(!je){delete se.attribs[me];return}}if(me==="srcset")try{if(pe=y(be),pe.forEach(function(je){J("srcset",je.url)&&(je.evil=!0)}),pe=I(pe,function(je){return!je.evil}),pe.length)be=l(I(pe,function(je){return!je.evil})),se.attribs[me]=be;else{delete se.attribs[me];return}}catch(je){delete se.attribs[me];return}if(me==="class"){const je=G[z],xe=G["*"];if(je&&xe?be=ee(be,P(je,xe)):be=ee(be,je||xe),!be.length){delete se.attribs[me];return}}if(me==="style")try{const je=O(z+" {"+be+"}"),xe=ae(je,C.allowedStyles);if(be=le(xe),be.length===0){delete se.attribs[me];return}}catch(je){delete se.attribs[me];return}S+=" "+me,be&&be.length&&(S+='="'+Z(be,!0)+'"')}else delete se.attribs[me]}),C.selfClosing.indexOf(z)!==-1?S+=" />":(S+=">",se.innerText&&!Ee&&!C.textFilter&&(S+=Z(se.innerText),ie=!0)),fe&&(S=N+Z(S),N="")},ontext:function(z){if(j)return;const re=Y[Y.length-1];let se;if(re&&(se=re.tag,z=re.innerText!==void 0?re.innerText:z),C.disallowedTagsMode==="discard"&&(se==="script"||se==="style"))S+=z;else{const fe=Z(z,!1);C.textFilter&&!ie?S+=C.textFilter(fe,se):ie||(S+=fe)}if(Y.length){const fe=Y[Y.length-1];fe.text+=z}},onclosetag:function(z){if(j)if(te--,!te)j=!1;else return;const re=Y.pop();if(!re)return;j=C.enforceHtmlBoundary?z==="html":!1,W--;const se=ne[W];if(se){if(delete ne[W],C.disallowedTagsMode==="discard"){re.updateParentNodeText();return}N=S,S=""}if(V[W]&&(z=V[W],delete V[W]),C.exclusiveFilter&&C.exclusiveFilter(re)){S=S.substr(0,re.tagPosition);return}if(re.updateParentNodeMediaChildren(),re.updateParentNodeText(),C.selfClosing.indexOf(z)!==-1){se&&(S=N,N="");return}S+="</"+z+">",se&&(S=N+Z(S),N="")}},C.parser);return ue.write(M),ue.end(),S;function he(){S="",W=0,Y=[],ne={},V={},j=!1,te=0}function Z(z,re){return typeof z!="string"&&(z=z+""),C.parser.decodeEntities&&(z=z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),re&&(z=z.replace(/"/g,"&quot;"))),z=z.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),re&&(z=z.replace(/"/g,"&quot;")),z}function J(z,re){re=re.replace(/[\x00-\x20]+/g,""),re=re.replace(/<!--.*?-->/g,"");const se=re.match(/^([a-zA-Z]+):/);if(!se)return re.match(/^[/\\]{2}/)?!C.allowProtocolRelative:!1;const fe=se[1].toLowerCase();return D(C.allowedSchemesByTag,z)?C.allowedSchemesByTag[z].indexOf(fe)===-1:!C.allowedSchemes||C.allowedSchemes.indexOf(fe)===-1}function ae(z,re){if(!re)return z;const se=s(z),fe=z.nodes[0];let Ee;return re[fe.selector]&&re["*"]?Ee=P(re[fe.selector],re["*"]):Ee=re[fe.selector]||re["*"],Ee&&(se.nodes[0].nodes=fe.nodes.reduce(oe(Ee),[])),se}function le(z){return z.nodes[0].nodes.reduce(function(re,se){return re.push(se.prop+":"+se.value),re},[]).join(";")}function oe(z){return function(re,se){return D(z,se.prop)&&z[se.prop].some(function(Ee){return Ee.test(se.value)})&&re.push(se),re}}function ee(z,re){return re?(z=z.split(/\s+/),z.filter(function(se){return re.indexOf(se)!==-1}).join(" ")):z}}const w={decodeEntities:!0};v.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},v.simpleTransform=function(M,C,L){return L=L===void 0?!0:L,C=C||{},function(S,N){let R;if(L)for(R in C)N[R]=C[R];else N=C;return{tagName:M,attribs:N}}}},22997:H=>{"use strict";H.exports=E=>{if(typeof E!="string")throw new TypeError("Expected a string");return E.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var P=function(y,O){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])},P(y,O)};return function(y,O){P(y,O);function c(){this.constructor=y}y.prototype=O===null?Object.create(O):(c.prototype=O.prototype,new c)}}(),u=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(E,"__esModule",{value:!0});var s=u(e(90819)),g=function(P){t(y,P);function y(O){O===void 0&&(O={});var c=P.call(this,function(f){for(var d,T=[],D=1;D<arguments.length;D++)T[D-1]=arguments[D];c.events.push([f].concat(T)),c._cbs[f]&&(d=c._cbs)[f].apply(d,T)})||this;return c._cbs=O,c.events=[],c}return y.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},y.prototype.restart=function(){var O;this._cbs.onreset&&this._cbs.onreset();for(var c=0;c<this.events.length;c++){var f=this.events[c],d=f[0],T=f.slice(1);this._cbs[d]&&(O=this._cbs)[d].apply(O,T)}},y}(s.default);E.CollectingHandler=g},57613:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var a=function(v,w){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var L in C)C.hasOwnProperty(L)&&(M[L]=C[L])},a(v,w)};return function(v,w){a(v,w);function M(){this.constructor=v}v.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),u=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},s=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var v={};if(a!=null)for(var w in a)Object.hasOwnProperty.call(a,w)&&(v[w]=a[w]);return v.default=a,v};Object.defineProperty(E,"__esModule",{value:!0});var g=u(e(47915)),P=s(e(89432)),y=e(16666),O=function(a){t(v,a);function v(w,M){var C=this;return typeof w=="object"&&w!==null&&(w=void 0,M=w),C=a.call(this,w,M)||this,C}return v.prototype.onend=function(){var w={},M=f(I,this.dom);if(M)if(M.name==="feed"){var C=M.children;w.type="atom",D(w,"id","id",C),D(w,"title","title",C);var L=T("href",f("link",C));L&&(w.link=L),D(w,"description","subtitle",C);var S=d("updated",C);S&&(w.updated=new Date(S)),D(w,"author","email",C,!0),w.items=c("entry",C).map(function(N){var R={},U=N.children;D(R,"id","id",U),D(R,"title","title",U);var F=T("href",f("link",U));F&&(R.link=F);var $=d("summary",U)||d("content",U);$&&(R.description=$);var G=d("updated",U);return G&&(R.pubDate=new Date(G)),R})}else{var C=f("channel",M.children).children;w.type=M.name.substr(0,3),w.id="",D(w,"title","title",C),D(w,"link","link",C),D(w,"description","description",C);var S=d("lastBuildDate",C);S&&(w.updated=new Date(S)),D(w,"author","managingEditor",C,!0),w.items=c("item",M.children).map(function(U){var F={},$=U.children;D(F,"id","guid",$),D(F,"title","title",$),D(F,"link","link",$),D(F,"description","description",$);var G=d("pubDate",$);return G&&(F.pubDate=new Date(G)),F})}this.feed=w,this.handleCallback(M?null:Error("couldn't find root of feed"))},v}(g.default);E.FeedHandler=O;function c(a,v){return P.getElementsByTagName(a,v,!0)}function f(a,v){return P.getElementsByTagName(a,v,!0,1)[0]}function d(a,v,w){return w===void 0&&(w=!1),P.getText(P.getElementsByTagName(a,v,w,1)).trim()}function T(a,v){if(!v)return null;var w=v.attribs;return w[a]}function D(a,v,w,M,C){C===void 0&&(C=!1);var L=d(w,M,C);L&&(a[v]=L)}function I(a){return a==="rss"||a==="feed"||a==="rdf:RDF"}var p={xmlMode:!0};function l(a,v){v===void 0&&(v=p);var w=new O(v);return new y.Parser(w,v).end(a),w.feed}E.parseFeed=l},90819:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var e=function(){function t(u){this._func=u}return t.prototype.onattribute=function(u,s){this._func("onattribute",u,s)},t.prototype.oncdatastart=function(){this._func("oncdatastart")},t.prototype.oncdataend=function(){this._func("oncdataend")},t.prototype.ontext=function(u){this._func("ontext",u)},t.prototype.onprocessinginstruction=function(u,s){this._func("onprocessinginstruction",u,s)},t.prototype.oncomment=function(u){this._func("oncomment",u)},t.prototype.oncommentend=function(){this._func("oncommentend")},t.prototype.onclosetag=function(u){this._func("onclosetag",u)},t.prototype.onopentag=function(u,s){this._func("onopentag",u,s)},t.prototype.onopentagname=function(u){this._func("onopentagname",u)},t.prototype.onerror=function(u){this._func("onerror",u)},t.prototype.onend=function(){this._func("onend")},t.prototype.onparserinit=function(u){this._func("onparserinit",u)},t.prototype.onreset=function(){this._func("onreset")},t}();E.default=e},16666:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var I=function(p,l){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,v){a.__proto__=v}||function(a,v){for(var w in v)v.hasOwnProperty(w)&&(a[w]=v[w])},I(p,l)};return function(p,l){I(p,l);function a(){this.constructor=p}p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}}(),u=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(E,"__esModule",{value:!0});var s=u(e(10034)),g=e(17187),P=new Set(["input","option","optgroup","select","button","datalist","textarea"]),y=new Set(["p"]),O={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:y,h1:y,h2:y,h3:y,h4:y,h5:y,h6:y,select:P,input:P,output:P,button:P,datalist:P,textarea:P,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:y,article:y,aside:y,blockquote:y,details:y,div:y,dl:y,fieldset:y,figcaption:y,figure:y,footer:y,form:y,header:y,hr:y,main:y,nav:y,ol:y,pre:y,section:y,table:y,ul:y,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),T=/\s|\//,D=function(I){t(p,I);function p(l,a){var v=I.call(this)||this;return v._tagname="",v._attribname="",v._attribvalue="",v._attribs=null,v._stack=[],v._foreignContext=[],v.startIndex=0,v.endIndex=null,v.parseChunk=p.prototype.write,v.done=p.prototype.end,v._options=a||{},v._cbs=l||{},v._tagname="",v._attribname="",v._attribvalue="",v._attribs=null,v._stack=[],v._foreignContext=[],v.startIndex=0,v.endIndex=null,v._lowerCaseTagNames="lowerCaseTags"in v._options?!!v._options.lowerCaseTags:!v._options.xmlMode,v._lowerCaseAttributeNames="lowerCaseAttributeNames"in v._options?!!v._options.lowerCaseAttributeNames:!v._options.xmlMode,v._tokenizer=new(v._options.Tokenizer||s.default)(v._options,v),v._cbs.onparserinit&&v._cbs.onparserinit(v),v}return p.prototype._updatePosition=function(l){this.endIndex===null?this._tokenizer._sectionStart<=l?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-l:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},p.prototype.ontext=function(l){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(l)},p.prototype.onopentagname=function(l){if(this._lowerCaseTagNames&&(l=l.toLowerCase()),this._tagname=l,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(O,l))for(var a=void 0;O[l].has(a=this._stack[this._stack.length-1]);this.onclosetag(a));(this._options.xmlMode||!c.has(l))&&(this._stack.push(l),f.has(l)?this._foreignContext.push(!0):d.has(l)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(l),this._cbs.onopentag&&(this._attribs={})},p.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&c.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},p.prototype.onclosetag=function(l){if(this._updatePosition(1),this._lowerCaseTagNames&&(l=l.toLowerCase()),(f.has(l)||d.has(l))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!c.has(l))){var a=this._stack.lastIndexOf(l);if(a!==-1)if(this._cbs.onclosetag)for(a=this._stack.length-a;a--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=a;else l==="p"&&!this._options.xmlMode&&(this.onopentagname(l),this._closeCurrentTag())}else!this._options.xmlMode&&(l==="br"||l==="p")&&(this.onopentagname(l),this._closeCurrentTag())},p.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},p.prototype._closeCurrentTag=function(){var l=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===l&&(this._cbs.onclosetag&&this._cbs.onclosetag(l),this._stack.pop())},p.prototype.onattribname=function(l){this._lowerCaseAttributeNames&&(l=l.toLowerCase()),this._attribname=l},p.prototype.onattribdata=function(l){this._attribvalue+=l},p.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},p.prototype._getInstructionName=function(l){var a=l.search(T),v=a<0?l:l.substr(0,a);return this._lowerCaseTagNames&&(v=v.toLowerCase()),v},p.prototype.ondeclaration=function(l){if(this._cbs.onprocessinginstruction){var a=this._getInstructionName(l);this._cbs.onprocessinginstruction("!"+a,"!"+l)}},p.prototype.onprocessinginstruction=function(l){if(this._cbs.onprocessinginstruction){var a=this._getInstructionName(l);this._cbs.onprocessinginstruction("?"+a,"?"+l)}},p.prototype.oncomment=function(l){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(l),this._cbs.oncommentend&&this._cbs.oncommentend()},p.prototype.oncdata=function(l){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(l),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+l+"]]")},p.prototype.onerror=function(l){this._cbs.onerror&&this._cbs.onerror(l)},p.prototype.onend=function(){if(this._cbs.onclosetag)for(var l=this._stack.length;l>0;this._cbs.onclosetag(this._stack[--l]));this._cbs.onend&&this._cbs.onend()},p.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},p.prototype.parseComplete=function(l){this.reset(),this.end(l)},p.prototype.write=function(l){this._tokenizer.write(l)},p.prototype.end=function(l){this._tokenizer.end(l)},p.prototype.pause=function(){this._tokenizer.pause()},p.prototype.resume=function(){this._tokenizer.resume()},p}(g.EventEmitter);E.Parser=D},10034:function(H,E,e){"use strict";var t=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(E,"__esModule",{value:!0});var u=t(e(26)),s=t(e(59323)),g=t(e(29591)),P=t(e(2586));function y(W){return W===" "||W===`
`||W==="	"||W==="\f"||W==="\r"}function O(W,Y,ne){var V=W.toLowerCase();return W===V?function(j,te){te===V?j._state=Y:(j._state=ne,j._index--)}:function(j,te){te===V||te===W?j._state=Y:(j._state=ne,j._index--)}}function c(W,Y){var ne=W.toLowerCase();return function(V,j){j===ne||j===W?V._state=Y:(V._state=3,V._index--)}}var f=O("C",23,16),d=O("D",24,16),T=O("A",25,16),D=O("T",26,16),I=O("A",27,16),p=c("R",34),l=c("I",35),a=c("P",36),v=c("T",37),w=O("R",39,1),M=O("I",40,1),C=O("P",41,1),L=O("T",42,1),S=c("Y",44),N=c("L",45),R=c("E",46),U=O("Y",48,1),F=O("L",49,1),$=O("E",50,1),G=O("#",52,53),Q=O("X",55,54),K=function(){function W(Y,ne){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=ne,this._xmlMode=!!(Y&&Y.xmlMode),this._decodeEntities=!!(Y&&Y.decodeEntities)}return W.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},W.prototype._stateText=function(Y){Y==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&Y==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},W.prototype._stateBeforeTagName=function(Y){Y==="/"?this._state=5:Y==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):Y===">"||this._special!==1||y(Y)?this._state=1:Y==="!"?(this._state=15,this._sectionStart=this._index+1):Y==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(Y==="s"||Y==="S")?31:3,this._sectionStart=this._index)},W.prototype._stateInTagName=function(Y){(Y==="/"||Y===">"||y(Y))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},W.prototype._stateBeforeClosingTagName=function(Y){y(Y)||(Y===">"?this._state=1:this._special!==1?Y==="s"||Y==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},W.prototype._stateInClosingTagName=function(Y){(Y===">"||y(Y))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},W.prototype._stateAfterClosingTagName=function(Y){Y===">"&&(this._state=1,this._sectionStart=this._index+1)},W.prototype._stateBeforeAttributeName=function(Y){Y===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):Y==="/"?this._state=4:y(Y)||(this._state=9,this._sectionStart=this._index)},W.prototype._stateInSelfClosingTag=function(Y){Y===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):y(Y)||(this._state=8,this._index--)},W.prototype._stateInAttributeName=function(Y){(Y==="="||Y==="/"||Y===">"||y(Y))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},W.prototype._stateAfterAttributeName=function(Y){Y==="="?this._state=11:Y==="/"||Y===">"?(this._cbs.onattribend(),this._state=8,this._index--):y(Y)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},W.prototype._stateBeforeAttributeValue=function(Y){Y==='"'?(this._state=12,this._sectionStart=this._index+1):Y==="'"?(this._state=13,this._sectionStart=this._index+1):y(Y)||(this._state=14,this._sectionStart=this._index,this._index--)},W.prototype._stateInAttributeValueDoubleQuotes=function(Y){Y==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&Y==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},W.prototype._stateInAttributeValueSingleQuotes=function(Y){Y==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&Y==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},W.prototype._stateInAttributeValueNoQuotes=function(Y){y(Y)||Y===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&Y==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},W.prototype._stateBeforeDeclaration=function(Y){this._state=Y==="["?22:Y==="-"?18:16},W.prototype._stateInDeclaration=function(Y){Y===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},W.prototype._stateInProcessingInstruction=function(Y){Y===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},W.prototype._stateBeforeComment=function(Y){Y==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},W.prototype._stateInComment=function(Y){Y==="-"&&(this._state=20)},W.prototype._stateAfterComment1=function(Y){Y==="-"?this._state=21:this._state=19},W.prototype._stateAfterComment2=function(Y){Y===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):Y!=="-"&&(this._state=19)},W.prototype._stateBeforeCdata6=function(Y){Y==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},W.prototype._stateInCdata=function(Y){Y==="]"&&(this._state=29)},W.prototype._stateAfterCdata1=function(Y){Y==="]"?this._state=30:this._state=28},W.prototype._stateAfterCdata2=function(Y){Y===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):Y!=="]"&&(this._state=28)},W.prototype._stateBeforeSpecial=function(Y){Y==="c"||Y==="C"?this._state=33:Y==="t"||Y==="T"?this._state=43:(this._state=3,this._index--)},W.prototype._stateBeforeSpecialEnd=function(Y){this._special===2&&(Y==="c"||Y==="C")?this._state=38:this._special===3&&(Y==="t"||Y==="T")?this._state=47:this._state=1},W.prototype._stateBeforeScript5=function(Y){(Y==="/"||Y===">"||y(Y))&&(this._special=2),this._state=3,this._index--},W.prototype._stateAfterScript5=function(Y){Y===">"||y(Y)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},W.prototype._stateBeforeStyle4=function(Y){(Y==="/"||Y===">"||y(Y))&&(this._special=3),this._state=3,this._index--},W.prototype._stateAfterStyle4=function(Y){Y===">"||y(Y)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},W.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var Y=this._buffer.substring(this._sectionStart+1,this._index),ne=this._xmlMode?P.default:s.default;Object.prototype.hasOwnProperty.call(ne,Y)&&(this._emitPartial(ne[Y]),this._sectionStart=this._index+1)}},W.prototype._parseLegacyEntity=function(){var Y=this._sectionStart+1,ne=this._index-Y;for(ne>6&&(ne=6);ne>=2;){var V=this._buffer.substr(Y,ne);if(Object.prototype.hasOwnProperty.call(g.default,V)){this._emitPartial(g.default[V]),this._sectionStart+=ne+1;return}else ne--}},W.prototype._stateInNamedEntity=function(Y){Y===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(Y<"a"||Y>"z")&&(Y<"A"||Y>"Z")&&(Y<"0"||Y>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?Y!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},W.prototype._decodeNumericEntity=function(Y,ne){var V=this._sectionStart+Y;if(V!==this._index){var j=this._buffer.substring(V,this._index),te=parseInt(j,ne);this._emitPartial(u.default(te)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},W.prototype._stateInNumericEntity=function(Y){Y===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(Y<"0"||Y>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},W.prototype._stateInHexEntity=function(Y){Y===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(Y<"a"||Y>"f")&&(Y<"A"||Y>"F")&&(Y<"0"||Y>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},W.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},W.prototype.write=function(Y){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=Y,this._parse()},W.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var Y=this._buffer.charAt(this._index);this._state===1?this._stateText(Y):this._state===12?this._stateInAttributeValueDoubleQuotes(Y):this._state===9?this._stateInAttributeName(Y):this._state===19?this._stateInComment(Y):this._state===8?this._stateBeforeAttributeName(Y):this._state===3?this._stateInTagName(Y):this._state===6?this._stateInClosingTagName(Y):this._state===2?this._stateBeforeTagName(Y):this._state===10?this._stateAfterAttributeName(Y):this._state===13?this._stateInAttributeValueSingleQuotes(Y):this._state===11?this._stateBeforeAttributeValue(Y):this._state===5?this._stateBeforeClosingTagName(Y):this._state===7?this._stateAfterClosingTagName(Y):this._state===31?this._stateBeforeSpecial(Y):this._state===20?this._stateAfterComment1(Y):this._state===14?this._stateInAttributeValueNoQuotes(Y):this._state===4?this._stateInSelfClosingTag(Y):this._state===16?this._stateInDeclaration(Y):this._state===15?this._stateBeforeDeclaration(Y):this._state===21?this._stateAfterComment2(Y):this._state===18?this._stateBeforeComment(Y):this._state===32?this._stateBeforeSpecialEnd(Y):this._state===38?w(this,Y):this._state===39?M(this,Y):this._state===40?C(this,Y):this._state===33?p(this,Y):this._state===34?l(this,Y):this._state===35?a(this,Y):this._state===36?v(this,Y):this._state===37?this._stateBeforeScript5(Y):this._state===41?L(this,Y):this._state===42?this._stateAfterScript5(Y):this._state===43?S(this,Y):this._state===28?this._stateInCdata(Y):this._state===44?N(this,Y):this._state===45?R(this,Y):this._state===46?this._stateBeforeStyle4(Y):this._state===47?U(this,Y):this._state===48?F(this,Y):this._state===49?$(this,Y):this._state===50?this._stateAfterStyle4(Y):this._state===17?this._stateInProcessingInstruction(Y):this._state===53?this._stateInNamedEntity(Y):this._state===22?f(this,Y):this._state===51?G(this,Y):this._state===23?d(this,Y):this._state===24?T(this,Y):this._state===29?this._stateAfterCdata1(Y):this._state===30?this._stateAfterCdata2(Y):this._state===25?D(this,Y):this._state===26?I(this,Y):this._state===27?this._stateBeforeCdata6(Y):this._state===55?this._stateInHexEntity(Y):this._state===54?this._stateInNumericEntity(Y):this._state===52?Q(this,Y):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},W.prototype.pause=function(){this._running=!1},W.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},W.prototype.end=function(Y){this._ended&&this._cbs.onerror(Error(".end() after done!")),Y&&this.write(Y),this._ended=!0,this._running&&this._finish()},W.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},W.prototype._handleTrailingData=function(){var Y=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(Y):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(Y):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(Y)},W.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},W.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},W.prototype._emitToken=function(Y){this._cbs[Y](this._getSection()),this._sectionStart=-1},W.prototype._emitPartial=function(Y){this._baseState!==1?this._cbs.onattribdata(Y):this._cbs.ontext(Y)},W}();E.default=K},35106:function(H,E,e){"use strict";function t(T){for(var D in T)E.hasOwnProperty(D)||(E[D]=T[D])}var u=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var D={};if(T!=null)for(var I in T)Object.hasOwnProperty.call(T,I)&&(D[I]=T[I]);return D.default=T,D};Object.defineProperty(E,"__esModule",{value:!0});var s=e(16666);E.Parser=s.Parser;var g=e(47915);E.DomHandler=g.DomHandler,E.DefaultHandler=g.DomHandler;function P(T,D){var I=new g.DomHandler(void 0,D);return new s.Parser(I,D).end(T),I.dom}E.parseDOM=P;function y(T,D,I){var p=new g.DomHandler(T,D,I);return new s.Parser(p,D)}E.createDomStream=y;var O=e(10034);E.Tokenizer=O.default;var c=u(e(99960));E.ElementType=c,E.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},t(e(57613)),t(e(18036)),t(e(16691));var f=u(e(89432));E.DomUtils=f;var d=e(57613);E.RssHandler=d.FeedHandler},10977:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(u){return Object.prototype.toString.call(u)==="[object Object]"}function t(u){var s,g;return e(u)===!1?!1:(s=u.constructor,s===void 0?!0:(g=s.prototype,!(e(g)===!1||g.hasOwnProperty("isPrototypeOf")===!1)))}E.isPlainObject=t},37478:(H,E,e)=>{"use strict";var t=e(40210),u=e(21924),s=e(70631),g=t("%TypeError%"),P=t("%WeakMap%",!0),y=t("%Map%",!0),O=u("WeakMap.prototype.get",!0),c=u("WeakMap.prototype.set",!0),f=u("WeakMap.prototype.has",!0),d=u("Map.prototype.get",!0),T=u("Map.prototype.set",!0),D=u("Map.prototype.has",!0),I=function(v,w){for(var M=v,C;(C=M.next)!==null;M=C)if(C.key===w)return M.next=C.next,C.next=v.next,v.next=C,C},p=function(v,w){var M=I(v,w);return M&&M.value},l=function(v,w,M){var C=I(v,w);C?C.value=M:v.next={key:w,next:v.next,value:M}},a=function(v,w){return!!I(v,w)};H.exports=function(){var w,M,C,L={assert:function(S){if(!L.has(S))throw new g("Side channel does not contain "+s(S))},get:function(S){if(P&&S&&(typeof S=="object"||typeof S=="function")){if(w)return O(w,S)}else if(y){if(M)return d(M,S)}else if(C)return p(C,S)},has:function(S){if(P&&S&&(typeof S=="object"||typeof S=="function")){if(w)return f(w,S)}else if(y){if(M)return D(M,S)}else if(C)return a(C,S);return!1},set:function(S,N){P&&S&&(typeof S=="object"||typeof S=="function")?(w||(w=new P),c(w,S,N)):y?(M||(M=new y),T(M,S,N)):(C||(C={key:{},next:null}),l(C,S,N))}};return L}},79546:(H,E,e)=>{var t=e(62195),u=[e(39627),e(58855),e(45580),e(8728)],s=[];H.exports=t.createStore(u,s)},62195:(H,E,e)=>{var t=e(69078),u=t.slice,s=t.pluck,g=t.each,P=t.bind,y=t.create,O=t.isList,c=t.isFunction,f=t.isObject;H.exports={createStore:D};var d={version:"2.0.12",enabled:!1,get:function(I,p){var l=this.storage.read(this._namespacePrefix+I);return this._deserialize(l,p)},set:function(I,p){return p===void 0?this.remove(I):(this.storage.write(this._namespacePrefix+I,this._serialize(p)),p)},remove:function(I){this.storage.remove(this._namespacePrefix+I)},each:function(I){var p=this;this.storage.each(function(l,a){I.call(p,p._deserialize(l),(a||"").replace(p._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(I){return this._namespacePrefix=="__storejs_"+I+"_"},createStore:function(){return D.apply(this,arguments)},addPlugin:function(I){this._addPlugin(I)},namespace:function(I){return D(this.storage,this.plugins,I)}};function T(){var I=typeof console=="undefined"?null:console;if(I){var p=I.warn?I.warn:I.log;p.apply(I,arguments)}}function D(I,p,l){l||(l=""),I&&!O(I)&&(I=[I]),p&&!O(p)&&(p=[p]);var a=l?"__storejs_"+l+"_":"",v=l?new RegExp("^"+a):null,w=/^[a-zA-Z0-9_\-]*$/;if(!w.test(l))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var M={_namespacePrefix:a,_namespaceRegexp:v,_testStorage:function(L){try{var S="__storejs__test__";L.write(S,S);var N=L.read(S)===S;return L.remove(S),N}catch(R){return!1}},_assignPluginFnProp:function(L,S){var N=this[S];this[S]=function(){var U=u(arguments,0),F=this;function $(){if(N)return g(arguments,function(Q,K){U[K]=Q}),N.apply(F,U)}var G=[$].concat(U);return L.apply(F,G)}},_serialize:function(L){return JSON.stringify(L)},_deserialize:function(L,S){if(!L)return S;var N="";try{N=JSON.parse(L)}catch(R){N=L}return N!==void 0?N:S},_addStorage:function(L){this.enabled||this._testStorage(L)&&(this.storage=L,this.enabled=!0)},_addPlugin:function(L){var S=this;if(O(L)){g(L,function(U){S._addPlugin(U)});return}var N=s(this.plugins,function(U){return L===U});if(!N){if(this.plugins.push(L),!c(L))throw new Error("Plugins must be function values that return objects");var R=L.call(this);if(!f(R))throw new Error("Plugins must return an object of function properties");g(R,function(U,F){if(!c(U))throw new Error("Bad plugin property: "+F+" from plugin "+L.name+". Plugins should only return functions.");S._assignPluginFnProp(U,F)})}},addStorage:function(L){T("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(L)}},C=y(M,d,{plugins:[]});return C.raw={},g(C,function(L,S){c(L)&&(C.raw[S]=P(C,L))}),g(I,function(L){C._addStorage(L)}),g(p,function(L){C._addPlugin(L)}),C}},69078:(H,E,e)=>{var t=P(),u=y(),s=O(),g=typeof window!="undefined"?window:e.g;H.exports={assign:t,create:u,trim:s,bind:c,slice:f,each:d,map:T,pluck:D,isList:I,isFunction:p,isObject:l,Global:g};function P(){return Object.assign?Object.assign:function(v,w,M,C){for(var L=1;L<arguments.length;L++)d(Object(arguments[L]),function(S,N){v[N]=S});return v}}function y(){if(Object.create)return function(w,M,C,L){var S=f(arguments,1);return t.apply(this,[Object.create(w)].concat(S))};{let v=function(){};var a=v;return function(M,C,L,S){var N=f(arguments,1);return v.prototype=M,t.apply(this,[new v].concat(N))}}}function O(){return String.prototype.trim?function(v){return String.prototype.trim.call(v)}:function(v){return v.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function c(a,v){return function(){return v.apply(a,Array.prototype.slice.call(arguments,0))}}function f(a,v){return Array.prototype.slice.call(a,v||0)}function d(a,v){D(a,function(w,M){return v(w,M),!1})}function T(a,v){var w=I(a)?[]:{};return D(a,function(M,C){return w[C]=v(M,C),!1}),w}function D(a,v){if(I(a)){for(var w=0;w<a.length;w++)if(v(a[w],w))return a[w]}else for(var M in a)if(a.hasOwnProperty(M)&&v(a[M],M))return a[M]}function I(a){return a!=null&&typeof a!="function"&&typeof a.length=="number"}function p(a){return a&&{}.toString.call(a)==="[object Function]"}function l(a){return a&&{}.toString.call(a)==="[object Object]"}},45580:(H,E,e)=>{var t=e(69078),u=t.Global,s=t.trim;H.exports={name:"cookieStorage",read:P,write:O,each:y,remove:c,clearAll:f};var g=u.document;function P(T){if(!T||!d(T))return null;var D="(?:^|.*;\\s*)"+escape(T).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(g.cookie.replace(new RegExp(D),"$1"))}function y(T){for(var D=g.cookie.split(/; ?/g),I=D.length-1;I>=0;I--)if(s(D[I])){var p=D[I].split("="),l=unescape(p[0]),a=unescape(p[1]);T(a,l)}}function O(T,D){T&&(g.cookie=escape(T)+"="+escape(D)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function c(T){!T||!d(T)||(g.cookie=escape(T)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){y(function(T,D){c(D)})}function d(T){return new RegExp("(?:^|;\\s*)"+escape(T).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(g.cookie)}},39627:(H,E,e)=>{var t=e(69078),u=t.Global;H.exports={name:"localStorage",read:g,write:P,each:y,remove:O,clearAll:c};function s(){return u.localStorage}function g(f){return s().getItem(f)}function P(f,d){return s().setItem(f,d)}function y(f){for(var d=s().length-1;d>=0;d--){var T=s().key(d);f(g(T),T)}}function O(f){return s().removeItem(f)}function c(){return s().clear()}},8728:H=>{H.exports={name:"memoryStorage",read:e,write:t,each:u,remove:s,clearAll:g};var E={};function e(P){return E[P]}function t(P,y){E[P]=y}function u(P){for(var y in E)E.hasOwnProperty(y)&&P(E[y],y)}function s(P){delete E[P]}function g(P){E={}}},58855:(H,E,e)=>{var t=e(69078),u=t.Global;H.exports={name:"sessionStorage",read:g,write:P,each:y,remove:O,clearAll:c};function s(){return u.sessionStorage}function g(f){return s().getItem(f)}function P(f,d){return s().setItem(f,d)}function y(f){for(var d=s().length-1;d>=0;d--){var T=s().key(d);f(g(T),T)}}function O(f){return s().removeItem(f)}function c(){return s().clear()}},37903:H=>{"use strict";function E(y){return s(y)||u(y)||t(y)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(y,O){if(y){if(typeof y=="string")return g(y,O);var c=Object.prototype.toString.call(y).slice(8,-1);if(c==="Object"&&y.constructor&&(c=y.constructor.name),c==="Map"||c==="Set")return Array.from(y);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g(y,O)}}function u(y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(y))return Array.from(y)}function s(y){if(Array.isArray(y))return g(y)}function g(y,O){(O==null||O>y.length)&&(O=y.length);for(var c=0,f=new Array(O);c<O;c++)f[c]=y[c];return f}function P(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(y){P.prototype[y]=function(){for(var O=arguments.length,c=new Array(O),f=0;f<O;f++)c[f]=arguments[f];return this._defaults.push({fn:y,args:c}),this}}),P.prototype._setDefaults=function(y){this._defaults.forEach(function(O){y[O.fn].apply(y,E(O.args))})},H.exports=P},80569:(H,E,e)=>{"use strict";function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(N){return typeof N}:t=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(L)}var u;typeof window!="undefined"?u=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),u=void 0):u=self;var s=e(98767),g=e(4445),P=e(80129),y=e(28899),O=e(54960),c=e(81097),f=e(37903);function d(){}H.exports=function(L,S){return typeof S=="function"?new E.Request("GET",L).end(S):arguments.length===1?new E.Request("GET",L):new E.Request(L,S)},E=H.exports;var T=E;E.Request=M,T.getXHR=function(){if(u.XMLHttpRequest&&(!u.location||u.location.protocol!=="file:"||!u.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(L){}throw new Error("Browser-only version of superagent could not find XHR")};var D="".trim?function(L){return L.trim()}:function(L){return L.replace(/(^\s*|\s*$)/g,"")};function I(L){if(!O(L))return L;var S=[];for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&p(S,N,L[N]);return S.join("&")}function p(L,S,N){if(N!==void 0){if(N===null){L.push(encodeURI(S));return}if(Array.isArray(N))N.forEach(function(U){p(L,S,U)});else if(O(N))for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&p(L,"".concat(S,"[").concat(R,"]"),N[R]);else L.push(encodeURI(S)+"="+encodeURIComponent(N))}}T.serializeObject=I;function l(L){for(var S={},N=L.split("&"),R,U,F=0,$=N.length;F<$;++F)R=N[F],U=R.indexOf("="),U===-1?S[decodeURIComponent(R)]="":S[decodeURIComponent(R.slice(0,U))]=decodeURIComponent(R.slice(U+1));return S}T.parseString=l,T.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},T.serialize={"application/x-www-form-urlencoded":P.stringify,"application/json":g},T.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse};function a(L){for(var S=L.split(/\r?\n/),N={},R,U,F,$,G=0,Q=S.length;G<Q;++G)U=S[G],R=U.indexOf(":"),R!==-1&&(F=U.slice(0,R).toLowerCase(),$=D(U.slice(R+1)),N[F]=$);return N}function v(L){return/[/+]json($|[^-\w])/i.test(L)}function w(L){this.req=L,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var S=this.xhr.status;S===1223&&(S=204),this._setStatusProperties(S),this.headers=a(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&L._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}c(w.prototype),w.prototype._parseBody=function(L){var S=T.parse[this.type];return this.req._parser?this.req._parser(this,L):(!S&&v(this.type)&&(S=T.parse["application/json"]),S&&L&&(L.length>0||L instanceof Object)?S(L):null)},w.prototype.toError=function(){var L=this.req,S=L.method,N=L.url,R="cannot ".concat(S," ").concat(N," (").concat(this.status,")"),U=new Error(R);return U.status=this.status,U.method=S,U.url=N,U},T.Response=w;function M(L,S){var N=this;this._query=this._query||[],this.method=L,this.url=S,this.header={},this._header={},this.on("end",function(){var R=null,U=null;try{U=new w(N)}catch($){return R=new Error("Parser is unable to parse the response"),R.parse=!0,R.original=$,N.xhr?(R.rawResponse=typeof N.xhr.responseType=="undefined"?N.xhr.responseText:N.xhr.response,R.status=N.xhr.status?N.xhr.status:null,R.statusCode=R.status):(R.rawResponse=null,R.status=null),N.callback(R)}N.emit("response",U);var F;try{N._isResponseOK(U)||(F=new Error(U.statusText||U.text||"Unsuccessful HTTP response"))}catch($){F=$}F?(F.original=R,F.response=U,F.status=U.status,N.callback(F,U)):N.callback(null,U)})}s(M.prototype),y(M.prototype),M.prototype.type=function(L){return this.set("Content-Type",T.types[L]||L),this},M.prototype.accept=function(L){return this.set("Accept",T.types[L]||L),this},M.prototype.auth=function(L,S,N){arguments.length===1&&(S=""),t(S)==="object"&&S!==null&&(N=S,S=""),N||(N={type:typeof btoa=="function"?"basic":"auto"});var R=function(F){if(typeof btoa=="function")return btoa(F);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(L,S,N,R)},M.prototype.query=function(L){return typeof L!="string"&&(L=I(L)),L&&this._query.push(L),this},M.prototype.attach=function(L,S,N){if(S){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(L,S,N||S.name)}return this},M.prototype._getFormData=function(){return this._formData||(this._formData=new u.FormData),this._formData},M.prototype.callback=function(L,S){if(this._shouldRetry(L,S))return this._retry();var N=this._callback;this.clearTimeout(),L&&(this._maxRetries&&(L.retries=this._retries-1),this.emit("error",L)),N(L,S)},M.prototype.crossDomainError=function(){var L=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);L.crossDomain=!0,L.status=this.status,L.method=this.method,L.url=this.url,this.callback(L)},M.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},M.prototype.ca=M.prototype.agent,M.prototype.buffer=M.prototype.ca,M.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},M.prototype.pipe=M.prototype.write,M.prototype._isHost=function(L){return L&&t(L)==="object"&&!Array.isArray(L)&&Object.prototype.toString.call(L)!=="[object Object]"},M.prototype.end=function(L){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=L||d,this._finalizeQueryString(),this._end()},M.prototype._setUploadTimeout=function(){var L=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){L._timeoutError("Upload timeout of ",L._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},M.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var L=this;this.xhr=T.getXHR();var S=this.xhr,N=this._formData||this._data;this._setTimeouts(),S.onreadystatechange=function(){var G=S.readyState;if(G>=2&&L._responseTimeoutTimer&&clearTimeout(L._responseTimeoutTimer),G===4){var Q;try{Q=S.status}catch(K){Q=0}if(!Q)return L.timedout||L._aborted?void 0:L.crossDomainError();L.emit("end")}};var R=function(Q,K){K.total>0&&(K.percent=K.loaded/K.total*100,K.percent===100&&clearTimeout(L._uploadTimeoutTimer)),K.direction=Q,L.emit("progress",K)};if(this.hasListeners("progress"))try{S.addEventListener("progress",R.bind(null,"download")),S.upload&&S.upload.addEventListener("progress",R.bind(null,"upload"))}catch(G){}S.upload&&this._setUploadTimeout();try{this.username&&this.password?S.open(this.method,this.url,!0,this.username,this.password):S.open(this.method,this.url,!0)}catch(G){return this.callback(G)}if(this._withCredentials&&(S.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof N!="string"&&!this._isHost(N)){var U=this._header["content-type"],F=this._serializer||T.serialize[U?U.split(";")[0]:""];!F&&v(U)&&(F=T.serialize["application/json"]),F&&(N=F(N))}for(var $ in this.header)this.header[$]!==null&&Object.prototype.hasOwnProperty.call(this.header,$)&&S.setRequestHeader($,this.header[$]);this._responseType&&(S.responseType=this._responseType),this.emit("request",this),S.send(typeof N=="undefined"?null:N)},T.agent=function(){return new f},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(L){f.prototype[L.toLowerCase()]=function(S,N){var R=new T.Request(L,S);return this._setDefaults(R),N&&R.end(N),R}}),f.prototype.del=f.prototype.delete,T.get=function(L,S,N){var R=T("GET",L);return typeof S=="function"&&(N=S,S=null),S&&R.query(S),N&&R.end(N),R},T.head=function(L,S,N){var R=T("HEAD",L);return typeof S=="function"&&(N=S,S=null),S&&R.query(S),N&&R.end(N),R},T.options=function(L,S,N){var R=T("OPTIONS",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R};function C(L,S,N){var R=T("DELETE",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R}T.del=C,T.delete=C,T.patch=function(L,S,N){var R=T("PATCH",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R},T.post=function(L,S,N){var R=T("POST",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R},T.put=function(L,S,N){var R=T("PUT",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R}},54960:H=>{"use strict";function E(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(s){return typeof s}:E=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},E(t)}function e(t){return t!==null&&E(t)==="object"}H.exports=e},28899:(H,E,e)=>{"use strict";function t(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(O)}var u=e(54960);H.exports=s;function s(O){if(O)return g(O)}function g(O){for(var c in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,c)&&(O[c]=s.prototype[c]);return O}s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(O){return this._parser=O,this},s.prototype.responseType=function(O){return this._responseType=O,this},s.prototype.serialize=function(O){return this._serializer=O,this},s.prototype.timeout=function(O){if(!O||t(O)!=="object")return this._timeout=O,this._responseTimeout=0,this._uploadTimeout=0,this;for(var c in O)if(Object.prototype.hasOwnProperty.call(O,c))switch(c){case"deadline":this._timeout=O.deadline;break;case"response":this._responseTimeout=O.response;break;case"upload":this._uploadTimeout=O.upload;break;default:console.warn("Unknown timeout option",c)}return this},s.prototype.retry=function(O,c){return(arguments.length===0||O===!0)&&(O=1),O<=0&&(O=0),this._maxRetries=O,this._retries=0,this._retryCallback=c,this};var P=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),y=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(O,c){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var f=this._retryCallback(O,c);if(f===!0)return!0;if(f===!1)return!1}catch(d){console.error(d)}return!!(c&&c.status&&y.has(c.status)||O&&(O.code&&P.has(O.code)||O.timeout&&O.code==="ECONNABORTED"||O.crossDomain))},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(O,c){var f=this;if(!this._fullfilledPromise){var d=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(T,D){d.on("abort",function(){if(!(f._maxRetries&&f._maxRetries>f._retries)){if(f.timedout&&f.timedoutError){D(f.timedoutError);return}var I=new Error("Aborted");I.code="ABORTED",I.status=f.status,I.method=f.method,I.url=f.url,D(I)}}),d.end(function(I,p){I?D(I):T(p)})})}return this._fullfilledPromise.then(O,c)},s.prototype.catch=function(O){return this.then(void 0,O)},s.prototype.use=function(O){return O(this),this},s.prototype.ok=function(O){if(typeof O!="function")throw new Error("Callback required");return this._okCallback=O,this},s.prototype._isResponseOK=function(O){return O?this._okCallback?this._okCallback(O):O.status>=200&&O.status<300:!1},s.prototype.get=function(O){return this._header[O.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(O,c){if(u(O)){for(var f in O)Object.prototype.hasOwnProperty.call(O,f)&&this.set(f,O[f]);return this}return this._header[O.toLowerCase()]=c,this.header[O]=c,this},s.prototype.unset=function(O){return delete this._header[O.toLowerCase()],delete this.header[O],this},s.prototype.field=function(O,c){if(O==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(u(O)){for(var f in O)Object.prototype.hasOwnProperty.call(O,f)&&this.field(f,O[f]);return this}if(Array.isArray(c)){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&this.field(O,c[d]);return this}if(c==null)throw new Error(".field(name, val) val can not be empty");return typeof c=="boolean"&&(c=String(c)),this._getFormData().append(O,c),this},s.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},s.prototype._auth=function(O,c,f,d){switch(f.type){case"basic":this.set("Authorization","Basic ".concat(d("".concat(O,":").concat(c))));break;case"auto":this.username=O,this.password=c;break;case"bearer":this.set("Authorization","Bearer ".concat(O));break;default:break}return this},s.prototype.withCredentials=function(O){return O===void 0&&(O=!0),this._withCredentials=O,this},s.prototype.redirects=function(O){return this._maxRedirects=O,this},s.prototype.maxResponseSize=function(O){if(typeof O!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=O,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(O){var c=u(O),f=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(c&&!this._data)Array.isArray(O)?this._data=[]:this._isHost(O)||(this._data={});else if(O&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(c&&u(this._data))for(var d in O)Object.prototype.hasOwnProperty.call(O,d)&&(this._data[d]=O[d]);else typeof O=="string"?(f||this.type("form"),f=this._header["content-type"],f&&(f=f.toLowerCase().trim()),f==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(O):O:this._data=(this._data||"")+O):this._data=O;return!c||this._isHost(O)?this:(f||this.type("json"),this)},s.prototype.sortQuery=function(O){return this._sort=typeof O=="undefined"?!0:O,this},s.prototype._finalizeQueryString=function(){var O=this._query.join("&");if(O&&(this.url+=(this.url.includes("?")?"&":"?")+O),this._query.length=0,this._sort){var c=this.url.indexOf("?");if(c>=0){var f=this.url.slice(c+1).split("&");typeof this._sort=="function"?f.sort(this._sort):f.sort(),this.url=this.url.slice(0,c)+"?"+f.join("&")}}},s.prototype._appendQueryString=function(){console.warn("Unsupported")},s.prototype._timeoutError=function(O,c,f){if(!this._aborted){var d=new Error("".concat(O+c,"ms exceeded"));d.timeout=c,d.code="ECONNABORTED",d.errno=f,this.timedout=!0,this.timedoutError=d,this.abort(),this.callback(d)}},s.prototype._setTimeouts=function(){var O=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){O._timeoutError("Timeout of ",O._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){O._timeoutError("Response timeout of ",O._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(H,E,e)=>{"use strict";var t=e(64506);H.exports=u;function u(g){if(g)return s(g)}function s(g){for(var P in u.prototype)Object.prototype.hasOwnProperty.call(u.prototype,P)&&(g[P]=u.prototype[P]);return g}u.prototype.get=function(g){return this.header[g.toLowerCase()]},u.prototype._setHeaderProperties=function(g){var P=g["content-type"]||"";this.type=t.type(P);var y=t.params(P);for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(this[O]=y[O]);this.links={};try{g.link&&(this.links=t.parseLinks(g.link))}catch(c){}},u.prototype._setStatusProperties=function(g){var P=g/100|0;this.statusCode=g,this.status=this.statusCode,this.statusType=P,this.info=P===1,this.ok=P===2,this.redirect=P===3,this.clientError=P===4,this.serverError=P===5,this.error=P===4||P===5?this.toError():!1,this.created=g===201,this.accepted=g===202,this.noContent=g===204,this.badRequest=g===400,this.unauthorized=g===401,this.notAcceptable=g===406,this.forbidden=g===403,this.notFound=g===404,this.unprocessableEntity=g===422}},64506:(H,E)=>{"use strict";function e(s,g){var P;if(typeof Symbol=="undefined"||s[Symbol.iterator]==null){if(Array.isArray(s)||(P=t(s))||g&&s&&typeof s.length=="number"){P&&(s=P);var y=0,O=function(){};return{s:O,n:function(){return y>=s.length?{done:!0}:{done:!1,value:s[y++]}},e:function(D){throw D},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,f=!1,d;return{s:function(){P=s[Symbol.iterator]()},n:function(){var D=P.next();return c=D.done,D},e:function(D){f=!0,d=D},f:function(){try{!c&&P.return!=null&&P.return()}finally{if(f)throw d}}}}function t(s,g){if(s){if(typeof s=="string")return u(s,g);var P=Object.prototype.toString.call(s).slice(8,-1);if(P==="Object"&&s.constructor&&(P=s.constructor.name),P==="Map"||P==="Set")return Array.from(s);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return u(s,g)}}function u(s,g){(g==null||g>s.length)&&(g=s.length);for(var P=0,y=new Array(g);P<g;P++)y[P]=s[P];return y}E.type=function(s){return s.split(/ *; */).shift()},E.params=function(s){var g={},P=e(s.split(/ *; */)),y;try{for(P.s();!(y=P.n()).done;){var O=y.value,c=O.split(/ *= */),f=c.shift(),d=c.shift();f&&d&&(g[f]=d)}}catch(T){P.e(T)}finally{P.f()}return g},E.parseLinks=function(s){var g={},P=e(s.split(/ *, */)),y;try{for(P.s();!(y=P.n()).done;){var O=y.value,c=O.split(/ *; */),f=c[0].slice(1,-1),d=c[1].split(/ *= */)[1].slice(1,-1);g[d]=f}}catch(T){P.e(T)}finally{P.f()}return g},E.cleanHeader=function(s,g){return delete s["content-type"],delete s["content-length"],delete s["transfer-encoding"],delete s.host,g&&(delete s.authorization,delete s.cookie),s}},52511:function(H,E,e){H=e.nmd(H);var t;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(u){var s=E&&!E.nodeType&&E,g=H&&!H.nodeType&&H,P=typeof e.g=="object"&&e.g;(P.global===P||P.window===P||P.self===P)&&(u=P);var y,O=2147483647,c=36,f=1,d=26,T=38,D=700,I=72,p=128,l="-",a=/^xn--/,v=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=c-f,L=Math.floor,S=String.fromCharCode,N;function R(te){throw new RangeError(M[te])}function U(te,ie){for(var ue=te.length,he=[];ue--;)he[ue]=ie(te[ue]);return he}function F(te,ie){var ue=te.split("@"),he="";ue.length>1&&(he=ue[0]+"@",te=ue[1]),te=te.replace(w,".");var Z=te.split("."),J=U(Z,ie).join(".");return he+J}function $(te){for(var ie=[],ue=0,he=te.length,Z,J;ue<he;)Z=te.charCodeAt(ue++),Z>=55296&&Z<=56319&&ue<he?(J=te.charCodeAt(ue++),(J&64512)==56320?ie.push(((Z&1023)<<10)+(J&1023)+65536):(ie.push(Z),ue--)):ie.push(Z);return ie}function G(te){return U(te,function(ie){var ue="";return ie>65535&&(ie-=65536,ue+=S(ie>>>10&1023|55296),ie=56320|ie&1023),ue+=S(ie),ue}).join("")}function Q(te){return te-48<10?te-22:te-65<26?te-65:te-97<26?te-97:c}function K(te,ie){return te+22+75*(te<26)-((ie!=0)<<5)}function W(te,ie,ue){var he=0;for(te=ue?L(te/D):te>>1,te+=L(te/ie);te>C*d>>1;he+=c)te=L(te/C);return L(he+(C+1)*te/(te+T))}function Y(te){var ie=[],ue=te.length,he,Z=0,J=p,ae=I,le,oe,ee,z,re,se,fe,Ee,ge;for(le=te.lastIndexOf(l),le<0&&(le=0),oe=0;oe<le;++oe)te.charCodeAt(oe)>=128&&R("not-basic"),ie.push(te.charCodeAt(oe));for(ee=le>0?le+1:0;ee<ue;){for(z=Z,re=1,se=c;ee>=ue&&R("invalid-input"),fe=Q(te.charCodeAt(ee++)),(fe>=c||fe>L((O-Z)/re))&&R("overflow"),Z+=fe*re,Ee=se<=ae?f:se>=ae+d?d:se-ae,!(fe<Ee);se+=c)ge=c-Ee,re>L(O/ge)&&R("overflow"),re*=ge;he=ie.length+1,ae=W(Z-z,he,z==0),L(Z/he)>O-J&&R("overflow"),J+=L(Z/he),Z%=he,ie.splice(Z++,0,J)}return G(ie)}function ne(te){var ie,ue,he,Z,J,ae,le,oe,ee,z,re,se=[],fe,Ee,ge,be;for(te=$(te),fe=te.length,ie=p,ue=0,J=I,ae=0;ae<fe;++ae)re=te[ae],re<128&&se.push(S(re));for(he=Z=se.length,Z&&se.push(l);he<fe;){for(le=O,ae=0;ae<fe;++ae)re=te[ae],re>=ie&&re<le&&(le=re);for(Ee=he+1,le-ie>L((O-ue)/Ee)&&R("overflow"),ue+=(le-ie)*Ee,ie=le,ae=0;ae<fe;++ae)if(re=te[ae],re<ie&&++ue>O&&R("overflow"),re==ie){for(oe=ue,ee=c;z=ee<=J?f:ee>=J+d?d:ee-J,!(oe<z);ee+=c)be=oe-z,ge=c-z,se.push(S(K(z+be%ge,0))),oe=L(be/ge);se.push(S(K(oe,0))),J=W(ue,Ee,he==Z),ue=0,++he}++ue,++ie}return se.join("")}function V(te){return F(te,function(ie){return a.test(ie)?Y(ie.slice(4).toLowerCase()):ie})}function j(te){return F(te,function(ie){return v.test(ie)?"xn--"+ne(ie):ie})}y={version:"1.4.1",ucs2:{decode:$,encode:G},decode:Y,encode:ne,toASCII:j,toUnicode:V},t=function(){return y}.call(E,e,E,H),t!==void 0&&(H.exports=t)})(this)},39532:H=>{"use strict";var E=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};H.exports={default:t.RFC3986,formatters:{RFC1738:function(u){return E.call(u,e,"+")},RFC3986:function(u){return String(u)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986}},35984:(H,E,e)=>{"use strict";var t=e(24730),u=e(7325),s=e(39532);H.exports={formats:s,parse:u,stringify:t}},7325:(H,E,e)=>{"use strict";var t=e(19368),u=Object.prototype.hasOwnProperty,s=Array.isArray,g={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},P=function(I){return I.replace(/&#(\d+);/g,function(p,l){return String.fromCharCode(parseInt(l,10))})},y=function(I,p){return I&&typeof I=="string"&&p.comma&&I.indexOf(",")>-1?I.split(","):I},O="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",f=function(p,l){var a={__proto__:null},v=l.ignoreQueryPrefix?p.replace(/^\?/,""):p,w=l.parameterLimit===1/0?void 0:l.parameterLimit,M=v.split(l.delimiter,w),C=-1,L,S=l.charset;if(l.charsetSentinel)for(L=0;L<M.length;++L)M[L].indexOf("utf8=")===0&&(M[L]===c?S="utf-8":M[L]===O&&(S="iso-8859-1"),C=L,L=M.length);for(L=0;L<M.length;++L)if(L!==C){var N=M[L],R=N.indexOf("]="),U=R===-1?N.indexOf("="):R+1,F,$;U===-1?(F=l.decoder(N,g.decoder,S,"key"),$=l.strictNullHandling?null:""):(F=l.decoder(N.slice(0,U),g.decoder,S,"key"),$=t.maybeMap(y(N.slice(U+1),l),function(G){return l.decoder(G,g.decoder,S,"value")})),$&&l.interpretNumericEntities&&S==="iso-8859-1"&&($=P($)),N.indexOf("[]=")>-1&&($=s($)?[$]:$),u.call(a,F)?a[F]=t.combine(a[F],$):a[F]=$}return a},d=function(I,p,l,a){for(var v=a?p:y(p,l),w=I.length-1;w>=0;--w){var M,C=I[w];if(C==="[]"&&l.parseArrays)M=[].concat(v);else{M=l.plainObjects?Object.create(null):{};var L=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,S=parseInt(L,10);!l.parseArrays&&L===""?M={0:v}:!isNaN(S)&&C!==L&&String(S)===L&&S>=0&&l.parseArrays&&S<=l.arrayLimit?(M=[],M[S]=v):L!=="__proto__"&&(M[L]=v)}v=M}return v},T=function(p,l,a,v){if(p){var w=a.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,M=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,L=a.depth>0&&M.exec(w),S=L?w.slice(0,L.index):w,N=[];if(S){if(!a.plainObjects&&u.call(Object.prototype,S)&&!a.allowPrototypes)return;N.push(S)}for(var R=0;a.depth>0&&(L=C.exec(w))!==null&&R<a.depth;){if(R+=1,!a.plainObjects&&u.call(Object.prototype,L[1].slice(1,-1))&&!a.allowPrototypes)return;N.push(L[1])}return L&&N.push("["+w.slice(L.index)+"]"),d(N,l,a,v)}},D=function(p){if(!p)return g;if(p.decoder!==null&&p.decoder!==void 0&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset!="undefined"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=typeof p.charset=="undefined"?g.charset:p.charset;return{allowDots:typeof p.allowDots=="undefined"?g.allowDots:!!p.allowDots,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:g.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:g.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:g.arrayLimit,charset:l,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:g.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:g.comma,decoder:typeof p.decoder=="function"?p.decoder:g.decoder,delimiter:typeof p.delimiter=="string"||t.isRegExp(p.delimiter)?p.delimiter:g.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:g.depth,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:g.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:g.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:g.plainObjects,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:g.strictNullHandling}};H.exports=function(I,p){var l=D(p);if(I===""||I===null||typeof I=="undefined")return l.plainObjects?Object.create(null):{};for(var a=typeof I=="string"?f(I,l):I,v=l.plainObjects?Object.create(null):{},w=Object.keys(a),M=0;M<w.length;++M){var C=w[M],L=T(C,a[C],l,typeof I=="string");v=t.merge(v,L,l)}return l.allowSparse===!0?v:t.compact(v)}},24730:(H,E,e)=>{"use strict";var t=e(37478),u=e(19368),s=e(39532),g=Object.prototype.hasOwnProperty,P={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,w){return v+"["+w+"]"},repeat:function(v){return v}},y=Array.isArray,O=Array.prototype.push,c=function(a,v){O.apply(a,y(v)?v:[v])},f=Date.prototype.toISOString,d=s.default,T={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:u.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(v){return f.call(v)},skipNulls:!1,strictNullHandling:!1},D=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},I={},p=function a(v,w,M,C,L,S,N,R,U,F,$,G,Q,K,W,Y){for(var ne=v,V=Y,j=0,te=!1;(V=V.get(I))!==void 0&&!te;){var ie=V.get(v);if(j+=1,typeof ie!="undefined"){if(ie===j)throw new RangeError("Cyclic object value");te=!0}typeof V.get(I)=="undefined"&&(j=0)}if(typeof R=="function"?ne=R(w,ne):ne instanceof Date?ne=$(ne):M==="comma"&&y(ne)&&(ne=u.maybeMap(ne,function(se){return se instanceof Date?$(se):se})),ne===null){if(L)return N&&!K?N(w,T.encoder,W,"key",G):w;ne=""}if(D(ne)||u.isBuffer(ne)){if(N){var ue=K?w:N(w,T.encoder,W,"key",G);return[Q(ue)+"="+Q(N(ne,T.encoder,W,"value",G))]}return[Q(w)+"="+Q(String(ne))]}var he=[];if(typeof ne=="undefined")return he;var Z;if(M==="comma"&&y(ne))K&&N&&(ne=u.maybeMap(ne,N)),Z=[{value:ne.length>0?ne.join(",")||null:void 0}];else if(y(R))Z=R;else{var J=Object.keys(ne);Z=U?J.sort(U):J}for(var ae=C&&y(ne)&&ne.length===1?w+"[]":w,le=0;le<Z.length;++le){var oe=Z[le],ee=typeof oe=="object"&&typeof oe.value!="undefined"?oe.value:ne[oe];if(!(S&&ee===null)){var z=y(ne)?typeof M=="function"?M(ae,oe):ae:ae+(F?"."+oe:"["+oe+"]");Y.set(v,j);var re=t();re.set(I,Y),c(he,a(ee,z,M,C,L,S,M==="comma"&&K&&y(ne)?null:N,R,U,F,$,G,Q,K,W,re))}}return he},l=function(v){if(!v)return T;if(v.encoder!==null&&typeof v.encoder!="undefined"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=v.charset||T.charset;if(typeof v.charset!="undefined"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var M=s.default;if(typeof v.format!="undefined"){if(!g.call(s.formatters,v.format))throw new TypeError("Unknown format option provided.");M=v.format}var C=s.formatters[M],L=T.filter;return(typeof v.filter=="function"||y(v.filter))&&(L=v.filter),{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:T.addQueryPrefix,allowDots:typeof v.allowDots=="undefined"?T.allowDots:!!v.allowDots,charset:w,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:T.charsetSentinel,delimiter:typeof v.delimiter=="undefined"?T.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:T.encode,encoder:typeof v.encoder=="function"?v.encoder:T.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:T.encodeValuesOnly,filter:L,format:M,formatter:C,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:T.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:T.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:T.strictNullHandling}};H.exports=function(a,v){var w=a,M=l(v),C,L;typeof M.filter=="function"?(L=M.filter,w=L("",w)):y(M.filter)&&(L=M.filter,C=L);var S=[];if(typeof w!="object"||w===null)return"";var N;v&&v.arrayFormat in P?N=v.arrayFormat:v&&"indices"in v?N=v.indices?"indices":"repeat":N="indices";var R=P[N];if(v&&"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var U=R==="comma"&&v&&v.commaRoundTrip;C||(C=Object.keys(w)),M.sort&&C.sort(M.sort);for(var F=t(),$=0;$<C.length;++$){var G=C[$];M.skipNulls&&w[G]===null||c(S,p(w[G],G,R,U,M.strictNullHandling,M.skipNulls,M.encode?M.encoder:null,M.filter,M.sort,M.allowDots,M.serializeDate,M.format,M.formatter,M.encodeValuesOnly,M.charset,F))}var Q=S.join(M.delimiter),K=M.addQueryPrefix===!0?"?":"";return M.charsetSentinel&&(M.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),Q.length>0?K+Q:""}},19368:(H,E,e)=>{"use strict";var t=e(39532),u=Object.prototype.hasOwnProperty,s=Array.isArray,g=function(){for(var a=[],v=0;v<256;++v)a.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return a}(),P=function(v){for(;v.length>1;){var w=v.pop(),M=w.obj[w.prop];if(s(M)){for(var C=[],L=0;L<M.length;++L)typeof M[L]!="undefined"&&C.push(M[L]);w.obj[w.prop]=C}}},y=function(v,w){for(var M=w&&w.plainObjects?Object.create(null):{},C=0;C<v.length;++C)typeof v[C]!="undefined"&&(M[C]=v[C]);return M},O=function a(v,w,M){if(!w)return v;if(typeof w!="object"){if(s(v))v.push(w);else if(v&&typeof v=="object")(M&&(M.plainObjects||M.allowPrototypes)||!u.call(Object.prototype,w))&&(v[w]=!0);else return[v,w];return v}if(!v||typeof v!="object")return[v].concat(w);var C=v;return s(v)&&!s(w)&&(C=y(v,M)),s(v)&&s(w)?(w.forEach(function(L,S){if(u.call(v,S)){var N=v[S];N&&typeof N=="object"&&L&&typeof L=="object"?v[S]=a(N,L,M):v.push(L)}else v[S]=L}),v):Object.keys(w).reduce(function(L,S){var N=w[S];return u.call(L,S)?L[S]=a(L[S],N,M):L[S]=N,L},C)},c=function(v,w){return Object.keys(w).reduce(function(M,C){return M[C]=w[C],M},v)},f=function(a,v,w){var M=a.replace(/\+/g," ");if(w==="iso-8859-1")return M.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(M)}catch(C){return M}},d=function(v,w,M,C,L){if(v.length===0)return v;var S=v;if(typeof v=="symbol"?S=Symbol.prototype.toString.call(v):typeof v!="string"&&(S=String(v)),M==="iso-8859-1")return escape(S).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var N="",R=0;R<S.length;++R){var U=S.charCodeAt(R);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||L===t.RFC1738&&(U===40||U===41)){N+=S.charAt(R);continue}if(U<128){N=N+g[U];continue}if(U<2048){N=N+(g[192|U>>6]+g[128|U&63]);continue}if(U<55296||U>=57344){N=N+(g[224|U>>12]+g[128|U>>6&63]+g[128|U&63]);continue}R+=1,U=65536+((U&1023)<<10|S.charCodeAt(R)&1023),N+=g[240|U>>18]+g[128|U>>12&63]+g[128|U>>6&63]+g[128|U&63]}return N},T=function(v){for(var w=[{obj:{o:v},prop:"o"}],M=[],C=0;C<w.length;++C)for(var L=w[C],S=L.obj[L.prop],N=Object.keys(S),R=0;R<N.length;++R){var U=N[R],F=S[U];typeof F=="object"&&F!==null&&M.indexOf(F)===-1&&(w.push({obj:S,prop:U}),M.push(F))}return P(w),v},D=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},I=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},p=function(v,w){return[].concat(v,w)},l=function(v,w){if(s(v)){for(var M=[],C=0;C<v.length;C+=1)M.push(w(v[C]));return M}return w(v)};H.exports={arrayToObject:y,assign:c,combine:p,compact:T,decode:f,encode:d,isBuffer:I,isRegExp:D,maybeMap:l,merge:O}},8575:(H,E,e)=>{"use strict";var t=e(52511);function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,P=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r",`
`,"	"],O=["{","}","|","\\","^","`"].concat(y),c=["'"].concat(O),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],T=255,D=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},l={javascript:!0,"javascript:":!0},a={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=e(35984);function w(S,N,R){if(S&&typeof S=="object"&&S instanceof u)return S;var U=new u;return U.parse(S,N,R),U}u.prototype.parse=function(S,N,R){if(typeof S!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var U=S.indexOf("?"),F=U!==-1&&U<S.indexOf("#")?"?":"#",$=S.split(F),G=/\\/g;$[0]=$[0].replace(G,"/"),S=$.join(F);var Q=S;if(Q=Q.trim(),!R&&S.split("#").length===1){var K=P.exec(Q);if(K)return this.path=Q,this.href=Q,this.pathname=K[1],K[2]?(this.search=K[2],N?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):N&&(this.search="",this.query={}),this}var W=s.exec(Q);if(W){W=W[0];var Y=W.toLowerCase();this.protocol=Y,Q=Q.substr(W.length)}if(R||W||Q.match(/^\/\/[^@/]+@[^@/]+/)){var ne=Q.substr(0,2)==="//";ne&&!(W&&l[W])&&(Q=Q.substr(2),this.slashes=!0)}if(!l[W]&&(ne||W&&!a[W])){for(var V=-1,j=0;j<d.length;j++){var te=Q.indexOf(d[j]);te!==-1&&(V===-1||te<V)&&(V=te)}var ie,ue;V===-1?ue=Q.lastIndexOf("@"):ue=Q.lastIndexOf("@",V),ue!==-1&&(ie=Q.slice(0,ue),Q=Q.slice(ue+1),this.auth=decodeURIComponent(ie)),V=-1;for(var j=0;j<f.length;j++){var te=Q.indexOf(f[j]);te!==-1&&(V===-1||te<V)&&(V=te)}V===-1&&(V=Q.length),this.host=Q.slice(0,V),Q=Q.slice(V),this.parseHost(),this.hostname=this.hostname||"";var he=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!he)for(var Z=this.hostname.split(/\./),j=0,J=Z.length;j<J;j++){var ae=Z[j];if(ae&&!ae.match(D)){for(var le="",oe=0,ee=ae.length;oe<ee;oe++)ae.charCodeAt(oe)>127?le+="x":le+=ae[oe];if(!le.match(D)){var z=Z.slice(0,j),re=Z.slice(j+1),se=ae.match(I);se&&(z.push(se[1]),re.unshift(se[2])),re.length&&(Q="/"+re.join(".")+Q),this.hostname=z.join(".");break}}}this.hostname.length>T?this.hostname="":this.hostname=this.hostname.toLowerCase(),he||(this.hostname=t.toASCII(this.hostname));var fe=this.port?":"+this.port:"",Ee=this.hostname||"";this.host=Ee+fe,this.href+=this.host,he&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!p[Y])for(var j=0,J=c.length;j<J;j++){var ge=c[j];if(Q.indexOf(ge)!==-1){var be=encodeURIComponent(ge);be===ge&&(be=escape(ge)),Q=Q.split(ge).join(be)}}var me=Q.indexOf("#");me!==-1&&(this.hash=Q.substr(me),Q=Q.slice(0,me));var pe=Q.indexOf("?");if(pe!==-1?(this.search=Q.substr(pe),this.query=Q.substr(pe+1),N&&(this.query=v.parse(this.query)),Q=Q.slice(0,pe)):N&&(this.search="",this.query={}),Q&&(this.pathname=Q),a[Y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var fe=this.pathname||"",Le=this.search||"";this.path=fe+Le}return this.href=this.format(),this};function M(S){return typeof S=="string"&&(S=w(S)),S instanceof u?S.format():u.prototype.format.call(S)}u.prototype.format=function(){var S=this.auth||"";S&&(S=encodeURIComponent(S),S=S.replace(/%3A/i,":"),S+="@");var N=this.protocol||"",R=this.pathname||"",U=this.hash||"",F=!1,$="";this.host?F=S+this.host:this.hostname&&(F=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(F+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&($=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var G=this.search||$&&"?"+$||"";return N&&N.substr(-1)!==":"&&(N+=":"),this.slashes||(!N||a[N])&&F!==!1?(F="//"+(F||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):F||(F=""),U&&U.charAt(0)!=="#"&&(U="#"+U),G&&G.charAt(0)!=="?"&&(G="?"+G),R=R.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),G=G.replace("#","%23"),N+F+R+G+U};function C(S,N){return w(S,!1,!0).resolve(N)}u.prototype.resolve=function(S){return this.resolveObject(w(S,!1,!0)).format()};function L(S,N){return S?w(S,!1,!0).resolveObject(N):N}u.prototype.resolveObject=function(S){if(typeof S=="string"){var N=new u;N.parse(S,!1,!0),S=N}for(var R=new u,U=Object.keys(this),F=0;F<U.length;F++){var $=U[F];R[$]=this[$]}if(R.hash=S.hash,S.href==="")return R.href=R.format(),R;if(S.slashes&&!S.protocol){for(var G=Object.keys(S),Q=0;Q<G.length;Q++){var K=G[Q];K!=="protocol"&&(R[K]=S[K])}return a[R.protocol]&&R.hostname&&!R.pathname&&(R.pathname="/",R.path=R.pathname),R.href=R.format(),R}if(S.protocol&&S.protocol!==R.protocol){if(!a[S.protocol]){for(var W=Object.keys(S),Y=0;Y<W.length;Y++){var ne=W[Y];R[ne]=S[ne]}return R.href=R.format(),R}if(R.protocol=S.protocol,!S.host&&!l[S.protocol]){for(var J=(S.pathname||"").split("/");J.length&&!(S.host=J.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),J[0]!==""&&J.unshift(""),J.length<2&&J.unshift(""),R.pathname=J.join("/")}else R.pathname=S.pathname;if(R.search=S.search,R.query=S.query,R.host=S.host||"",R.auth=S.auth,R.hostname=S.hostname||S.host,R.port=S.port,R.pathname||R.search){var V=R.pathname||"",j=R.search||"";R.path=V+j}return R.slashes=R.slashes||S.slashes,R.href=R.format(),R}var te=R.pathname&&R.pathname.charAt(0)==="/",ie=S.host||S.pathname&&S.pathname.charAt(0)==="/",ue=ie||te||R.host&&S.pathname,he=ue,Z=R.pathname&&R.pathname.split("/")||[],J=S.pathname&&S.pathname.split("/")||[],ae=R.protocol&&!a[R.protocol];if(ae&&(R.hostname="",R.port=null,R.host&&(Z[0]===""?Z[0]=R.host:Z.unshift(R.host)),R.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(J[0]===""?J[0]=S.host:J.unshift(S.host)),S.host=null),ue=ue&&(J[0]===""||Z[0]==="")),ie)R.host=S.host||S.host===""?S.host:R.host,R.hostname=S.hostname||S.hostname===""?S.hostname:R.hostname,R.search=S.search,R.query=S.query,Z=J;else if(J.length)Z||(Z=[]),Z.pop(),Z=Z.concat(J),R.search=S.search,R.query=S.query;else if(S.search!=null){if(ae){R.host=Z.shift(),R.hostname=R.host;var le=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;le&&(R.auth=le.shift(),R.hostname=le.shift(),R.host=R.hostname)}return R.search=S.search,R.query=S.query,(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!Z.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var oe=Z.slice(-1)[0],ee=(R.host||S.host||Z.length>1)&&(oe==="."||oe==="..")||oe==="",z=0,re=Z.length;re>=0;re--)oe=Z[re],oe==="."?Z.splice(re,1):oe===".."?(Z.splice(re,1),z++):z&&(Z.splice(re,1),z--);if(!ue&&!he)for(;z--;z)Z.unshift("..");ue&&Z[0]!==""&&(!Z[0]||Z[0].charAt(0)!=="/")&&Z.unshift(""),ee&&Z.join("/").substr(-1)!=="/"&&Z.push("");var se=Z[0]===""||Z[0]&&Z[0].charAt(0)==="/";if(ae){R.hostname=se?"":Z.length?Z.shift():"",R.host=R.hostname;var le=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;le&&(R.auth=le.shift(),R.hostname=le.shift(),R.host=R.hostname)}return ue=ue||R.host&&Z.length,ue&&!se&&Z.unshift(""),Z.length>0?R.pathname=Z.join("/"):(R.pathname=null,R.path=null),(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=S.auth||R.auth,R.slashes=R.slashes||S.slashes,R.href=R.format(),R},u.prototype.parseHost=function(){var S=this.host,N=g.exec(S);N&&(N=N[0],N!==":"&&(this.port=N.substr(1)),S=S.substr(0,S.length-N.length)),S&&(this.hostname=S)},E.parse=w,E.resolve=C,E.resolveObject=L,E.format=M,E.Url=u},53250:(H,E,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=e(98661);function u(D,I){return D===I&&(D!==0||1/D===1/I)||D!==D&&I!==I}var s=typeof Object.is=="function"?Object.is:u,g=t.useState,P=t.useEffect,y=t.useLayoutEffect,O=t.useDebugValue;function c(D,I){var p=I(),l=g({inst:{value:p,getSnapshot:I}}),a=l[0].inst,v=l[1];return y(function(){a.value=p,a.getSnapshot=I,f(a)&&v({inst:a})},[D,p,I]),P(function(){return f(a)&&v({inst:a}),D(function(){f(a)&&v({inst:a})})},[D]),O(p),p}function f(D){var I=D.getSnapshot;D=D.value;try{var p=I();return!s(D,p)}catch(l){return!0}}function d(D,I){return I()}var T=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?d:c;E.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:T},61688:(H,E,e)=>{"use strict";H.exports=e(53250)},45327:H=>{for(var E=[],e=0;e<256;++e)E[e]=(e+256).toString(16).substr(1);function t(u,s){var g=s||0,P=E;return P[u[g++]]+P[u[g++]]+P[u[g++]]+P[u[g++]]+"-"+P[u[g++]]+P[u[g++]]+"-"+P[u[g++]]+P[u[g++]]+"-"+P[u[g++]]+P[u[g++]]+"-"+P[u[g++]]+P[u[g++]]+P[u[g++]]+P[u[g++]]+P[u[g++]]+P[u[g++]]}H.exports=t},85217:H=>{var E=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(E){var e=new Uint8Array(16);H.exports=function(){return E(e),e}}else{var t=new Array(16);H.exports=function(){for(var s=0,g;s<16;s++)s&3||(g=Math.random()*4294967296),t[s]=g>>>((s&3)<<3)&255;return t}}},71171:(H,E,e)=>{var t=e(85217),u=e(45327);function s(g,P,y){var O=P&&y||0;typeof g=="string"&&(P=g==="binary"?new Array(16):null,g=null),g=g||{};var c=g.random||(g.rng||t)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,P)for(var f=0;f<16;++f)P[O+f]=c[f];return P||u(c)}H.exports=s},93235:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=g;var t=u(e(65571));function u(P){return P&&P.__esModule?P:{default:P}}function s(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(O){return typeof O}:s=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},s(P)}function g(P,y){(0,t.default)(P);var O,c;s(y)==="object"?(O=y.min||0,c=y.max):(O=arguments[1],c=arguments[2]);var f=encodeURI(P).split(/%..|./).length-1;return f>=O&&(typeof c=="undefined"||f<=c)}H.exports=E.default,H.exports.default=E.default},83868:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=a;var t=y(e(65571)),u=y(e(84808)),s=y(e(93235)),g=y(e(10221)),P=y(e(61028));function y(v){return v&&v.__esModule?v:{default:v}}var O={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,T=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,D=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,I=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function l(v){var w=v.replace(/^"(.+)"$/,"$1");if(!w.trim())return!1;var M=/[\.";<>]/.test(w);if(M){if(w===v)return!1;var C=w.split('"').length===w.split('\\"').length;if(!C)return!1}return!0}function a(v,w){if((0,t.default)(v),w=(0,u.default)(w,O),w.require_display_name||w.allow_display_name){var M=v.match(c);if(M){var C=M[1];if(v=v.replace(C,"").replace(/(^<|>$)/g,""),C.endsWith(" ")&&(C=C.substr(0,C.length-1)),!l(C))return!1}else if(w.require_display_name)return!1}if(!w.ignore_max_length&&v.length>p)return!1;var L=v.split("@"),S=L.pop(),N=S.toLowerCase();if(w.host_blacklist.includes(N))return!1;var R=L.join("@");if(w.domain_specific_validation&&(N==="gmail.com"||N==="googlemail.com")){R=R.toLowerCase();var U=R.split("+")[0];if(!(0,s.default)(U.replace(/\./g,""),{min:6,max:30}))return!1;for(var F=U.split("."),$=0;$<F.length;$++)if(!d.test(F[$]))return!1}if(w.ignore_max_length===!1&&(!(0,s.default)(R,{max:64})||!(0,s.default)(S,{max:254})))return!1;if(!(0,g.default)(S,{require_tld:w.require_tld})){if(!w.allow_ip_domain)return!1;if(!(0,P.default)(S)){if(!S.startsWith("[")||!S.endsWith("]"))return!1;var G=S.substr(1,S.length-2);if(G.length===0||!(0,P.default)(G))return!1}}if(R[0]==='"')return R=R.slice(1,R.length-1),w.allow_utf8_local_part?I.test(R):T.test(R);for(var Q=w.allow_utf8_local_part?D:f,K=R.split("."),W=0;W<K.length;W++)if(!Q.test(K[W]))return!1;return!(w.blacklisted_chars&&R.search(new RegExp("[".concat(w.blacklisted_chars,"]+"),"g"))!==-1)}H.exports=E.default,H.exports.default=E.default},10221:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=P;var t=s(e(65571)),u=s(e(84808));function s(y){return y&&y.__esModule?y:{default:y}}var g={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function P(y,O){(0,t.default)(y),O=(0,u.default)(O,g),O.allow_trailing_dot&&y[y.length-1]==="."&&(y=y.substring(0,y.length-1)),O.allow_wildcard===!0&&y.indexOf("*.")===0&&(y=y.substring(2));var c=y.split("."),f=c[c.length-1];return O.require_tld&&(c.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/\s/.test(f))||!O.allow_numeric_tld&&/^\d+$/.test(f)?!1:c.every(function(d){return!(d.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(d)||/[\uff01-\uff5e]/.test(d)||/^-|-$/.test(d)||!O.allow_underscores&&/_/.test(d))})}H.exports=E.default,H.exports.default=E.default},61028:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=c;var t=u(e(65571));function u(f){return f&&f.__esModule?f:{default:f}}var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",g="(".concat(s,"[.]){3}").concat(s),P=new RegExp("^".concat(g,"$")),y="(?:[0-9a-fA-F]{1,4})",O=new RegExp("^("+"(?:".concat(y,":){7}(?:").concat(y,"|:)|")+"(?:".concat(y,":){6}(?:").concat(g,"|:").concat(y,"|:)|")+"(?:".concat(y,":){5}(?::").concat(g,"|(:").concat(y,"){1,2}|:)|")+"(?:".concat(y,":){4}(?:(:").concat(y,"){0,1}:").concat(g,"|(:").concat(y,"){1,3}|:)|")+"(?:".concat(y,":){3}(?:(:").concat(y,"){0,2}:").concat(g,"|(:").concat(y,"){1,4}|:)|")+"(?:".concat(y,":){2}(?:(:").concat(y,"){0,3}:").concat(g,"|(:").concat(y,"){1,5}|:)|")+"(?:".concat(y,":){1}(?:(:").concat(y,"){0,4}:").concat(g,"|(:").concat(y,"){1,6}|:)|")+"(?::((?::".concat(y,"){0,5}:").concat(g,"|(?::").concat(y,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function c(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,t.default)(f),d=String(d),!d)return c(f,4)||c(f,6);if(d==="4"){if(!P.test(f))return!1;var T=f.split(".").sort(function(D,I){return D-I});return T[3]<=255}return d==="6"?!!O.test(f):!1}H.exports=E.default,H.exports.default=E.default},65571:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=t;function e(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(u)}function t(u){var s=typeof u=="string"||u instanceof String;if(!s){var g=e(u);throw u===null?g="null":g==="object"&&(g=u.constructor.name),new TypeError("Expected a string but received a ".concat(g))}}H.exports=E.default,H.exports.default=E.default},84808:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=e;function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;for(var s in u)typeof t[s]=="undefined"&&(t[s]=u[s]);return t}H.exports=E.default,H.exports.default=E.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:H=>{let E="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(u,s=21)=>(g=s)=>{let P="",y=g;for(;y--;)P+=u[Math.random()*u.length|0];return P},t=(u=21)=>{let s="",g=u;for(;g--;)s+=E[Math.random()*64|0];return s};H.exports={nanoid:t,customAlphabet:e}},39516:(H,E,e)=>{"use strict";e.d(E,{d:()=>I,f:()=>f});var t=e(98661),u=e(19946),s=e(12351),g=e(16723),P=e(23784),y=e(73781);let O=(0,t.createContext)(null);function c(){let p=(0,t.useContext)(O);if(p===null){let l=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(l,c),l}return p}function f(){let[p,l]=(0,t.useState)([]);return[p.length>0?p.join(" "):void 0,(0,t.useMemo)(()=>function(a){let v=(0,y.z)(M=>(l(C=>[...C,M]),()=>l(C=>{let L=C.slice(),S=L.indexOf(M);return S!==-1&&L.splice(S,1),L}))),w=(0,t.useMemo)(()=>({register:v,slot:a.slot,name:a.name,props:a.props}),[v,a.slot,a.name,a.props]);return t.default.createElement(O.Provider,{value:w},a.children)},[l])]}let d="p";function T(p,l){let a=(0,u.M)(),S=p,{id:v=`headlessui-description-${a}`}=S,w=Xn(S,["id"]),M=c(),C=(0,P.T)(l);(0,g.e)(()=>M.register(v),[v,M.register]);let L=xo(kn({ref:C},M.props),{id:v});return(0,s.sY)({ourProps:L,theirProps:w,slot:M.slot||{},defaultTag:d,name:M.name||"Description"})}let D=(0,s.yV)(T),I=Object.assign(D,{})},81583:(H,E,e)=>{"use strict";e.d(E,{V:()=>ot});var t=e(98661),u=e(32984),s=e(12351),g=e(23784),P=e(61363),y=e(64103),O=e(19946),c=e(82180),f=e(46045),d=e(84575),T=e(73781),D=e(7815),I=(Ue=>(Ue[Ue.Forwards=0]="Forwards",Ue[Ue.Backwards=1]="Backwards",Ue))(I||{});function p(){let Ue=(0,t.useRef)(0);return(0,D.s)("keydown",tt=>{tt.key==="Tab"&&(Ue.current=tt.shiftKey?1:0)},!0),Ue}var l=e(14879),a=e(15466);function v(...Ue){return(0,t.useMemo)(()=>(0,a.r)(...Ue),[...Ue])}var w=e(3855);function M(Ue,tt,ft,Ct){let yt=(0,w.E)(ft);(0,t.useEffect)(()=>{Ue=Ue!=null?Ue:window;function Te(Ye){yt.current(Ye)}return Ue.addEventListener(tt,Te,Ct),()=>Ue.removeEventListener(tt,Te,Ct)},[Ue,tt,Ct])}var C=e(81021),L=e(96599),S=e(94192);function N(Ue){function tt(){document.readyState!=="loading"&&(Ue(),document.removeEventListener("DOMContentLoaded",tt))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",tt),tt())}function R(Ue){let tt=(0,T.z)(Ue),ft=(0,t.useRef)(!1);(0,t.useEffect)(()=>(ft.current=!1,()=>{ft.current=!0,(0,C.Y)(()=>{ft.current&&tt()})}),[tt])}function U(Ue){if(!Ue)return new Set;if(typeof Ue=="function")return new Set(Ue());let tt=new Set;for(let ft of Ue.current)ft.current instanceof HTMLElement&&tt.add(ft.current);return tt}let F="div";var $=(Ue=>(Ue[Ue.None=1]="None",Ue[Ue.InitialFocus=2]="InitialFocus",Ue[Ue.TabLock=4]="TabLock",Ue[Ue.FocusLock=8]="FocusLock",Ue[Ue.RestoreFocus=16]="RestoreFocus",Ue[Ue.All=30]="All",Ue))($||{});function G(Ue,tt){let ft=(0,t.useRef)(null),Ct=(0,g.T)(ft,tt),Xr=Ue,{initialFocus:yt,containers:Te,features:Ye=30}=Xr,dt=Xn(Xr,["initialFocus","containers","features"]);(0,c.H)()||(Ye=1);let Nt=v(ft);ne({ownerDocument:Nt},!!(Ye&16));let Kt=V({ownerDocument:Nt,container:ft,initialFocus:yt},!!(Ye&2));j({ownerDocument:Nt,container:ft,containers:Te,previousActiveElement:Kt},!!(Ye&8));let _r=p(),dr=(0,T.z)(Mr=>{let sn=ft.current;sn&&(zr=>zr())(()=>{(0,u.E)(_r.current,{[I.Forwards]:()=>{(0,d.jA)(sn,d.TO.First,{skipElements:[Mr.relatedTarget]})},[I.Backwards]:()=>{(0,d.jA)(sn,d.TO.Last,{skipElements:[Mr.relatedTarget]})}})})}),pr=(0,S.G)(),mr=(0,t.useRef)(!1),Jr={ref:Ct,onKeyDown(Mr){Mr.key=="Tab"&&(mr.current=!0,pr.requestAnimationFrame(()=>{mr.current=!1}))},onBlur(Mr){let sn=U(Te);ft.current instanceof HTMLElement&&sn.add(ft.current);let zr=Mr.relatedTarget;zr instanceof HTMLElement&&zr.dataset.headlessuiFocusGuard!=="true"&&(te(sn,zr)||(mr.current?(0,d.jA)(ft.current,(0,u.E)(_r.current,{[I.Forwards]:()=>d.TO.Next,[I.Backwards]:()=>d.TO.Previous})|d.TO.WrapAround,{relativeTo:Mr.target}):Mr.target instanceof HTMLElement&&(0,d.C5)(Mr.target)))}};return t.default.createElement(t.default.Fragment,null,!!(Ye&4)&&t.default.createElement(f._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:f.A.Focusable}),(0,s.sY)({ourProps:Jr,theirProps:dt,defaultTag:F,name:"FocusTrap"}),!!(Ye&4)&&t.default.createElement(f._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:dr,features:f.A.Focusable}))}let Q=(0,s.yV)(G),K=Object.assign(Q,{features:$}),W=[];N(()=>{function Ue(tt){tt.target instanceof HTMLElement&&tt.target!==document.body&&W[0]!==tt.target&&(W.unshift(tt.target),W=W.filter(ft=>ft!=null&&ft.isConnected),W.splice(10))}window.addEventListener("click",Ue,{capture:!0}),window.addEventListener("mousedown",Ue,{capture:!0}),window.addEventListener("focus",Ue,{capture:!0}),document.body.addEventListener("click",Ue,{capture:!0}),document.body.addEventListener("mousedown",Ue,{capture:!0}),document.body.addEventListener("focus",Ue,{capture:!0})});function Y(Ue=!0){let tt=(0,t.useRef)(W.slice());return(0,L.q)(([ft],[Ct])=>{Ct===!0&&ft===!1&&(0,C.Y)(()=>{tt.current.splice(0)}),Ct===!1&&ft===!0&&(tt.current=W.slice())},[Ue,W,tt]),(0,T.z)(()=>{var ft;return(ft=tt.current.find(Ct=>Ct!=null&&Ct.isConnected))!=null?ft:null})}function ne({ownerDocument:Ue},tt){let ft=Y(tt);(0,L.q)(()=>{tt||(Ue==null?void 0:Ue.activeElement)===(Ue==null?void 0:Ue.body)&&(0,d.C5)(ft())},[tt]),R(()=>{tt&&(0,d.C5)(ft())})}function V({ownerDocument:Ue,container:tt,initialFocus:ft},Ct){let yt=(0,t.useRef)(null),Te=(0,l.t)();return(0,L.q)(()=>{if(!Ct)return;let Ye=tt.current;Ye&&(0,C.Y)(()=>{if(!Te.current)return;let dt=Ue==null?void 0:Ue.activeElement;if(ft!=null&&ft.current){if((ft==null?void 0:ft.current)===dt){yt.current=dt;return}}else if(Ye.contains(dt)){yt.current=dt;return}ft!=null&&ft.current?(0,d.C5)(ft.current):(0,d.jA)(Ye,d.TO.First)===d.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),yt.current=Ue==null?void 0:Ue.activeElement})},[Ct]),yt}function j({ownerDocument:Ue,container:tt,containers:ft,previousActiveElement:Ct},yt){let Te=(0,l.t)();M(Ue==null?void 0:Ue.defaultView,"focus",Ye=>{if(!yt||!Te.current)return;let dt=U(ft);tt.current instanceof HTMLElement&&dt.add(tt.current);let Nt=Ct.current;if(!Nt)return;let Kt=Ye.target;Kt&&Kt instanceof HTMLElement?te(dt,Kt)?(Ct.current=Kt,(0,d.C5)(Kt)):(Ye.preventDefault(),Ye.stopPropagation(),(0,d.C5)(Nt)):(0,d.C5)(Ct.current)},!0)}function te(Ue,tt){for(let ft of Ue)if(ft.contains(tt))return!0;return!1}var ie=e(16723);let ue=(0,t.createContext)(!1);function he(){return(0,t.useContext)(ue)}function Z(Ue){return t.default.createElement(ue.Provider,{value:Ue.force},Ue.children)}var J=e(77896);function ae(Ue){let tt=he(),ft=(0,t.useContext)(z),Ct=v(Ue),[yt,Te]=(0,t.useState)(()=>{if(!tt&&ft!==null||J.O.isServer)return null;let Ye=Ct==null?void 0:Ct.getElementById("headlessui-portal-root");if(Ye)return Ye;if(Ct===null)return null;let dt=Ct.createElement("div");return dt.setAttribute("id","headlessui-portal-root"),Ct.body.appendChild(dt)});return(0,t.useEffect)(()=>{yt!==null&&(Ct!=null&&Ct.body.contains(yt)||Ct==null||Ct.body.appendChild(yt))},[yt,Ct]),(0,t.useEffect)(()=>{tt||ft!==null&&Te(ft.current)},[ft,Te,tt]),yt}let le=t.Fragment;function oe(Ue,tt){let ft=Ue,Ct=(0,t.useRef)(null),yt=(0,g.T)((0,g.h)(_r=>{Ct.current=_r}),tt),Te=v(Ct),Ye=ae(Ct),[dt]=(0,t.useState)(()=>{var _r;return J.O.isServer?null:(_r=Te==null?void 0:Te.createElement("div"))!=null?_r:null}),Nt=(0,t.useContext)(se),Kt=(0,c.H)();return(0,ie.e)(()=>{!Ye||!dt||Ye.contains(dt)||(dt.setAttribute("data-headlessui-portal",""),Ye.appendChild(dt))},[Ye,dt]),(0,ie.e)(()=>{if(dt&&Nt)return Nt.register(dt)},[Nt,dt]),R(()=>{var _r;!Ye||!dt||(dt instanceof Node&&Ye.contains(dt)&&Ye.removeChild(dt),Ye.childNodes.length<=0&&((_r=Ye.parentElement)==null||_r.removeChild(Ye)))}),Kt?!Ye||!dt?null:(0,t.createPortal)((0,s.sY)({ourProps:{ref:yt},theirProps:ft,defaultTag:le,name:"Portal"}),dt):null}let ee=t.Fragment,z=(0,t.createContext)(null);function re(Ue,tt){let Te=Ue,{target:ft}=Te,Ct=Xn(Te,["target"]),yt={ref:(0,g.T)(tt)};return t.default.createElement(z.Provider,{value:ft},(0,s.sY)({ourProps:yt,theirProps:Ct,defaultTag:ee,name:"Popover.Group"}))}let se=(0,t.createContext)(null);function fe(){let Ue=(0,t.useContext)(se),tt=(0,t.useRef)([]),ft=(0,T.z)(Te=>(tt.current.push(Te),Ue&&Ue.register(Te),()=>Ct(Te))),Ct=(0,T.z)(Te=>{let Ye=tt.current.indexOf(Te);Ye!==-1&&tt.current.splice(Ye,1),Ue&&Ue.unregister(Te)}),yt=(0,t.useMemo)(()=>({register:ft,unregister:Ct,portals:tt}),[ft,Ct,tt]);return[tt,(0,t.useMemo)(()=>function({children:Te}){return t.default.createElement(se.Provider,{value:yt},Te)},[yt])]}let Ee=(0,s.yV)(oe),ge=(0,s.yV)(re),be=Object.assign(Ee,{Group:ge});var me=e(39516),pe=e(16567);let Le=(0,t.createContext)(()=>{});Le.displayName="StackContext";var je=(Ue=>(Ue[Ue.Add=0]="Add",Ue[Ue.Remove=1]="Remove",Ue))(je||{});function xe(){return(0,t.useContext)(Le)}function ye({children:Ue,onUpdate:tt,type:ft,element:Ct,enabled:yt}){let Te=xe(),Ye=(0,T.z)((...dt)=>{tt==null||tt(...dt),Te(...dt)});return(0,ie.e)(()=>{let dt=yt===void 0||yt===!0;return dt&&Ye(0,ft,Ct),()=>{dt&&Ye(1,ft,Ct)}},[Ye,ft,Ct,yt]),t.default.createElement(Le.Provider,{value:Ye},Ue)}var Me=e(43986);function We(Ue,tt){return Ue===tt&&(Ue!==0||1/Ue===1/tt)||Ue!==Ue&&tt!==tt}const De=typeof Object.is=="function"?Object.is:We,{useState:Ge,useEffect:pt,useLayoutEffect:wt,useDebugValue:Ht}=t;let nt=null,Ze=null;function st(Ue,tt,ft){const Ct=tt(),[{inst:yt},Te]=Ge({inst:{value:Ct,getSnapshot:tt}});return wt(()=>{yt.value=Ct,yt.getSnapshot=tt,Ie(yt)&&Te({inst:yt})},[Ue,Ct,tt]),pt(()=>(Ie(yt)&&Te({inst:yt}),Ue(()=>{Ie(yt)&&Te({inst:yt})})),[Ue]),Ht(Ct),Ct}function Ie(Ue){const tt=Ue.getSnapshot,ft=Ue.value;try{const Ct=tt();return!De(ft,Ct)}catch(Ct){return!0}}function Pe(Ue,tt,ft){return tt()}const Ce=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Be=!Ce,Ve=Be?Pe:st,$e=(Ue=>Ue.useSyncExternalStore)(t);function Qe(Ue){return $e(Ue.subscribe,Ue.getSnapshot,Ue.getSnapshot)}var ze=e(9362);function Ke(Ue,tt){let ft=Ue(),Ct=new Set;return{getSnapshot(){return ft},subscribe(yt){return Ct.add(yt),()=>Ct.delete(yt)},dispatch(yt,...Te){let Ye=tt[yt].call(ft,...Te);Ye&&(ft=Ye,Ct.forEach(dt=>dt()))}}}function lt(){let Ue;return{before({doc:tt}){var ft;let Ct=tt.documentElement;Ue=((ft=tt.defaultView)!=null?ft:window).innerWidth-Ct.clientWidth},after({doc:tt,d:ft}){let Ct=tt.documentElement,yt=Ct.clientWidth-Ct.offsetWidth,Te=Ue-yt;ft.style(Ct,"paddingRight",`${Te}px`)}}}var vt=e(78657);function Pt(){if(!(0,vt.gn)())return{};let Ue;return{before(){Ue=window.pageYOffset},after({doc:tt,d:ft,meta:Ct}){function yt(Ye){return Ct.containers.flatMap(dt=>dt()).some(dt=>dt.contains(Ye))}ft.style(tt.body,"marginTop",`-${Ue}px`),window.scrollTo(0,0);let Te=null;ft.addEventListener(tt,"click",Ye=>{if(Ye.target instanceof HTMLElement)try{let dt=Ye.target.closest("a");if(!dt)return;let{hash:Nt}=new URL(dt.href),Kt=tt.querySelector(Nt);Kt&&!yt(Kt)&&(Te=Kt)}catch(dt){}},!0),ft.addEventListener(tt,"touchmove",Ye=>{Ye.target instanceof HTMLElement&&!yt(Ye.target)&&Ye.preventDefault()},{passive:!1}),ft.add(()=>{window.scrollTo(0,window.pageYOffset+Ue),Te&&Te.isConnected&&(Te.scrollIntoView({block:"nearest"}),Te=null)})}}}function Wt(){return{before({doc:Ue,d:tt}){tt.style(Ue.documentElement,"overflow","hidden")}}}function Ut(Ue){let tt={};for(let ft of Ue)Object.assign(tt,ft(tt));return tt}let jt=Ke(()=>new Map,{PUSH(Ue,tt){var ft;let Ct=(ft=this.get(Ue))!=null?ft:{doc:Ue,count:0,d:(0,ze.k)(),meta:new Set};return Ct.count++,Ct.meta.add(tt),this.set(Ue,Ct),this},POP(Ue,tt){let ft=this.get(Ue);return ft&&(ft.count--,ft.meta.delete(tt)),this},SCROLL_PREVENT({doc:Ue,d:tt,meta:ft}){let Ct={doc:Ue,d:tt,meta:Ut(ft)},yt=[Pt(),lt(),Wt()];yt.forEach(({before:Te})=>Te==null?void 0:Te(Ct)),yt.forEach(({after:Te})=>Te==null?void 0:Te(Ct))},SCROLL_ALLOW({d:Ue}){Ue.dispose()},TEARDOWN({doc:Ue}){this.delete(Ue)}});jt.subscribe(()=>{let Ue=jt.getSnapshot(),tt=new Map;for(let[ft]of Ue)tt.set(ft,ft.documentElement.style.overflow);for(let ft of Ue.values()){let Ct=tt.get(ft.doc)==="hidden",yt=ft.count!==0;(yt&&!Ct||!yt&&Ct)&&jt.dispatch(ft.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ft),ft.count===0&&jt.dispatch("TEARDOWN",ft)}});function Vt(Ue,tt,ft){let Ct=Qe(jt),yt=Ue?Ct.get(Ue):void 0,Te=yt?yt.count>0:!1;return(0,ie.e)(()=>{if(!(!Ue||!tt))return jt.dispatch("PUSH",Ue,ft),()=>jt.dispatch("POP",Ue,ft)},[tt,Ue]),Te}let lr=new Map,Jt=new Map;function or(Ue,tt=!0){(0,ie.e)(()=>{var ft;if(!tt)return;let Ct=typeof Ue=="function"?Ue():Ue.current;if(!Ct)return;function yt(){var Ye;if(!Ct)return;let dt=(Ye=Jt.get(Ct))!=null?Ye:1;if(dt===1?Jt.delete(Ct):Jt.set(Ct,dt-1),dt!==1)return;let Nt=lr.get(Ct);Nt&&(Nt["aria-hidden"]===null?Ct.removeAttribute("aria-hidden"):Ct.setAttribute("aria-hidden",Nt["aria-hidden"]),Ct.inert=Nt.inert,lr.delete(Ct))}let Te=(ft=Jt.get(Ct))!=null?ft:0;return Jt.set(Ct,Te+1),Te!==0||(lr.set(Ct,{"aria-hidden":Ct.getAttribute("aria-hidden"),inert:Ct.inert}),Ct.setAttribute("aria-hidden","true"),Ct.inert=!0),yt},[Ue,tt])}function Et({defaultContainers:Ue=[],portals:tt}={}){let ft=(0,t.useRef)(null),Ct=v(ft),yt=(0,T.z)(()=>{var Te;let Ye=[];for(let dt of Ue)dt!==null&&(dt instanceof HTMLElement?Ye.push(dt):"current"in dt&&dt.current instanceof HTMLElement&&Ye.push(dt.current));if(tt!=null&&tt.current)for(let dt of tt.current)Ye.push(dt);for(let dt of(Te=Ct==null?void 0:Ct.querySelectorAll("html > *, body > *"))!=null?Te:[])dt!==document.body&&dt!==document.head&&dt instanceof HTMLElement&&dt.id!=="headlessui-portal-root"&&(dt.contains(ft.current)||Ye.some(Nt=>dt.contains(Nt))||Ye.push(dt));return Ye});return{resolveContainers:yt,contains:(0,T.z)(Te=>yt().some(Ye=>Ye.contains(Te))),mainTreeNodeRef:ft,MainTreeNode:(0,t.useMemo)(()=>function(){return t.default.createElement(f._,{features:f.A.Hidden,ref:ft})},[ft])}}var gr=(Ue=>(Ue[Ue.Open=0]="Open",Ue[Ue.Closed=1]="Closed",Ue))(gr||{}),Dr=(Ue=>(Ue[Ue.SetTitleId=0]="SetTitleId",Ue))(Dr||{});let Or={[0](Ue,tt){return Ue.titleId===tt.id?Ue:xo(kn({},Ue),{titleId:tt.id})}},wr=(0,t.createContext)(null);wr.displayName="DialogContext";function br(Ue){let tt=(0,t.useContext)(wr);if(tt===null){let ft=new Error(`<${Ue} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ft,br),ft}return tt}function Ar(Ue,tt,ft=()=>[document.body]){Vt(Ue,tt,Ct=>{var yt;return{containers:[...(yt=Ct.containers)!=null?yt:[],ft]}})}function jr(Ue,tt){return(0,u.E)(tt.type,Or,Ue,tt)}let Ur="div",Er=s.AN.RenderStrategy|s.AN.Static;function Ir(Ue,tt){var ft;let Ct=(0,O.M)(),Co=Ue,{id:yt=`headlessui-dialog-${Ct}`,open:Te,onClose:Ye,initialFocus:dt,__demoMode:Nt=!1}=Co,Kt=Xn(Co,["id","open","onClose","initialFocus","__demoMode"]),[_r,dr]=(0,t.useState)(0),pr=(0,pe.oJ)();Te===void 0&&pr!==null&&(Te=(pr&pe.ZM.Open)===pe.ZM.Open);let mr=(0,t.useRef)(null),Jr=(0,g.T)(mr,tt),Xr=v(mr),Mr=Ue.hasOwnProperty("open")||pr!==null,sn=Ue.hasOwnProperty("onClose");if(!Mr&&!sn)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Mr)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!sn)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof Te!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${Te}`);if(typeof Ye!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${Ye}`);let zr=Te?0:1,[On,zn]=(0,t.useReducer)(jr,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),gn=(0,T.z)(()=>Ye(!1)),wn=(0,T.z)(Wn=>zn({type:0,id:Wn})),hn=(0,c.H)()?Nt?!1:zr===0:!1,Zn=_r>1,Hr=(0,t.useContext)(wr)!==null,[pn,mo]=fe(),{resolveContainers:Eo,mainTreeNodeRef:Yn,MainTreeNode:_o}=Et({portals:pn,defaultContainers:[(ft=On.panelRef.current)!=null?ft:mr.current]}),eo=Zn?"parent":"leaf",go=pr!==null?(pr&pe.ZM.Closing)===pe.ZM.Closing:!1,zo=(()=>Hr||go?!1:hn)(),Uo=(0,t.useCallback)(()=>{var Wn,to;return(to=Array.from((Wn=Xr==null?void 0:Xr.querySelectorAll("body > *"))!=null?Wn:[]).find(Vn=>Vn.id==="headlessui-portal-root"?!1:Vn.contains(Yn.current)&&Vn instanceof HTMLElement))!=null?to:null},[Yn]);or(Uo,zo);let So=(()=>Zn?!0:hn)(),Bo=(0,t.useCallback)(()=>{var Wn,to;return(to=Array.from((Wn=Xr==null?void 0:Xr.querySelectorAll("[data-headlessui-portal]"))!=null?Wn:[]).find(Vn=>Vn.contains(Yn.current)&&Vn instanceof HTMLElement))!=null?to:null},[Yn]);or(Bo,So);let ko=(()=>!(!hn||Zn))();(0,Me.O)(Eo,gn,ko);let Zo=(()=>!(Zn||zr!==0))();M(Xr==null?void 0:Xr.defaultView,"keydown",Wn=>{Zo&&(Wn.defaultPrevented||Wn.key===P.R.Escape&&(Wn.preventDefault(),Wn.stopPropagation(),gn()))});let ua=(()=>!(go||zr!==0||Hr))();Ar(Xr,ua,Eo),(0,t.useEffect)(()=>{if(zr!==0||!mr.current)return;let Wn=new ResizeObserver(to=>{for(let Vn of to){let Wo=Vn.target.getBoundingClientRect();Wo.x===0&&Wo.y===0&&Wo.width===0&&Wo.height===0&&gn()}});return Wn.observe(mr.current),()=>Wn.disconnect()},[zr,mr,gn]);let[Oa,wa]=(0,me.f)(),Sa=(0,t.useMemo)(()=>[{dialogState:zr,close:gn,setTitleId:wn},On],[zr,On,gn,wn]),Fo=(0,t.useMemo)(()=>({open:zr===0}),[zr]),Qn={ref:Jr,id:yt,role:"dialog","aria-modal":zr===0?!0:void 0,"aria-labelledby":On.titleId,"aria-describedby":Oa};return t.default.createElement(ye,{type:"Dialog",enabled:zr===0,element:mr,onUpdate:(0,T.z)((Wn,to)=>{to==="Dialog"&&(0,u.E)(Wn,{[je.Add]:()=>dr(Vn=>Vn+1),[je.Remove]:()=>dr(Vn=>Vn-1)})})},t.default.createElement(Z,{force:!0},t.default.createElement(be,null,t.default.createElement(wr.Provider,{value:Sa},t.default.createElement(be.Group,{target:mr},t.default.createElement(Z,{force:!1},t.default.createElement(wa,{slot:Fo,name:"Dialog.Description"},t.default.createElement(K,{initialFocus:dt,containers:Eo,features:hn?(0,u.E)(eo,{parent:K.features.RestoreFocus,leaf:K.features.All&~K.features.FocusLock}):K.features.None},t.default.createElement(mo,null,(0,s.sY)({ourProps:Qn,theirProps:Kt,slot:Fo,defaultTag:Ur,features:Er,visible:zr===0,name:"Dialog"}))))))))),t.default.createElement(_o,null))}let Kr="div";function rn(Ue,tt){let ft=(0,O.M)(),_r=Ue,{id:Ct=`headlessui-dialog-overlay-${ft}`}=_r,yt=Xn(_r,["id"]),[{dialogState:Te,close:Ye}]=br("Dialog.Overlay"),dt=(0,g.T)(tt),Nt=(0,T.z)(dr=>{if(dr.target===dr.currentTarget){if((0,y.P)(dr.currentTarget))return dr.preventDefault();dr.preventDefault(),dr.stopPropagation(),Ye()}}),Kt=(0,t.useMemo)(()=>({open:Te===0}),[Te]);return(0,s.sY)({ourProps:{ref:dt,id:Ct,"aria-hidden":!0,onClick:Nt},theirProps:yt,slot:Kt,defaultTag:Kr,name:"Dialog.Overlay"})}let En="div";function Pn(Ue,tt){let ft=(0,O.M)(),Kt=Ue,{id:Ct=`headlessui-dialog-backdrop-${ft}`}=Kt,yt=Xn(Kt,["id"]),[{dialogState:Te},Ye]=br("Dialog.Backdrop"),dt=(0,g.T)(tt);(0,t.useEffect)(()=>{if(Ye.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[Ye.panelRef]);let Nt=(0,t.useMemo)(()=>({open:Te===0}),[Te]);return t.default.createElement(Z,{force:!0},t.default.createElement(be,null,(0,s.sY)({ourProps:{ref:dt,id:Ct,"aria-hidden":!0},theirProps:yt,slot:Nt,defaultTag:En,name:"Dialog.Backdrop"})))}let an="div";function Fn(Ue,tt){let ft=(0,O.M)(),_r=Ue,{id:Ct=`headlessui-dialog-panel-${ft}`}=_r,yt=Xn(_r,["id"]),[{dialogState:Te},Ye]=br("Dialog.Panel"),dt=(0,g.T)(tt,Ye.panelRef),Nt=(0,t.useMemo)(()=>({open:Te===0}),[Te]),Kt=(0,T.z)(dr=>{dr.stopPropagation()});return(0,s.sY)({ourProps:{ref:dt,id:Ct,onClick:Kt},theirProps:yt,slot:Nt,defaultTag:an,name:"Dialog.Panel"})}let In="h2";function _n(Ue,tt){let ft=(0,O.M)(),Kt=Ue,{id:Ct=`headlessui-dialog-title-${ft}`}=Kt,yt=Xn(Kt,["id"]),[{dialogState:Te,setTitleId:Ye}]=br("Dialog.Title"),dt=(0,g.T)(tt);(0,t.useEffect)(()=>(Ye(Ct),()=>Ye(null)),[Ct,Ye]);let Nt=(0,t.useMemo)(()=>({open:Te===0}),[Te]);return(0,s.sY)({ourProps:{ref:dt,id:Ct},theirProps:yt,slot:Nt,defaultTag:In,name:"Dialog.Title"})}let jn=(0,s.yV)(Ir),xt=(0,s.yV)(Pn),Rt=(0,s.yV)(Fn),Zt=(0,s.yV)(rn),Xe=(0,s.yV)(_n),ot=Object.assign(jn,{Backdrop:xt,Panel:Rt,Overlay:Zt,Title:Xe,Description:me.d})},61363:(H,E,e)=>{"use strict";e.d(E,{R:()=>t});var t=(u=>(u.Space=" ",u.Enter="Enter",u.Escape="Escape",u.Backspace="Backspace",u.Delete="Delete",u.ArrowLeft="ArrowLeft",u.ArrowUp="ArrowUp",u.ArrowRight="ArrowRight",u.ArrowDown="ArrowDown",u.Home="Home",u.End="End",u.PageUp="PageUp",u.PageDown="PageDown",u.Tab="Tab",u))(t||{})},12395:(H,E,e)=>{"use strict";e.d(E,{r:()=>Q});var t=e(98661),u=e(12351),s=e(19946),g=e(61363),P=e(64103),y=e(16723),O=e(23784),c=e(73781);let f=(0,t.createContext)(null);function d(){let K=(0,t.useContext)(f);if(K===null){let W=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(W,d),W}return K}function T(){let[K,W]=(0,t.useState)([]);return[K.length>0?K.join(" "):void 0,(0,t.useMemo)(()=>function(Y){let ne=(0,c.z)(j=>(W(te=>[...te,j]),()=>W(te=>{let ie=te.slice(),ue=ie.indexOf(j);return ue!==-1&&ie.splice(ue,1),ie}))),V=(0,t.useMemo)(()=>({register:ne,slot:Y.slot,name:Y.name,props:Y.props}),[ne,Y.slot,Y.name,Y.props]);return t.default.createElement(f.Provider,{value:V},Y.children)},[W])]}let D="label";function I(K,W){let Y=(0,s.M)(),he=K,{id:ne=`headlessui-label-${Y}`,passive:V=!1}=he,j=Xn(he,["id","passive"]),te=d(),ie=(0,O.T)(W);(0,y.e)(()=>te.register(ne),[ne,te.register]);let ue=xo(kn({ref:ie},te.props),{id:ne});return V&&("onClick"in ue&&(delete ue.htmlFor,delete ue.onClick),"onClick"in j&&delete j.onClick),(0,u.sY)({ourProps:ue,theirProps:j,slot:te.slot||{},defaultTag:D,name:te.name||"Label"})}let p=(0,u.yV)(I),l=Object.assign(p,{});var a=e(39516),v=e(14157),w=e(46045),M=e(18689),C=e(31147),L=e(94192);let S=(0,t.createContext)(null);S.displayName="GroupContext";let N=t.Fragment;function R(K){var W;let[Y,ne]=(0,t.useState)(null),[V,j]=T(),[te,ie]=(0,a.f)(),ue=(0,t.useMemo)(()=>({switch:Y,setSwitch:ne,labelledby:V,describedby:te}),[Y,ne,V,te]),he={},Z=K;return t.default.createElement(ie,{name:"Switch.Description"},t.default.createElement(j,{name:"Switch.Label",props:{htmlFor:(W=ue.switch)==null?void 0:W.id,onClick(J){Y&&(J.currentTarget.tagName==="LABEL"&&J.preventDefault(),Y.click(),Y.focus({preventScroll:!0}))}}},t.default.createElement(S.Provider,{value:ue},(0,u.sY)({ourProps:he,theirProps:Z,defaultTag:N,name:"Switch.Group"}))))}let U="button";function F(K,W){let Y=(0,s.M)(),me=K,{id:ne=`headlessui-switch-${Y}`,checked:V,defaultChecked:j=!1,onChange:te,name:ie,value:ue,form:he}=me,Z=Xn(me,["id","checked","defaultChecked","onChange","name","value","form"]),J=(0,t.useContext)(S),ae=(0,t.useRef)(null),le=(0,O.T)(ae,W,J===null?null:J.setSwitch),[oe,ee]=(0,C.q)(V,te,j),z=(0,c.z)(()=>ee==null?void 0:ee(!oe)),re=(0,c.z)(pe=>{if((0,P.P)(pe.currentTarget))return pe.preventDefault();pe.preventDefault(),z()}),se=(0,c.z)(pe=>{pe.key===g.R.Space?(pe.preventDefault(),z()):pe.key===g.R.Enter&&(0,M.g)(pe.currentTarget)}),fe=(0,c.z)(pe=>pe.preventDefault()),Ee=(0,t.useMemo)(()=>({checked:oe}),[oe]),ge={id:ne,ref:le,role:"switch",type:(0,v.f)(K,ae),tabIndex:0,"aria-checked":oe,"aria-labelledby":J==null?void 0:J.labelledby,"aria-describedby":J==null?void 0:J.describedby,onClick:re,onKeyUp:se,onKeyPress:fe},be=(0,L.G)();return(0,t.useEffect)(()=>{var pe;let Le=(pe=ae.current)==null?void 0:pe.closest("form");Le&&j!==void 0&&be.addEventListener(Le,"reset",()=>{ee(j)})},[ae,ee]),t.default.createElement(t.default.Fragment,null,ie!=null&&oe&&t.default.createElement(w._,kn({features:w.A.Hidden},(0,u.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:he,checked:oe,name:ie,value:ue}))),(0,u.sY)({ourProps:ge,theirProps:Z,slot:Ee,defaultTag:U,name:"Switch"}))}let $=(0,u.yV)(F),G=R,Q=Object.assign($,{Group:G,Label:l,Description:a.d})},5285:(H,E,e)=>{"use strict";e.d(E,{u:()=>J});var t=e(98661),u=e(12351),s=e(16567),g=e(32984),P=e(14879),y=e(16723),O=e(3855),c=e(82180),f=e(23784);function d(ae){let le={called:!1};return(...oe)=>{if(!le.called)return le.called=!0,ae(...oe)}}var T=e(9362);function D(ae,...le){ae&&le.length>0&&ae.classList.add(...le)}function I(ae,...le){ae&&le.length>0&&ae.classList.remove(...le)}function p(ae,le){let oe=(0,T.k)();if(!ae)return oe.dispose;let{transitionDuration:ee,transitionDelay:z}=getComputedStyle(ae),[re,se]=[ee,z].map(Ee=>{let[ge=0]=Ee.split(",").filter(Boolean).map(be=>be.includes("ms")?parseFloat(be):parseFloat(be)*1e3).sort((be,me)=>me-be);return ge}),fe=re+se;if(fe!==0){oe.group(ge=>{ge.setTimeout(()=>{le(),ge.dispose()},fe),ge.addEventListener(ae,"transitionrun",be=>{be.target===be.currentTarget&&ge.dispose()})});let Ee=oe.addEventListener(ae,"transitionend",ge=>{ge.target===ge.currentTarget&&(le(),Ee())})}else le();return oe.add(()=>le()),oe.dispose}function l(ae,le,oe,ee){let z=oe?"enter":"leave",re=(0,T.k)(),se=ee!==void 0?d(ee):()=>{};z==="enter"&&(ae.removeAttribute("hidden"),ae.style.display="");let fe=(0,g.E)(z,{enter:()=>le.enter,leave:()=>le.leave}),Ee=(0,g.E)(z,{enter:()=>le.enterTo,leave:()=>le.leaveTo}),ge=(0,g.E)(z,{enter:()=>le.enterFrom,leave:()=>le.leaveFrom});return I(ae,...le.enter,...le.enterTo,...le.enterFrom,...le.leave,...le.leaveFrom,...le.leaveTo,...le.entered),D(ae,...fe,...ge),re.nextFrame(()=>{I(ae,...ge),D(ae,...Ee),p(ae,()=>(I(ae,...fe),D(ae,...le.entered),se()))}),re.dispose}var a=e(94192);function v({container:ae,direction:le,classes:oe,onStart:ee,onStop:z}){let re=(0,P.t)(),se=(0,a.G)(),fe=(0,O.E)(le);(0,y.e)(()=>{let Ee=(0,T.k)();se.add(Ee.dispose);let ge=ae.current;if(ge&&fe.current!=="idle"&&re.current)return Ee.dispose(),ee.current(fe.current),Ee.add(l(ge,oe.current,fe.current==="enter",()=>{Ee.dispose(),z.current(fe.current)})),Ee.dispose},[le])}var w=e(73781),M=e(44067);function C(ae=0){let[le,oe]=(0,t.useState)(ae),ee=(0,P.t)(),z=(0,t.useCallback)(Ee=>{ee.current&&oe(ge=>ge|Ee)},[le,ee]),re=(0,t.useCallback)(Ee=>!!(le&Ee),[le]),se=(0,t.useCallback)(Ee=>{ee.current&&oe(ge=>ge&~Ee)},[oe,ee]),fe=(0,t.useCallback)(Ee=>{ee.current&&oe(ge=>ge^Ee)},[oe]);return{flags:le,addFlag:z,hasFlag:re,removeFlag:se,toggleFlag:fe}}function L(ae=""){return ae.split(" ").filter(le=>le.trim().length>1)}let S=(0,t.createContext)(null);S.displayName="TransitionContext";var N=(ae=>(ae.Visible="visible",ae.Hidden="hidden",ae))(N||{});function R(){let ae=(0,t.useContext)(S);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}function U(){let ae=(0,t.useContext)(F);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}let F=(0,t.createContext)(null);F.displayName="NestingContext";function $(ae){return"children"in ae?$(ae.children):ae.current.filter(({el:le})=>le.current!==null).filter(({state:le})=>le==="visible").length>0}function G(ae,le){let oe=(0,O.E)(ae),ee=(0,t.useRef)([]),z=(0,P.t)(),re=(0,a.G)(),se=(0,w.z)((Le,je=u.l4.Hidden)=>{let xe=ee.current.findIndex(({el:ye})=>ye===Le);xe!==-1&&((0,g.E)(je,{[u.l4.Unmount](){ee.current.splice(xe,1)},[u.l4.Hidden](){ee.current[xe].state="hidden"}}),re.microTask(()=>{var ye;!$(ee)&&z.current&&((ye=oe.current)==null||ye.call(oe))}))}),fe=(0,w.z)(Le=>{let je=ee.current.find(({el:xe})=>xe===Le);return je?je.state!=="visible"&&(je.state="visible"):ee.current.push({el:Le,state:"visible"}),()=>se(Le,u.l4.Unmount)}),Ee=(0,t.useRef)([]),ge=(0,t.useRef)(Promise.resolve()),be=(0,t.useRef)({enter:[],leave:[],idle:[]}),me=(0,w.z)((Le,je,xe)=>{Ee.current.splice(0),le&&(le.chains.current[je]=le.chains.current[je].filter(([ye])=>ye!==Le)),le==null||le.chains.current[je].push([Le,new Promise(ye=>{Ee.current.push(ye)})]),le==null||le.chains.current[je].push([Le,new Promise(ye=>{Promise.all(be.current[je].map(([Me,We])=>We)).then(()=>ye())})]),je==="enter"?ge.current=ge.current.then(()=>le==null?void 0:le.wait.current).then(()=>xe(je)):xe(je)}),pe=(0,w.z)((Le,je,xe)=>{Promise.all(be.current[je].splice(0).map(([ye,Me])=>Me)).then(()=>{var ye;(ye=Ee.current.shift())==null||ye()}).then(()=>xe(je))});return(0,t.useMemo)(()=>({children:ee,register:fe,unregister:se,onStart:me,onStop:pe,wait:ge,chains:be}),[fe,se,ee,me,pe,be,ge])}function Q(){}let K=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function W(ae){var le;let oe={};for(let ee of K)oe[ee]=(le=ae[ee])!=null?le:Q;return oe}function Y(ae){let le=(0,t.useRef)(W(ae));return(0,t.useEffect)(()=>{le.current=W(ae)},[ae]),le}let ne="div",V=u.AN.RenderStrategy;function j(ae,le){let vt=ae,{beforeEnter:oe,afterEnter:ee,beforeLeave:z,afterLeave:re,enter:se,enterFrom:fe,enterTo:Ee,entered:ge,leave:be,leaveFrom:me,leaveTo:pe}=vt,Le=Xn(vt,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),je=(0,t.useRef)(null),xe=(0,f.T)(je,le),ye=Le.unmount?u.l4.Unmount:u.l4.Hidden,{show:Me,appear:We,initial:De}=R(),[Ge,pt]=(0,t.useState)(Me?"visible":"hidden"),wt=U(),{register:Ht,unregister:nt}=wt,Ze=(0,t.useRef)(null);(0,t.useEffect)(()=>Ht(je),[Ht,je]),(0,t.useEffect)(()=>{if(ye===u.l4.Hidden&&je.current){if(Me&&Ge!=="visible"){pt("visible");return}return(0,g.E)(Ge,{hidden:()=>nt(je),visible:()=>Ht(je)})}},[Ge,je,Ht,nt,Me,ye]);let st=(0,O.E)({enter:L(se),enterFrom:L(fe),enterTo:L(Ee),entered:L(ge),leave:L(be),leaveFrom:L(me),leaveTo:L(pe)}),Ie=Y({beforeEnter:oe,afterEnter:ee,beforeLeave:z,afterLeave:re}),Pe=(0,c.H)();(0,t.useEffect)(()=>{if(Pe&&Ge==="visible"&&je.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[je,Ge,Pe]);let Ce=De&&!We,Be=(()=>!Pe||Ce||Ze.current===Me?"idle":Me?"enter":"leave")(),Ve=C(0),$e=(0,w.z)(Pt=>(0,g.E)(Pt,{enter:()=>{Ve.addFlag(s.ZM.Opening),Ie.current.beforeEnter()},leave:()=>{Ve.addFlag(s.ZM.Closing),Ie.current.beforeLeave()},idle:()=>{}})),Qe=(0,w.z)(Pt=>(0,g.E)(Pt,{enter:()=>{Ve.removeFlag(s.ZM.Opening),Ie.current.afterEnter()},leave:()=>{Ve.removeFlag(s.ZM.Closing),Ie.current.afterLeave()},idle:()=>{}})),ze=G(()=>{pt("hidden"),nt(je)},wt);v({container:je,classes:st,direction:Be,onStart:(0,O.E)(Pt=>{ze.onStart(je,Pt,$e)}),onStop:(0,O.E)(Pt=>{ze.onStop(je,Pt,Qe),Pt==="leave"&&!$(ze)&&(pt("hidden"),nt(je))})}),(0,t.useEffect)(()=>{Ce&&(ye===u.l4.Hidden?Ze.current=null:Ze.current=Me)},[Me,Ce,Ge]);let Ke=Le,lt={ref:xe};return We&&Me&&De&&(Ke=xo(kn({},Ke),{className:(0,M.A)(Le.className,...st.current.enter,...st.current.enterFrom)})),t.default.createElement(F.Provider,{value:ze},t.default.createElement(s.up,{value:(0,g.E)(Ge,{visible:s.ZM.Open,hidden:s.ZM.Closed})|Ve.flags},(0,u.sY)({ourProps:lt,theirProps:Ke,defaultTag:ne,features:V,visible:Ge==="visible",name:"Transition.Child"})))}function te(ae,le){let De=ae,{show:oe,appear:ee=!1,unmount:z}=De,re=Xn(De,["show","appear","unmount"]),se=(0,t.useRef)(null),fe=(0,f.T)(se,le);(0,c.H)();let Ee=(0,s.oJ)();if(oe===void 0&&Ee!==null&&(oe=(Ee&s.ZM.Open)===s.ZM.Open),![!0,!1].includes(oe))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ge,be]=(0,t.useState)(oe?"visible":"hidden"),me=G(()=>{be("hidden")}),[pe,Le]=(0,t.useState)(!0),je=(0,t.useRef)([oe]);(0,y.e)(()=>{pe!==!1&&je.current[je.current.length-1]!==oe&&(je.current.push(oe),Le(!1))},[je,oe]);let xe=(0,t.useMemo)(()=>({show:oe,appear:ee,initial:pe}),[oe,ee,pe]);(0,t.useEffect)(()=>{if(oe)be("visible");else if(!$(me))be("hidden");else{let Ge=se.current;if(!Ge)return;let pt=Ge.getBoundingClientRect();pt.x===0&&pt.y===0&&pt.width===0&&pt.height===0&&be("hidden")}},[oe,me]);let ye={unmount:z},Me=(0,w.z)(()=>{var Ge;pe&&Le(!1),(Ge=ae.beforeEnter)==null||Ge.call(ae)}),We=(0,w.z)(()=>{var Ge;pe&&Le(!1),(Ge=ae.beforeLeave)==null||Ge.call(ae)});return t.default.createElement(F.Provider,{value:me},t.default.createElement(S.Provider,{value:xe},(0,u.sY)({ourProps:xo(kn({},ye),{as:t.Fragment,children:t.default.createElement(he,xo(kn(kn({ref:fe},ye),re),{beforeEnter:Me,beforeLeave:We}))}),theirProps:{},defaultTag:t.Fragment,features:V,visible:ge==="visible",name:"Transition"})))}function ie(ae,le){let oe=(0,t.useContext)(S)!==null,ee=(0,s.oJ)()!==null;return t.default.createElement(t.default.Fragment,null,!oe&&ee?t.default.createElement(ue,kn({ref:le},ae)):t.default.createElement(he,kn({ref:le},ae)))}let ue=(0,u.yV)(te),he=(0,u.yV)(j),Z=(0,u.yV)(ie),J=Object.assign(ue,{Child:Z,Root:ue})},31147:(H,E,e)=>{"use strict";e.d(E,{q:()=>s});var t=e(98661),u=e(73781);function s(g,P,y){let[O,c]=(0,t.useState)(y),f=g!==void 0,d=(0,t.useRef)(f),T=(0,t.useRef)(!1),D=(0,t.useRef)(!1);return f&&!d.current&&!T.current?(T.current=!0,d.current=f,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!f&&d.current&&!D.current&&(D.current=!0,d.current=f,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[f?g:O,(0,u.z)(I=>(f||c(I),P==null?void 0:P(I)))]}},94192:(H,E,e)=>{"use strict";e.d(E,{G:()=>s});var t=e(98661),u=e(9362);function s(){let[g]=(0,t.useState)(u.k);return(0,t.useEffect)(()=>()=>g.dispose(),[g]),g}},73781:(H,E,e)=>{"use strict";e.d(E,{z:()=>s});var t=e(98661),u=e(3855);let s=function(g){let P=(0,u.E)(g);return t.default.useCallback((...y)=>P.current(...y),[P])}},19946:(H,E,e)=>{"use strict";e.d(E,{M:()=>y});var t=e(98661),u=e(16723),s=e(82180),g=e(77896),P;let y=(P=t.default.useId)!=null?P:function(){let O=(0,s.H)(),[c,f]=t.default.useState(O?()=>g.O.nextId():null);return(0,u.e)(()=>{c===null&&f(g.O.nextId())},[c]),c!=null?""+c:void 0}},14879:(H,E,e)=>{"use strict";e.d(E,{t:()=>s});var t=e(98661),u=e(16723);function s(){let g=(0,t.useRef)(!1);return(0,u.e)(()=>(g.current=!0,()=>{g.current=!1}),[]),g}},16723:(H,E,e)=>{"use strict";e.d(E,{e:()=>s});var t=e(98661),u=e(77896);let s=(g,P)=>{u.O.isServer?(0,t.useEffect)(g,P):(0,t.useLayoutEffect)(g,P)}},3855:(H,E,e)=>{"use strict";e.d(E,{E:()=>s});var t=e(98661),u=e(16723);function s(g){let P=(0,t.useRef)(g);return(0,u.e)(()=>{P.current=g},[g]),P}},43986:(H,E,e)=>{"use strict";e.d(E,{O:()=>y});var t=e(98661),u=e(84575),s=e(3855);function g(O,c,f){let d=(0,s.E)(c);(0,t.useEffect)(()=>{function T(D){d.current(D)}return document.addEventListener(O,T,f),()=>document.removeEventListener(O,T,f)},[O,f])}var P=e(7815);function y(O,c,f=!0){let d=(0,t.useRef)(!1);(0,t.useEffect)(()=>{requestAnimationFrame(()=>{d.current=f})},[f]);function T(I,p){if(!d.current||I.defaultPrevented)return;let l=p(I);if(l===null||!l.getRootNode().contains(l))return;let a=function v(w){return typeof w=="function"?v(w()):Array.isArray(w)||w instanceof Set?w:[w]}(O);for(let v of a){if(v===null)continue;let w=v instanceof HTMLElement?v:v.current;if(w!=null&&w.contains(l)||I.composed&&I.composedPath().includes(w))return}return!(0,u.sP)(l,u.tJ.Loose)&&l.tabIndex!==-1&&I.preventDefault(),c(I,l)}let D=(0,t.useRef)(null);g("mousedown",I=>{var p,l;d.current&&(D.current=((l=(p=I.composedPath)==null?void 0:p.call(I))==null?void 0:l[0])||I.target)},!0),g("click",I=>{D.current&&(T(I,()=>D.current),D.current=null)},!0),(0,P.s)("blur",I=>T(I,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}},14157:(H,E,e)=>{"use strict";e.d(E,{f:()=>g});var t=e(98661),u=e(16723);function s(P){var y;if(P.type)return P.type;let O=(y=P.as)!=null?y:"button";if(typeof O=="string"&&O.toLowerCase()==="button")return"button"}function g(P,y){let[O,c]=(0,t.useState)(()=>s(P));return(0,u.e)(()=>{c(s(P))},[P.type,P.as]),(0,u.e)(()=>{O||y.current&&y.current instanceof HTMLButtonElement&&!y.current.hasAttribute("type")&&c("button")},[O,y]),O}},82180:(H,E,e)=>{"use strict";e.d(E,{H:()=>s});var t=e(98661),u=e(77896);function s(){let[g,P]=(0,t.useState)(u.O.isHandoffComplete);return g&&u.O.isHandoffComplete===!1&&P(!1),(0,t.useEffect)(()=>{g!==!0&&P(!0)},[g]),(0,t.useEffect)(()=>u.O.handoff(),[]),g}},23784:(H,E,e)=>{"use strict";e.d(E,{T:()=>P,h:()=>g});var t=e(98661),u=e(73781);let s=Symbol();function g(y,O=!0){return Object.assign(y,{[s]:O})}function P(...y){let O=(0,t.useRef)(y);(0,t.useEffect)(()=>{O.current=y},[y]);let c=(0,u.z)(f=>{for(let d of O.current)d!=null&&(typeof d=="function"?d(f):d.current=f)});return y.every(f=>f==null||(f==null?void 0:f[s]))?void 0:c}},96599:(H,E,e)=>{"use strict";e.d(E,{q:()=>s});var t=e(98661),u=e(73781);function s(g,P){let y=(0,t.useRef)([]),O=(0,u.z)(g);(0,t.useEffect)(()=>{let c=[...y.current];for(let[f,d]of P.entries())if(y.current[f]!==d){let T=O(P,c);return y.current=P,T}},[O,...P])}},7815:(H,E,e)=>{"use strict";e.d(E,{s:()=>s});var t=e(98661),u=e(3855);function s(g,P,y){let O=(0,u.E)(P);(0,t.useEffect)(()=>{function c(f){O.current(f)}return window.addEventListener(g,c,y),()=>window.removeEventListener(g,c,y)},[g,y])}},46045:(H,E,e)=>{"use strict";e.d(E,{A:()=>s,_:()=>P});var t=e(12351);let u="div";var s=(y=>(y[y.None=1]="None",y[y.Focusable=2]="Focusable",y[y.Hidden=4]="Hidden",y))(s||{});function g(y,O){let T=y,{features:c=1}=T,f=Xn(T,["features"]),d={ref:O,"aria-hidden":(c&2)===2?!0:void 0,style:kn({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(c&4)===4&&(c&2)!==2&&{display:"none"})};return(0,t.sY)({ourProps:d,theirProps:f,slot:{},defaultTag:u,name:"Hidden"})}let P=(0,t.yV)(g)},16567:(H,E,e)=>{"use strict";e.d(E,{ZM:()=>s,oJ:()=>g,up:()=>P});var t=e(98661);let u=(0,t.createContext)(null);u.displayName="OpenClosedContext";var s=(y=>(y[y.Open=1]="Open",y[y.Closed=2]="Closed",y[y.Closing=4]="Closing",y[y.Opening=8]="Opening",y))(s||{});function g(){return(0,t.useContext)(u)}function P({value:y,children:O}){return t.default.createElement(u.Provider,{value:y},O)}},64103:(H,E,e)=>{"use strict";e.d(E,{P:()=>t});function t(s){let g=s.parentElement,P=null;for(;g&&!(g instanceof HTMLFieldSetElement);)g instanceof HTMLLegendElement&&(P=g),g=g.parentElement;let y=(g==null?void 0:g.getAttribute("disabled"))==="";return y&&u(P)?!1:y}function u(s){if(!s)return!1;let g=s.previousElementSibling;for(;g!==null;){if(g instanceof HTMLLegendElement)return!1;g=g.previousElementSibling}return!0}},44067:(H,E,e)=>{"use strict";e.d(E,{A:()=>t});function t(...u){return u.filter(Boolean).join(" ")}},9362:(H,E,e)=>{"use strict";e.d(E,{k:()=>u});var t=e(81021);function u(){let s=[],g={addEventListener(P,y,O,c){return P.addEventListener(y,O,c),g.add(()=>P.removeEventListener(y,O,c))},requestAnimationFrame(...P){let y=requestAnimationFrame(...P);return g.add(()=>cancelAnimationFrame(y))},nextFrame(...P){return g.requestAnimationFrame(()=>g.requestAnimationFrame(...P))},setTimeout(...P){let y=setTimeout(...P);return g.add(()=>clearTimeout(y))},microTask(...P){let y={current:!0};return(0,t.Y)(()=>{y.current&&P[0]()}),g.add(()=>{y.current=!1})},style(P,y,O){let c=P.style.getPropertyValue(y);return Object.assign(P.style,{[y]:O}),this.add(()=>{Object.assign(P.style,{[y]:c})})},group(P){let y=u();return P(y),this.add(()=>y.dispose())},add(P){return s.push(P),()=>{let y=s.indexOf(P);if(y>=0)for(let O of s.splice(y,1))O()}},dispose(){for(let P of s.splice(0))P()}};return g}},77896:(H,E,e)=>{"use strict";e.d(E,{O:()=>P});var t=Object.defineProperty,u=(y,O,c)=>O in y?t(y,O,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[O]=c,s=(y,O,c)=>(u(y,typeof O!="symbol"?O+"":O,c),c);class g{constructor(){s(this,"current",this.detect()),s(this,"handoffState","pending"),s(this,"currentId",0)}set(O){this.current!==O&&(this.handoffState="pending",this.currentId=0,this.current=O)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let P=new g},84575:(H,E,e)=>{"use strict";e.d(E,{C5:()=>D,TO:()=>g,fE:()=>P,jA:()=>v,sP:()=>f,tJ:()=>c,z2:()=>l});var t=e(32984),u=e(15466);let s=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(w=>`${w}:not([tabindex='-1'])`).join(",");var g=(w=>(w[w.First=1]="First",w[w.Previous=2]="Previous",w[w.Next=4]="Next",w[w.Last=8]="Last",w[w.WrapAround=16]="WrapAround",w[w.NoScroll=32]="NoScroll",w))(g||{}),P=(w=>(w[w.Error=0]="Error",w[w.Overflow=1]="Overflow",w[w.Success=2]="Success",w[w.Underflow=3]="Underflow",w))(P||{}),y=(w=>(w[w.Previous=-1]="Previous",w[w.Next=1]="Next",w))(y||{});function O(w=document.body){return w==null?[]:Array.from(w.querySelectorAll(s)).sort((M,C)=>Math.sign((M.tabIndex||Number.MAX_SAFE_INTEGER)-(C.tabIndex||Number.MAX_SAFE_INTEGER)))}var c=(w=>(w[w.Strict=0]="Strict",w[w.Loose=1]="Loose",w))(c||{});function f(w,M=0){var C;return w===((C=(0,u.r)(w))==null?void 0:C.body)?!1:(0,t.E)(M,{[0](){return w.matches(s)},[1](){let L=w;for(;L!==null;){if(L.matches(s))return!0;L=L.parentElement}return!1}})}function d(w){let M=m(w);b().nextFrame(()=>{M&&!f(M.activeElement,0)&&D(w)})}var T=(w=>(w[w.Keyboard=0]="Keyboard",w[w.Mouse=1]="Mouse",w))(T||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",w=>{w.metaKey||w.altKey||w.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",w=>{w.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:w.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function D(w){w==null||w.focus({preventScroll:!0})}let I=["textarea","input"].join(",");function p(w){var M,C;return(C=(M=w==null?void 0:w.matches)==null?void 0:M.call(w,I))!=null?C:!1}function l(w,M=C=>C){return w.slice().sort((C,L)=>{let S=M(C),N=M(L);if(S===null||N===null)return 0;let R=S.compareDocumentPosition(N);return R&Node.DOCUMENT_POSITION_FOLLOWING?-1:R&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function a(w,M){return v(O(),M,{relativeTo:w})}function v(w,M,{sorted:C=!0,relativeTo:L=null,skipElements:S=[]}={}){let N=Array.isArray(w)?w.length>0?w[0].ownerDocument:document:w.ownerDocument,R=Array.isArray(w)?C?l(w):w:O(w);S.length>0&&R.length>1&&(R=R.filter(W=>!S.includes(W))),L=L!=null?L:N.activeElement;let U=(()=>{if(M&5)return 1;if(M&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),F=(()=>{if(M&1)return 0;if(M&2)return Math.max(0,R.indexOf(L))-1;if(M&4)return Math.max(0,R.indexOf(L))+1;if(M&8)return R.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),$=M&32?{preventScroll:!0}:{},G=0,Q=R.length,K;do{if(G>=Q||G+Q<=0)return 0;let W=F+G;if(M&16)W=(W+Q)%Q;else{if(W<0)return 3;if(W>=Q)return 1}K=R[W],K==null||K.focus($),G+=U}while(K!==N.activeElement);return M&6&&p(K)&&K.select(),2}},18689:(H,E,e)=>{"use strict";e.d(E,{g:()=>g,t:()=>t});function t(P={},y=null,O=[]){for(let[c,f]of Object.entries(P))s(O,u(y,c),f);return O}function u(P,y){return P?P+"["+y+"]":y}function s(P,y,O){if(Array.isArray(O))for(let[c,f]of O.entries())s(P,u(y,c.toString()),f);else O instanceof Date?P.push([y,O.toISOString()]):typeof O=="boolean"?P.push([y,O?"1":"0"]):typeof O=="string"?P.push([y,O]):typeof O=="number"?P.push([y,`${O}`]):O==null?P.push([y,""]):t(O,y,P)}function g(P){var y;let O=(y=P==null?void 0:P.form)!=null?y:P.closest("form");if(O){for(let c of O.elements)if(c.tagName==="INPUT"&&c.type==="submit"||c.tagName==="BUTTON"&&c.type==="submit"||c.nodeName==="INPUT"&&c.type==="image"){c.click();return}}}},32984:(H,E,e)=>{"use strict";e.d(E,{E:()=>t});function t(u,s,...g){if(u in s){let y=s[u];return typeof y=="function"?y(...g):y}let P=new Error(`Tried to handle "${u}" but there is no handler defined. Only defined handlers are: ${Object.keys(s).map(y=>`"${y}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,t),P}},81021:(H,E,e)=>{"use strict";e.d(E,{Y:()=>t});function t(u){typeof queueMicrotask=="function"?queueMicrotask(u):Promise.resolve().then(u).catch(s=>setTimeout(()=>{throw s}))}},15466:(H,E,e)=>{"use strict";e.d(E,{r:()=>u});var t=e(77896);function u(s){return t.O.isServer?null:s instanceof Node?s.ownerDocument:s!=null&&s.hasOwnProperty("current")&&s.current instanceof Node?s.current.ownerDocument:document}},78657:(H,E,e)=>{"use strict";e.d(E,{gn:()=>t,tq:()=>s});function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function u(){return/Android/gi.test(window.navigator.userAgent)}function s(){return t()||u()}},12351:(H,E,e)=>{"use strict";e.d(E,{AN:()=>g,l4:()=>P,oA:()=>T,sY:()=>y,yV:()=>d});var t=e(98661),u=e(44067),s=e(32984),g=(I=>(I[I.None=0]="None",I[I.RenderStrategy=1]="RenderStrategy",I[I.Static=2]="Static",I))(g||{}),P=(I=>(I[I.Unmount=0]="Unmount",I[I.Hidden=1]="Hidden",I))(P||{});function y({ourProps:I,theirProps:p,slot:l,defaultTag:a,features:v,visible:w=!0,name:M}){let C=f(p,I);if(w)return O(C,l,a,M);let L=v!=null?v:0;if(L&2){let S=C,{static:R=!1}=S,U=Xn(S,["static"]);if(R)return O(U,l,a,M)}if(L&1){let N=C,{unmount:R=!0}=N,U=Xn(N,["unmount"]);return(0,s.E)(R?0:1,{[0](){return null},[1](){return O(xo(kn({},U),{hidden:!0,style:{display:"none"}}),l,a,M)}})}return O(C,l,a,M)}function O(I,p={},l,a){let R=D(I,["unmount","static"]),{as:v=l,children:w,refName:M="ref"}=R,C=Xn(R,["as","children","refName"]),L=I.ref!==void 0?{[M]:I.ref}:{},S=typeof w=="function"?w(p):w;"className"in C&&C.className&&typeof C.className=="function"&&(C.className=C.className(p));let N={};if(p){let U=!1,F=[];for(let[$,G]of Object.entries(p))typeof G=="boolean"&&(U=!0),G===!0&&F.push($);U&&(N["data-headlessui-state"]=F.join(" "))}if(v===t.Fragment&&Object.keys(T(C)).length>0){if(!(0,t.isValidElement)(S)||Array.isArray(S)&&S.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(C).map(G=>`  - ${G}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(G=>`  - ${G}`).join(`
`)].join(`
`));let U=S.props,F=typeof(U==null?void 0:U.className)=="function"?(...G)=>(0,u.A)(U==null?void 0:U.className(...G),C.className):(0,u.A)(U==null?void 0:U.className,C.className),$=F?{className:F}:{};return(0,t.cloneElement)(S,Object.assign({},f(S.props,T(D(C,["ref"]))),N,L,c(S.ref,L.ref),$))}return(0,t.createElement)(v,Object.assign({},D(C,["ref"]),v!==t.Fragment&&L,v!==t.Fragment&&N),S)}function c(...I){return{ref:I.every(p=>p==null)?void 0:p=>{for(let l of I)l!=null&&(typeof l=="function"?l(p):l.current=p)}}}function f(...I){var p;if(I.length===0)return{};if(I.length===1)return I[0];let l={},a={};for(let v of I)for(let w in v)w.startsWith("on")&&typeof v[w]=="function"?((p=a[w])!=null||(a[w]=[]),a[w].push(v[w])):l[w]=v[w];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(a).map(v=>[v,void 0])));for(let v in a)Object.assign(l,{[v](w,...M){let C=a[v];for(let L of C){if((w instanceof Event||(w==null?void 0:w.nativeEvent)instanceof Event)&&w.defaultPrevented)return;L(w,...M)}}});return l}function d(I){var p;return Object.assign((0,t.forwardRef)(I),{displayName:(p=I.displayName)!=null?p:I.name})}function T(I){let p=Object.assign({},I);for(let l in p)p[l]===void 0&&delete p[l];return p}function D(I,p=[]){let l=Object.assign({},I);for(let a of p)a in l&&delete l[a];return l}},11753:(H,E,e)=>{"use strict";e.d(E,{$l:()=>g,BN:()=>le,DY:()=>D,J$:()=>me,JN:()=>M,LI:()=>Y,PM:()=>O,W6:()=>K,i_:()=>s,kY:()=>ye,ko:()=>wt,kw:()=>W,mf:()=>y,o8:()=>P,qC:()=>j,s6:()=>Ge,sj:()=>ae,u3:()=>ie,u_:()=>Ee,w6:()=>Q});var t=e(98661);const u=()=>{},s=u(),g=Object,P=nt=>nt===s,y=nt=>typeof nt=="function",O=(nt,Ze)=>kn(kn({},nt),Ze),c=nt=>y(nt.then),f=new WeakMap;let d=0;const T=nt=>{const Ze=typeof nt,st=nt&&nt.constructor,Ie=st==Date;let Pe,Ce;if(g(nt)===nt&&!Ie&&st!=RegExp){if(Pe=f.get(nt),Pe)return Pe;if(Pe=++d+"~",f.set(nt,Pe),st==Array){for(Pe="@",Ce=0;Ce<nt.length;Ce++)Pe+=T(nt[Ce])+",";f.set(nt,Pe)}if(st==g){Pe="#";const Be=g.keys(nt).sort();for(;!P(Ce=Be.pop());)P(nt[Ce])||(Pe+=Ce+":"+T(nt[Ce])+",");f.set(nt,Pe)}}else Pe=Ie?nt.toJSON():Ze=="symbol"?nt.toString():Ze=="string"?JSON.stringify(nt):""+nt;return Pe},D=new WeakMap,I={},p={},l="undefined",a=typeof window!=l,v=typeof document!=l,w=()=>a&&typeof window.requestAnimationFrame!=l,M=(nt,Ze)=>{const st=D.get(nt);return[()=>!P(Ze)&&nt.get(Ze)||I,Ie=>{if(!P(Ze)){const Pe=nt.get(Ze);Ze in p||(p[Ze]=Pe),st[5](Ze,O(Pe,Ie),Pe||I)}},st[6],()=>!P(Ze)&&Ze in p?p[Ze]:!P(Ze)&&nt.get(Ze)||I]};let C=!0;const L=()=>C,[S,N]=a&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[u,u],R=()=>{const nt=v&&document.visibilityState;return P(nt)||nt!=="hidden"},U=nt=>(v&&document.addEventListener("visibilitychange",nt),S("focus",nt),()=>{v&&document.removeEventListener("visibilitychange",nt),N("focus",nt)}),F=nt=>{const Ze=()=>{C=!0,nt()},st=()=>{C=!1};return S("online",Ze),S("offline",st),()=>{N("online",Ze),N("offline",st)}},$={isOnline:L,isVisible:R},G={initFocus:U,initReconnect:F},Q=!t.default.useId,K=!a||"Deno"in window,W=nt=>w()?window.requestAnimationFrame(nt):setTimeout(nt,1),Y=K?t.useEffect:t.useLayoutEffect,ne=typeof navigator!="undefined"&&navigator.connection,V=!K&&ne&&(["slow-2g","2g"].includes(ne.effectiveType)||ne.saveData),j=nt=>{if(y(nt))try{nt=nt()}catch(st){nt=""}const Ze=nt;return nt=typeof nt=="string"?nt:(Array.isArray(nt)?nt.length:nt)?T(nt):"",[nt,Ze]};let te=0;const ie=()=>++te,ue=0,he=1,Z=2;var ae={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:ue,MUTATE_EVENT:Z,RECONNECT_EVENT:he};function le(...nt){return il(this,null,function*(){const[Ze,st,Ie,Pe]=nt,Ce=O({populateCache:!0,throwOnError:!0},typeof Pe=="boolean"?{revalidate:Pe}:Pe||{});let Be=Ce.populateCache;const Ve=Ce.rollbackOnError;let $e=Ce.optimisticData;const Qe=Ce.revalidate!==!1,ze=vt=>typeof Ve=="function"?Ve(vt):Ve!==!1,Ke=Ce.throwOnError;if(y(st)){const vt=st,Pt=[],Wt=Ze.keys();for(const Ut of Wt)!/^\$(inf|sub)\$/.test(Ut)&&vt(Ze.get(Ut)._k)&&Pt.push(Ut);return Promise.all(Pt.map(lt))}return lt(st);function lt(vt){return il(this,null,function*(){const[Pt]=j(vt);if(!Pt)return;const[Wt,Ut]=M(Ze,Pt),[jt,Vt,lr,Jt]=D.get(Ze),or=jt[Pt],Et=()=>Qe&&(delete lr[Pt],delete Jt[Pt],or&&or[0])?or[0](Z).then(()=>Wt().data):Wt().data;if(nt.length<3)return Et();let gr=Ie,Dr;const Or=ie();Vt[Pt]=[Or,0];const wr=!P($e),br=Wt(),Ar=br.data,jr=br._c,Ur=P(jr)?Ar:jr;if(wr&&($e=y($e)?$e(Ur,Ar):$e,Ut({data:$e,_c:Ur})),y(gr))try{gr=gr(Ur)}catch(Ir){Dr=Ir}if(gr&&c(gr))if(gr=yield gr.catch(Ir=>{Dr=Ir}),Or!==Vt[Pt][0]){if(Dr)throw Dr;return gr}else Dr&&wr&&ze(Dr)&&(Be=!0,gr=Ur,Ut({data:gr,_c:s}));Be&&(Dr||(y(Be)&&(gr=Be(gr,Ur)),Ut({data:gr,error:s,_c:s}))),Vt[Pt][1]=ie();const Er=yield Et();if(Ut({_c:s}),Dr){if(Ke)throw Dr;return}return Be?Er:gr})}})}const oe=(nt,Ze)=>{for(const st in nt)nt[st][0]&&nt[st][0](Ze)},ee=(nt,Ze)=>{if(!D.has(nt)){const st=O(G,Ze),Ie={},Pe=le.bind(s,nt);let Ce=u;const Be={},Ve=(ze,Ke)=>{const lt=Be[ze]||[];return Be[ze]=lt,lt.push(Ke),()=>lt.splice(lt.indexOf(Ke),1)},$e=(ze,Ke,lt)=>{nt.set(ze,Ke);const vt=Be[ze];if(vt)for(const Pt of vt)Pt(Ke,lt)},Qe=()=>{if(!D.has(nt)&&(D.set(nt,[Ie,{},{},{},Pe,$e,Ve]),!K)){const ze=st.initFocus(setTimeout.bind(s,oe.bind(s,Ie,ue))),Ke=st.initReconnect(setTimeout.bind(s,oe.bind(s,Ie,he)));Ce=()=>{ze&&ze(),Ke&&Ke(),D.delete(nt)}}};return Qe(),[nt,Pe,Qe,Ce]}return[nt,D.get(nt)[4]]},z=(nt,Ze,st,Ie,Pe)=>{const Ce=st.errorRetryCount,Be=Pe.retryCount,Ve=~~((Math.random()+.5)*(1<<(Be<8?Be:8)))*st.errorRetryInterval;!P(Ce)&&Be>Ce||setTimeout(Ie,Ve,Pe)},re=(nt,Ze)=>T(nt)==T(Ze),[se,fe]=ee(new Map),Ee=O({onLoadingSlow:u,onSuccess:u,onError:u,onErrorRetry:z,onDiscarded:u,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:V?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:V?5e3:3e3,compare:re,isPaused:()=>!1,cache:se,mutate:fe,fallback:{}},$),ge=(nt,Ze)=>{const st=O(nt,Ze);if(Ze){const{use:Ie,fallback:Pe}=nt,{use:Ce,fallback:Be}=Ze;Ie&&Ce&&(st.use=Ie.concat(Ce)),Pe&&Be&&(st.fallback=O(Pe,Be))}return st},be=(0,t.createContext)({}),me=nt=>{const{value:Ze}=nt,st=(0,t.useContext)(be),Ie=y(Ze),Pe=(0,t.useMemo)(()=>Ie?Ze(st):Ze,[Ie,st,Ze]),Ce=(0,t.useMemo)(()=>Ie?Pe:ge(st,Pe),[Ie,st,Pe]),Be=Pe&&Pe.provider,Ve=(0,t.useRef)(s);Be&&!Ve.current&&(Ve.current=ee(Be(Ce.cache||se),Pe));const $e=Ve.current;return $e&&(Ce.cache=$e[0],Ce.mutate=$e[1]),Y(()=>{if($e)return $e[2]&&$e[2](),$e[3]},[]),(0,t.createElement)(be.Provider,O(nt,{value:Ce}))},pe=a&&window.__SWR_DEVTOOLS_USE__,Le=pe?window.__SWR_DEVTOOLS_USE__:[],je=()=>{pe&&(window.__SWR_DEVTOOLS_REACT__=t.default)},xe=nt=>y(nt[1])?[nt[0],nt[1],nt[2]||{}]:[nt[0],null,(nt[1]===null?nt[2]:nt[1])||{}],ye=()=>O(Ee,(0,t.useContext)(be)),Me=(nt,Ze)=>{const[st,Ie]=j(nt),[,,,Pe]=D.get(se);if(Pe[st])return Pe[st];const Ce=Ze(Ie);return Pe[st]=Ce,Ce},We=nt=>(Ze,st,Ie)=>nt(Ze,st&&((...Ce)=>{const[Be]=j(Ze),[,,,Ve]=D.get(se),$e=Ve[Be];return P($e)?st(...Ce):(delete Ve[Be],$e)}),Ie),De=Le.concat(We),Ge=nt=>function(...st){const Ie=ye(),[Pe,Ce,Be]=xe(st),Ve=ge(Ie,Be);let $e=nt;const{use:Qe}=Ve,ze=(Qe||[]).concat(De);for(let Ke=ze.length;Ke--;)$e=ze[Ke]($e);return $e(Pe,Ce||Ve.fetcher||null,Ve)},pt=nt=>{const Ze=useState({})[1],st=useRef(!1),Ie=useRef(nt),Pe=useRef({data:!1,error:!1,isValidating:!1}),Ce=useCallback(Be=>{let Ve=!1;const $e=Ie.current;for(const Qe in Be){const ze=Qe;$e[ze]!==Be[ze]&&($e[ze]=Be[ze],Pe.current[ze]&&(Ve=!0))}Ve&&!st.current&&(Q?Ze({}):React.startTransition(()=>Ze({})))},[Ze]);return Y(()=>(st.current=!1,()=>{st.current=!0})),[Ie,Pe.current,Ce]},wt=(nt,Ze,st)=>{const Ie=Ze[nt]||(Ze[nt]=[]);return Ie.push(st),()=>{const Pe=Ie.indexOf(st);Pe>=0&&(Ie[Pe]=Ie[Ie.length-1],Ie.pop())}},Ht=(nt,Ze)=>(...st)=>{const[Ie,Pe,Ce]=xe(st),Be=(Ce.use||[]).concat(Ze);return nt(Ie,Pe,xo(kn({},Ce),{use:Be}))};je()},95591:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>f,kY:()=>s.kY});var t=e(98661),u=e(61688),s=e(11753);const g=d=>serialize(d)[0],P=t.default.use||(d=>{if(d.status==="pending")throw d;if(d.status==="fulfilled")return d.value;throw d.status==="rejected"?d.reason:(d.status="pending",d.then(T=>{d.status="fulfilled",d.value=T},T=>{d.status="rejected",d.reason=T}),d)}),y={dedupe:!0},O=(d,T,D)=>{const{cache:I,compare:p,suspense:l,fallbackData:a,revalidateOnMount:v,revalidateIfStale:w,refreshInterval:M,refreshWhenHidden:C,refreshWhenOffline:L,keepPreviousData:S}=D,[N,R,U,F]=s.DY.get(I),[$,G]=(0,s.qC)(d),Q=(0,t.useRef)(!1),K=(0,t.useRef)(!1),W=(0,t.useRef)($),Y=(0,t.useRef)(T),ne=(0,t.useRef)(D),V=()=>ne.current,j=()=>V().isVisible()&&V().isOnline(),[te,ie,ue,he]=(0,s.JN)(I,$),Z=(0,t.useRef)({}).current,J=(0,s.o8)(a)?D.fallback[$]:a,ae=(ye,Me)=>{for(const We in Z){const De=We;if(De==="data"){if(!p(ye[De],Me[De])&&(!(0,s.o8)(ye[De])||!p(ge,Me[De])))return!1}else if(Me[De]!==ye[De])return!1}return!0},le=(0,t.useMemo)(()=>{const ye=(()=>!$||!T?!1:(0,s.o8)(v)?V().isPaused()||l?!1:(0,s.o8)(w)?!0:w:v)(),Me=Ht=>{const nt=(0,s.PM)(Ht);return delete nt._k,ye?kn({isValidating:!0,isLoading:!0},nt):nt},We=te(),De=he(),Ge=Me(We),pt=We===De?Ge:Me(De);let wt=Ge;return[()=>{const Ht=Me(te());return ae(Ht,wt)?(wt.data=Ht.data,wt.isLoading=Ht.isLoading,wt.isValidating=Ht.isValidating,wt.error=Ht.error,wt):(wt=Ht,Ht)},()=>pt]},[I,$]),oe=(0,u.useSyncExternalStore)((0,t.useCallback)(ye=>ue($,(Me,We)=>{ae(We,Me)||ye()}),[I,$]),le[0],le[1]),ee=!Q.current,z=N[$]&&N[$].length>0,re=oe.data,se=(0,s.o8)(re)?J:re,fe=oe.error,Ee=(0,t.useRef)(se),ge=S?(0,s.o8)(re)?Ee.current:re:se,be=(()=>z&&!(0,s.o8)(fe)?!1:ee&&!(0,s.o8)(v)?v:V().isPaused()?!1:l?(0,s.o8)(se)?!1:w:(0,s.o8)(se)||w)(),me=!!($&&T&&ee&&be),pe=(0,s.o8)(oe.isValidating)?me:oe.isValidating,Le=(0,s.o8)(oe.isLoading)?me:oe.isLoading,je=(0,t.useCallback)(ye=>il(ef,null,function*(){const Me=Y.current;if(!$||!Me||K.current||V().isPaused())return!1;let We,De,Ge=!0;const pt=ye||{},wt=!U[$]||!pt.dedupe,Ht=()=>s.w6?!K.current&&$===W.current&&Q.current:$===W.current,nt={isValidating:!1,isLoading:!1},Ze=()=>{ie(nt)},st=()=>{const Pe=U[$];Pe&&Pe[1]===De&&delete U[$]},Ie={isValidating:!0};(0,s.o8)(te().data)&&(Ie.isLoading=!0);try{if(wt&&(ie(Ie),D.loadingTimeout&&(0,s.o8)(te().data)&&setTimeout(()=>{Ge&&Ht()&&V().onLoadingSlow($,D)},D.loadingTimeout),U[$]=[Me(G),(0,s.u3)()]),[We,De]=U[$],We=yield We,wt&&setTimeout(st,D.dedupingInterval),!U[$]||U[$][1]!==De)return wt&&Ht()&&V().onDiscarded($),!1;nt.error=s.i_;const Pe=R[$];if(!(0,s.o8)(Pe)&&(De<=Pe[0]||De<=Pe[1]||Pe[1]===0))return Ze(),wt&&Ht()&&V().onDiscarded($),!1;const Ce=te().data;nt.data=p(Ce,We)?Ce:We,wt&&Ht()&&V().onSuccess(We,$,D)}catch(Pe){st();const Ce=V(),{shouldRetryOnError:Be}=Ce;Ce.isPaused()||(nt.error=Pe,wt&&Ht()&&(Ce.onError(Pe,$,Ce),(Be===!0||(0,s.mf)(Be)&&Be(Pe))&&j()&&Ce.onErrorRetry(Pe,$,Ce,Ve=>{const $e=N[$];$e&&$e[0]&&$e[0](s.sj.ERROR_REVALIDATE_EVENT,Ve)},{retryCount:(pt.retryCount||0)+1,dedupe:!0})))}return Ge=!1,Ze(),!0}),[$,I]),xe=(0,t.useCallback)((...ye)=>(0,s.BN)(I,W.current,...ye),[]);if((0,s.LI)(()=>{Y.current=T,ne.current=D,(0,s.o8)(re)||(Ee.current=re)}),(0,s.LI)(()=>{if(!$)return;const ye=je.bind(s.i_,y);let Me=0;const We=(Ge,pt={})=>{if(Ge==s.sj.FOCUS_EVENT){const wt=Date.now();V().revalidateOnFocus&&wt>Me&&j()&&(Me=wt+V().focusThrottleInterval,ye())}else if(Ge==s.sj.RECONNECT_EVENT)V().revalidateOnReconnect&&j()&&ye();else{if(Ge==s.sj.MUTATE_EVENT)return je();if(Ge==s.sj.ERROR_REVALIDATE_EVENT)return je(pt)}},De=(0,s.ko)($,N,We);return K.current=!1,W.current=$,Q.current=!0,ie({_k:G}),be&&((0,s.o8)(se)||s.W6?ye():(0,s.kw)(ye)),()=>{K.current=!0,De()}},[$]),(0,s.LI)(()=>{let ye;function Me(){const De=(0,s.mf)(M)?M(te().data):M;De&&ye!==-1&&(ye=setTimeout(We,De))}function We(){!te().error&&(C||V().isVisible())&&(L||V().isOnline())?je(y).then(Me):Me()}return Me(),()=>{ye&&(clearTimeout(ye),ye=-1)}},[M,C,L,$]),(0,t.useDebugValue)(ge),l&&(0,s.o8)(se)&&$){if(!s.w6&&s.W6)throw new Error("Fallback data is required when using suspense in SSR.");Y.current=T,ne.current=D,K.current=!1;const ye=F[$];if(!(0,s.o8)(ye)){const Me=xe(ye);P(Me)}if((0,s.o8)(fe)){const Me=je(y);(0,s.o8)(ge)||(Me.status="fulfilled",Me.value=!0),P(Me)}else throw fe}return{mutate:xe,get data(){return Z.data=!0,ge},get error(){return Z.error=!0,fe},get isValidating(){return Z.isValidating=!0,pe},get isLoading(){return Z.isLoading=!0,Le}}},c=s.$l.defineProperty(s.J$,"defaultValue",{value:s.u_}),f=(0,s.s6)(O)},33600:H=>{"use strict";H.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:H=>{"use strict";H.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:H=>{"use strict";H.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:H=>{"use strict";H.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Ln={};function ke(H){var E=Ln[H];if(E!==void 0)return E.exports;var e=Ln[H]={id:H,loaded:!1,exports:{}};return Dn[H].call(e.exports,e,e.exports,ke),e.loaded=!0,e.exports}ke.m=Dn,ke.n=H=>{var E=H&&H.__esModule?()=>H.default:()=>H;return ke.d(E,{a:E}),E},(()=>{var H=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,E;ke.t=function(e,t){if(t&1&&(e=this(e)),t&8||typeof e=="object"&&e&&(t&4&&e.__esModule||t&16&&typeof e.then=="function"))return e;var u=Object.create(null);ke.r(u);var s={};E=E||[null,H({}),H([]),H(H)];for(var g=t&2&&e;typeof g=="object"&&!~E.indexOf(g);g=H(g))Object.getOwnPropertyNames(g).forEach(P=>s[P]=()=>e[P]);return s.default=()=>e,ke.d(u,s),u}})(),ke.d=(H,E)=>{for(var e in E)ke.o(E,e)&&!ke.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:E[e]})},ke.f={},ke.e=H=>Promise.all(Object.keys(ke.f).reduce((E,e)=>(ke.f[e](H,E),E),[])),ke.u=H=>""+H+"."+{361:"eb3f05429d7074441509",411:"652ca3b230d5f693c337",1107:"8ddb2f656ccf7feef01c",1321:"ee5703c939258849b690",1486:"11289ac512dff5dbdb22",1915:"25e0666e1dff47f53bfc",2301:"f626a29ffd2329c07b53",2372:"360558adec0a65828304",2685:"a49346db2831309788bd",2926:"0808b5a4b24c6834389d",3022:"33b6ee33a6733e6d1f8c",3428:"9784b89553730f4a6479",3882:"93c2e5d6118c7adbe5f2",4125:"7bee4b27e989aa6a94c7",4430:"63397dc9ea74d53f402c",4679:"2a9db06e4e05d07d8c9f",4695:"7222b2ce633789a5c73b",4747:"5e12e0c295168c4d6912",5156:"fa45059146a21203ca79",5297:"1955059c2d1007d0a39c",5388:"e628b738613dd8e944c2",5661:"a7e4e14ce1ef9dad711d",5874:"cbecf2bd7158f8d192a9",6203:"a64e508378a14e123879",6272:"9a313561490fb6d7daf4",7031:"f81460b7490c11ea5c6b",7250:"0187674cd8f1687f035b",7465:"99faa2430101cbbe5652",7525:"a28b0918161216d835fb",7602:"cd0d619bb14a60685b9d",7631:"01c17222a2d7fa7b57dd",8376:"71a36f7d16e1361c749b",8437:"acb714a59c42b52a23de",8442:"d67f6a1f7758b471da9f",8534:"6d59b1f7e41ca74a5e48",8855:"abc40f338699709f1847",8897:"d997197093875afdf629",9221:"20ade345ba34320f9053",9315:"6150977b98f55bd28b10",9435:"e18e04c617b3ca7bc394",9608:"88c23d8bcb468ee89a87",9721:"892f50e4d476b8ffbffd"}[H]+".chunk.js",ke.miniCssF=H=>""+H+"."+{411:"6155c11039f07f8e1411",3022:"ab0779e6ef7f327f9564",5156:"100c17fa89277faa3856",5297:"cb4f73e78897616c9a89",5661:"2e367785f1455c7d6167",7250:"717832ef072839abcae5",7465:"ea4f223d0eb944aa53f1",7602:"909f4ed2d45cc533db63",8437:"1acd0712bdb39d48282e",8897:"eadee6f6e28831b1c475",9608:"3cafcf83bfec0abff715",9721:"144f863802257874c445"}[H]+".css",ke.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(H){if(typeof window=="object")return window}}(),ke.hmd=H=>(H=Object.create(H),H.children||(H.children=[]),Object.defineProperty(H,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+H.id)}}),H),ke.o=(H,E)=>Object.prototype.hasOwnProperty.call(H,E),(()=>{var H={},E="substack:";ke.l=(e,t,u,s)=>{if(H[e]){H[e].push(t);return}var g,P;if(u!==void 0)for(var y=document.getElementsByTagName("script"),O=0;O<y.length;O++){var c=y[O];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==E+u){g=c;break}}g||(P=!0,g=document.createElement("script"),g.charset="utf-8",g.timeout=120,ke.nc&&g.setAttribute("nonce",ke.nc),g.setAttribute("data-webpack",E+u),g.src=e),H[e]=[t];var f=(T,D)=>{g.onerror=g.onload=null,clearTimeout(d);var I=H[e];if(delete H[e],g.parentNode&&g.parentNode.removeChild(g),I&&I.forEach(p=>p(D)),T)return T(D)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=f.bind(null,g.onerror),g.onload=f.bind(null,g.onload),P&&document.head.appendChild(g)}})(),ke.r=H=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})},ke.nmd=H=>(H.paths=[],H.children||(H.children=[]),H),ke.j=179,ke.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var H=(u,s,g,P,y)=>{var O=document.createElement("link");O.rel="stylesheet",O.type="text/css";var c=f=>{if(O.onerror=O.onload=null,f.type==="load")P();else{var d=f&&(f.type==="load"?"missing":f.type),T=f&&f.target&&f.target.href||s,D=new Error("Loading CSS chunk "+u+` failed.
(`+T+")");D.code="CSS_CHUNK_LOAD_FAILED",D.type=d,D.request=T,O.parentNode&&O.parentNode.removeChild(O),y(D)}};return O.onerror=O.onload=c,O.href=s,g?g.parentNode.insertBefore(O,g.nextSibling):document.head.appendChild(O),O},E=(u,s)=>{for(var g=document.getElementsByTagName("link"),P=0;P<g.length;P++){var y=g[P],O=y.getAttribute("data-href")||y.getAttribute("href");if(y.rel==="stylesheet"&&(O===u||O===s))return y}for(var c=document.getElementsByTagName("style"),P=0;P<c.length;P++){var y=c[P],O=y.getAttribute("data-href");if(O===u||O===s)return y}},e=u=>new Promise((s,g)=>{var P=ke.miniCssF(u),y=ke.p+P;if(E(P,y))return s();H(u,y,null,s,g)}),t={179:0,5297:0,7465:0,5661:0,3934:0,9435:0,8855:0,2685:0,5388:0,2372:0,8534:0,5578:0,361:0,3043:0,7031:0,8897:0,1107:0,2019:0,3428:0,2926:0,1321:0,2181:0,6203:0};ke.f.miniCss=(u,s)=>{var g={411:1,3022:1,5156:1,5297:1,5661:1,7250:1,7465:1,7602:1,8437:1,8897:1,9608:1,9721:1};t[u]?s.push(t[u]):t[u]!==0&&g[u]&&s.push(t[u]=e(u).then(()=>{t[u]=0},P=>{throw delete t[u],P}))}}})(),(()=>{var H={179:0,5297:0,7465:0,5661:0,3934:0,9435:0,8855:0,2685:0,5388:0,2372:0,8534:0,5578:0,361:0,3043:0,7031:0,8897:0,1107:0,2019:0,3428:0,2926:0,1321:0,2181:0,6203:0};ke.f.j=(t,u)=>{var s=ke.o(H,t)?H[t]:void 0;if(s!==0)if(s)u.push(s[2]);else if(/^(411|7465)$/.test(t))H[t]=0;else{var g=new Promise((c,f)=>s=H[t]=[c,f]);u.push(s[2]=g);var P=ke.p+ke.u(t),y=new Error,O=c=>{if(ke.o(H,t)&&(s=H[t],s!==0&&(H[t]=void 0),s)){var f=c&&(c.type==="load"?"missing":c.type),d=c&&c.target&&c.target.src;y.message="Loading chunk "+t+` failed.
(`+f+": "+d+")",y.name="ChunkLoadError",y.type=f,y.request=d,s[1](y)}};ke.l(P,O,"chunk-"+t,t)}};var E=(t,u)=>{var[s,g,P]=u,y,O,c=0;if(s.some(d=>H[d]!==0)){for(y in g)ke.o(g,y)&&(ke.m[y]=g[y]);if(P)var f=P(ke)}for(t&&t(u);c<s.length;c++)O=s[c],ke.o(H,O)&&H[O]&&H[O][0](),H[O]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(E.bind(null,0)),e.push=E.bind(null,e.push.bind(e))})();var Go={};(()=>{"use strict";var H=ke(78515),E=ke(72496),e=ke(6400),t=ke(30396),u=ke(94184),s=ke.n(u),g=ke(1469),P=ke.n(g),y=ke(20042),O=ke(56232),c=ke(13045),f=ke(52743),d=ke(3258),T=ke(90304);const D=1e3*60*60*24,I="domain-redirect-time";class p extends e.Component{constructor(r,o){super(r,o),this.state=r.initialData||{}}componentDidMount(){const r=this.loadedWithLikelyLoggedInParam()?"param":null;r&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:r}):this.useIframe()&&window.addEventListener("message",o=>this.handleFrameMessage(o))}shouldBlockLoginRedirect(){var r;const o=parseInt((0,T.mM)(I,0));return this.state.block_auto_login||!((r=this.state.pub)!=null&&r.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-o<=D||Object.prototype.hasOwnProperty.call((0,f.parseQuery)(window.location.toString()),"triedSigningIn")}handleFrameMessage(r){var o,i,_;if(((o=r.data)==null?void 0:o.type)!=="frame-state")return;const A=!this.shouldBlockLoginRedirect()&&((i=r.data)==null?void 0:i.loggedInAtSubstack);(0,d.track)(d.EVENTS.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(_=r.data)==null?void 0:_.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:A}),A&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:r}={}){var o;(0,d.track)(d.EVENTS.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:r==="param",source:r}),(0,T.ex)(I,`${Date.now()}`),location.href=(0,f.getSigninUrl)({for_pub:(o=this.state.pub)==null?void 0:o.subdomain,justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!Object.prototype.hasOwnProperty.call((0,f.parseQuery)(window._preloads.original_url),"lli")}useIframe(){var r,o;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((r=this.state.pub)!=null&&r.custom_domain)||(0,f.urlIsRegularlyShownInIframe)((o=window==null?void 0:window.location)==null?void 0:o.href))}render(){return this.useIframe()?(0,e.h)("iframe",{src:`${(0,f.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}):null}}var l=ke(28488),a=ke(43887),v=ke(76193),w=ke(18597),M=ke(15516),C=ke(33705),L=ke(32076);function S(n,r){return[...Array(2*n.length-1)].map((o,i)=>i%2?r:n[i/2])}const N=({publication:n,className:r,utm_source:o})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(F,{className:r,utm_source:o});case"demographyunplugged":return(0,e.h)($,{className:r,utm_source:o});default:return(0,e.h)(U,{pub:n,className:r,utm_source:o})}},R=({publication:n})=>{const{iString:r}=(0,l.M1)();if((n==null?void 0:n.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(a.xv,{translated:!0,size:14,className:"tos"},"Substack's ",(0,e.h)(Q,{href:(0,f.getSubstackPrivacyUrl)()},"Privacy"),","," ",(0,e.h)(Q,{href:(0,f.getSubstackTermsUrl)()},"Terms")," and"," ",(0,e.h)(Q,{href:(0,f.getInfoCollectionUrl)()},"Information Collection Notice")),(0,e.h)(a.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy")," and"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms")));const o=[(0,e.h)(Q,{href:(0,f.getSubstackPrivacyUrl)()},r("Privacy")),(0,e.h)(Q,{href:(0,f.getSubstackTermsUrl)()},r("Terms")),(0,e.h)(Q,{href:(0,f.getInfoCollectionUrl)()},r("Collection notice"))];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&o.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)(Q,{href:"https://www.activisionblizzard.com/legal/privacy-policy"},"Privacy Policy"))),(n==null?void 0:n.subdomain)==="demographyunplugged"&&(o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy Policy"))),o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms")))),(0,e.h)(e.Fragment,null,S(o,(0,e.h)("span",null," \u2219 ")))},U=({pub:n,className:r,utm_source:o})=>{const{iString:i}=(0,l.M1)(),{getSettingFor:_}=(0,L.So)(),A=_("custom_tos_and_privacy");let k=null;return A&&(n.has_custom_tos&&n.has_custom_privacy?k=(0,e.h)(a.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(Q,{href:(0,f.getPublisherTermsUrl)({pub:n,utm_source:o})},"Terms of Service")," ","and ",(0,e.h)(Q,{href:(0,f.getPublisherPrivacyUrl)({pub:n,utm_source:o})},"Privacy Policy")):n.has_custom_tos?k=(0,e.h)(a.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(Q,{href:(0,f.getPublisherTermsUrl)({pub:n,utm_source:o})},"Terms of Service")):n.has_custom_privacy&&(k=(0,e.h)(a.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(Q,{href:(0,f.getPublisherPrivacyUrl)({pub:n,utm_source:o})},"Privacy Policy")))),(0,e.h)(a.xv.B3,{size:14,color:"tertiary",className:r!=null?r:"tos"},i("By registering you agree to")," ",[k&&(0,e.h)(e.Fragment,null,k,", "),(0,e.h)(a.xv,{as:"span",translated:!0},"Substack's ",(0,e.h)(Q,{href:(0,f.getSubstackTermsUrl)({utm_source:o})},"Terms of Service")),(0,e.h)(a.xv,{as:"span",translated:!0},", our ",(0,e.h)(Q,{href:(0,f.getSubstackPrivacyUrl)({utm_source:o})},"Privacy Policy")),(0,e.h)(a.xv,{as:"span",translated:!0},", and our ",(0,e.h)(Q,{href:(0,f.getInfoCollectionUrl)({utm_source:o})},"Information Collection Notice"))])},F=({className:n,utm_source:r})=>(0,e.h)(a.xv.B3,{translated:!0,size:14,color:"tertiary",className:n!=null?n:"tos"},"By registering you agree to Substack's"," ",(0,e.h)(Q,{href:(0,f.getSubstackTermsUrl)({utm_source:r})},"Terms of Service"),", our"," ",(0,e.h)(Q,{href:(0,f.getSubstackPrivacyUrl)({utm_source:r})},"Privacy Policy"),", our"," ",(0,e.h)(Q,{href:(0,f.getInfoCollectionUrl)({utm_source:r})},"Information Collection Notice"),", and Activision's"," ",(0,e.h)(Q,{href:"https://www.activisionblizzard.com/legal/privacy-policy"},"Privacy Policy")),$=({className:n,utm_source:r})=>(0,e.h)("div",{className:n!=null?n:"tos"},(0,e.h)(a.xv.B3,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)(Q,{href:(0,f.getSubstackTermsUrl)({utm_source:r})},"Terms of Service"),", our"," ",(0,e.h)(Q,{href:(0,f.getSubstackPrivacyUrl)({utm_source:r})},"Privacy Policy"),", our"," ",(0,e.h)(Q,{href:(0,f.getInfoCollectionUrl)({utm_source:r})},"Information Collection Notice"),"."),(0,e.h)(a.xv.B3,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy Policy")," and"," ",(0,e.h)(Q,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms of Service"),"."),(0,e.h)(a.xv.B3,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails.")),G=({pub:n})=>{const r=[];return n.has_custom_privacy&&r.push((0,e.h)(Q,{href:(0,f.getPublisherPrivacyUrl)({pub:n})},"Publisher Privacy")),n.has_custom_tos&&r.push((0,e.h)(Q,{href:(0,f.getPublisherTermsUrl)({pub:n})},"Publisher Terms")),(0,e.h)("div",null,(0,e.h)(a.xv.B3,{size:14,color:"tertial"},S(r,(0,e.h)("span",null," \u2219 "))))},Q=({children:n,href:r})=>(0,e.h)("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n),K=({hideTerms:n,pub:r,showIntrinioAttrib:o})=>{const{getSettingFor:i}=(0,L.So)(),_=i("custom_tos_and_privacy")&&(r.has_custom_tos||r.has_custom_privacy),A=(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",r&&r.copyright||"Substack Inc"),k=(0,e.h)(e.Fragment,null,o&&(0,e.h)(c.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!n&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(R,{publication:r})));return _?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"footer-blurbs"},A,!n&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(G,{pub:r}))),(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"Substack"),k)):(0,e.h)("div",{className:"footer-blurbs"},A,k)};var W=ke(17025),Y=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class ne extends e.Component{constructor(){super(...arguments),this.checkVisibility=()=>{if(!this.ref)return;const r=this.ref.getBoundingClientRect(),o=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),_=!(r.bottom<0-o||r.top>=i+o);(0,W.stateTransaction)(this,(A,k)=>Y(this,null,function*(){if(A.isVisible!==_)this.setState({isVisible:_});else if(!k.noDedupe)return;const x=_?"hadFirstVisible":"hadFirstInvisible",q=!A[x];q&&this.setState({[x]:!0}),(yield Promise.all([_&&k.onVisible&&k.onVisible(),_&&k.onFirstVisible&&q&&k.onFirstVisible(),!_&&k.onInvisible&&k.onInvisible(),!_&&k.onFirstInvisible&&q&&k.onFirstInvisible()])).reduce((_e,ve)=>ve===!0||_e)&&this.checkVisibility()}))}}componentDidMount(){return Y(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(r=>setTimeout(r,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:r,children:o}){return(0,e.h)("div",{ref:i=>this.ref=i,className:s()("visibility-check",r)},o)}}const V={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"};var j=ke(59009),te=ke(63270);const ie=({publication:n,user:r,path:o,hideTerms:i,showIntrinioAttrib:_})=>{const{iString:A}=(0,l.M1)();typeof i=="undefined"&&(i=!1);const k=(0,w.Tf)(),B=(0,v.isMobile)(),x=(0,v.isIos)(),q=(0,v.isAndroid)(),de=B&&(x||q),_e=r&&!r.reader_installed_at,ve=de&&_e;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(ne,{onVisible:()=>{(0,d.track)(d.EVENTS.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:r==null?void 0:r.id,source:ue(o)})}}),(0,e.h)("div",{className:s()("footer",{"themed-background":k})},(0,e.h)("div",{className:"container"},(0,e.h)(K,{hideTerms:i,pub:n,showIntrinioAttrib:_}),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:s()("footer-substack-cta","start-publishing",ve&&"app-upsell"),native:!0,href:r!=null&&r.has_publication?`${(0,f.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,f.getSubstackUrl)()}/signup?${(0,f.serializeQuery)({utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.web,utm_content:j.UTM_CONTENT.footer})}`},(0,e.h)(M.Z,null)," ",A("Start Writing")),!ve&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,f.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton})},A("Get the app")),ve&&x&&(0,e.h)("a",{className:V.appBadge,href:(0,f.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton,force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,f.imginary)("/img/app_page/app-store.png",160*2)})),ve&&q&&(0,e.h)("a",{className:V.appBadge,href:(0,f.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton,force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,f.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(a.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,f.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function ue(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const he=({slug:n,categoriesMap:r,setExpandCategories:o,hide:i})=>{const{iString:_,iTemplate:A}=useI18N();return n==="collapse"?h("u",null,h("a",{onClick:()=>o(!1)},"See less categories")):n==="expand"?h("u",null,h("a",{onClick:()=>o(!0)},"See more categories")):r[n]?h("a",{href:`${getBaseUrl()}/top/${r[n].slug}`,native:!0,style:{display:i?"none":void 0}},A`Top in ${_(r[n].canonical_name)}`):null},Z=({categories:n})=>{const{iString:r,iTemplate:o}=useI18N(),{getConfigFor:i}=useSiteConfigs(),[_,A]=useState(!1),k={culture:`/discover/category/culture/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,"food & drink":`/discover/category/food/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,finance:`/discover/category/finance/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,sports:`/discover/category/sports/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,politics:`/discover/category/politics/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,technology:`/discover/category/technology/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,faith:`/discover/category/faith/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,business:`/discover/category/business/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`},B=["culture","food","finance","sports","politics","technology","faith","business"],x=(n==null?void 0:n.length)>0?n==null?void 0:n.map(de=>de==null?void 0:de.slug).filter(de=>!B.includes(de)):[],q={};if((n==null?void 0:n.length)>0)for(const de of n)de&&(q[de.slug]=de);return h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,r("Read")),h("a",{href:`/discover?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Discover")),h("a",{href:`/app?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Get the app")),h("a",{href:`https://on.substack.com/s/stories?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Featured")),h("a",{href:`https://reader.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Substack Reader")),!!i("enable_i18n_marketing_site")&&h("a",{href:"/globe",native:!0},r("Substack around the world")),h("a",{href:`/discover/category/podcast/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Top podcasts")),(n==null?void 0:n.length)>0?B.concat(x).concat(_?"collapse":"expand").filter(de=>de!=="podcast").map(de=>h(he,{slug:de,categoriesMap:q,setExpandCategories:A,hide:x.includes(de)&&!_})):Object.entries(k).map(([de,_e])=>h("a",{href:_e,native:!0},o`Top in ${de}`))),h("div",{className:"footer-info-col"},h("h3",null,r("Writers")),h("a",{href:`/switch?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Switch to Substack")),h("a",{href:`/ghost?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Switch from Ghost")),h("a",{href:`https://on.substack.com/p/start-a-substack-newsletter?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Get started")),h("a",{href:`/going-paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Go paid")),h("a",{href:`/podcasts?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For podcasts")),h("a",{href:`/for-bloggers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For bloggers")),h("a",{href:`/investing-and-business?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For finance writers")),h("a",{href:`/book?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For authors")),h("a",{href:`/comic-book-creators?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For comic creators")),h("a",{href:`/food-writers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For food writers")),h("a",{href:`/local-news?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For local news"))),h("div",{className:"footer-info-col"},h("h3",null,r("Company")),h("a",{href:getAboutUrl(null,{params:{utm_source:UTM_SOURCE.substack,utm_medium:UTM_MEDIUM.web,utm_content:UTM_CONTENT.footer}}),native:!0},r("About")),h("a",{href:getSupportUrl()},r("Help")),h("a",{href:`/jobs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Jobs")),h("a",{href:`https://on.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Blog")),h("a",{href:`/vulnerability-disclosure?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Vulnerability Policy")),h("a",{href:`/contact?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Contact")),h("a",{href:"/sitemap",native:!0},r("Sitemap"))),h("div",{className:"footer-info-col"},h("h3",null,r("Resources")),h("a",{href:`/resources?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Resource center")),h("a",{href:`/going-paid-guide?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Guide to going paid")),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},r("Help center")),h("a",{href:`/community-and-programs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Community and programs")),h("a",{href:`/brand?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Brand assets")))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},r("Substack is the home for great writing"))))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"ios"})}},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"android"})}},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getSubstackPrivacyUrl(),native:!0},r("Privacy")),h("a",{className:"bottom-item",href:getSubstackTermsUrl(),native:!0},r("Terms")),h("a",{className:"bottom-item",href:getInfoCollectionUrl(),native:!0},r("Collection notice")))))},J={pageContainer:"frontend-components-html_page-module__pageContainer--EjWRc"};class ae extends e.Component{render({html:r,children:o,metadata:i}){return(0,e.h)("div",{className:s()(J.pageContainer,"container-border")},(0,W.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},o,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:r}}))))}}var le=ke(36808);const oe="balance-text",ee=100,z=10,re=4;function se(n){Ee(n)&&(n.style.maxWidth="",fe(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function fe(n,r,o,i){if(i-o<re){n.clientHeight>r?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(o>=i){n.style.maxWidth=`${i}px`;return}const _=(o+i)/2;n.style.maxWidth=`${_}px`,n.clientHeight>r?fe(n,r,_,i):fe(n,r,o,_)}function Ee(n){var r;const o=n.innerHTML,i=n.textContent.split(" "),_=document.createElement("span");_.id="element-first-word",_.textContent=i.shift(),n.innerHTML="",n.appendChild(_),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const A=((r=document.getElementById("element-first-word"))==null?void 0:r.offsetHeight)||_.offsetHeight,k=n.offsetHeight;return n.innerHTML=o,k-z>A}class ge extends e.Component{constructor(r,o){super(r,o),this.debouncedRebalance=(0,W.debounce)(()=>this.rebalance(),ee)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(r){return r.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&se(this.base)}render({text:r}){return(0,e.h)("span",{"data-testid":"balanced-text",className:oe,style:{display:"inline-block"}},r)}}var be=ke(7922),me=ke(84040),pe=ke(51126),Le=ke(8925);const xe=({allowAllDay:n,redirect:r,onCancel:o})=>{const[i,_]=(0,t.eJ)(!1);return(0,e.h)(Le.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=r||"/",autoLock:!0},(0,e.h)(pe.tu,{gap:8},(0,e.h)(a.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(a.xv.H2,null,"Support Mode"),(0,e.h)(a.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(pe.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:A=>_(A.target.checked)})," ",(0,e.h)(a.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(pe.gq,{gap:8,paddingTop:8},(0,e.h)(me.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),o&&(0,e.h)(me.zx,{priority:"secondary",onClick:o},"Cancel"))))};var ye=ke(84420),Me=ke(26059),We=ke(11851),De=ke(34755),Ge=Object.defineProperty,pt=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,Ht=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,st=(n,r,o)=>r in n?Ge(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ie=(n,r)=>{for(var o in r||(r={}))nt.call(r,o)&&st(n,o,r[o]);if(Ht)for(var o of Ht(r))Ze.call(r,o)&&st(n,o,r[o]);return n},Pe=(n,r)=>pt(n,wt(r));const Be=n=>(0,e.h)(De.l,Pe(Ie({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Ve({text:n,maxLines:r,ellipsesText:o="..."}){const i=(0,t.sO)(null),[_,A]=(0,t.eJ)(n);return(0,t.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const x=(i.current.clientHeight+1)*r+1;let q=0,de=0,_e=n.length;for(;q<=_e;){if(de=Math.floor((q+_e)/2),i.current.innerText=n.slice(0,de),de===n.length&&i.current.clientHeight<=x){i.current.innerText="",A(n);return}i.current.clientHeight<=x?q=de+1:_e=de-1}const ve=n.slice(0,de-o.length-2);i.current.innerText="",A(ve+o)})()},[i,n,r,o]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,_),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var $e=ke(63397),Qe=ke(79786),ze=ke(80569),Ke=ke.n(ze),lt=ke(94930),vt=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Pt={};function Wt(n,r,o,i,_){return vt(this,arguments,function*(A,k,B,{required:x=!1,group:q=!1,gift:de=!1},_e){if(!B){_e(null);return}B in Pt||(_e({id:B,required:x,loading:!0}),Pt[B]=yield jt(B));const ve=Pt[B],Oe=ve&&ve.type==="FREE_TRIAL"&&k&&(yield Vt(B));Oe&&Oe.length&&x?_e({id:ve&&ve.id||B,code:ve&&ve.code,name:ve&&ve.name,required:x,error:!0,message:"This coupon has already been redeemed by this user."}):(0,lt.isCouponValid)(ve,{is_group:q,is_gift:de,paywallFreeTrialEnabled:A.paywall_free_trial_enabled})&&(A.plans||[]).filter(Se=>(0,lt.isCouponValidForPlan)(ve,Se)).length>0?_e(Object.assign({required:x},ve)):_e(x?{id:ve&&ve.id||B,code:ve&&ve.code,name:ve&&ve.name,required:x,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Ut(n){return vt(this,null,function*(){let r;try{if(r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,r&&r.length&&n){const i=yield Vt(r[0].id);if(i&&i.length)throw new Error("User has already redeemed this free trial coupon")}}catch(o){return console.error("Failed to fetch coupons:",o),null}return r.length>0?r[0]:null})}function jt(n){return vt(this,null,function*(){try{return(yield Ke().get(`/api/v1/coupon/${n}`)).body}catch(r){return console.error("Failed to fetch coupon:",r),null}})}function Vt(n){return vt(this,null,function*(){try{return(yield Ke().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(r){return console.error("Failed to fetch coupon redemptions:",r),null}})}function lr(n){return vt(this,null,function*(){try{const o=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!o||o.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else o[0].valid===!1?yield request.put(`/api/v1/coupon/${o[0].id}`).send(Object.assign({},o[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${o[0].id} already enabled but attempted to be enabled`);return 0}catch(r){return console.error("Failed to create free trial coupon:",r),1}})}function Jt(){return vt(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!r||r.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var or=ke(6385),Et=ke(83322),gr=ke(4190);const Dr=({children:n,separator:r})=>{const o=[],i=(0,e.toChildArray)(n);return i.forEach((_,A)=>{o.push(_),A!==i.length-1&&o.push(r)}),(0,e.h)(e.Fragment,null,o)};var Or=ke(31845),wr=ke(11688),br=Object.defineProperty,Ar=Object.defineProperties,jr=Object.getOwnPropertyDescriptors,Ur=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,Kr=(n,r,o)=>r in n?br(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,rn=(n,r)=>{for(var o in r||(r={}))Er.call(r,o)&&Kr(n,o,r[o]);if(Ur)for(var o of Ur(r))Ir.call(r,o)&&Kr(n,o,r[o]);return n},En=(n,r)=>Ar(n,jr(r)),Pn=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const an="intro_popup_last_hidden_at";function Fn(n,{language:r}){const o=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(A=>A.interval==="month").sort((A,k)=>A.amount-k.amount)[0],i=!n.disable_annual_subscriptions&&n.plans&&n.plans.filter(A=>A.interval==="year").sort((A,k)=>A.amount-k.amount)[0],_=o||i;if(_)return(0,Et.planBasePricing)(_,{language:r})}function In(n,{includePrice:r=!0,includeRankingDetail:o=!0,includeByline:i=!0,includeBadge:_=!1,rankingDetailOverrideText:A=null,language:k="en"}={}){const B=k||n.language,{iTemplate:x}=I18N.i(k||n.language),q=(0,Et.getByLine)(n);let de=null;return o&&(de=A||(n.rankingDetailByLanguage&&B!=="en"&&n.rankingDetailByLanguage[B]?n.rankingDetailByLanguage[B].rankingDetail:n.rankingDetail)),(0,e.h)(Dr,{separator:" \xB7 "},i&&q?(0,e.h)(pe.hs,{inline:!0,gap:4},x`By ${q}`,_&&(0,e.h)(wr.cr,{module:"../pencraft/unstable/UserBadge",resolve:_e=>_e.UserBadge,onRequest:()=>Promise.all([ke.e(2372),ke.e(5297)]).then(ke.bind(ke,95297)),size:"sm",tier:n.author_bestseller_tier,userId:n.author_id,whileLoading:n.author_bestseller_tier?(0,e.h)(pe.hs,{alignItems:"center"},(0,e.h)(Or.o,{size:"sm",tier:n.author_bestseller_tier})):null})):null,de,r&&Fn(n,{language:k}))}function _n({publication:n,user:r,post:o,onHide:i,freeSignup:_,hidden:A,alwaysShow:k,showOnMount:B,freeSignupEmail:x,coupon:q,email:de,referralCode:_e,noBalance:ve,blurbs:Oe,launchWelcomePage:Se}){var we,Re;const{getConfigFor:Fe}=(0,te.xR)(),He=Fe("welcome_page_query_params"),[ut,et]=(0,t.eJ)(null),[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(!!(Se||k)),Dt=(Ot,Mt)=>{var kt;return He&&(kt=(0,f.getQueryItem)(Ot))!=null?kt:Mt},[Lt]=(0,t.eJ)(Dt("no_skip",void 0)),[Ft]=(0,t.eJ)(Dt("no_blurbs",!1)),[It]=(0,t.eJ)(()=>{const Ot=Dt("hero_text",void 0);return Ot?decodeURIComponent(Ot):void 0}),{getExperimentVariant:Qt,exposeExperiment:Xt}=(0,gr.jc)();(0,t.d4)(()=>{if(Se&&!Gt()||fr()){if(typeof window!="undefined"&&((0,W.addClass)(document.documentElement,"has-intro-popup"),Wt(n,r,q,{required:!0},Ot=>et(Ot))),(0,f.getQueryItem)("r")){const Ot=(0,f.getQueryItem)("r");(!r||(0,Et.userReferralKey)(r)!==Ot)&&(0,d.track)(d.EVENTS.COVER_PAGE_REFERRAL_VISIT,{referral_key:Ot,referring_user:(0,Et.userFromReferralKey)(Ot)})}ar()}else i&&i(),(0,H.a)({hide_intro_popup:!0}),typeof window!="undefined"&&(0,W.removeClass)(document.documentElement,"has-intro-popup"),!k&&typeof window!="undefined"&&(0,W.hasClass)(document.documentElement,"show-intro-popup")&&(0,W.removeClass)(document.documentElement,"show-intro-popup");return["no_skip","no_blurbs","hero_text"].forEach(Ot=>(0,W.removeQueryParam)(Ot)),()=>{typeof window!="undefined"&&(0,W.removeClass)(document.documentElement,"has-intro-popup"),At(!0)}},[]);const ar=()=>{typeof window!="undefined"&&((0,W.addClass)(document.documentElement,"show-intro-popup"),(0,d.track)(d.EVENTS.COVER_PAGE_SHOWN,{has_cover_photo:!!n.cover_photo_url,has_free_signup_email:!!x,has_free_signup:!!_,functional_version:!0,launch_welcome_page:Se,always_show:k,hidden:A,test_experiment_variant_v4:Qt("test_experiment_v4"),test_experiment_variant_v4_run2:Qt("test_experiment_v4_run2")}),Xt("test_experiment_v4"),Xt("test_experiment_v4_run2"),k||(0,d.sendPublisherGaEvent)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),St(!0)},fr=()=>k?!0:A?!1:B||rt?!0:!(Gt()||!(typeof o=="undefined"||o===null||o&&!(0,or.isPaidAudience)(o.audience))||_||r&&(r.is_free_subscribed||r.is_subscribed)),At=Ot=>{Ot||(cr(),setTimeout(()=>{(0,H.a)({hide_intro_popup:!0})},500)),i&&i(),!k&&typeof window!="undefined"&&(0,W.hasClass)(document.documentElement,"show-intro-popup")&&(0,W.removeClass)(document.documentElement,"show-intro-popup")},Gt=()=>{const Ot=le.get(an);if(Ot){const Mt=new Date(Ot),kt=new Date(Date.now()-24*60*60*1e3);if(Mt>kt)return!0}return!1},cr=()=>{le.set(an,new Date().toJSON(),{expires:365*10})},nr=Ot=>Pn(this,null,function*(){(0,d.track)(d.EVENTS.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!Ot.body.prompt_to_login,has_plans:!!n.plans,functional_version:!0}),cr(),gt(!0),(0,H.a)({freeSignup:!0,freeSignupEmail:Ot.body.email});const Mt=k?"/":document.location.href;Ot.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,f.pathWithQuery)("/account/login",{redirect:Mt,email:Ot.body.email})},30):document.location.href=(0,f.pathWithQuery)("/subscribe",En(rn(rn({next:Mt,later:!0,just_signed_up:!0},Ot.body.subscription_id&&{subscription_id:Ot.body.subscription_id}),Ot.body.referral_token&&{referral_token:Ot.body.referral_token}),{coupon:q,requires_confirmation:Ot.body.requires_confirmation?"true":"",utm_source:j.UTM_SOURCE.coverPage,email:Ot.body.email,skip_redirect_check:!0}))}),er=()=>{(0,d.track)(d.EVENTS.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),At()};return!Tt||!fr()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(xt,{source:"cover_page",email:de,pub:n,user:r,freeSignup:_,freeSignupEmail:x,referralCode:_e,forceSignup:(Re=(we=(0,f.getQueryItem)("force"))!=null?we:Lt)!=null?Re:void 0,coupon:ut!=null?ut:void 0,onMaybeLater:Lt?void 0:er,onFreeSignup:nr,markAsHidden:cr,blurbs:Oe,noBalance:ve,hideBlurbs:Ft,overrideSubtitle:It})))}const jn=n=>h("div",{className:"intro-inline"},h(xt,rn({},n))),xt=({pub:n,user:r,email:o,freeSignup:i,freeSignupEmail:_,referralCode:A,source:k,coupon:B,forceSignup:x,submitButtonText:q,onMaybeLater:de,onFreeSignup:_e,noBalance:ve,markAsHidden:Oe,blurbs:Se,hideBlurbs:we,overrideSubtitle:Re})=>{const Fe=(0,t.qp)(L.vz),{iString:He}=(0,l.M1)(),{exposeExperiment:ut}=(0,gr.jc)(),et=(0,f.getQueryItem)("referralCode"),rt=(0,f.getQueryItem)("refSource"),gt=He("Learn More"),Tt=(0,f.getAboutUrl)(n,{params:rn(rn({utm_source:j.UTM_SOURCE.subscribeEmail,utm_content:j.UTM_CONTENT.learnMore},et&&{referralCode:et}),rt&&{refSource:rt})});(0,t.d4)(()=>{k==="subscribe_page"&&(0,d.track)(d.EVENTS.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,d.track)(d.EVENTS.FULL_EMAIL_FORM_SHOWN,{source:k,functional_version:!0})},[k]);const St=Se&&!we?Se.filter(Dt=>Dt.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},de&&!n.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:de,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(Me.Z,null)),(0,e.h)(Xe,{pub:n,noBalance:ve,overrideSubtitle:Re}),B&&B.required&&(0,e.h)("p",{className:`coupon ${B.loading?"loading":""} ${B.error?"error":""}`},B.loading?He("Loading coupon"):B.error?He("Invalid coupon!"):He("Valid coupon!"),` ${(B.name||B.id).toUpperCase()}`),n.invite_only&&(!r||!r.is_free_subscribed)?(0,e.h)(Zt,{pub:n,user:r,freeSignupEmail:_}):(0,e.h)(e.Fragment,null,(0,e.h)(pe.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(pe.tu,{gap:4,style:{width:"100%",maxWidth:"380px"}},(0,e.h)(ye.Z,{email:o,isWelcomePageColor:!0,freeSignup:i,freeSignupEmail:_,markWelcomePageAsHidden:Oe,pub:n,referralCode:A,source:k,submitButtonText:q,user:r,onConfirmationRequired:n.payments_state==="enabled"?()=>null:void 0,onMaybeLater:de,onSuccess:_e||(()=>document.location.href="/"),autoFocus:!0}))),!x&&(de?(0,e.h)("a",{onClick:Dt=>Dt.preventDefault(),className:"no-styles"},(0,e.h)(be.Z,{className:"maybe-later",onClick:de},Fe.getSettingFor("welcome_page_opt_out_text")==="No thanks"?He("No thanks"):Fe.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(Be,null))):(0,e.h)(be.Z,{className:"maybe-later",href:Tt},gt,(0,e.h)(Be,null)))),!!(St!=null&&St.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(St!=null&&St.length)&&(0,e.h)(pe.gq,{className:"blurbs",gap:20},St.map(Dt=>(0,e.h)(pe.tu,{gap:8,className:"blurb"},(0,e.h)(a.xv.B4,{className:"blurb-text"},(0,e.h)(Ve,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Dt.description}\u201D`})),(0,e.h)(a.xv.B4,{weight:"semibold",className:"blurb-text"},Dt.author_name||Dt.recommendingPublication.email_from_name||Dt.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,f.getBaseUrl)(Dt.recommendingPublication)},Dt.recommendingPublication.name)))))),(0,e.h)(N,{publication:n}))};class Rt extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const r=this.props.user;return(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin)},this.showCustomerSupportModeModal=()=>{var r;this.canTurnOnCustomerSupportMode()&&((r=this.customerSupportModeModal)==null||r.open())}}componentDidMount(){var r;const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o&&this.emailInput?this.emailInput.value=o:!o&&!(0,W.isMobileBrowser)()&&((r=this.emailInput)==null||r.focus())}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)($e.p,{className:"account-info-customer-support-mode-modal",ref:r=>this.customerSupportModeModal=r},(0,e.h)(xe,{redirect:(0,f.getQueryItem)("redirect")||"/publish/home",onCancel:r=>{var o;return(o=this.customerSupportModeModal)==null?void 0:o.close(r)},allowAllDay:!1}))}render({pub:r,user:o,freeSignupEmail:i,iString:_},{loading:A,success:k}){const B=i||o&&o.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(Le.ZP,{className:"subscription-request-form",ref:x=>this.form=x,noInlineErrors:!0,action:(0,f.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,f.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:x=>{this.setState({loading:!1}),alert((0,W.getNetworkErrorMessage)(x,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:E.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:E.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:E.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:E.xU}),!!B&&(0,W.inputPrefillHack)(),(0,e.h)(pe.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:x=>this.emailInput=x,readOnly:!!(B||A),disabled:!!(A||k||B),placeholder:_("Type your email...")}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(be.Z,{className:s()(k?"secondary":"primary"),type:"submit",disabled:!!(A||k),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},_(k?"Requested":"Subscribe"))))),(0,e.h)(pe.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(We.Z,{className:"private-lock-icon"}),(0,e.h)(pe.tu,{gap:2},(0,e.h)(a.xv.B4,{translated:!0,weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(a.xv.B4,{translated:!0,className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,f.getSigninUrl)({for_pub:r.subdomain,redirect:"/",change_user:!!(o||i)}),native:!0},(0,e.h)(a.xv,{as:"span",translated:!0},"Already a member?")," ",o||i?(0,e.h)(a.xv,{weight:"bold",as:"span",translated:!0},"Switch accounts"):(0,e.h)(a.xv,{weight:"bold",as:"span",translated:!0},"Sign in")))}}Rt.state={loading:!1,success:!1};const Zt=(0,l.fz)(Rt),Xe=({pub:n,noBalance:r,overrideSubtitle:o})=>{var i;const{getSettingFor:_}=(0,L.So)(),{getConfigFor:A}=(0,te.xR)(),{language:k}=(0,l.M1)(),B=A("section_specific_welcome_pages");let x,q,de,_e,ve,Oe;B&&n.section?(x=n.section.name,q=n.section.description,de=(i=n.section.logo_url)!=null?i:n.logo_url,_e=n.section.cover_photo_url,ve=!!(_e&&n.section.hide_intro_title),Oe=!!(_e&&n.section.hide_intro_subtitle)):(x=n.name,q=n.hero_text,de=n.logo_url,_e=n.cover_photo_url,ve=!!(_e&&n.hide_intro_title),Oe=!!(_e&&n.hide_intro_subtitle)),o&&(q=o);const Se=_("display_welcome_page_details"),we=_e&&(0,f.extractDimensionsFromImageUrl)(_e);return(0,e.h)(e.Fragment,null,_e?(0,e.h)(Qe.e,{className:"publication-cover-photo",src:_e,imageProps:{quality:"auto:best"},maxWidth:1360,loading:"eager",style:rn({},we&&we.width&&{height:`min(35vh, ${680*we.height/we.width}px)`})}):de&&(0,e.h)(Qe.e,{className:"publication-logo",src:de,imageProps:{quality:"auto:best"},maxWidth:264,loading:"eager"}),!ve&&(0,e.h)("h1",{className:s()("publication-name",{"no-logo":!de,"with-cover":_e})},r?x:(0,e.h)(ge,{text:x})),!Oe&&q&&(0,e.h)("p",{className:s()("publication-tagline with-cover",{verbose:!0,"with-cover":_e})},r?q:(0,e.h)(ge,{text:q})),(0,e.h)("div",{className:"publication-meta"},In(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:!!Se,language:k})))};function ot(n,r){for(const[o,i]of Object.entries(r))i!=null&&(n[o]=i);return n}function Ue(n){return Object.fromEntries(Object.entries(n).filter(([r,o])=>o!=null))}function tt(n){var r,o,i;return n.link_title||((r=n.postTag)==null?void 0:r.name)||((o=n.section)==null?void 0:o.name)||((i=n.post)==null?void 0:i.title)||""}function ft(n){var r;return n.postTag?"tag":n.section?"section":((r=n.post)==null?void 0:r.type)==="page"?"page":n.post?"post":"link"}function Ct(n,{isPodcastActive:r,isChatActive:o,isMeetingsActive:i,hasMultipleNewsletters:_,isChatEnabled:A,isFeedEnabled:k,isReaderReferralsLeaderboardActive:B,language:x="en"}){var q;const de=n.filter(Se=>!Se.standard_key),_e=new Map(n.filter(Se=>Se.standard_key).map(Se=>[Se.standard_key,Se])),{iString:ve}=I18N.i(x);for(const Se of de)(q=Se.section)!=null&&q.hide_from_navbar&&(Se.is_hidden=!0);const Oe=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},A&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!o},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...de,{standard_key:"archive",link_title:ve("Archive"),link_url:"/archive"},_&&{standard_key:"newsletters",link_title:ve("Newsletters"),link_url:"/newsletters",is_hidden:!0},B&&{standard_key:"leaderboard",link_title:ve("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:ve("About"),link_url:"/about"}].filter(Se=>!!Se);for(const Se of Oe)if(Se.standard_key){const we=_e.get(Se.standard_key);we&&ot(Se,we)}return Oe}var yt=ke(20501),Te=ke(98661),Ye=Object.defineProperty,dt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Kt=Object.getOwnPropertySymbols,_r=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,pr=(n,r,o)=>r in n?Ye(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mr=(n,r)=>{for(var o in r||(r={}))_r.call(r,o)&&pr(n,o,r[o]);if(Kt)for(var o of Kt(r))dr.call(r,o)&&pr(n,o,r[o]);return n},Jr=(n,r)=>dt(n,Nt(r)),Xr;const Mr=typeof window!="undefined"&&window._preloads||gr.xu,sn=typeof window!="undefined"?(Xr=window._preloads)==null?void 0:Xr.siteConfigs:{},zr=(n,r)=>mr(mr({},(0,gr.ng)(n,r)),(0,te.Xz)(n)),On=(0,e.createContext)(zr(sn,Mr));On.displayName="ExperimentsAndSiteConfigContext";function zn({siteConfigs:n={},experimentInfo:r,children:o}){const i=r||Mr,_=(0,t.Ye)(()=>zr(n,i),[n,i]);return(0,e.h)(On.Provider,{value:_},o)}function gn(){return useContext(On)}const wn=n=>{const r=forwardRef((o,i)=>{const _=gn();return h(n,Jr(mr(mr({},_),o),{ref:i}))});return r.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,r};var hn=ke(44396),Zn=ke(85928),Hr=ke.n(Zn),pn=ke(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=(0,pn.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=(0,pn.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(0,pn.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var _o=ke(97868),eo=Object.defineProperty,go=Object.defineProperties,zo=Object.getOwnPropertyDescriptors,Uo=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Bo=Object.prototype.propertyIsEnumerable,ko=(n,r,o)=>r in n?eo(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Zo=(n,r)=>{for(var o in r||(r={}))So.call(r,o)&&ko(n,o,r[o]);if(Uo)for(var o of Uo(r))Bo.call(r,o)&&ko(n,o,r[o]);return n},ua=(n,r)=>go(n,zo(r));const wa=n=>(0,e.h)(De.l,ua(Zo({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Sa=Object.defineProperty,Fo=Object.defineProperties,Qn=Object.getOwnPropertyDescriptors,Co=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Vn=(n,r,o)=>r in n?Sa(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Wo=(n,r)=>{for(var o in r||(r={}))Wn.call(r,o)&&Vn(n,o,r[o]);if(Co)for(var o of Co(r))to.call(r,o)&&Vn(n,o,r[o]);return n},Ua=(n,r)=>Fo(n,Qn(r));const Ba=n=>(0,e.h)(De.l,Ua(Wo({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var ka=Object.defineProperty,ci=Object.defineProperties,da=Object.getOwnPropertyDescriptors,so=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,ct=(n,r,o)=>r in n?ka(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mt=(n,r)=>{for(var o in r||(r={}))ta.call(r,o)&&ct(n,o,r[o]);if(so)for(var o of so(r))at.call(r,o)&&ct(n,o,r[o]);return n},Yt=(n,r)=>ci(n,da(r));const vr=n=>(0,e.h)(De.l,Yt(mt({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Pr=Object.defineProperty,sr=Object.defineProperties,Sr=Object.getOwnPropertyDescriptors,Cr=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Gr=Object.prototype.propertyIsEnumerable,Vr=(n,r,o)=>r in n?Pr(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nn=(n,r)=>{for(var o in r||(r={}))Yr.call(r,o)&&Vr(n,o,r[o]);if(Cr)for(var o of Cr(r))Gr.call(r,o)&&Vr(n,o,r[o]);return n},vn=(n,r)=>sr(n,Sr(r));const Ne=n=>(0,e.h)(De.l,vn(nn({},n),{name:"LucideTabHome",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3.00034 9.4876C3.00034 9.17901 3.14281 8.88919 3.3864 8.69973L12.0003 2L20.6143 8.69973C20.8579 8.88919 21.0003 9.17923 21.0003 9.48782C21.0003 12.4545 21.0003 22 21.0003 22H15V15C15 13.3431 13.6569 12 12 12V12C10.3431 12 9 13.3431 9 15V22H3C3 22 3.00032 13.9501 3.00034 9.4876Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Je=Object.defineProperty,ht=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,ur=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,Sn=(n,r,o)=>r in n?Je(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mn=(n,r)=>{for(var o in r||(r={}))Nr.call(r,o)&&Sn(n,o,r[o]);if(ur)for(var o of ur(r))fn.call(r,o)&&Sn(n,o,r[o]);return n},Mn=(n,r)=>ht(n,Bt(r));const jo=n=>(0,e.h)(De.l,Mn(mn({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"})),Yo=(0,e.createContext)(!1);var lo=ke(85065);function Io(n,r){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,f.getStartPublishingUrl)(r)};if(n.subdomain)return{type:"dashboard",url:(0,f.getDashboardUrlForSubdomain)(n.subdomain,{params:r})}}return null}function Di(n,r){return n!=null&&n.profile_set_up_at?(0,f.getReaderProfileUrl)(n,r):(0,f.getProfileSetupUrl)(r!=null&&r.utm_source?{utm_source:r.utm_source}:void 0)}function Ai(n){return n?"/browse/recommendations":"/browse/staff-picks"}var Fa=ke(22850),Ca=ke(51415),Ho=ke(44454);const Ta={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function Po({className:n,responsive:r,count:o}){return(0,e.h)(pe.hs,{alignItems:"center",justifyContent:"center",radius:12,className:s()(Ta.badge,r&&Ta.responsive,!o&&Ta.binary,n)},o&&(0,e.h)(a.xv.Digit,{color:"bg-light"},o<100?o:"99+"))}var ra=ke(74285),ro=ke(67963),Wa=Object.defineProperty,on=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,qn=Object.getOwnPropertySymbols,Xo=Object.prototype.hasOwnProperty,di=Object.prototype.propertyIsEnumerable,Ni=(n,r,o)=>r in n?Wa(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ja=(n,r)=>{for(var o in r||(r={}))Xo.call(r,o)&&Ni(n,o,r[o]);if(qn)for(var o of qn(r))di.call(r,o)&&Ni(n,o,r[o]);return n},Ia=(n,r)=>on(n,Jo(r)),Ha=(n,r)=>{var o={};for(var i in n)Xo.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&qn)for(var i of qn(n))r.indexOf(i)<0&&di.call(n,i)&&(o[i]=n[i]);return o};const no=j.UTM_SOURCE.userMenu,fi=`https://support.substack.com/hc/en-us/?utm_source=${no}`,Li=40;function Ru(n){var r=n,{user:o,pub:i}=r,_=Ha(r,["user","pub"]);const{iString:A}=(0,l.M1)(),k=(0,t.qp)(Yo);return(0,e.h)(e.Fragment,null,o?(0,e.h)(xu,Ia(ja({},_),{user:o,pub:i})):(0,e.h)(be.Z,{href:(0,f.getSigninUrl)({for_pub:i==null?void 0:i.subdomain}),native:"true",className:s()("sign-in-link outline-grayscale",{"force-desktop":k})},A("Sign in")))}function xu(n){var r=n,{className:o,user:i,pub:_,showBadge:A=!0}=r,k=Ha(r,["className","user","pub","showBadge"]);const{iString:B}=(0,l.M1)(),{activityUnreadCount:x}=(0,lo.lR)(),q=(0,t.qp)(Yo),de=(0,hn.XA)()&&!q,{element:_e,toggle:ve}=sl(Ia(ja({},k),{user:i,pub:_}));return(0,e.h)(be.Z,{className:s()(o,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":q}),onClick:ve},de&&A&&x>0&&(0,e.h)(Ca.in,{className:s()("user-indicator-badge",x<10&&"user-indicator-badge-circle")},(0,e.h)(c.hs,{alignItems:"center",justifyContent:"center"},x<100?x:"99+")),(0,e.h)(mo,{className:s()("user-indicator-icon",{"force-desktop":q}),size:20,strokeWidth:2}),(0,e.h)("img",{className:s()("menu-trigger-image",{"force-desktop":q}),src:(0,f.imginary)((0,f.getUserPhotoUrl)(i),2*Li,{height:2*Li,crop:"fill"})}),_e)}function tf(n){var r=n,{user:o}=r,i=Ha(r,["user"]);const{element:_,toggle:A}=sl(Ia(ja({},i),{user:o}));return h(Fragment,null,h(UnstyledButton,{resetCss:!0,onClick:A},h(Avatar,{user:o,size:36})),_)}function sl({user:n,pub:r,enableCustomerServiceMode:o,disableCustomerServiceMode:i,freeSignup:_,fixedTooltip:A}){var k;const{iString:B}=(0,l.M1)(),{activityUnreadCount:x}=(0,lo.lR)(),[q,de]=(0,Ho.EJ)(),_e=(0,te.xR)(),ve=(0,ro.SE)(),{getExposedVariant:Oe}=(0,gr.jc)();let Se="",we="";n&&(Se=n!=null&&n.profile_set_up_at&&n.name?n.name:n.email,we=n!=null&&n.profile_set_up_at?n.name?n.email:null:B("Set up your profile"));const Re=({active:rt})=>{(0,d.track)(rt?d.EVENTS.USER_MENU_OPENED:d.EVENTS.USER_MENU_DISMISSED)},Fe=n?Io(n,{utm_source:no}):null,He=r&&(_||n&&(n.is_subscribed||n.is_free_subscribed)),ut=Di(n,{utm_source:no});return{element:(0,e.h)(ra.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Ho.ZP,{className:s()({"fixed-tooltip":A}),ref:q,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:Re},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:ut,className:"profile-header",onClick:()=>(0,d.track)(d.EVENTS.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,f.imginary)((0,f.getUserPhotoUrl)(n),2*Li,{height:2*Li,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Se),we&&(0,e.h)("div",{className:"h2"},we))),(0,e.h)("hr",null),n&&(0,e.h)(e.Fragment,null,(0,e.h)(uo,{url:(0,f.getFeedUrl)({urlParams:{utm_source:no}}),analyticsEvent:d.EVENTS.USER_MENU_FEED_CLICKED},(0,e.h)(Va,{Icon:Ne})," ",B("Home")),(0,e.h)(uo,{url:(0,f.getBaseReaderUrl)({utm_source:no}),analyticsEvent:d.EVENTS.USER_MENU_READER_CLICKED},(0,e.h)(Va,{Icon:jo})," ",B("Inbox")),(0,e.h)(uo,{url:(0,f.getBrowseCategoryUrl)(),analyticsEvent:d.EVENTS.USER_MENU_DISCOVER_CLICKED},(0,e.h)(Va,{Icon:vr})," ",B("Explore")),(0,e.h)(uo,{url:(0,yt.getChatUrl)(),analyticsEvent:d.EVENTS.USER_MENU_CHAT_CLICKED},(0,e.h)(Va,{Icon:Ba})," ",B("Chat")),(0,e.h)(uo,{url:(0,f.getNotificationsUrl)({utm_source:no}),analyticsEvent:d.EVENTS.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(Va,{Icon:wa})," ",B("Activity"),x>0?(0,e.h)(Po,{className:"indicator-badge",count:x}):null),(0,e.h)(uo,{url:Fe.url},(0,e.h)(Va,{Icon:Fe.type==="no-dashboard"?Eo:Yn,className:"start-writing-icon"})," ",Fe.type==="no-dashboard"?B("Start writing"):B("Writer dashboard"))),(0,e.h)("hr",null),He&&(0,e.h)(uo,{className:"secondary-item",url:(0,f.pathWithQuery)("/account",{utm_source:no}),analyticsEvent:d.EVENTS.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},B("Manage subscription")),_e.getConfigFor("credit_tokens_enabled")&&(((k=ve.userSettings)==null?void 0:k.creditTokensTreatmentExposed)||n.has_credit_token||Oe("credit_tokens_post_subscribe_modal")==="treatment")&&(0,e.h)(uo,{className:"secondary-item",url:(0,yt.getInviteFriendsCreditPageUrl)({utm_source:no}),analyticsEvent:d.EVENTS.USER_MENU_INVITE_FRIENDS_CLICKED},B("Invite friends")),(0,e.h)(uo,{className:"secondary-item",url:(0,f.getGlobalAccountSettingsUrl)({utm_source:no}),analyticsEvent:d.EVENTS.USER_MENU_ACCOUNT_SETTINGS_CLICKED},B("Settings")),(0,e.h)(uo,{className:"secondary-item",url:fi},B("Support")),(0,e.h)(uo,{className:"secondary-item",url:(0,f.getSignoutUrl)({utm_source:no,for_pub:r==null?void 0:r.subdomain})},B("Sign out")),o&&(0,e.h)(uo,{className:"secondary-item",onClick:()=>{var rt;(rt=q.current)==null||rt.close(),o()}},"Enter support mode"),i&&(0,e.h)(uo,{className:"secondary-item",onClick:i},"Exit support mode"),r&&(n==null?void 0:n.is_global_admin)&&(0,e.h)(uo,{className:"secondary-item",url:`${(0,f.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(n!=null&&n.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(uo,{className:"special-item",url:(0,f.getAppMarketingUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.userMenuLink})},B("Get the app")," ",(0,e.h)(C.Z,{className:"item-badge branded",color:Fa.Hu}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,f.getHomeUrl)({utm_source:no})},B("About")),(0,e.h)("a",{href:(0,f.getPublisherPrivacyUrl)({pub:r,utm_source:no})},B("Privacy")),(0,e.h)("a",{href:(0,f.getPublisherTermsUrl)({pub:r,utm_source:no})},B("Terms")),(0,e.h)("a",{href:(0,f.getInfoCollectionUrl)({utm_source:no})},B("Collection notice"))))))),toggle:de}}function uo({className:n,url:r,analyticsEvent:o,onClick:i,children:_}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:A=>{o&&(0,d.track)(o),i&&i(A)},href:r,native:!0},_)}const Uu=20;function Va({Icon:n,className:r}){return(0,e.h)(n,{className:s()(r,"indicator-item-icon"),height:Uu,stroke:"var(--color-primary)",strokeWidth:2})}var Bu=Object.defineProperty,ku=Object.defineProperties,Fu=Object.getOwnPropertyDescriptors,Ri=Object.getOwnPropertySymbols,ll=Object.prototype.hasOwnProperty,ul=Object.prototype.propertyIsEnumerable,cl=(n,r,o)=>r in n?Bu(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dl=(n,r)=>{for(var o in r||(r={}))ll.call(r,o)&&cl(n,o,r[o]);if(Ri)for(var o of Ri(r))ul.call(r,o)&&cl(n,o,r[o]);return n},Wu=(n,r)=>ku(n,Fu(r)),ju=(n,r)=>{var o={};for(var i in n)ll.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ri)for(var i of Ri(n))r.indexOf(i)<0&&ul.call(n,i)&&(o[i]=n[i]);return o};const xi=(0,e.createContext)({country:"US"});xi.displayName="LocaleContext";function Hu(){return useContext(xi)}function Vu(n){var r=n,{children:o}=r,i=ju(r,["children"]);const _=(0,t.Ye)(()=>i,Object.values(i));return(0,e.h)(xi.Provider,{value:_},o)}function rf(n){const r=forwardRef((o,i)=>{const _=Hu();return h(n,Wu(dl(dl({},_),o),{ref:i}))});return r.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,r}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=(0,pn.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var $n=ke(8479),ce=ke(43028),Ae=ke(5285),qe=ke(27484),it=ke.n(qe);const _t={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},$t=n=>{const r=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,d.track)(d.EVENTS.NOTIFICATIONS_ALERT_SHOWN,r.reduce((o,i)=>(o[i]=n==null?void 0:n[i],o),{}))};function qt(){var n;const{activityUnreadCount:r}=(0,lo.lR)(),{exposeExperiment:o,getExperimentVariant:i}=(0,gr.jc)(),{isLoading:_,result:A,refetch:k}=(0,$n.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,t.d4)(()=>{r>0&&k()},[r]);const[B,x]=(0,t.eJ)(!1),[q,de]=(0,t.eJ)(!1),{isLoading:_e,fetch:ve,result:Oe}=(0,wr.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([ke.e(8855),ke.e(2685),ke.e(8534),ke.e(1107),ke.e(1321),ke.e(6203),ke.e(7250)]).then(ke.bind(ke,23525)),fetchImmediately:!1}),Se=it()(),{userSettings:we,changeSetting:Re}=(0,ro.SE)(),Fe=(n=A==null?void 0:A.activityItems)==null?void 0:n[0],He=Fe!=null&&Fe.created_at?it()(Fe==null?void 0:Fe.created_at):Se.subtract(100,"year"),ut=we!=null&&we.last_notification_alert_shown_at?it()(we.last_notification_alert_shown_at):Se.subtract(100,"year"),et=Se.diff(He,"day")<7&&He.diff(ut,"hour")>2,rt=(0,t.sO)(null),gt=2e3,Tt=6e3,St=()=>{rt.current&&window.clearTimeout(rt.current)},Dt=()=>{St(),rt.current=window.setTimeout(()=>{x(!1)},Tt)};return(0,t.d4)(()=>{et&&r>0&&(o("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(Oe&&!B?window.setTimeout(()=>{x(!0),Re("last_notification_alert_shown_at",it()().toISOString()),$t(Fe),Dt()},gt):!Oe&&!_e&&ve()))},[_,A,r,_e,et,B,x]),(0,e.h)(e.Fragment,null,(B||q)&&(0,e.h)(Ae.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:B,beforeEnter:()=>de(!0),afterLeave:()=>de(!1),enter:_t.transition,enterFrom:_t.enterFrom,enterTo:_t.enterTo,leave:_t.transition,leaveFrom:_t.leaveFrom,leaveTo:_t.leaveTo},(0,e.h)(pe.hs,{radius:12,border:"detail",className:_t.alert,onMouseEnter:St,onMouseLeave:Dt,shadow:"lg",bg:"elevated"},(0,e.h)(wr.cr,{module:"./MiniNotificationsViewer",resolve:Lt=>Lt.MiniNotificationsStack,onRequest:()=>Promise.all([ke.e(8855),ke.e(2685),ke.e(8534),ke.e(1107),ke.e(1321),ke.e(6203),ke.e(7250)]).then(ke.bind(ke,23525)),result:A,isReadOnly:!0,closeMenu:()=>{x(!1)}}))))}var rr=ke(95042);function hr({fill:n="outline",canShowAlerts:r=!1}){const o=(0,lo.lR)(),i=(0,$n.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,t.d4)(()=>{o.activityUnreadCount>0&&(0,d.track)(d.EVENTS.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:o.activityUnreadCount})},[o.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(ce.v2,{trigger:(0,e.h)(me.hU,{className:rr.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary",onMouseEnter:()=>Promise.all([ke.e(8855),ke.e(2685),ke.e(8534),ke.e(1107),ke.e(1321),ke.e(6203),ke.e(7250)]).then(ke.bind(ke,23525))},(0,e.h)($u,{"aria-hidden":!0,size:20,strokeWidth:2}),o.activityUnreadCount>0&&(0,e.h)(Ca.in,{className:s()(rr.Z.badge,o.activityUnreadCount<10&&rr.Z.circle)},(0,e.h)(pe.hs,{alignItems:"center",justifyContent:"center"},o.activityUnreadCount<100?o.activityUnreadCount:"99+"))),onOpen:()=>i.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(wr.cr,{module:"./activity/MiniNotificationsViewer",resolve:_=>_.MiniNotificationsViewer,onRequest:()=>Promise.all([ke.e(8855),ke.e(2685),ke.e(8534),ke.e(1107),ke.e(1321),ke.e(6203),ke.e(7250)]).then(ke.bind(ke,23525)),resource:i,whileLoading:(0,e.h)(pe.hs,{style:{width:400}})})),r&&(0,e.h)(qt,null))}var Un=ke(91041),yn=ke(75425);const Bn={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"};var Zr=ke(24840),Br=ke(89581),fa=ke(33510),Ku=ke(63295),Gu=ke(12650),An=ke(31058);const co={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var db=Object.defineProperty,fb=Object.defineProperties,pb=Object.getOwnPropertyDescriptors,nf=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,of=(n,r,o)=>r in n?db(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,af=(n,r)=>{for(var o in r||(r={}))hb.call(r,o)&&of(n,o,r[o]);if(nf)for(var o of nf(r))mb.call(r,o)&&of(n,o,r[o]);return n},sf=(n,r)=>fb(n,pb(r));const lf=({pub:n,isSignedIn:r})=>{const[o,i]=(0,t.eJ)(!1),{triggerProps:_,layerProps:A,renderLayer:k,isOpen:B,setOpen:x}=(0,Br.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),q=(0,t.I4)(_e=>{_e==="escape"&&(i(!1),x(!1))},[x]),de=_b({pub:n,onSearchChange:q,resultsLayerProps:A});return(0,t.d4)(()=>{x(de.query.length>0)},[de.query,x]),(0,e.h)(e.Fragment,null,(0,e.h)(pe.gq,sf(af({},_),{className:s()(co.searchWrapper,o&&co.active,r?co.marginLeft:co.marginRight),style:{width:o?"400px":"40px"},paddingLeft:o?16:0,alignItems:"center",justifyContent:o?"space-between":"center",onClick:o?void 0:()=>{i(!o),de.focus()},gap:4}),(0,e.h)(Zr.Z,{className:co.trigger,"area-hidden":!0,size:20,strokeWidth:2}),o&&de.input),B&&k(de.results))};function _b({pub:n,onSearchChange:r,resultsLayerProps:o}){var i;const{getConfigFor:_}=(0,te.xR)(),A=!!((i=_("platform_searcher_enabled"))!=null&&i),{iString:k}=(0,l.M1)(),[B,x]=(0,t.eJ)(""),q=(0,t.sO)(null),de=(0,$n.ib)({pathname:"/api/v1/post/search",query:{query:B,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(A)},deps:[B],auto:!1}),_e=(0,t.I4)(ve=>{ve.key==="Enter"?B&&(window.location.href=(0,f.getDiscoverSearchUrl)({query:B,params:{focusedPublicationId:n.id}})):ve.key==="Escape"&&(x(""),r==null||r("escape"))},[r,B,n]);return(0,t.d4)(()=>{q.current&&q.current.focus()},[]),(0,t.d4)(()=>{if(B.length){const ve=setTimeout(de.refetch,300);return()=>clearTimeout(ve)}},[B]),{query:B,fetch:de,focus:()=>setTimeout(()=>{var ve;return(ve=q.current)==null?void 0:ve.focus()},0),input:(0,e.h)("input",{ref:q,className:s()(co.searcher),placeholder:k("Search..."),value:B,onChange:ve=>{x(ve.target.value),r==null||r("input")},onKeyDown:_e,autoFocus:!0}),results:(0,e.h)(gb,{pub:n,searchQuery:B,searchFetch:de,layerProps:o})}}const gb=({pub:n,searchQuery:r,searchFetch:o,layerProps:i})=>{var _,A,k,B,x;const{getConfigFor:q}=(0,te.xR)(),de=!!((_=q("platform_searcher_enabled"))!=null&&_),{iTemplate:_e}=(0,l.M1)(),ve=(de?(A=o.result)==null?void 0:A.focused:(k=o.result)==null?void 0:k.results)||[],Oe=de?((B=o.result)==null?void 0:B.results)||[]:[],Se=((x=o.result)==null?void 0:x.publications)||[];return(0,e.h)(pe.tu,sf(af({},i),{radius:12,className:co.dropdown,border:"detail-themed"}),!o.hasLoadedOnce||o.isLoading&&!ve.length&&!Oe.length?(0,e.h)(pe.gq,{radius:12,paddingY:20,className:co.loading,justifyContent:"center"},(0,e.h)(fa.Sv,{size:40})):o.error?(0,e.h)(pe.gq,{radius:12,className:co.error,justifyContent:"start"},(0,e.h)(a.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!ve.length&&!Oe.length?(0,e.h)(pe.gq,{radius:12,padding:20,className:co.empty,justifyContent:"start"},(0,e.h)(a.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(r),'"'))):(0,e.h)(e.Fragment,null,ve.map((we,Re)=>(0,e.h)(uf,{key:we.id,pub:n,post:we,isFirst:Re===0,isLast:!Oe.length&&Re===ve.length-1,hideBottomBorder:Oe.length>0})),Oe.length>0&&(0,e.h)(pe.gq,{className:co.more,paddingX:24,paddingY:8},(0,e.h)(a.xv.B4,{weight:"semibold",color:"pub-primary-text"},ve.length?_e`More results from across Substack`:_e`No results found on ${n.name}. More results from across Substack`)),Oe.map((we,Re)=>{const Fe=Se.find(He=>He.id===we.publication_id);return Fe?(0,e.h)(uf,{key:we.id,pub:Fe,post:we,isLast:Re===Oe.length-1,includePublication:!0}):null}),(0,e.h)(pe.gq,{className:co.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,f.getDiscoverSearchUrl)({query:r,params:{focusedPublicationId:n.id}})}},(0,e.h)(a.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))},uf=({pub:n,post:r,includePublication:o=!1,hideBottomBorder:i=!1,isLast:_=!1,isFirst:A=!1})=>{var k;const B=(k=r.reactions["\u2764"])!=null?k:0,{language:x}=(0,l.M1)();return(0,e.h)(pe.gq,{paddingX:12,onClick:()=>{window.location.href=(0,f.getPostUrl)(n,r)},width:"100%"},(0,e.h)(pe.tu,{marginHeight:4,paddingTop:A?12:8,paddingBottom:_?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(pe.gq,{className:co.result,gap:16,padding:12,radius:12},r.cover_image&&(0,e.h)("img",{src:(0,f.imginary)(r.cover_image,120,{height:80,smartCrop:!0}),alt:r.cover_image_alt||"",className:co.photo}),(0,e.h)(pe.tu,{gap:4,className:co.metadata},o&&(0,e.h)(a.xv.Meta,null,n.name),(0,e.h)(a.xv.H4,{color:"pub-primary-text"},r.title),!!r.subtitle&&(0,e.h)(a.xv.B4,{color:"pub-primary-text"},r.subtitle),(0,e.h)(pe.gq,{alignItems:"center",gap:4},(0,e.h)(a.xv.Meta,{color:"pub-secondary-text",className:s()(co.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Hr()(r.post_date).toISOString()},(0,An.fh)({post:r,showDatetime:!1,language:x}))),B>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Gu.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(a.xv.Meta,{color:"pub-secondary-text",className:co.paddingRight},B)),r.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Ku.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(a.xv.Meta,{color:"pub-secondary-text"},r.comment_count)))))))};var fl=ke(96098);const vb={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function yb({children:n}){return(0,e.h)("div",{className:vb.pubAccentTheme},n)}var fs=ke(32224),pl=ke(31131),bb=ke(65445),Eb=ke(28596),Ui=ke(99869),$a=ke(91004),Pb=ke(68227),Ob=ke(17835),wb=ke(9e3),cf=ke(66839),Sb=ke(53919);const pi={trigger:"frontend-components-NavbarShare-module__trigger--Q9Atc",divider:"frontend-components-NavbarShare-module__divider--b6jjb",offset:"frontend-components-NavbarShare-module__offset--kvTRt",shareIconContainer:"frontend-components-NavbarShare-module__shareIconContainer--TBJmh",dropdownMenu:"frontend-components-NavbarShare-module__dropdownMenu--BsGs1"};var Cb=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function df({pub:n,user:r}){const{iString:o}=(0,l.M1)(),[i,_]=(0,t.eJ)(!1),A=(0,yt.getBaseUrl)(n),k={utm_source:j.UTM_SOURCE.navbar,utm_medium:j.UTM_MEDIUM.web,r:r!=null&&r.id?r.id.toString(36):null},B=(0,yt.pathWithQuery)(A,k),x=()=>{(0,$a.Wn)({shareUrl:B,shareName:n.name,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},q=()=>{(0,$a.Po)({shareUrl:B,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},de=()=>{(0,$a.lc)({shareUrl:B,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},_e=()=>{(0,$a.BZ)({shareUrl:B,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},ve=()=>{(0,$a.WZ)({shareUrl:B,shareName:`Subscribe to ${n.name}`,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},Oe=()=>{(0,$a.Ui)({shareUrl:B,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},Se=()=>Cb(this,null,function*(){(0,d.track)(d.EVENTS.PUBLICATION_SHARE_BUTTON_CLICKED)}),we=(0,e.h)(me.hU,{className:s()(pi.trigger),"aria-label":o("Share Publication"),size:40,fill:"borderless",priority:"secondary"},(0,e.h)(pl.Z,{size:20}));return(0,e.h)(e.Fragment,null,(0,e.h)(c.v2,{trigger:we,onOpen:Se,useMobileBottomSheet:!0,layerOptions:{placement:"bottom-end",preferX:"left"},className:pi.dropdownMenu,maxHeight:"fit-content"},(0,e.h)(c.sN,{icon:(0,e.h)(wb.Z,{height:24}),onClick:_e},o("Share to Notes")),(0,e.h)(c.sN,{icon:(0,e.h)(cf.Z,{height:24}),onClick:x},o("Share to Twitter")),(0,e.h)(c.sN,{icon:(0,e.h)(Pb.Z,{height:24}),onClick:q},o("Share to Facebook")),(0,e.h)(c.sN,{icon:(0,e.h)(Ob.Z,{height:24}),onClick:de},o("Share to Linkedin")),(0,e.h)("div",{className:pi.divider}),(0,e.h)(c.sN,{icon:(0,e.h)(c.hs,{className:pi.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(bb.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:()=>{(0,d.track)(d.EVENTS.SHARE_PUBLICATION_MODAL_OPENED),_(!0)}},o("View shareable images")),(0,e.h)(c.sN,{icon:(0,e.h)(c.hs,{className:pi.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,e.h)(Eb.Z,{className:pi.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ve},o("Send as email")),(0,e.h)(c.sN,{icon:(0,e.h)(c.hs,{className:pi.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(Ui.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Oe},o("Copy link"))),(0,e.h)(Sb.i,{pub:n,isOpen:i,setOpen:_,item:{type:"pub_shareable_image"},width:718}))}var Ka=ke(3313),Tb=Object.defineProperty,Ib=Object.defineProperties,Mb=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,ff=Object.prototype.hasOwnProperty,pf=Object.prototype.propertyIsEnumerable,hf=(n,r,o)=>r in n?Tb(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,zu=(n,r)=>{for(var o in r||(r={}))ff.call(r,o)&&hf(n,o,r[o]);if(hl)for(var o of hl(r))pf.call(r,o)&&hf(n,o,r[o]);return n},mf=(n,r)=>Ib(n,Mb(r)),Db=(n,r)=>{var o={};for(var i in n)ff.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&hl)for(var i of hl(n))r.indexOf(i)<0&&pf.call(n,i)&&(o[i]=n[i]);return o},ml=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Ga=ke(74806),Ab=({baseRef:n,className:r,fixedTooltip:o=!0,freeSignup:i,freeSignupEmail:_,hideCta:A,hideNotifications:k,hideSearch:B,hideShare:x,hideUserIndicator:q,hide_subscribe_cta:de,isAccountContext:_e=!1,isMeetingsActive:ve,isPublishContext:Oe,pub:Se,showCustomerSupportModeModal:we,user:Re})=>{const{iString:Fe,language:He}=(0,l.M1)(),ut=(0,t.sO)(null),{getSettingFor:et}=(0,L.So)(),[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(!1),Dt=(0,yn.pm)(),Lt=(Re==null?void 0:Re.is_global_admin)&&!(Re!=null&&Re.is_admin),Ft=(Re==null?void 0:Re.is_global_admin)&&(Re==null?void 0:Re.is_admin)&&!(Re!=null&&Re.is_author),It=(0,gr.jc)(),Qt=(0,t.I4)(()=>ml(void 0,null,function*(){try{yield Ke().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(At){alert((0,W.getNetworkErrorMessage)(At))}}),[]),Xt=()=>ml(void 0,null,function*(){gt(!0);try{yield Ke().post("/api/v1/subscription/reactivate").send({}),St(!0),Dt.popToast(At=>(0,e.h)(yn.FN,mf(zu({},At),{text:Fe("Your subscription has been renewed!")})))}catch(At){console.error("Failed to set to renew:",At),alert((0,W.getNetworkErrorMessage)(At))}finally{gt(!1)}}),ar=(0,t.I4)(()=>ml(void 0,null,function*(){var At;(At=ut.current)==null||At.open()}),[ut]),fr=Oe||_e?yb:fl.h;return(0,e.h)("div",{className:s()("navbar-buttons",r),ref:n},(0,e.h)(fr,null,(0,e.h)(te.QA.Consumer,null,At=>(0,e.h)(xi.Consumer,null,Gt=>(0,e.h)(e.Fragment,null,!B&&!(0,W.isMobileBrowser)()&&!Re&&(0,e.h)(lf,{pub:Se,isSignedIn:!1}),!x&&!(0,W.isMobileBrowser)()&&!Re&&(0,e.h)(df,{pub:Se,user:Re}),!A&&Lb({pub:Se,user:Re,freeSignup:i,freeSignupEmail:_,hide_subscribe_cta:de,viralGiftsConfig:Se.viralGiftsConfig,isPublishContext:Oe,localeContext:Gt,siteConfigContext:At,isMeetingsActive:ve,getSettingFor:et,renewing:rt,renewed:Tt,setToRenew:Xt,experiments:It,language:He}),!B&&!(0,W.isMobileBrowser)()&&Re&&(0,e.h)(lf,{pub:Se,isSignedIn:!0}),!x&&Re&&!(0,W.isMobileBrowser)()&&(0,e.h)(df,{pub:Se,user:Re}),!k&&Re&&!(0,W.isMobileBrowser)()&&(0,e.h)(hr,{fill:"borderless",canShowAlerts:!Se||Oe}),!q&&(0,e.h)(Ru,{pub:Se,user:Re,enableCustomerServiceMode:Lt?ar:null,disableCustomerServiceMode:Ft?Qt:null,fixedTooltip:o}))))),Lt&&(0,e.h)(ra.h,null,(0,e.h)($e.p,{className:"account-info-customer-support-mode-modal",ref:ut,openByDefault:we&&Lt},(0,e.h)(xe,{redirect:(0,f.getQueryItem)("redirect")||"/publish/home",onCancel:At=>{var Gt;return(Gt=ut.current)==null?void 0:Gt.close(At)}}))))},Nb=({pub:n,dashboardPubs:r})=>{const o=(0,hn.XA)(),{iString:i}=(0,l.M1)();return(0,e.h)(Un.a,{priority:"primary",fill:"outline",size:o?"small":"medium",menuItems:r.map(({logo_url:_,name:A,subdomain:k})=>(0,e.h)(ce.sN,{className:Bn.menuItem,href:(0,f.getDashboardUrlForSubdomain)(k,{params:{utm_source:j.UTM_SOURCE.substack,utm_content:j.UTM_CONTENT.dashboardPubSwitcher}}),icon:(0,e.h)("img",{className:Bn.menuIcon,width:20,src:(0,f.imginary)(_||"/img/substack-nomargin.png",20)}),priority:n.subdomain===k?"selected":"primary"},A)),href:(0,yt.getDashboardHomeUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:i("Dashboard"),mobileBottomSheetSubtitle:i("Select a publication")}},i("Dashboard"))},_f=({dashboardPubs:n,pub:r})=>{const{iString:o}=(0,l.M1)();return n.length>1?(0,e.h)(Nb,{pub:r,dashboardPubs:n}):(0,e.h)(Qo,{className:"outline",href:(0,yt.getDashboardHomeUrl)(r,{addBase:!0}),"data-testid":"menu-dashboard-button"},o("Dashboard"))};function Lb({user:n,pub:r,freeSignup:o,freeSignupEmail:i,hide_subscribe_cta:_,isPublishContext:A,isMeetingsActive:k,siteConfigContext:B,getSettingFor:x,renewing:q,renewed:de,setToRenew:_e,experiments:ve,language:Oe}){var Se,we,Re,Fe,He,ut,et,rt,gt,Tt;const{iString:St,iPlural:Dt}=I18N.i(Oe);r.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(_=!0);const Lt=n==null?void 0:n.is_contributor,Ft=(n==null?void 0:n.is_subscribed)||Lt,It=(n==null?void 0:n.is_free_subscribed)||o,{getExperimentVariant:Qt,exposeExperiment:Xt}=ve,ar=Ga.paymentsAreEnabled(r)&&Ft&&["gift","comp"].includes(n.subscription_type)&&Hr()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),fr=Ga.paymentsAreEnabled(r)&&Ga.userIsFreeOnly(n)&&n.comp_expired_recently,At=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),Gt=((Se=n==null?void 0:n.dashboard_pubs)==null?void 0:Se.length)===1,cr=(n==null?void 0:n.subscription_type)==="ios_app";if(Lt){const nr=(n==null?void 0:n.dashboard_pubs)||[];return A&&nr.length===1?[]:!r.has_posts&&!(0,W.isMobileBrowser)()?[(0,e.h)(Qo,{className:"primary fill new-post-btn",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,W.redirect)((0,f.getCreatePostUrl)(r,{type:"newsletter"}),{local_navigation:!1})}},St("New post")),(0,e.h)(_f,{dashboardPubs:nr,pub:r,useNewDashLink:Gt})]:(0,e.h)(_f,{dashboardPubs:nr,pub:r,useNewDashLink:Gt})}else{if(At)return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,W.redirect)((0,f.getCancelOrUncancelUrl)(r,{addBase:!0}),{local_navigation:!1})}},St("Unpause my subscription"));if(ar||fr){if(!_)return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,W.redirect)((0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,f.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:ar&&(n!=null&&n.is_founding)?r.plans.find(nr=>nr.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},St("Subscribe")),(0,e.h)("span",{className:"desktop-only"},St("Continue your support")))}else if(Ga.paymentsAreEnabled(r)&&It&&!Ft&&!["thebulwark"].includes(r.subdomain)){if(!_)return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,W.redirect)((0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,f.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Et.getSubscribeText)(r,{isFreeSubscribed:!0,isMobile:(0,W.isMobileBrowser)(),language:Oe}))}else if(Ga.paymentsAreEnabled(r)?!Ft:!(It||Ft)){if(!_){const nr=(Fe=(Re=(we=(0,f.getQueryItem)("referring_pub_ids"))==null?void 0:we.split)==null?void 0:Re.call(we,","))==null?void 0:Fe[0],er=(et=(ut=(He=(0,f.getQueryItem)("referring_pub_ids"))==null?void 0:He.split)==null?void 0:ut.call(He,","))==null?void 0:et.slice(1);return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>ml(this,null,function*(){const Ot=n&&!n.is_magic&&n.email||i;if((0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Ot){let Mt;try{Mt=(yield Ke().post("/api/v1/free").send({source:"menu",email:Ot,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU,referring_pub_id:nr,additional_referring_pub_ids:er})).body.referral_token,(0,d.signup)()}catch(kt){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:kt.message,source:"menu"})}window.location.href=(0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Mt})}else window.location.href=(0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,f.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(c.gq,{alignItems:"center",gap:8},(0,e.h)(fs.Z,{size:20}),(0,Et.getSubscribeText)(r,{isFreeSubscribed:It,isMobile:(0,W.isMobileBrowser)(),language:Oe})))}}else{if(r.invite_only&&Ft&&n.invites<r.subscriber_invites)return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,W.redirect)((0,f.getInviteUrl)(r),{local_navigation:!1})}},(0,e.h)("span",null,Dt("1 invite left","%1 invites left",r.subscriber_invites-n.invites)));if(Ga.paymentsAreEnabled(r)&&k&&!B.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,W.redirect)((0,yt.getMeetingsUrl)(r,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},St("Book meeting")),(0,e.h)("span",{className:"desktop-only"},St("Book a meeting")));if(Ga.paymentsAreEnabled(r)&&n.is_subscribed&&!cr&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"renew"}),_e()},disabled:q||de,style:{visibility:de?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},St("Renew")),(0,e.h)("span",{className:"desktop-only"},St("Renew subscription")));if(Ga.paymentsAreEnabled(r)&&((0,Ka.VL)({pub:r})||!n.is_founding)&&!cr&&Hr()(n.subscription_first_payment_at).isBefore(Hr()().subtract(48,"hours"))&&((0,Ka.VL)({pub:r})||r.subdomain==="pinespayments"||((Tt=(gt=(rt=r==null?void 0:r.plans)==null?void 0:rt.find(nr=>nr.metadata.founding))==null?void 0:gt.metadata)==null?void 0:Tt.short_description)==="Founding Member")){const nr=(0,f.getSubscribeUrl)(r,zu({utm_source:j.UTM_SOURCE.menu,next:document.location.href,addBase:!0},(0,Ka.VL)({pub:r})?{plan:"yearly300usd",upgrade_to_founding:!0}:{selectedPlanId:r.plans.find(er=>er.metadata.founding).id}));return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,W.redirect)(nr,{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},St("Upgrade")),(0,e.h)("span",{className:"desktop-only"},St("Upgrade to founding")))}else{if(r.payments_state==="disabled"&&!r.invite_only&&x("payment_pledges_enabled")&&It&&!(n!=null&&n.is_pledged))return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,W.redirect)((0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,next:document.location.href,addBase:!0}),{local_navigation:!1})}},St("Pledge your support"));if(r.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(Qo,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,W.redirect)((0,f.getStartPublishingUrl)({utm_source:j.UTM_SOURCE.menu}),{local_navigation:!1})}},St("Start publishing"))}}}return null}function Qo(n){var r=n,{className:o="primary subscribe-cta subscribe-btn"}=r,i=Db(r,["className"]);const _=(0,t.qp)(Yo),A=!1;return(0,e.h)(be.Z,mf(zu({},i),{className:s()(o,{"rounded-btn":A,"force-desktop":_})}))}const Rb=Ab;var gf=ke(49336),xb=ke(56743),_l=ke(2564),gl=ke(65726);const ps={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},vf=10,Ub=250;function Bb({className:n,items:r,menuItemClassName:o,selectedMenuItemClassName:i,selectedSlug:_,pub:A}){const k=(0,t.sO)(null),[B,x]=(0,t.eJ)(!1),[q,de]=(0,t.eJ)(!1);function _e(Se){const{scrollLeft:we,scrollWidth:Re,clientWidth:Fe}=Se;x(we>vf),de(Re-(Fe+we)>vf)}const ve=Se=>_e(Se.target),Oe=Se=>()=>{const{current:we}=k;we&&we.scrollBy({left:Se*Ub,behavior:"smooth"})};return(0,t.d4)(()=>{_e(k.current)},[]),(0,e.h)("div",{className:s()("overflow-list-container",n)},(0,e.h)("div",{className:s()("section-bar",{scroll:!0,"overflow-left":B,"overflow-right":q})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:ve},r.map(({label:Se,href:we,slug:Re,isNative:Fe,onClick:He,noFollow:ut,subItems:et})=>et?(0,e.h)(ce.v2,{trigger:(0,e.h)("div",{className:s()("menu-item",{selected:Re===_},o,i&&{[i]:Re===_})},(0,e.h)(gl.Z,{className:ps.subMenuTrigger,onClick:He,native:Fe,rel:ut?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Se),(0,e.h)(gf.Z,{className:ps.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:Se},et.map(({label:rt,href:gt,slug:Tt,isNative:St,onClick:Dt,noFollow:Lt,logoUrl:Ft})=>{const It=parseInt(Tt)===(A==null?void 0:A.id);return(0,e.h)(ce.sN,{icon:(0,e.h)("img",{className:ps.logo,width:20,src:(0,f.imginary)(Ft||"/img/substack-nomargin.png",40)}),href:gt,onClick:Dt,native:St,rel:Lt?"nofollow":void 0,priority:"primary",disabled:It,className:s()(ps.subMenuItem,{[ps.disabled]:It})},rt)})):(0,e.h)("div",{className:s()("menu-item",{selected:Re===_},o,i&&{[i]:Re===_})},(0,e.h)(gl.Z,{href:we,onClick:He,native:Fe,rel:ut?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Se))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Oe(-1)},(0,e.h)(xb.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Oe(1)},(0,e.h)(_l.Z,{strokeWidth:1.5})))))}const yf=(n,r)=>n.subItems?new Hb(n,r):n.base_url?new kb(n):n.name&&n.id&&n.url?new jb(n,r):n.isPodcast?new Fb(n):new Wb(n,r);class hs{constructor(r,o){this._obj=r,this._pub=o}truncatedName(){return(0,Et.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(r,o){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class kb extends hs{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(r){return this._obj.id===r.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,yt.getBaseUrl)(this._obj)}}class Fb extends hs{isPodcast(){return!0}isSelected(r,o){return this._obj.id===o}isNative(){return!0}homepageUrl(){return(0,yt.getBaseUrl)(this._obj)}}class Wb extends hs{constructor(r,o){super(r,o),this._homepageUrl=(0,yt.getSectionUrl)(o,{section:r})}isPodcast(){return this._obj.is_podcast}isSelected(r,o){return this._obj.id===o}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var r,o,i;if(this._obj.is_podcast){const _=(r=this._pub.sections)==null?void 0:r.find(A=>A.id===this._obj.id);return(i=(o=_==null?void 0:_.podcastSettings)==null?void 0:o.podcast_art_url)!=null?i:this._obj.logo_url}return this._obj.logo_url}}class jb extends hs{constructor(r,o){super(r,o),this._maybeNoFollow=r.noFollow,this._pubTier=(o==null?void 0:o.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(r,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class Hb extends hs{isNewsletter(){return!1}isPodcast(){return!1}isSelected(r,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(r=>yf(r,this._pub))}}const Vb=({pub:n,selectedSectionId:r,sectionRawItems:o,isPublishContext:i})=>{const _=o.map(k=>yf(k,n)),A=k=>{var B,x;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(B=k.logoUrl)==null?void 0:B.call(k),subItems:(x=k.subItems())==null?void 0:x.map(A)}};return(0,e.h)(Bb,{items:_.map(A),className:s()("sections-overflow",{"publish-menu":i}),selectedSlug:r,useHorizontalScrolling:i,pub:n})};var $b=Object.defineProperty,bf=Object.getOwnPropertySymbols,Kb=Object.prototype.hasOwnProperty,Gb=Object.prototype.propertyIsEnumerable,Ef=(n,r,o)=>r in n?$b(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,zb=(n,r)=>{for(var o in r||(r={}))Kb.call(r,o)&&Ef(n,o,r[o]);if(bf)for(var o of bf(r))Gb.call(r,o)&&Ef(n,o,r[o]);return n},Zu,Pf,Yu,Of;const Zb=ke(74806);class vl extends e.Component{constructor(){super(...arguments),this.menuHeight=0,this.state={animated:!0,hiding:!!(typeof window!="undefined"&&((Pf=(Zu=window.location.hash)==null?void 0:Zu.startsWith)!=null&&Pf.call(Zu,"#footnote")||(Of=(Yu=window.location.hash)==null?void 0:Yu.startsWith)!=null&&Of.call(Yu,"#tiktok")))},this.onClick=r=>{var o,i;((o=r.target)!=null&&o.classList.contains("footnote-number")||(i=r.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))},this.onResize=()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const r=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,o=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,_=o>630,A=_?24*2:12*2,k=_&&.5*o-i-A>.5*r;this.setState({buttonsContainerWidth:k?`${i}px`:"auto",centerTitle:k})},this.onScroll=()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const r=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const o=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,W.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,W.maxScroll)()))if(this.scrollTop<r){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>o?(this.menuTop=o,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>r&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=o,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<o-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))},this.onHeadlineClick=r=>{(0,d.track)(d.EVENTS.NAV_BAR_HOME_LINK_CLICKED)},this.hide=()=>{const r=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=r-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})}}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return Zb.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:r,freeSignup:o,freeSignupEmail:i,hideNavbarSearch:_,hideTitle:A,hide_subscribe_cta:k,isAccountContext:B,isMeetingsActive:x,isPublishContext:q,lowChrome:de,pub:_e,showCustomerSupportModeModal:ve,signupForFreeVariant:Oe,user:Se},{animated:we,buttonsContainerWidth:Re,centerTitle:Fe}){const He=_e,ut=typeof window=="undefined",et=!0;return(0,e.h)("div",{"data-testid":"navbar",className:s()("main-menu",r,{animated:we,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":de})},(0,e.h)("div",{className:"main-menu-content",ref:rt=>this.menuContent=rt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},!de&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()("navbar-logo-container",He.logo_url?"":"no-logo"),style:{width:Re}},He.logo_url&&(0,e.h)("a",{href:B||q?(0,yt.getBaseUrl)(He):"/",onClick:this.onHeadlineClick,native:et},(0,e.h)("img",{className:"navbar-logo",src:(0,yt.imginary)(He.logo_url,96)}))),!A&&(0,e.h)("h1",{className:s()("navbar-title",{"left-align":!Fe,loading:ut})},(0,e.h)("a",{className:"navbar-title-link",href:B||q?(0,yt.getBaseUrl)(He):"/",ref:rt=>this.largeMenuPubTitle=rt,native:et},He.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${He?"":"substack-logo-wordmark"}`,src:(0,yt.imginary)(He?He.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:He?He.name:"Substack"}):He.name)),(0,e.h)(Rb,{baseRef:rt=>this.buttonsContainer=rt,freeSignup:o,freeSignupEmail:i,hideSearch:q||!!_,hide_subscribe_cta:k,isAccountContext:B,isMeetingsActive:x,isPublishContext:q,pub:_e,showCustomerSupportModeModal:ve,signupForFreeVariant:Oe,user:Se}))),this.shouldShowSectionsNavBar()&&(0,e.h)(Yb,zb({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}vl.contextType=On;const NB=({title:n})=>{const r=useMobile();return h(Text,{size:r?14:24,weight:"light",as:"span"},h("span",null," | "),n)};function Yb({isPublishContext:n,pub:r,user:o,isChatActive:i,isMeetingsActive:_,hasMeetingsBooked:A,selectedSectionId:k}){const{language:B}=(0,l.M1)(),{getSettingFor:x}=(0,L.So)(),q=x("notes_feed_enabled"),de=!!(x("reader_referrals_enabled")&&x("reader_referrals_leaderboard_enabled")),_e=x("group_sections_and_podcasts_in_menu_enabled"),ve=Ct(r.navigationBarItems||[],{isFeedEnabled:q,isPodcastActive:r.podcast_enabled&&r.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!r.threads_v2_enabled,isMeetingsActive:_,hasMultipleNewsletters:r.sections&&r.sections.length>0,isReaderReferralsLeaderboardActive:de,language:B}).filter(Se=>!Se.is_hidden),Oe=n?Jb({isAdmin:!!(o!=null&&o.is_admin),pub:r,showMeetings:_||A,language:B}):Xb({groupNewsletters:_e,navBarItems:ve,pub:r,language:B});return(0,e.h)(Vb,{pub:r,selectedSectionId:k,sectionRawItems:Oe,isPublishContext:n})}const Jb=({isAdmin:n,pub:r,showMeetings:o,language:i})=>{const{iString:_}=I18N.i(i),A=[];return A.push({id:"/publish/home",url:(0,yt.getDashboardHomeUrl)(r,{addBase:!0}),name:_("Home")}),A.push({id:"/publish/posts",url:"/publish/posts",name:_("Posts")},{id:"/publish/podcasting",url:(0,f.getPodcastingUrl)(r,{addBase:!0}),name:_("Podcast")},{id:"/publish/subscribers",url:(0,f.getSubscriberStatsUrl)(r,{addBase:!0}),name:_("Subscribers")}),n&&(A.push({id:"/publish/stats",url:"/publish/stats",name:_("Stats")}),A.push({id:"/publish/recommendations",url:"/publish/recommendations",name:_("Recommendations")}),o&&A.push({id:"/publish/meetings",url:"/publish/meetings",name:_("Meetings")}),A.push({id:"/publish/settings",url:(0,yt.getPublishSettingsUrl)(r,{addBase:!0}),name:_("Settings")})),A},Xb=({groupNewsletters:n=!1,navBarItems:r,pub:o,language:i})=>{const{iString:_}=I18N.i(i),A=[];let k=[];A.push({id:"/home",url:"/",name:_("Home")}),o.podcast_enabled&&o.show_pub_podcast_tab&&k.push({id:"/podcast",url:"/podcast",name:_("Podcast"),isPodcast:!0});for(const B of r){const x=ft(B);B.section?k.push(B.section):k.push({id:(0,yt.getNavigationBarItemUrl)(o,B,{addBase:!1}),url:(0,yt.getNavigationBarItemUrl)(o,B,{addBase:!B.standard_key}),name:tt(B),noFollow:!B.standard_key&&x==="link"})}return n?k=wf({items:k,groups:[{name:_("Newsletters"),condition:B=>Qb({item:B,pub:o})},{name:_("Podcasts"),condition:B=>qb(B)}]}):(0,Ka.VL)({pub:o})&&(k=wf({items:k,groups:[{name:_("Newsletters"),condition:B=>B.type==="newsletter"},{name:_("Podcasts"),condition:B=>B.type==="podcast"}]})),[...A,...k]},Qb=({item:n,pub:r})=>(0,Et.sectionIsSpecificallyMarkedAsNewsletter)({section:n,pub:r})?!0:!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&!n.is_podcast,qb=n=>n.isPodcast||!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&n.is_podcast,wf=({items:n,groups:r})=>{const o=[];let i=n;for(const _ of r){const A=n.filter(_.condition);A.length>0&&(o.push({name:_.name,subItems:A}),i=i.filter(k=>!_.condition(k)))}return[...o,...i]};var Rn=ke(74806),eE=Object.defineProperty,tE=Object.defineProperties,rE=Object.getOwnPropertyDescriptors,Sf=Object.getOwnPropertySymbols,nE=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable,Cf=(n,r,o)=>r in n?eE(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,aE=(n,r)=>{for(var o in r||(r={}))nE.call(r,o)&&Cf(n,o,r[o]);if(Sf)for(var o of Sf(r))oE.call(r,o)&&Cf(n,o,r[o]);return n},iE=(n,r)=>tE(n,rE(r));const Tf=n=>(0,e.h)(De.l,iE(aE({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var xn=ke(25018);const oo={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},sE=({newsletter:n,hideLink:r=!1,onToggle:o,onClick:i})=>{const{isMobile:_}=(0,xn.v9)();i&&o&&console.error("you cannot pass both onToggle and onClick");const A=B=>{B.stopPropagation(),o==null||o({sectionId:n.sectionId,isSelected:!n.selected})},k=!!o;return _?(0,e.h)(lE,{newsletter:n,hideLink:r,onClick:i,onToggle:o}):(0,e.h)(c.tu,{className:s()(oo.container,{[oo.selectedContainer]:k&&n.selected,[oo.selectableContainer]:k,[oo.clickableContainer]:!!i}),justifyContent:"space-between",radius:12,padding:16,onClick:k?A:i!=null?i:void 0},k&&n.selected?(0,e.h)(Tf,{className:s()(oo.selector)}):k?(0,e.h)("div",{className:s()(oo.unselected,oo.selector)}):null,(0,e.h)(c.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:oo.img},n.logoUrl&&(0,e.h)("img",{className:oo.img,src:(0,f.imginary)(n.logoUrl,64)})),(0,e.h)(c.tu,{gap:8},(0,e.h)(c.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(c.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!r&&(0,e.h)(c.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:oo.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},lE=({newsletter:n,hideLink:r,onClick:o,onToggle:i})=>{const _=!!i,A=k=>{k.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(c.tu,{className:s()(oo.containerMobile,{[oo.selectedContainer]:_&&n.selected,[oo.selectableContainer]:_,[oo.clickableContainer]:!!A}),justifyContent:"space-between",radius:12,padding:16,onClick:_?A:o!=null?o:void 0},_&&n.selected?(0,e.h)(Tf,{className:s()(oo.selector)}):_?(0,e.h)("div",{className:s()(oo.unselected,oo.selector)}):null,(0,e.h)(c.tu,{gap:8},(0,e.h)(c.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:oo.imgMobile,src:(0,f.imginary)(n.logoUrl,64)}),(0,e.h)(c.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(c.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!r&&(0,e.h)(c.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},uE={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},cE=({newsletters:n,hideLinks:r,onNewsletterClick:o,justifyItems:i})=>{const{iString:_}=(0,l.M1)();return(0,e.h)(pe.gq,{className:uE.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,_("No additional newsletters")),n.map((A,k)=>(0,e.h)(sE,{newsletter:A,key:k,hideLink:r,onToggle:o?({sectionId:B,isSelected:x})=>{o({sectionId:B,isSelected:x})}:void 0,onClick:r?void 0:()=>{(0,W.redirect)(A.linkUrl,{local_navigation:!1})}})))},Ju={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var dE=Object.defineProperty,fE=Object.defineProperties,pE=Object.getOwnPropertyDescriptors,If=Object.getOwnPropertySymbols,hE=Object.prototype.hasOwnProperty,mE=Object.prototype.propertyIsEnumerable,Mf=(n,r,o)=>r in n?dE(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_E=(n,r)=>{for(var o in r||(r={}))hE.call(r,o)&&Mf(n,o,r[o]);if(If)for(var o of If(r))mE.call(r,o)&&Mf(n,o,r[o]);return n},gE=(n,r)=>fE(n,pE(r));const vE=({pub:n,user:r})=>{const o=(0,Rn.getNewslettersForSubscribeFromPub)({pub:n,includeMainPub:!0,excludePodcasts:(0,Ka.VL)({pub:n})}).map(i=>gE(_E({},i),{linkUrl:(0,f.updateQuery)(i.linkUrl,{utm_source:j.UTM_SOURCE.newsletterPage}),selected:i.defaultOn}));return o.length===0?(typeof window!="undefined"&&(window.location.href=(0,yt.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:s()("page","typography",Ju.container)},(0,e.h)(c.tu,null,(0,e.h)(c.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(c.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(c.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(c.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",r!=null&&r.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Ju.accountLink,href:(0,f.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!r||!r.is_subscribed)&&(0,e.h)(c.zx,{priority:"primary-theme",href:(0,f.getSubscribeUrl)(n,{addBase:!0,utm_source:j.UTM_SOURCE.newsletterPage}),localNavigation:!1},"Subscribe")),(0,e.h)(c.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Ju.newsletterList},(0,e.h)(cE,{newsletters:o,hideLinks:!1,justifyItems:"start"}))))};var yE=ke(72829),bE=ke(92643),Xu=ke(71720),EE=Object.defineProperty,PE=Object.defineProperties,OE=Object.getOwnPropertyDescriptors,Df=Object.getOwnPropertySymbols,wE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable,Af=(n,r,o)=>r in n?EE(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ms=(n,r)=>{for(var o in r||(r={}))wE.call(r,o)&&Af(n,o,r[o]);if(Df)for(var o of Df(r))SE.call(r,o)&&Af(n,o,r[o]);return n},yl=(n,r)=>PE(n,OE(r)),CE=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())}),Nf;const TE=typeof window!="undefined"?(Nf=window._preloads)==null?void 0:Nf.publicationUserSettings:{},Lf=n=>({getSettingForPubUser:o=>{if(!o||!n)return null;const i=n[o];return i===void 0?null:i}}),Qu=(0,e.createContext)(yl(ms({},Lf(TE)),{changeUserSetting:()=>Promise.resolve(void 0)}));Qu.displayName="PublicationUserSettingsContext";const RB=n=>{const r=forwardRef((o,i)=>{const _=ME();return h(n,yl(ms(ms({},_),o),{ref:i}))});return r.displayName=`withPubUserSettingsContext(${n.displayName||n.name||"Anonymous"})`,r};function IE({preloadPubUserSettings:n={},children:r}){const[o,i]=(0,t.eJ)(n),_=(0,t.I4)((k,B)=>CE(this,null,function*(){i(x=>yl(ms({},x),{[k]:B}));try{yield(0,$n.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:k,value:B}})}catch(x){console.error(x)}}),[i]),A=(0,t.Ye)(()=>yl(ms({},Lf(o)),{changeUserSetting:_}),[o,_]);return(0,e.h)(Qu.Provider,{value:A},r)}function ME(){return useContext(Qu)}var _s=ke(10174),Rf=ke(72307);function DE({user:n=null,pub:r=null,children:o=void 0,siteConfigs:i={},hasThemedBackground:_=!1,language:A="en",preferredLanguage:k=null,country:B=void 0,experimentInfo:x={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},portalRoot:q=void 0,shouldLoad:de=void 0,shouldPollNotifications:_e=!1,publicationSettings:ve={},userSettings:Oe=void 0,publicationUserSettings:Se={},activityToken:we}){de===void 0&&(de=!!n);const Re=(0,Rf.lV)(!!n);return(0,e.h)(Vu,{country:B||"US"},(0,e.h)(l._7,{language:A||"en",preferredLanguage:k},(0,e.h)(w.ze,{value:{hasThemedBackground:_}},(0,e.h)(te.vC,{siteConfigs:i},(0,e.h)(gr.Vt,{siteConfigs:i,experimentInfo:x},(0,e.h)(zn,{siteConfigs:i,experimentInfo:x},(0,e.h)(L.Iz,{settings:ve},(0,e.h)(IE,{preloadPubUserSettings:Se},(0,e.h)(lo.N$,{shouldLoad:de,shouldPoll:_e,activityToken:we},(0,e.h)(ra.X,{root:q},(0,e.h)(ro.dr,{defaultValue:n,userSettings:Oe},(0,e.h)(bE.am,null,(0,e.h)(yn.VW,null,(0,e.h)(Rf.e.Provider,{value:Re},(0,e.h)(_s.Au,null,(0,e.h)(yE.pe,null,(0,e.h)(Xu.G.Provider,{value:r},o)))))))))))))))))}var za=ke(86575);function AE(){return(0,e.h)(wr.cr,{module:"../feed/PublicationPage",onRequest:()=>Promise.all([ke.e(6272),ke.e(8437)]).then(ke.bind(ke,48437)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(NE,null)})}function NE(){return(0,e.h)(fl.h,null,(0,e.h)(pe.hs,{bg:"primary",style:{minHeight:800}}))}var LE=Object.defineProperty,RE=Object.defineProperties,xE=Object.getOwnPropertyDescriptors,xf=Object.getOwnPropertySymbols,UE=Object.prototype.hasOwnProperty,BE=Object.prototype.propertyIsEnumerable,Uf=(n,r,o)=>r in n?LE(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kE=(n,r)=>{for(var o in r||(r={}))UE.call(r,o)&&Uf(n,o,r[o]);if(xf)for(var o of xf(r))BE.call(r,o)&&Uf(n,o,r[o]);return n},FE=(n,r)=>RE(n,xE(r));function WE(){const n=(0,yn.pm)();return(0,t.d4)(()=>{const r=new URL(location.toString());r.searchParams.get("founding-member-confirmation")&&(r.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",r),n.popToast(i=>(0,e.h)(yn.FN,FE(kE({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var gs=ke(63030),vs=ke(71375),Bf=ke(16527),qo=ke(92271);const qu={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var jE=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const HE=(n,r,o,i,_)=>{if(!r)return null;switch(n){case"post-login":return r.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,f.getReaderProfileUrl)(r,{utm_source:j.UTM_SOURCE.profileToast,noBase:o}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,f.getReaderOnboardingUrl)({isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!r.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,f.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,f.getReaderProfileUrl)(r,{utm_source:j.UTM_SOURCE.profileToast,noBase:o}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(pe.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,yt.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(a.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(a.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Et.numberToOrdinal)(_)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,f.getStartPublishingUrl)({utm_source:j.UTM_SOURCE.profileToast}),ctaVariant:"themed-primary"};default:return null}};function VE({user:n,pub:r=null,noBase:o=!1}){const i=(0,yn.pm)();return(0,t.d4)(()=>{function _(){return jE(this,null,function*(){yield Ke().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const A=new URL(location.toString()),k=A.searchParams.get("profile-setup-message");if(!k)return;const B=k==="start-writing"?Number(A.searchParams.get("nthPub")):void 0;if(A.searchParams.delete("nthPub"),A.searchParams.delete("profile-setup-message"),history.replaceState({},"",A),!(k!=="post-subscribe-prompt"))return;const q=HE(k,n,o,r,B);q&&(k==="start-writing"&&_(),i.popToast(({onClose:de})=>(0,e.h)(pe.tu,{className:qu.wrapper,justifyContent:"space-between"},(0,e.h)(pe.tu,{gap:8},(0,e.h)(pe.gq,{className:qu.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(qo.z,{look:"flex",onClick:de},(0,e.h)(vs.Z,{size:20}))),(0,e.h)(a.xv.H3,{className:qu.header},q.title),q.body),(0,e.h)(qo.z,{variant:q.ctaVariant,fill:"filled",onClick:_e=>{(0,Bf.Q)(_e,q.ctaLink,{native:!0}),de()}},q.ctaText)),{ttl:null}))},[]),null}const $E=["sort"],KE=["sort","selection"];function kf(n,r){let o;try{o=new URL(`${location.protocol}//${location.host}${n}`)}catch(i){o=new URL(n)}for(const i of o.searchParams.keys())(r?KE:$E).includes(i)||o.searchParams.delete(i);return o.toString()}function GE({previous:n,url:r}){var o,i;if(typeof window=="undefined")return;const _=kf(r,!1),A=kf(r,!0),{head:k}=document;(o=k.querySelector("link[rel=canonical]"))==null||o.setAttribute("href",_),(i=k.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",A),(0,d.notifyUrlChangeForAnalytics)({previous:n,url:r})}var Ff=ke(35225),zE=ke(3312),ec=ke.n(zE),ZE=ke(92592),YE=Object.defineProperty,JE=Object.defineProperties,XE=Object.getOwnPropertyDescriptors,Wf=Object.getOwnPropertySymbols,QE=Object.prototype.hasOwnProperty,qE=Object.prototype.propertyIsEnumerable,jf=(n,r,o)=>r in n?YE(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ma=(n,r)=>{for(var o in r||(r={}))QE.call(r,o)&&jf(n,o,r[o]);if(Wf)for(var o of Wf(r))qE.call(r,o)&&jf(n,o,r[o]);return n},Hf=(n,r)=>JE(n,XE(r));function Vf(n,{name:r,url:o,description:i,potentialAction:_}={}){return _===void 0&&(_={"@type":"SearchAction",name:`Search ${n.name}`,target:`${n.base_url}${(0,f.getBaseArchiveUrl)(n)}?utm_source=${j.UTM_SOURCE.google}&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:r||n.name,publisher:Ma(Ma({"@type":"Organization",name:n.name,url:n.base_url},n.logo_url?{logo:{"@type":"ImageObject",url:n.logo_url}}:{}),n.twitter_screen_name?{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]}:{}),url:o||n.base_url,mainEntityOfPage:{"@type":"WebPage",url:o||n.base_url},description:i||n.hero_text,potentialAction:_}}function eP(n,r){var o,i,_,A;const k=(0,Et.getBylineUsers)(r),B=Ma(Ma(Hf(Ma({"@type":"Organization",name:n.name,url:(0,f.getBaseUrl)(n),description:n.hero_text},n.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:n.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${n.id}`}),n.logo_url&&{logo:{"@type":"ImageObject",url:n.logo_url,contentUrl:(0,f.imginary)((o=n.logo_url)!=null?o:""),thumbnailUrl:(0,f.imginary)((i=n.logo_url)!=null?i:"",128,{height:128})},image:{"@type":"ImageObject",url:n.logo_url,contentUrl:(0,f.imginary)((_=n.logo_url)!=null?_:""),thumbnailUrl:(0,f.imginary)((A=n.logo_url)!=null?A:"",128,{height:128})}}),n.twitter_screen_name&&{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]});return Hf(Ma({"@context":"https://schema.org","@type":"NewsArticle",url:(0,f.getPostUrl)(n,r),mainEntityOfPage:(0,f.getPostUrl)(n,r),headline:r.search_engine_title||r.social_title||r.title,description:r.search_engine_description||r.description,image:r.cover_image?[{"@type":"ImageObject",url:r.cover_image}]:[],datePublished:Hr()(r.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:Hr()(r.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,or.isPaidAudience)(r.audience)},r.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:k.length>0?k.map(x=>Ma(Ma({"@type":"Person",name:x.name,url:(0,f.getReaderProfileUrl)(x),description:x.bio,identifier:`user:${x.id}`},x.twitter_screen_name&&{sameAs:[`https://twitter.com/${x.twitter_screen_name}`]}),x.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,f.imginary)(x.photo_url),thumbnailUrl:(0,f.imginary)(x.photo_url,128,{height:128})}})):B,publisher:B})}function xB(n){return Ma({"@context":"https://schema.org","@type":"Person",image:(n==null?void 0:n.photo_url)&&imginary(n.photo_url),name:`${n==null?void 0:n.name}`,url:n&&getReaderProfileUrl(n),jobTitle:n==null?void 0:n.bio,description:n==null?void 0:n.bio},n!=null&&n.twitter_screen_name?{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]}:{})}var pa=ke(2181);function UB(){const[n,r]=useState(()=>typeof window!="undefined"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return useEffect(()=>{const o=_=>{r(_.matches)},i=window.matchMedia("(prefers-color-scheme: dark)");return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),{darkMode:n}}var Mo=ke(62246);function BB({utm_campaign:n,utm_source:r,utm_content:o,abTestingId:i,overrideTitle:_,subTitle:A}={}){const[k,B]=useState(!1);return{open:()=>{B(!0),track(EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:n,utm_source:r,utm_content:o})},modal:h(nP,{isOpen:k,onClose:()=>B(!1),utm_campaign:n,utm_source:r,utm_content:o,abTestingId:i,overrideTitle:_,subTitle:A})}}function $f({label:n}){return(0,e.h)(pe.hs,{gap:16,alignItems:"center",className:V.divider},(0,e.h)("hr",{className:V.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.Meta,null,n),(0,e.h)("hr",{className:V.dividerLine})))}function tP({utm_campaign:n,utm_source:r,utm_content:o,hideQrInstructions:i=!0,darkMode:_=!1,abTestingId:A,size:k,gap:B=32,padding:x=32}){const{iString:q}=useI18N(),de=useMobile();return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:B,padding:x},!de&&h(Fragment,null,!i&&h(Text.B3,{weight:"semibold",translated:!0},"Scan the QR code below"),h(FlexBox,{className:css.qrCode,padding:20},h(oP,{size:k,utm_campaign:n,utm_source:r,utm_content:o,abTestingId:A})),h($f,{label:q("OR")})),de?h(Button,{grow:!0,href:getAppStoreRedirectUrl({utm_campaign:n,utm_source:r})},q("Install the app")):h(rP,{utm_campaign:n,utm_source:r,darkMode:_}))}function rP({utm_campaign:n,utm_source:r,darkMode:o=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:n,utm_source:r}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"ios",utm_campaign:n,utm_source:r})}},h("img",{src:imginary(o?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:n,utm_source:r}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"android",utm_campaign:n,utm_source:r})}},h("img",{src:imginary(o?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function nP({isOpen:n,onClose:r,utm_campaign:o,utm_content:i,utm_source:_,abTestingId:A,overrideTitle:k,subTitle:B}){const{iString:x}=useI18N();return h(Modal,{isOpen:n,onClose:r,width:500},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,k||x("Download the Substack app")),h(IconButton,{size:40,onClick:r,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),B?h(Text.B3,{align:"center",paddingTop:12,paddingX:12},B):null,h(tP,{utm_campaign:o,utm_source:_,utm_content:i,abTestingId:A})))}function oP({utm_campaign:n,utm_source:r,utm_content:o,abTestingId:i,size:_=240,width:A,height:k}){const B=useRef(null),x=getAppStoreRedirectUrl({utm_campaign:n,utm_source:r,utm_content:o,abti:i}),{darkMode:q}=useDarkMode(),de=aP(_e=>{const ve=_e.devicePixelRatio,Oe=getComputedStyle(document.body),Se=Oe.getPropertyValue("--color-primary"),we=Oe.getPropertyValue("--color-bg-elevated");return{width:(A!=null?A:_)*ve,height:(k!=null?k:_)*ve,type:"canvas",data:x,dotsOptions:{color:Se,type:"dots"},backgroundOptions:{color:we},cornersSquareOptions:{color:Se,type:"extra-rounded"},cornersDotOptions:{color:Se,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[A,k,x,q]);return useEffect(()=>{const{current:_e}=B;if(!_e||!de||!de._canvas)return;const ve=de._canvas;return ve.style.width=`${A!=null?A:_}px`,ve.style.height=`${k!=null?k:_}px`,_e.appendChild(ve),()=>{_e.removeChild(ve)}},[de,A,k]),h("div",{ref:B})}function aP(n,r){const{result:o}=useResource(()=>ke.e(1915).then(ke.t.bind(ke,91915,23)),[],{auto:!0}),i=o==null?void 0:o.default;return useMemo(()=>i&&typeof window!="undefined"?new i(n(window)):null,[i,...r])}var iP=ke(30058),Kf=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,uP=(n,r)=>{var o={};for(var i in n)sP.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Kf)for(var i of Kf(n))r.indexOf(i)<0&&lP.call(n,i)&&(o[i]=n[i]);return o};const bl=n=>{var r=n,{size:o=32,shape:i="circle",badgePosition:_="top-right",badge:A,imageUrl:k,onClick:B,className:x,border:q}=r,de=uP(r,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);const _e=s()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":o===24,"tw-h-8 tw-w-8":o===32,"tw-h-10 tw-w-10":o===40,"tw-h-12 tw-w-12":o===48,"tw-h-[64px] tw-w-[64px]":o===64,"tw-h-[88px] tw-w-[88px]":o===88,"tw-border-4 tw-border-substack-bg tw-shadow-md":q},B?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null);return(0,e.h)(iP.e,{className:x},(0,e.h)("div",{onClick:B,className:s()("tw-relative","tw-inline-block")},k?(0,e.h)(Qe.e,{className:_e,src:k,maxWidth:88,loading:"lazy"}):(0,e.h)("img",{className:_e,src:void 0}),A!=null?(0,e.h)("span",{className:s()("tw-absolute",{"tw-top-0 tw-right-0":_==="top-right","tw-top-0 tw-left-0":_==="top-left","tw-bottom-0 tw-right-0":_==="bottom-right","tw-bottom-0 tw-left-0":_==="bottom-left"})},A):null))},Do={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var cP=Object.defineProperty,El=Object.getOwnPropertySymbols,Gf=Object.prototype.hasOwnProperty,zf=Object.prototype.propertyIsEnumerable,Zf=(n,r,o)=>r in n?cP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dP=(n,r)=>{for(var o in r||(r={}))Gf.call(r,o)&&Zf(n,o,r[o]);if(El)for(var o of El(r))zf.call(r,o)&&Zf(n,o,r[o]);return n},fP=(n,r)=>{var o={};for(var i in n)Gf.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&El)for(var i of El(n))r.indexOf(i)<0&&zf.call(n,i)&&(o[i]=n[i]);return o};function tc({children:n,pub:r,user:o,showHeader:i,layoutTop:_}){return(0,e.h)("div",{className:s()(Do.pageContainer,_?Do.layoutTop:Do.layoutCentered)},(0,e.h)("div",{className:Do.header},i&&r&&o&&(0,e.h)(vl,{pub:r,user:o,hideSections:!0,hideTitle:!0})),n)}function pP({pub:n,utm_campaign:r}){return(0,e.h)(pe.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Xf,{utm_campaign:r}),(0,e.h)(a.xv.B4,{translated:!0,size:12,color:"secondary",className:Do.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,f.getThreadDeepLinkUrl)(n)},"Open now")))}function hP({pub:n,utm_campaign:r}){return(0,e.h)(pe.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Qf,{utm_campaign:r}),(0,e.h)(a.xv.B4,{translated:!0,size:12,color:"secondary",className:Do.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,f.getThreadDeepLinkUrl)(n)},"Open now")))}function Yf({pub:n,communityAction:r}){var o,i,_;const{iString:A,iTemplate:k}=(0,l.M1)(),B=r?k`${((o=r.author)==null?void 0:o.name)||A("Someone")} started a thread`:k`Join ${(0,Et.possessive)(n.author_name)} subscriber chat `,x=r!=null&&r.communityPost?(i=r.communityPost.body)==null?void 0:i.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,q=((_=r==null?void 0:r.communityPost)==null?void 0:_.type)==="media"&&!!(r!=null&&r.communityPost.media_assets),de=q?r.communityPost.media_assets[0].url:n.logo_url,_e=(0,yt.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,W.setMetaData)({title:B,socialTitle:B,description:x,image:de,isLargeImage:q}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:ec()(Vf(n,{name:B,url:_e,description:x,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function mP({publication:n,communityAction:r,user:o,showHeader:i}){return(0,e.h)(tc,{pub:n,user:o,showHeader:i},(0,e.h)(pe.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(pe.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(vP,{publication:n,communityAction:r,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:j.UTM_CAMPAIGN.threadsPage}))))}function _P({publication:n,communityAction:r,user:o,layoutTop:i,appModalOpenByDefault:_}){const A=(0,hn.XA)(),[k,B]=(0,t.eJ)(!A&&_),x=j.UTM_CAMPAIGN.threadPage,{iString:q}=(0,l.M1)(),de=(0,e.h)(pe.tu,{gap:8},(0,e.h)(pa.dI,{href:(0,yt.getCommunityPostAppLinkUrl)({postId:r.communityPost.id,utm_source:j.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:x}),onClick:A?null:_e=>{_e.preventDefault(),B(!0)}},q("Open in app")),(0,e.h)(rc,{publication:n,postId:r.communityPost.id,text:q("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(tc,{pub:n,user:o,layoutTop:i},(0,e.h)(pe.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(pe.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(pe.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},r.status==="open"?(0,e.h)(pa.Jg,{communityPost:r.communityPost,author:r.author,withAttribution:!0,extras:A?null:de,flex:"auto",isReadOnly:!0}):(0,e.h)(pe.tu,null,(0,e.h)(pa.V8,{author:r.author,extras:A?null:de,commenters:r.communityPost.recent_commenters,count:r.communityPost.comment_count,audience:r.communityPost.audience})))),A&&(0,e.h)(pe.tu,{className:Do.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},de),(0,e.h)(Yf,{pub:n,communityAction:r})),(0,e.h)(qf,{utm_campaign:x,isOpen:k,postId:r.communityPost.id,onClose:()=>B(!1),subdomain:n.subdomain}))}function gP({publication:n,communityAction:r,user:o,layoutTop:i,appModalOpenByDefault:_}){var A;const{iString:k}=(0,l.M1)(),B=(0,hn.XA)(),[x,q]=(0,t.eJ)(!B&&_),de=j.UTM_CAMPAIGN.commentPage,_e=(A=r.communityComment.parent_id)!=null?A:r.communityComment.id,ve=r.communityComment.parent_id?r.communityComment.id:void 0,Oe=r.communityComment.post_id,Se=(0,e.h)(pe.tu,{gap:8},(0,e.h)(pa.dI,{href:(0,yt.getCommunityCommentAppLinkUrl)({commentId:_e,targetReplyId:ve,utm_source:j.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:de}),onClick:B?null:we=>{we.preventDefault(),q(!0)}},k("Open in app")),(0,e.h)(rc,{publication:n,postId:Oe,commentId:_e,targetReplyId:ve,showTarget:ve?!0:void 0,text:k("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(tc,{pub:n,user:o,layoutTop:i},(0,e.h)(pe.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(pe.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(pe.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},r.status==="VISIBLE"||!r.status?(0,e.h)(pa.rk,{chatPublicationId:n.id,communityComment:r.communityComment,author:r.author,extras:B?null:Se,isReadOnly:!0,isBanned:!1,quoteReply:r.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):r.status==="PAID_SUBSCRIPTION_REQUIRED"||r.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(pe.tu,null,(0,e.h)(pa.V8,{author:r.author,extras:B?null:Se,commenters:r.communityComment.recent_commenters,count:r.communityComment.reply_count,audience:r.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(pe.tu,null,(0,e.h)(pa.Q4,{author:r.author,extras:B?null:Se,commenters:r.communityComment.recent_commenters,count:r.communityComment.reply_count})))),B&&(0,e.h)(pe.tu,{className:Do.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Se)),(0,e.h)(qf,{utm_campaign:de,isOpen:x,postId:Oe,commentId:_e,targetReplyId:ve,onClose:()=>q(!1),subdomain:n.subdomain}))}function vP({publication:n,communityAction:r,publicationAuthor:o,noFallback:i,utm_campaign:_}){const A=(0,v.isMobile)(),k=(0,v.isAndroid)();return(0,e.h)(pe.tu,{gap:A?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(bl,{imageUrl:(0,f.getUserPhotoUrl)(o),size:88,border:!0,badge:(0,e.h)("div",{className:s()(Do.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(pe.tu,{gap:8},(0,e.h)(a.xv.H2,{translated:!0,size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",I18N.p(o.name||"Substack user"),"'s subscriber chat")),!A&&(0,e.h)("div",{className:Do.threadsLinkContainer},(0,e.h)(Jf,{utm_campaign:_,subdomain:n.subdomain})),A&&(k?(0,e.h)(hP,{pub:n,utm_campaign:_}):(0,e.h)(pP,{pub:n,utm_campaign:_})),(0,e.h)(rc,{publication:n,source:"pub-nav-bar"}),(0,e.h)(Yf,{pub:n,communityAction:r}))}function rc({publication:n,source:r,postId:o,commentId:i,targetReplyId:_,showTarget:A,text:k}){const{iString:B}=(0,l.M1)();return k||(k=B("Or open on web")),(0,e.h)("a",{href:(0,yt.getWebChatUrl)({pubId:n.id,postId:o,commentId:i,params:{utm_source:r,targetReplyId:_,showTarget:A}}),className:Do.webChatLink},(0,e.h)(a.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},k))}function Jf({utm_campaign:n,postId:r,subdomain:o,commentId:i,targetReplyId:_}){return(0,e.h)(pe.tu,{gap:24,alignItems:"center"},(0,e.h)(pe.hs,{justifyContent:"center"},(0,e.h)(a.xv.B4,{translated:!0,as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(pe.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Do.qrCode},(0,e.h)(yP,{utm_campaign:n,postId:r,subdomain:o,commentId:i,targetReplyId:_})),(0,e.h)($f,{label:"OR"}),(0,e.h)(pe.hs,{gap:16,justifyContent:"center"},(0,e.h)(Xf,{utm_campaign:n}),(0,e.h)(Qf,{utm_campaign:n})))}function yP({utm_campaign:n,postId:r,subdomain:o,commentId:i,targetReplyId:_}){const A=(0,t.sO)(),k=i?(0,yt.getCommunityCommentAppLinkUrl)({commentId:i,targetReplyId:_,utm_campaign:n}):r?(0,yt.getCommunityPostAppLinkUrl)({postId:r,utm_campaign:n}):(0,yt.getPublicationChatAppLinkUrl)({pubKey:o,redirect:"app-store",utm_campaign:n});return(0,t.d4)(()=>{const{current:B}=A;B&&ZE.toCanvas(B,k,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:A})}function Xf({utm_campaign:n}){return(0,e.h)("a",{className:Do.appBadge,href:(0,f.getAppStoreUrl)({utm_campaign:n,utm_source:j.UTM_SOURCE.substack}),onClick:()=>{(0,d.track)(d.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"ios"})}},(0,e.h)("img",{src:(0,f.imginary)("/img/app_page/app-store.png",400),height:40}))}function Qf({utm_campaign:n}){return(0,e.h)("a",{className:Do.appBadge,href:(0,f.getPlayStoreUrl)({utm_campaign:n,utm_source:j.UTM_SOURCE.substack}),onClick:()=>{(0,d.track)(d.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"android"})}},(0,e.h)("img",{src:(0,f.imginary)("/img/app_page/google-play.png",400),height:40}))}function qf(n){var r=n,{postId:o,utm_campaign:i,subdomain:_,commentId:A,targetReplyId:k}=r,B=fP(r,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);const{iString:x}=(0,l.M1)();return(0,e.h)(Mo.u_,dP({},B),(0,e.h)(Mo.xB,{title:x("Open in the Substack app"),includeClose:!0,onClose:B.onClose,bottomBorder:!0}),(0,e.h)(pe.tu,{paddingY:32,paddingX:40},(0,e.h)(Jf,{utm_campaign:i,postId:o,subdomain:_,commentId:A,targetReplyId:k})))}var Bi=ke(59543),nc=ke(1852),ha=ke(80332),oc=function(){return(oc=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++)for(var _ in r=arguments[o])Object.prototype.hasOwnProperty.call(r,_)&&(n[_]=r[_]);return n}).apply(this,arguments)},ys,bs,ac=(0,Te.createContext)(void 0),ep="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",tp="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",bP=function(de){var r=de.config,o=de.version,o=o===void 0?3:o,i=de.src,i=i===void 0?o===2?ep:tp:i,_=de.onStartup,A=de.onLoad,k=de.onError,B=de.typesettingOptions,x=de.renderMode,x=x===void 0?"post":x,q=de.hideUntilTypeset,de=de.children,ve=(0,Te.useContext)(ac);if((ve==null?void 0:ve.version)!==void 0&&(ve==null?void 0:ve.version)!==o)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(o===2&&bs!==void 0||o===3&&ys!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var _e=(0,Te.useRef)(ve),ve=(0,Te.useRef)((ve==null?void 0:ve.version)||null);if(ve.current===null)ve.current=o;else if(ve.current!==o)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Oe=i||(o===2?ep:tp);function Se(we,Re){r&&(window.MathJax=r);var Fe=document.createElement("script");Fe.type="text/javascript",Fe.src=Oe,Fe.async=!1,Fe.addEventListener("load",function(){var He=window.MathJax;_&&_(He),we(He),A&&A()}),Fe.addEventListener("error",function(He){return Re(He)}),document.getElementsByTagName("head")[0].appendChild(Fe)}return _e.current===void 0&&(ve={typesettingOptions:B,renderMode:x,hideUntilTypeset:q},o===2?ys===void 0&&(typeof window!="undefined"?(ys=new Promise(Se)).catch(function(we){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(Oe,"' due to: ").concat(we));k(we)}):(ys=Promise.reject()).catch(function(we){})):bs===void 0&&(typeof window!="undefined"?(bs=new Promise(Se)).catch(function(we){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(Oe,"' due to: ").concat(we));k(we)}):(bs=Promise.reject()).catch(function(we){})),_e.current=oc(oc({},ve),o===2?{version:2,promise:ys}:{version:3,promise:bs})),Te.default.createElement(ac.Provider,{value:_e.current},de)};const EP=bP;var PP=ke(23279),ic=ke.n(PP),Za=function(){return(Za=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++)for(var _ in r=arguments[o])Object.prototype.hasOwnProperty.call(r,_)&&(n[_]=r[_]);return n}).apply(this,arguments)},OP=function(n,r){var o={};for(_ in n)Object.prototype.hasOwnProperty.call(n,_)&&r.indexOf(_)<0&&(o[_]=n[_]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,_=Object.getOwnPropertySymbols(n);i<_.length;i++)r.indexOf(_[i])<0&&Object.prototype.propertyIsEnumerable.call(n,_[i])&&(o[_[i]]=n[_[i]]);return o},Es=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},wP=function(n){function r(){var rt;we==="every"&&He&&Re==="post"&&Oe.current!==null&&(Oe.current.style.visibility=(rt=(rt=_e.style)==null?void 0:rt.visibility)!=null?rt:"visible"),ut.current||(we==="first"&&Oe.current!==null&&(Oe.current.style.visibility="visible"),_&&_(),ut.current=!0),A&&A(),et.current=!1}var i=n.inline,o=i!==void 0&&i,i=n.hideUntilTypeset,_=n.onInitTypeset,A=n.onTypeset,k=n.text,B=n.dynamic,x=n.typesettingOptions,q=n.renderMode,de=n.children,_e=OP(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),ve=(0,Te.useRef)(""),Oe=(0,Te.useRef)(null),Se=(0,Te.useContext)(ac),we=i!=null?i:Se==null?void 0:Se.hideUntilTypeset,Re=q!=null?q:Se==null?void 0:Se.renderMode,Fe=x!=null?x:Se==null?void 0:Se.typesettingOptions,He=B!==!1&&(B||!1),ut=(0,Te.useRef)(!1),et=(0,Te.useRef)(!1);return!et.current&&Oe.current!==null&&He&&we==="every"&&Re==="post"&&(Oe.current.style.visibility="hidden"),(typeof window!="undefined"?Te.useLayoutEffect:Te.useEffect)(function(){if((He||!ut.current)&&Oe.current!==null){if(!Se)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(Re==="pre"){if(!(typeof(rt=k)=="string"&&0<rt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!x||!x.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(Se.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}Re!=="post"&&k===ve.current||et.current||(et.current=!0,Se.version===3?Se.promise.then(function(gt){var Tt;Re==="pre"?(Tt=function(St){ve.current=k,gt.startup.document.clear(),gt.startup.document.updateDocument(),Oe.current!==null&&(Oe.current.innerHTML=St.outerHTML),r()},x.fn.endsWith("Promise")?gt.startup.promise.then(function(){return gt[Fe.fn](k,Za(Za({},(Fe==null?void 0:Fe.options)||{}),{display:!o}))}).then(Tt).catch(function(St){throw r(),Error(Es(St))}):gt.startup.promise.then(function(){var St=gt[Fe.fn](k,Za(Za({},(Fe==null?void 0:Fe.options)||{}),{display:!o}));Tt(St)}).catch(function(St){throw r(),Error(Es(St))})):gt.startup.promise.then(function(){return gt.typesetClear([Oe.current]),gt.typesetPromise([Oe.current])}).then(r).catch(function(St){throw r(),Error(Es(St))})}).catch(function(gt){throw r(),Error(Es(gt))}):Se.promise.then(function(gt){gt.Hub.Queue(["Typeset",gt.Hub,Oe.current]),gt.Hub.Queue(r)}).catch(function(gt){throw r(),Error(Es(gt))}))}var rt}),Te.default.createElement("span",Za({},_e,{style:Za(Za({display:o?"inline":"block"},_e.style),{visibility:we?"hidden":(n=_e.style)==null?void 0:n.visibility}),ref:Oe}),de)};const SP=wP,CP='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();';var ao=ke(82626),TP=ke(42395),fo=ke.n(TP),Qr=ke(52273);const ki={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function IP({pub:n,subdomain:r}){const{iString:o}=(0,l.M1)();return(0,e.h)(pe.tu,{className:ki.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:sc(r),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(bl,{size:64,imageUrl:(0,yt.imginary)(n.author_photo_url),border:!0}),(0,e.h)(pe.tu,{gap:4,alignItems:"center"},(0,e.h)(a.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(a.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(pe.tu,{alignSelf:"stretch"},(0,e.h)(me.zx,{priority:"primary-theme",href:sc(r)},o("Join chat"))))}function MP({pub:n,subdomain:r}){const{iString:o}=(0,l.M1)();return(0,e.h)("a",{className:ki.emailWrapper,href:sc(r),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:ki.container},(0,e.h)(Qr.NS,{size:64,src:(0,yt.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:ki.text},(0,e.h)(a.xv.H3,{translated:!0,className:ki.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(a.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Qr.Bj,{tableClassName:ki.button},o("Join chat"))))}function sc(n){return(0,yt.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:j.UTM_SOURCE.chatEmbed})}const Pl={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var DP=Object.defineProperty,rp=Object.getOwnPropertySymbols,AP=Object.prototype.hasOwnProperty,NP=Object.prototype.propertyIsEnumerable,np=(n,r,o)=>r in n?DP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,LP=(n,r)=>{for(var o in r||(r={}))AP.call(r,o)&&np(n,o,r[o]);if(rp)for(var o of rp(r))NP.call(r,o)&&np(n,o,r[o]);return n};function RP({communityPost:n,is_freemail:r,author:o,cta:i,withAttribution:_,attributionText:A,hideReply:k,truncateBodyAt:B}){var x;const q=!n||r&&n.audience==="only_paid";let de=null;return!q&&n.body&&(de=B?(0,Et.truncateText)(n.body,B):n.body),(0,e.h)(Qr.zK,{gap:12,verticalAlign:"top"},(0,e.h)(Qr.NS,{src:(x=o==null?void 0:o.photo_url)!=null?x:"",size:40}),(0,e.h)(Qr.i$,{gap:4,style:{lineHeight:0}},_&&(0,e.h)(pa.xn,{isStatic:!0,text:A||`From ${o!=null&&o.name?(0,Et.possessive)(o.name):"Substack user"} subscriber chat`}),q?(0,e.h)(xP,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(_e=>(0,e.h)(UP,{key:_e.url,asset:_e})):n.type==="link"&&(0,e.h)(BP,{communityPost:n}),de&&(0,e.h)(lc,null,(0,e.h)("span",null,(0,e.h)(a.Zx,{weight:"bold"},o?o.name:"Substack writer")," ",de))],!k&&(0,e.h)(lc,null,(0,e.h)(Qr.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(a.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(_l.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(Qr.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(a.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function lc(n){return(0,e.h)("div",LP({className:Pl.bubble},n))}function xP(){return(0,e.h)("div",{className:Pl.paywallBubble,style:{backgroundImage:`url(${(0,yt.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(a.xv.Meta,null,"SUBSCRIBERS ONLY"))}function UP({asset:n}){var r;return(0,e.h)("img",{className:Pl.img,width:400,src:(0,yt.imginary)((r=n.url)!=null?r:"",400*2,{crop:"limit",height:400*2})})}function BP({communityPost:n}){var r,o;const{link_metadata:i,link_url:_}=n,A=(o=(r=i==null?void 0:i.url)!=null?r:_)!=null?o:"";let k;try{const B=new URL(A);k=`${B.host}${B.pathname}${B.search}${B.hash}`}catch(B){k=A}return(0,e.h)(lc,null,(0,e.h)(Qr.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(a.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(a.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:Pl.linkImg,src:(0,yt.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}function kB({utm_campaign:n,utm_source:r,style:o}){const i="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",_=getGlobalAccountSettingsUrl({utm_source:r,section:"notifications",highlightNotification:null}),A=getChatAppLinkUrl({utm_source:r,utm_campaign:n});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:o},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},i,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:_}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:A},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:_},"Visit Settings")))}const uc={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var kP=Object.defineProperty,FP=Object.defineProperties,WP=Object.getOwnPropertyDescriptors,op=Object.getOwnPropertySymbols,jP=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,ap=(n,r,o)=>r in n?kP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,VP=(n,r)=>{for(var o in r||(r={}))jP.call(r,o)&&ap(n,o,r[o]);if(op)for(var o of op(r))HP.call(r,o)&&ap(n,o,r[o]);return n},$P=(n,r)=>FP(n,WP(r));function KP({postId:n}){var r;const{error:o,result:i}=(0,$n.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),_=o instanceof $n.kp&&o.response.status===402&&((r=o.body)==null?void 0:r.status)==="PAID_SUBSCRIPTION_REQUIRED"?o.body:null;return(0,e.h)(pe.hs,{as:"a",className:uc.container,target:"_blank",href:(0,yt.getCommunityPostAppLinkUrl)({postId:n,utm_source:j.UTM_SOURCE.threadEmbed}),"data-component-name":"CommunityPostEmbed"},_?(0,e.h)(pa.V8,{author:_.user}):o?"Error":i&&(0,e.h)(pa.Jg,{author:i.user,communityPost:i.communityPost,withAttribution:!0,isReadOnly:!0}))}function GP(n){const{postId:r}=n;return(0,e.h)("a",{className:uc.emailWrapper,href:(0,yt.getCommunityPostAppLinkUrl)({postId:r,utm_source:j.UTM_SOURCE.threadEmbed,modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:uc.container},(0,e.h)(RP,$P(VP({},n),{withAttribution:!0}))))}var Fi=ke(31517),ip=ke(26240),sp=ke(67565),zP=ke(52543),Ol=ke(50670),ZP=ke(95406),lp=ke(6742),up=ke(41474),cp=ke(55687);const cc={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function YP({commentId:n}){const{isLoading:r,error:o,result:i}=(0,$n.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return o instanceof $n.kp?o.getMessage():!i||r?(0,e.h)(XP,null):(0,e.h)(JP,{feedItem:i.item})}function JP({feedItem:n}){var r,o,i,_,A;const{comment:k,parentComments:B}=n,{truncatedBodyJson:x}=(0,ZP.Z)(k),q=B[B.length-1],de=(r=k.attachments)==null?void 0:r.find(Oe=>Oe.type!=="image"),_e=(o=k.attachments)==null?void 0:o.filter(Oe=>Oe.type==="image"),ve=(0,t.sO)(null);return(0,lp.UM)(ve,()=>(0,up.zi)(n,"post-embed"),{threshold:.2}),(0,e.h)(pe.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:cc.container},(0,e.h)(fl.h,null,(0,e.h)(pe.hs,{as:"a",target:"_blank",href:(0,yt.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:cc.note,ref:ve},(0,e.h)(pe.hs,{flex:"auto"},(0,e.h)(Ol.Zb,{user:k})),(0,e.h)(pe.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(pe.tu,{minWidth:0,flex:"grow"},(0,e.h)(Ol.KF,null,(0,e.h)(a.Zx,{weight:"semibold"},k.name),(0,e.h)(Or.o,{tier:k.user_bestseller_tier}),(0,e.h)(Ol.Ku,{timestamp:k.date})),q&&(0,e.h)(a.xv.Detail,null,"Replying to ",q.name),(0,e.h)(pe.tu,{gap:12,flex:"grow"},(0,e.h)(Ol.sP,null,x&&(0,e.h)(zP.x,{content:x})),(0,e.h)(sp.y,{attachments:de?[de]:_e||[],readOnly:!0,onAttachmentClick:({commentId:Oe}={})=>(0,up.rw)(n,"post-embed","attachment",{extraEventProps:{commentId:Oe}}),utm_content:n.entity_key}))),(0,e.h)(pe.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(wl,{icon:(0,e.h)(Gu.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=k.reaction_count)!=null?i:0}),(0,e.h)(wl,{icon:(0,e.h)(ip.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(_=k.children_count)!=null?_:0}),(0,e.h)(wl,{icon:(0,e.h)(Fi.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(A=k.restacks)!=null?A:0}),(0,e.h)(wl,{icon:(0,e.h)(pl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function wl({icon:n,count:r}){return(0,e.h)(pe.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(a.xv.Digit,{color:"secondary"},r>0&&(0,cp.u)(r)))}function XP(){return(0,e.h)(fl.h,null,(0,e.h)(pe.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(pe.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:cc.note},(0,e.h)(fa.Vm,{type:"circle",size:48}),(0,e.h)(pe.tu,{gap:12,flex:"grow"},(0,e.h)(fa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(fa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(fa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(fa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var QP=Object.defineProperty,qP=Object.defineProperties,e2=Object.getOwnPropertyDescriptors,dp=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,r2=Object.prototype.propertyIsEnumerable,fp=(n,r,o)=>r in n?QP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,n2=(n,r)=>{for(var o in r||(r={}))t2.call(r,o)&&fp(n,o,r[o]);if(dp)for(var o of dp(r))r2.call(r,o)&&fp(n,o,r[o]);return n},o2=(n,r)=>qP(n,e2(r));const a2=n=>(0,e.h)(De.l,o2(n2({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Wi=ke(4508);const i2={note:"frontend-feed-EmailFeedItem-module__note--vNa7N"};function WB({item:n,utmSource:r,hideUfi:o}){const{comment:i}=n;return h(pp,{comment:i,utmSource:r,hideUfi:o})}function pp({comment:n,utmSource:r,hideUfi:o,commentLinkUrl:i}){var _,A,k,B,x,q,de,_e;if(!n)return(0,e.h)(a.xv.B3,{"data-component-name":"EmailCommentEmbedError"},"Could not load comment");const ve=(_=n.attachments)==null?void 0:_.find(Fe=>Fe.type==="image"),Oe=(A=n.attachments)==null?void 0:A.find(Fe=>Fe.type==="post"),Se=Oe==null?void 0:Oe.postSelection,we=(k=n.attachments)==null?void 0:k.find(Fe=>Fe.type!=="image"),Re=we&&(0,sp.k)(we);return(0,e.h)(Wi.xu,{as:"a",href:i!=null?i:(0,yt.getFeedCommentUrl)(n,{urlParams:{utm_source:r}}),padding:16,radius:12,border:"detail",className:i2.note,"data-component-name":"EmailCommentEmbed"},(0,e.h)(Qr.zK,{style:{width:"100%"},verticalAlign:"top",gap:12,growLastChild:!0},(0,e.h)(Qr.NS,{src:(x=n.photo_url)!=null?x:(0,f.getDefaultUserPhotoById)((B=n.user_id)!=null?B:0),size:48}),(0,e.h)(Qr.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(Wi.xu,null,(0,e.h)(a.xv.B3,null,(0,e.h)(a.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(a.Zx,{color:"secondary"},Hr()(n.date).fromNowShort())),(0,e.h)(a.xv.B3,null,(0,Et.truncateWords)(n.body,420))),Oe&&Se&&(0,e.h)(a.xv.B3,null,(0,e.h)(s2,{attachment:Oe,selection:Se})),Re&&!Oe&&(0,e.h)(a.xv.B4,{color:"accent-blue"},Re),ve&&(0,e.h)(l2,{attachment:ve}),!o&&(0,e.h)(Qr.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(Gu.Z,{width:16,height:16,strokeWidth:1.5,stroke:Ps,style:Sl,fill:"none",isStatic:!0}),(0,e.h)(dc,{count:(q=n.reaction_count)!=null?q:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(ip.Z,{height:16,width:16,strokeWidth:1.5,stroke:Ps,style:Sl,isStatic:!0}),(0,e.h)(dc,{count:(de=n.children_count)!=null?de:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Fi.Z,{height:16,width:16,strokeWidth:1.5,stroke:Ps,style:Sl,isStatic:!0}),(0,e.h)(dc,{count:(_e=n.restacks)!=null?_e:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(a2,{height:16,width:16,strokeWidth:2,stroke:Ps,fill:Ps,style:Sl,isStatic:!0})))))))}const Sl={display:"inline-block",verticalAlign:"middle"};function dc({count:n}){return(0,e.h)(a.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,cp.u)(n):" ")}const Ps="#808080";function s2({attachment:n,selection:r}){return(0,e.h)(Wi.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(a.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Et.truncateWords)(r.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,or.getPostAuthor)(n.publication,n.post).name))}function l2({attachment:n}){return(0,e.h)(Wi.xu,{as:"img",src:(0,yt.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=(0,pn.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ji={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},c2=({avatarUrl:n,name:r,url:o})=>{const{iString:i}=(0,l.M1)();return(0,e.h)(Qr.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(Qr.zK,{gap:12},(0,e.h)(Qr.NS,{src:n,size:40}),(0,e.h)(Qr.i$,null,(0,e.h)(a.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(r)),(0,e.h)(a.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Qr.Bj,{tableClassName:ji.emailButton,href:o},i("Book meeting")))},d2=({avatarUrl:n,name:r,url:o})=>{const{iString:i}=(0,l.M1)();return(0,e.h)(pe.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:ji.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(pe.gq,{className:ji.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(bl,{className:ji.avatar,imageUrl:n,size:40,badge:(0,e.h)("div",{className:ji.badge},(0,e.h)(u2,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(a.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(r)),(0,e.h)(a.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(me.zx,{className:ji.cta,priority:"primary-theme",onClick:()=>{(0,W.redirect)(o,{newTab:!0})}},i("Book meeting")))};var hp=ke(94016),Cl=ke(68919),f2=ke(97737),p2=ke(14846),h2=Object.defineProperty,m2=Object.defineProperties,_2=Object.getOwnPropertyDescriptors,mp=Object.getOwnPropertySymbols,g2=Object.prototype.hasOwnProperty,v2=Object.prototype.propertyIsEnumerable,_p=(n,r,o)=>r in n?h2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,y2=(n,r)=>{for(var o in r||(r={}))g2.call(r,o)&&_p(n,o,r[o]);if(mp)for(var o of mp(r))v2.call(r,o)&&_p(n,o,r[o]);return n},b2=(n,r)=>m2(n,_2(r));const E2=n=>(0,e.h)(De.l,b2(y2({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var Os=ke(97864),P2=Object.defineProperty,O2=Object.defineProperties,w2=Object.getOwnPropertyDescriptors,gp=Object.getOwnPropertySymbols,S2=Object.prototype.hasOwnProperty,C2=Object.prototype.propertyIsEnumerable,vp=(n,r,o)=>r in n?P2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,T2=(n,r)=>{for(var o in r||(r={}))S2.call(r,o)&&vp(n,o,r[o]);if(gp)for(var o of gp(r))C2.call(r,o)&&vp(n,o,r[o]);return n},I2=(n,r)=>O2(n,w2(r));const M2=n=>(0,e.h)(De.l,I2(T2({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),D2={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var A2=Object.defineProperty,N2=Object.defineProperties,L2=Object.getOwnPropertyDescriptors,yp=Object.getOwnPropertySymbols,R2=Object.prototype.hasOwnProperty,x2=Object.prototype.propertyIsEnumerable,bp=(n,r,o)=>r in n?A2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ep=(n,r)=>{for(var o in r||(r={}))R2.call(r,o)&&bp(n,o,r[o]);if(yp)for(var o of yp(r))x2.call(r,o)&&bp(n,o,r[o]);return n},Pp=(n,r)=>N2(n,L2(r)),U2=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Audio",n.PodcastPreview="Podcast free version",n.VideoPodcast="Video",n.ShareQuote="Share quote",n))(U2||{}),B2=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new audio post by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n.VideoPodcast="Create a new video post by uploading or recording a video file. The audio from your video will be delivered to podcast players if selected in the publish settings.",n.ShareQuote="Upload or record an audio file that will be used as a share quote.",n))(B2||{}),k2=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(k2||{});const fc=({containerRef:n,currentTime:r,remainingTime:o,progress:i,onMouseDown:_,shouldCollapseOnMobile:A=!1,theme:k=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:s()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":A})},r),(0,e.h)("div",{ref:n,className:s()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":A}),onMouseDown:_},(0,e.h)("div",{className:s()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":k===1,"tw-bg-substack-detail":k!==1})}),(0,e.h)("div",{className:s()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":k!==2,"tw-bg-substack-accent":k===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:s()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":k===1,"tw-border-substack-bg":k!==1,"tw-bg-substack-accent":k===2,"tw-bg-pub-accent":k!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},o)),Tl=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],pc=({onSetPlaybackRate:n,playbackRate:r,className:o})=>{const i=Tl.findIndex(({value:_})=>_===r);return(0,e.h)("div",{onClick:()=>{const _=(i+1)%Tl.length;n(Tl[_].value)},className:o},Tl[i].display,"\xD7")},VB=({togglePlayback:n,isPlaying:r,isDisabled:o=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:o}),o||n()},className:"tw-flex tw-justify-center tw-pb-8"},r?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!o,"tw-fill-pub-accent":!o,"tw-fill-substack-detail":o}),stroke:"none",height:28})),F2=({isPlaying:n,onSkipBack:r,onSkipForward:o,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(f2.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:s()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(Os.Z,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),o&&(0,e.h)("div",{onClick:o,role:"button",className:"tw-cursor-pointer"},(0,e.h)(p2.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),Op=n=>(0,e.h)(Cl.Z,Pp(Ep({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:r,isPlaying:o,progress:i,progressBarRef:_,progressBarOnMouseDown:A,remainingTime:k,playbackRate:B,setPlaybackRate:x,togglePlayback:q})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(pc,{onSetPlaybackRate:x,playbackRate:B,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(fc,{currentTime:r,remainingTime:k,containerRef:_,progress:i,onMouseDown:A}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:q,role:"button"},o?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Os.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),wp=({pub:n,post:r,duration:o,label:i})=>{var _;const{iString:A}=(0,l.M1)();return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:r==null?void 0:r.canonical_url,className:s()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",D2.noUnderline)},(0,e.h)(E2,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(_=n.theme)==null?void 0:_.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,Et.truncateText)(i,10)||A("Listen now")," \xB7 ",(0,Et.secondsToHHMMSS)(o||0))))))},W2=n=>{const r=(0,nc.useMediaQuery)({maxWidth:631}),o=`/api/v1/audio/upload/${n.mediaUploadId}/src`,{iString:i,iTemplate:_}=(0,l.M1)();return(0,e.h)(Cl.Z,Pp(Ep({},n),{src:o,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:A,currentTime:k,isPlaying:B,progress:x,progressBarRef:q,progressBarOnMouseDown:de,remainingTime:_e,playbackRate:ve,setPlaybackRate:Oe,togglePlayback:Se})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(M2,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},A?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},i("Upgrade to paid to play voiceover")):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},i("Article voiceover")),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(pc,{onSetPlaybackRate:Oe,playbackRate:ve,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(fc,{currentTime:k,remainingTime:_e,containerRef:q,progress:x,onMouseDown:de,shouldCollapseOnMobile:!0}))),A?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(Os.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:r?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Se,role:"button"},B?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Os.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},$B=({pub:n,post:r,isPaywalled:o})=>{var i,_,A;const k=o?"Upgrade to paid for post voiceover":`Listen to post ${((i=r.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(r.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.email}#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:o?(_=n.theme)==null?void 0:_.background_contrast_3:(A=n.theme)==null?void 0:A.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},k)))))},KB=({isOpen:n,onDismiss:r,onDeleteAudio:o})=>{const{iString:i}=useI18N();return h(Modal,{isOpen:n,onClose:r},h(ModalHeader,{includeClose:!1,title:i("Something went wrong...")}),h(ModalBody,null,i("Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience.")),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:o,variant:"primary"},i("Got it"))}))};var j2=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const H2=n=>parseFloat(n).toFixed(2),V2=({symbol:n,prependSymbol:r=!1,isStatic:o=!1})=>{const i=`/api/v1/price/${n}`,[_,A]=(0,t.eJ)(null),[k,B]=(0,t.eJ)(null),[x,q]=(0,t.eJ)(!1);return(0,t.d4)(()=>{(()=>j2(void 0,null,function*(){try{const _e=yield Ke().get(i);if(_e.body){if(_e.body.status==="not_found"){q(!0);return}A(_e.body.price),B(_e.body.change_pct)}}catch(_e){q(!0)}}))()},[i]),!r&&n.startsWith("$")&&(n=n.slice(1)),o?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,f.getStockLandingUrl)(n)}`},n," ")):x?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:s()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noopener",href:`${(0,f.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,(0,e.h)("span",null,(0,e.h)("span",{className:s()("delta")},`${H2(k||0)}%`,!k||parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))},$2=({href:n,children:r})=>n?(0,e.h)("a",{href:n,target:"_blank",rel:"noopener",style:{textDecoration:"none"}},r):r,Oo={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",placeholder:"frontend-components-document_body-image3-Image3-module__placeholder--WQYa0",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",inlineCaptionEditor:"frontend-components-document_body-image3-Image3-module__inlineCaptionEditor--vOSDN",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",mediaControlTextEditor:"frontend-components-document_body-image3-Image3-module__mediaControlTextEditor--jdcMY",hasCaption:"frontend-components-document_body-image3-Image3-module__hasCaption--Osk42",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz",pointer:"frontend-components-document_body-image3-Image3-module__pointer--u_ynD"},K2=({align:n,width:r})=>{const o={};if(n==="center"||r==="100%"||r>=f.EMAIL_CONTENT_WIDTH)return o;const i=n==="left"?"paddingRight":"paddingLeft";return o[i]=f.EMAIL_CONTENT_WIDTH-r,o},G2=({src:n,alt:r,title:o,width:i,height:_,align:A,href:k,captionHtml:B})=>{const x=i==="100%"?f.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:s()(Oo.staticView),"data-component-name":"Image3Static"},(0,e.h)($2,{href:k},(0,e.h)("div",{style:K2({align:A,width:i}),className:s()(Oo.staticImageWrap)},(0,e.h)("img",{width:x,height:_,src:(0,f.imginary)(n,2*f.EMAIL_CONTENT_WIDTH),alt:r}),!B&&o&&(0,e.h)("div",{className:s()(Oo.caption,Oo.static)},o),!!B&&(0,e.h)("div",{className:s()(Oo.caption,Oo.static),dangerouslySetInnerHTML:{__html:B}}))))};var hc=ke(55661);const z2=({src:n,alt:r,title:o,width:i,size:_,align:A,href:k,captionHtml:B})=>{const x=(0,Rn.hasCustomThemeContext)("post"),q=k||(x?n:null),[de,_e]=(0,t.eJ)(!1),ve=(0,t.sO)(null),Oe=()=>{k?window.open(k,"_blank"):x&&q?window.open(q,"_blank"):_e(!0)},Se=()=>{switch(_){case"large":return f.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:f.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?f.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:s()(Oo.mediaNodeView,A&&Oo[`align-${A}`||""]),"data-component-name":"Image3Dynamic"},(0,e.h)(pe.gq,{className:s()(Oo.imageContainer,Oo[_],{[Oo.pointer]:q,[Oo.zoom]:!q}),onClick:Oe},(0,e.h)(pe.tu,{gap:8},(0,e.h)(Qe.e,{className:Oo[_],src:n,alt:r,title:o,maxWidth:Se(),imageRef:ve,useRetinaSizing:!0,imageIsFixedWidth:!1}),!B&&!!o&&(0,e.h)("figcaption",{"data-component-name":"Image3DynamicTitle",className:Oo.caption},o),!!B&&(0,e.h)("figcaption",{"data-component-name":"Image3DynamicCaption",className:Oo.caption,dangerouslySetInnerHTML:{__html:B}}))),(0,e.h)(hc.ImageViewerModal,{showModal:de,modalContent:[{attrs:{src:n,alt:r,title:o}}],onClose:()=>_e(!1),step:0}))},Ao={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var Z2=Object.defineProperty,Y2=Object.defineProperties,J2=Object.getOwnPropertyDescriptors,Sp=Object.getOwnPropertySymbols,X2=Object.prototype.hasOwnProperty,Q2=Object.prototype.propertyIsEnumerable,Cp=(n,r,o)=>r in n?Z2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,q2=(n,r)=>{for(var o in r||(r={}))X2.call(r,o)&&Cp(n,o,r[o]);if(Sp)for(var o of Sp(r))Q2.call(r,o)&&Cp(n,o,r[o]);return n},eO=(n,r)=>Y2(n,J2(r));const Tp=(n,r)=>r===1?"large":r===2||r===4?"medium":r%3===0?"small":r===5||r===7?n<=2?"small":"medium":n<=5?"small":"medium",Ip={small:237,medium:360,large:728},Mp=({src:n,size:r,onSelectImage:o,useViewer:i=!1,alt:_})=>{const A=()=>{i&&o()};return(0,e.h)(Qe.e,{src:n,alt:_,maxWidth:2*Ip[r],className:s()(Ao.image,Ao[r],i&&Ao.zoom),onClick:A})},tO=(n,r="",o="")=>{const i=[];for(const _ in n){const A=n[_],{height:k=0,width:B=0}=(0,yt.extractDimensionsFromImageUrl)(A.src)||{},x=`(${Number(_)+1} of ${n.length})`,q={src:A.src,height:k,width:B,alt:`${o} ${x}`,title:`${r} ${x}`};i.push({attrs:q})}return i},rO=({onEditGallery:n,editGalleryRef:r})=>(0,e.h)(pe.hs,{justifyContent:"center",alignItems:"center",className:Ao.editGalleryWrap},(0,e.h)(Ho.Fx,{ref:r,noList:!0},(0,e.h)(pe.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Ao.editGallery},(0,e.h)(Bi.Z,{height:20})))),nO=({node:n,editor:r})=>{const{gallery:o}=n.attrs,i=n.attrs.isEditor||r,{caption:_,alt:A}=o,k=o.images.map((ut,et)=>eO(q2({},ut),{idx:et})),B=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[x,q]=(0,t.eJ)(!1),[de,_e]=(0,t.eJ)(0),ve=(0,t.sO)(null),Oe=k.length===1,Se=tO(k,_),we=ut=>{_e(ut),q(!0)},Re=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(k.length===0)return null;const Fe=ut=>{var et,rt;i&&(ut?(et=ve.current)==null||et.open():(rt=ve.current)==null||rt.close())},He=Dp(k);return(0,e.h)("figure",{className:s()(Ao.imageGallery,i&&Ao.canEdit),onMouseEnter:()=>Fe(!0),onMouseLeave:()=>Fe(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&o&&(0,e.h)(rO,{onEditGallery:Re,editGalleryRef:ve}),(0,e.h)(pe.tu,{gap:8},Oe?(0,e.h)(Mp,{src:k[0].src,alt:A,caption:_,size:Tp(0,1),onSelectImage:()=>we(0),useViewer:B}):He.map(ut=>(0,e.h)(pe.hs,{className:s()(Ao.imageRow,Ao[`length-${ut.length}`]),gap:8},ut.map(et=>(0,e.h)(Mp,{src:et.src,alt:A,caption:_,size:Tp(et.idx,k.length),onSelectImage:()=>we(et.idx),useViewer:B})))),_&&(0,e.h)("figcaption",{className:Ao.imageCaption},_)),(0,e.h)(hc.ImageViewerModal,{showModal:x,modalContent:Se,onClose:()=>q(!1),step:de}))},oO=({node:n})=>{const{gallery:r}=n.attrs;if(!r)return null;const{alt:o,staticGalleryImage:i,caption:_}=r;return i?(0,e.h)("div",{className:s()(Ao.static,Ao.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,yt.imginary)(i.src,2*Ip.large),alt:o}),_&&(0,e.h)("div",{className:s()(Ao.imageCaption,Ao.static)},_)):null};function Dp(n){const r=n.length===4?2:3;let o=[n.slice(0,r)];const i=n.slice(r);return i.length>0&&(o=o.concat(Dp(i))),o}var hi=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(hi||{});const aO={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},zB={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var iO=Object.defineProperty,sO=Object.defineProperties,lO=Object.getOwnPropertyDescriptors,Ap=Object.getOwnPropertySymbols,uO=Object.prototype.hasOwnProperty,cO=Object.prototype.propertyIsEnumerable,Np=(n,r,o)=>r in n?iO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dO=(n,r)=>{for(var o in r||(r={}))uO.call(r,o)&&Np(n,o,r[o]);if(Ap)for(var o of Ap(r))cO.call(r,o)&&Np(n,o,r[o]);return n},fO=(n,r)=>sO(n,lO(r));const Lp=n=>(0,e.h)(De.l,fO(dO({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));var Ya=ke(39493);const pO={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var hO=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const mO=({tierNumber:n,rewardDescription:r,numReferralsRequired:o,pub:i})=>{const[_,A]=(0,t.eJ)([]),k=()=>hO(void 0,null,function*(){const{body:_e}=yield Ke().get("/api/v1/reader_referrals/tiers");A(_e.tiers)}),{iString:B}=(0,l.M1)();if((0,t.d4)(()=>{k()},[]),!n||!r||!i.id)return(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"});const x=_[n-1],q=x?x.reward_type==="custom"?x.reward_description:B(aO[x.reward_type]):r,de=x?x.num_referrals_required:o;return de?(0,e.h)(pe.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((_e,ve)=>(0,e.h)(Lp,{width:20,height:20,strokeWidth:2,stroke:i.theme_var_background_pop||"#FF6719",fill:i.theme_var_background_pop||"#FF6719",key:ve}))),(0,e.h)(pe.tu,{gap:4},(0,e.h)(a.xv.H4,null,q),(0,e.h)(a.xv.Meta,{translated:!0},"Tier ",I18N.p(n)," reward - ",I18N.p(de)," Referrals")),(0,e.h)(pe.gq,{alignItems:"center"},(0,e.h)(Ya.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(a.xv.Meta,{color:"primary",as:"a",href:(0,f.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name))):(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"})},_O=({tierNumber:n,pub:r})=>!n||!r.id?(0,e.h)("div",null):(0,e.h)("a",{href:`${ao.Substitutions.LEADERBOARD_URL}&utm_source=${j.UTM_SOURCE.rewardEmail}`,className:pO.referralsTierCard},(0,e.h)(Qr.i$,{gap:16},(0,e.h)(Qr.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((o,i)=>(0,e.h)(Lp,{width:20,height:20,strokeWidth:2,key:i,stroke:r.theme_var_background_pop||"#FF6719",fill:r.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(Qr.i$,{gap:4},(0,e.h)(a.xv.H4,null,ao.Substitutions.REWARD_DESCRIPTION),(0,e.h)(a.xv.Meta,{translated:!0},"Tier ",I18N.p(n)," reward - ",I18N.p(ao.Substitutions.NUM_REFERRALS_REQUIRED)," Referrals")),(0,e.h)(Qr.zK,{verticalAlign:"middle"},(0,e.h)(Ya.Z,{isStatic:!0,pub:r,logo_url:r.logo_url,size:24}),(0,e.h)(a.xv.Meta,{color:"primary",as:"a",href:(0,f.getBaseUrl)(r),decoration:"none",weight:"bold"},r.name))));var gO=ke(66219),Ja=ke(25346);const mi={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},vO=({mediaUploadId:n,post:r,pub:o,isEditor:i=!1})=>{const[_,A]=(0,t.eJ)(null),k=(0,t.sO)(null),{iString:B}=(0,l.M1)(),x=Oe=>{var Se,we;i&&(Oe?(Se=k.current)==null||Se.open():(we=k.current)==null||we.close())},{mediaUpload:q,loading:de,error:_e}=(0,gO.z)({mediaUploadId:n});n&&!_&&q&&A(q);const ve=(0,t.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,yt.getLinkableElementIdForVideo)({mediaUploadId:n}),className:mi.videoScrollTarget},de?(0,e.h)("div",{className:mi.videoPlaceholder},B("Loading video")):_e||!_?(0,e.h)("div",{className:mi.videoPlaceholder},B("Could not load video.")):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()(mi.videoEmbed,i&&mi.canEdit),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},i&&(0,e.h)(yO,{onEditVideoEmbed:ve,menuRef:k}),(0,e.h)(Ja.Z,{mediaUpload:_,isStatic:!1,pub:o}))))},yO=({onEditVideoEmbed:n,menuRef:r})=>(0,e.h)(pe.hs,{justifyContent:"center",alignItems:"center",className:mi.editVideoEmbedWrap},(0,e.h)(Ho.Fx,{ref:r,noList:!0},(0,e.h)(pe.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:mi.editVideoEmbed},(0,e.h)(Bi.Z,{height:20}))));var bO=ke(91036),Rp=ke.n(bO);const Cn={digestPostEmbed:"frontend-components-document_body-digest_post-index-module__digestPostEmbed--sMA_c",menu:"frontend-components-document_body-digest_post-index-module__menu--NYCdz",caption:"frontend-components-document_body-digest_post-index-module__caption--WOwgk",captionEditor:"frontend-components-document_body-digest_post-index-module__captionEditor--Bjh6s",smSquare:"frontend-components-document_body-digest_post-index-module__smSquare--UVy3Q",mdSquare:"frontend-components-document_body-digest_post-index-module__mdSquare--Vjq_V",fullWidth:"frontend-components-document_body-digest_post-index-module__fullWidth--IqMXj",inheritColor:"frontend-components-document_body-digest_post-index-module__inheritColor--nZC_y",link:"frontend-components-document_body-digest_post-index-module__link--_wMsT",disableLink:"frontend-components-document_body-digest_post-index-module__disableLink--wRVkl"};var EO=Object.defineProperty,PO=Object.defineProperties,OO=Object.getOwnPropertyDescriptors,xp=Object.getOwnPropertySymbols,wO=Object.prototype.hasOwnProperty,SO=Object.prototype.propertyIsEnumerable,Up=(n,r,o)=>r in n?EO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,CO=(n,r)=>{for(var o in r||(r={}))wO.call(r,o)&&Up(n,o,r[o]);if(xp)for(var o of xp(r))SO.call(r,o)&&Up(n,o,r[o]);return n},TO=(n,r)=>PO(n,OO(r));const Il=n=>{n.stopPropagation()},IO=({editing:n,caption:r,onFocus:o,onSave:i,onCancel:_})=>{const A=r.replace(/<br\s*\/?>/gi,`
`),[k,B]=(0,t.eJ)(A);return n?(0,e.h)(c.tu,{flex:"grow"},(0,e.h)(c.gx,{name:"description",value:k,onChange:x=>{B(x.target.value)},className:Cn.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:Il,onKeyDown:Il,onCopy:Il,onPaste:Il}),(0,e.h)(c.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(c.zx,{priority:"secondary-theme",onClick:_},"Cancel"),(0,e.h)(c.zx,{priority:"primary-theme",onClick:()=>{const x=k.replace(/\n/g,"<br>"),q=Rp()(x,TO(CO({},Rp().defaults),{allowedTags:["br"]}));i(q)}},"Save"))):(0,e.h)("p",{onClick:o,className:Cn.caption,dangerouslySetInnerHTML:{__html:r}})};var Bp=ke(48960);const MO=({size:n,onOpen:r,onClose:o,onEditCaption:i,onSetLayout:_,onConvertToLink:A,onConvertToEmbeddedPost:k,onDelete:B})=>{const{iString:x}=(0,l.M1)();return(0,e.h)(c.hs,{className:Cn.menu,justifyContent:"end"},(0,e.h)(ce.v2,{trigger:(0,e.h)(c.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(mo,{className:Cn.menuIcon,height:20})),onOpen:r,onClose:o,layerOptions:{placement:"bottom-end"}},(0,e.h)(ce.sN,{disabled:n==="sm",onClick:()=>_("sm")},x("Small display")),(0,e.h)(ce.sN,{disabled:n==="md",onClick:()=>_("md")},x("Medium display")),(0,e.h)(ce.sN,{disabled:n==="lg",onClick:()=>_("lg")},x("Large display")),(0,e.h)(Bp.i,null),(n==="lg"||n==="md")&&(0,e.h)(ce.sN,{onClick:i},x("Edit caption")),(0,e.h)(ce.sN,{onClick:()=>k()},x("Convert to default")),(0,e.h)(ce.sN,{onClick:A},x("Convert to link")),(0,e.h)(ce.sN,{priority:"destructive",onClick:B},x("Remove"))))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=(0,pn.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),mc=({post:n,href:r,isEditor:o,includeUfi:i=!1,paddingTop:_=0,paddingBottom:A=0})=>{const k=(0,ro.aF)(),B=(0,Xu.I)();return(0,e.h)(pe.gq,{gap:16,paddingTop:_,paddingBottom:A,alignItems:"center"},i&&B&&k&&n&&(0,e.h)(pe.gq,{gap:8,className:"post-ufi"},(0,e.h)(An.RY,{post:n,pub:B,user:k}),(0,e.h)(An.L9,{post:n,pub:B}),(0,e.h)(An.pD,{post:n,pub:B,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(c.xv.Button,{className:s()({[Cn.disableLink]:o}),as:"a",href:r,align:"center"},(0,e.h)(pe.gq,{gap:8,alignItems:"center",className:Cn.link},(0,e.h)(c.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(kp,{size:16}))))},Fp=({href:n,includeUfi:r=!1,paddingTop:o=0,paddingBottom:i=0})=>(0,e.h)(Qr.zK,{gap:16,style:{paddingTop:o,paddingBottom:i}},(0,e.h)(c.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(Qr.zK,{gap:8},(0,e.h)(c.xv.B4,{color:"pub-accent",as:"span",size:14,className:Cn.link},"Read full story"))));var _c=ke(45809);const gc=({bylines:n,date:r,isEditor:o})=>(0,e.h)(pe.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(c.xv.Meta,{className:s()({[Cn.disableLink]:o}),color:"pub-secondary-text"},(0,e.h)(_c.M,{array:n||[],limit:3,formatter:({id:i,name:_})=>(0,e.h)("a",{className:Cn.inheritColor,href:(0,yt.getProfileUrlById)(i,_)},_)})),(0,e.h)(c.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(c.xv.Meta,{color:"pub-secondary-text"},(0,W.formatPostDate)(r))),Wp=({bylines:n,date:r})=>(0,e.h)(Qr.zK,{gap:4},n!=null&&n.length?(0,e.h)(Qr.zK,{gap:4},(0,e.h)(c.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(_c.M,{array:n||[],limit:3,formatter:({id:o,name:i})=>(0,e.h)("a",{className:Cn.inheritColor,href:(0,yt.getProfileUrlById)(o,i)},i)})),(0,e.h)(c.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(c.xv.Meta,{color:"pub-secondary-text"},(0,W.formatPostDate)(r))),DO=({post:n,isEditor:r,children:o})=>{const{publishedBylines:i,title:_,canonical_url:A,post_date:k,section_name:B,cover_image:x,cover_image_alt:q}=n;return(0,e.h)(pe.tu,null,B&&(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(c.xv.Meta,{color:"pub-primary-text",paddingBottom:8},B)),(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(c.xv.H2,{color:"pub-primary-text"},_)),(0,e.h)(gc,{bylines:i,date:k,isEditor:r}),x&&(0,e.h)(c.xu,{paddingTop:24},(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(Qe.e,{className:Cn.fullWidth,src:x,alt:q!=null?q:_,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(c.hs,{paddingTop:16,flex:"grow"},r?o:(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},o)),(0,e.h)(mc,{post:n,href:A,includeUfi:!1,isEditor:r}))},jp=({post:n,children:r})=>{const{publishedBylines:o,title:i,canonical_url:_,post_date:A,section_name:k,cover_image:B,cover_image_alt:x}=n;return(0,e.h)(Qr.i$,null,k&&(0,e.h)("a",{href:_},(0,e.h)(c.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:_},(0,e.h)(c.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(Wp,{bylines:o,date:A}),B&&(0,e.h)(c.xu,{paddingTop:24},(0,e.h)("a",{href:_},(0,e.h)(Qe.e,{className:Cn.fullWidth,src:B,alt:x!=null?x:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:_},(0,e.h)(c.xu,{as:"p"},r)),(0,e.h)(Fp,{href:_}))},AO=({post:n,isEditor:r,children:o})=>{const{publishedBylines:i,title:_,canonical_url:A,post_date:k,section_name:B,cover_image:x,cover_image_alt:q}=n,de=(0,hn.XA)();return(0,e.h)(pe.tu,null,B&&(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(c.xv.Meta,{color:"pub-primary-text",paddingBottom:8},B)),(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(c.xv.H2,{color:"pub-primary-text"},_)),(0,e.h)(gc,{bylines:i,date:k,isEditor:r}),(0,e.h)(c.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},x&&(0,e.h)(c.xu,{style:{width:de?"unset":140}},(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(Qe.e,{className:de?Cn.fullWidth:Cn.mdSquare,src:x,alt:q!=null?q:_,maxWidth:de?1300:280,imageProps:{height:Math.round(de?1300:280),smartCrop:!0}}))),(0,e.h)(pe.tu,{flex:"grow"},r?o:(0,e.h)("a",{href:A,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},o),(0,e.h)(mc,{post:n,href:A,isEditor:r}))))},NO=({post:n,children:r})=>(0,e.h)(jp,{post:n,children:r}),LO=({post:n,isEditor:r})=>{const{publishedBylines:o,title:i,canonical_url:_,post_date:A,cover_image:k,cover_image_alt:B}=n;return(0,e.h)("a",{href:_,className:s()({[Cn.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(pe.gq,{gap:16},k&&(0,e.h)(c.xu,{style:{width:70,height:70}},(0,e.h)(Qe.e,{className:Cn.smSquare,src:k,alt:B!=null?B:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(pe.tu,null,(0,e.h)(c.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(gc,{bylines:o,date:A,isEditor:r}),(0,e.h)(mc,{post:n,href:_,includeUfi:!1,isEditor:r}))))},RO=({post:n})=>{const{publishedBylines:r,title:o,canonical_url:i,post_date:_,cover_image:A,cover_image_alt:k}=n;return(0,e.h)(Qr.zK,{gap:16},A&&(0,e.h)(c.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(Qe.e,{className:Cn.smSquare,src:A,alt:k!=null?k:o,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(Qr.i$,null,(0,e.h)(c.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},o)),(0,e.h)(Wp,{bylines:r,date:_}),(0,e.h)(Fp,{href:i})))};var xO=Object.defineProperty,Hp=Object.getOwnPropertySymbols,UO=Object.prototype.hasOwnProperty,BO=Object.prototype.propertyIsEnumerable,Vp=(n,r,o)=>r in n?xO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,$p=(n,r)=>{for(var o in r||(r={}))UO.call(r,o)&&Vp(n,o,r[o]);if(Hp)for(var o of Hp(r))BO.call(r,o)&&Vp(n,o,r[o]);return n};const Ml=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},kO=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},FO=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},WO=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},jO=({nodeId:n,caption:r,size:o="lg",isEditor:i,title:_,publishedBylines:A,post_date:k,cover_image:B,cover_image_alt:x,canonical_url:q,section_name:de,id:_e,type:ve,reaction_count:Oe,comment_count:Se,publication_name:we,publication_logo_url:Re,editor:Fe,updateAttributes:He,deleteNode:ut,getPos:et})=>{const[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(!1),[Dt,Lt]=(0,t.eJ)(!1),Ft={title:_,publishedBylines:A,post_date:k,cover_image:B,cover_image_alt:x,canonical_url:q,section_name:de,id:_e,type:ve,reaction_count:Oe,comment_count:Se,publication_name:we,publication_logo_url:Re},It=()=>{St(!0),gt(!1),Ml({nodeId:n,shouldDisableDrag:!0})},Qt=(0,e.h)(IO,{editing:Tt,caption:r,onFocus:It,onSave:Xt=>{St(!1),He?He({caption:Xt}):Ml({nodeId:n,caption:Xt,shouldDisableDrag:!1})},onCancel:()=>{St(!1),Ml({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:s()(Cn.digestPostEmbed),onMouseEnter:()=>!Tt&&gt(!0),onMouseLeave:()=>!Dt&&gt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&rt&&(0,e.h)(MO,{size:o,onOpen:()=>Lt(!0),onClose:()=>Lt(!1),onEditCaption:It,onSetLayout:Xt=>{He?He({size:Xt}):Ml($p({nodeId:n,caption:r,size:Xt},Ft))},onConvertToEmbeddedPost:()=>{Fe&&et?Fe.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:et(),attrs:$p({url:q},Ft)}):FO({url:q})},onConvertToLink:()=>{Fe&&et?Fe.commands.convertDigestPostEmbedToLinkV2({pos:et(),url:q}):kO({url:q})},onDelete:()=>{ut?ut():WO()}}),o==="sm"&&(0,e.h)(LO,{post:Ft,isEditor:i}),o==="md"&&(0,e.h)(AO,{post:Ft,isEditor:i},i?Qt:(0,e.h)("p",{className:Cn.caption,dangerouslySetInnerHTML:{__html:r}})),o==="lg"&&(0,e.h)(DO,{post:Ft,isEditor:i},i?Qt:(0,e.h)("p",{className:Cn.caption,dangerouslySetInnerHTML:{__html:r}}))))};var Kp=ke(14531),Gp=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,VO=Object.prototype.propertyIsEnumerable,$O=(n,r)=>{var o={};for(var i in n)HO.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Gp)for(var i of Gp(n))r.indexOf(i)<0&&VO.call(n,i)&&(o[i]=n[i]);return o};const KO=n=>{var r=n,{caption:o,size:i}=r,_=$O(r,["caption","size"]);return _?(0,e.h)("div",{className:s()(Cn.digestPostEmbed,Kp.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(RO,{post:_}),i==="md"&&(0,e.h)(NO,{post:_},(0,e.h)("p",{className:Cn.caption,dangerouslySetInnerHTML:{__html:o}})),i==="lg"&&(0,e.h)(jp,{post:_},(0,e.h)("p",{className:Cn.caption,dangerouslySetInnerHTML:{__html:o}}))):null},GO=({mediaUpload:n,post:r,pub:o})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,yt.getLinkToVideo)({pub:o,post:r,mediaUploadId:n.id});return(0,e.h)(Ja.Z,{mediaUpload:n,isStatic:!0,pub:o,href:i})};var zO=Object.defineProperty,ZO=Object.defineProperties,YO=Object.getOwnPropertyDescriptors,zp=Object.getOwnPropertySymbols,JO=Object.prototype.hasOwnProperty,XO=Object.prototype.propertyIsEnumerable,Zp=(n,r,o)=>r in n?zO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,na=(n,r)=>{for(var o in r||(r={}))JO.call(r,o)&&Zp(n,o,r[o]);if(zp)for(var o of zp(r))XO.call(r,o)&&Zp(n,o,r[o]);return n},_i=(n,r)=>ZO(n,YO(r));const QO=(n,{pub:r,props:{isStatic:o,post:i,dataForEmailRender:_}})=>{var A,k;try{const B=n.getAttribute("data-attrs");if(B){const{mediaUploadId:x}=JSON.parse(fo()(B));return o?(0,e.h)(GO,{pub:r,post:i,mediaUpload:(k=(A=_.idToMediaUpload)==null?void 0:A[x])!=null?k:null}):(0,e.h)(vO,{pub:r,post:i,mediaUploadId:x})}}catch(B){console.error("Failed to parse video:",B)}return(0,e.h)(e.Fragment,null)},qO=(n,{pub:r,props:{isStatic:o}})=>{try{const i=n.getAttribute("data-attrs");if(i){const _=JSON.parse(fo()(i));return o?(0,e.h)(KO,_i(na({},_),{isEditor:!1})):(0,e.h)(jO,_i(na({},_),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},ew=(n,{pub:r,props:{isStatic:o}})=>{try{const i=n.getAttribute("data-attrs"),_=JSON.parse(fo()(i));return o?(0,e.h)(_O,_i(na({},_),{pub:r})):(0,e.h)(mO,_i(na({},_),{pub:r}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},tw=(n,{props:{isStatic:r}})=>{var o;try{const i=n.getAttribute("data-attrs");if(i){const A=(o=JSON.parse(i))!=null?o:{};return r?(0,e.h)(G2,na({},_i(na({},A),{captionHtml:n.innerHTML}))):(0,e.h)(z2,na({},_i(na({},A),{captionHtml:n.innerHTML})))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},rw=(n,{pub:r,props:{isStatic:o,post:i}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(_),B={node:{attrs:_i(na({},A),{isEditor:!1})}};return o?(0,e.h)(oO,na({},B)):(0,e.h)(nO,na({},B))}}catch(_){console.error("Failed to parse image gallery embed:",_)}return(0,e.h)(e.Fragment,null)};var Yp=ke(95788),vc=ke(46505),nw=ke(15748);function Jp(n,r){return(0,Yp.H)((0,Et.truncateText)(n,500,{ellipsis:""}),{allowUnicode:r})}function ow({text:n,post:r,pub:o,offsetTop:i,isAboutPage:_}){const{isStatic:A}=(0,t.qp)(vc.E),k=Jp(n,!0),B=Jp(n,!1),x=(0,nw.g)();if(!r&&!_||!o||A)return null;const q=_?`${(0,f.getAboutUrl)(o,{addBase:!0})}#\xA7${k}`:`${(0,f.getBaseUrl)(o)}/i/${r.id}/${k}`,de=_e=>{location!=null&&location.href&&(_e.preventDefault(),(0,d.track)(d.EVENTS.HEADER_ANCHOR_WIDGET_CLICKED,{destination:q}),x(q))};return(0,e.h)("div",{id:`\xA7${k}`,className:s()("header-anchor-widget",{"offset-top":i})},(r==null?void 0:r.id)<66696300&&k!==B&&(0,e.h)("div",{id:`\xA7${B}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:q,onClick:de},(0,e.h)(Ui.Z,{className:"header-anchor-widget-icon",size:20}))))}var Xp=ke(86602),aw=ke(19723),iw=ke(84377),sw=ke(13639),Qp;const lw=typeof window!="undefined"?(Qp=window._preloads)==null?void 0:Qp.freeSignup:!1,qp=(0,e.createContext)(lw);qp.displayName="FreeSignupContext";function uw(){return(0,t.qp)(qp)}var eh=ke(50557),cw=Object.defineProperty,dw=Object.defineProperties,fw=Object.getOwnPropertyDescriptors,th=Object.getOwnPropertySymbols,pw=Object.prototype.hasOwnProperty,hw=Object.prototype.propertyIsEnumerable,rh=(n,r,o)=>r in n?cw(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nh=(n,r)=>{for(var o in r||(r={}))pw.call(r,o)&&rh(n,o,r[o]);if(th)for(var o of th(r))hw.call(r,o)&&rh(n,o,r[o]);return n},mw=(n,r)=>dw(n,fw(r));class _w extends $e.p{constructor(r,o){var i,_;super(r,o),this.state.email=(_=(i=this.props.user)==null?void 0:i.email)!=null?_:null}onOpen(){(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:r,post:o,user:i,audience:_,pollId:A}=this.props,{email:k}=this.state,B=_==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${r.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",B," can vote on this poll.")),(0,e.h)(Le.ZP,{method:"post",action:(0,f.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:x=>{(0,d.signup)(),(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:A,post_id:o.id}),r.plans||r.has_recommendations?document.location.href=(0,f.getSubscribeUrl)(this.props.pub,mw(nh(nh({utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.pollSubscribeModal,utm_content:o&&o.id,just_signed_up:!0,requires_confirmation:x.body.requires_confirmation?"true":""},x.body.subscription_id&&{subscription_id:x.body.subscription_id}),x.body.referral_token&&{referral_token:x.body.referral_token}),{next:(0,f.getPostUrl)(r,o)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!i.email,tabIndex:0,onChange:x=>{this.setState({email:x.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,f.getSigninUrl)({for_pub:r.subdomain,redirect:(0,f.getPostUrl)(r,o)})},"Sign in")))}}var gw=ke(30105);function vw(n){if(n.sheet)return n.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===n)return document.styleSheets[r]}function yw(n){var r=document.createElement("style");return r.setAttribute("data-emotion",n.key),n.nonce!==void 0&&r.setAttribute("nonce",n.nonce),r.appendChild(document.createTextNode("")),r}var bw=function(){function n(o){this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.before=null}var r=n.prototype;return r.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var _=yw(this),A;this.tags.length===0?A=this.before:A=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(_,A),this.tags.push(_)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var B=vw(k);try{var x=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;B.insertRule(i,x?0:B.cssRules.length)}catch(q){}}else k.appendChild(document.createTextNode(i));this.ctr++},r.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function Ew(n){function r(Ot,Mt,kt,zt,bt){for(var Tr=0,tr=0,Wr=0,Fr=0,ln,Rr,en=0,kr=0,yr,xr=yr=ln=0,Lr=0,un=0,dn=0,bn=0,Lo=kt.length,Jn=Lo-1,Gn,$r="",Nn="",Ii="",cs="",Ra;Lr<Lo;){if(Rr=kt.charCodeAt(Lr),Lr===Jn&&tr+Fr+Wr+Tr!==0&&(tr!==0&&(Rr=tr===47?10:47),Fr=Wr=Tr=0,Lo++,Jn++),tr+Fr+Wr+Tr===0){if(Lr===Jn&&(0<un&&($r=$r.replace(ve,"")),0<$r.trim().length)){switch(Rr){case 32:case 9:case 59:case 13:case 10:break;default:$r+=kt.charAt(Lr)}Rr=59}switch(Rr){case 123:for($r=$r.trim(),ln=$r.charCodeAt(0),yr=1,bn=++Lr;Lr<Lo;){switch(Rr=kt.charCodeAt(Lr)){case 123:yr++;break;case 125:yr--;break;case 47:switch(Rr=kt.charCodeAt(Lr+1)){case 42:case 47:e:{for(xr=Lr+1;xr<Jn;++xr)switch(kt.charCodeAt(xr)){case 47:if(Rr===42&&kt.charCodeAt(xr-1)===42&&Lr+2!==xr){Lr=xr+1;break e}break;case 10:if(Rr===47){Lr=xr+1;break e}}Lr=xr}}break;case 91:Rr++;case 40:Rr++;case 34:case 39:for(;Lr++<Jn&&kt.charCodeAt(Lr)!==Rr;);}if(yr===0)break;Lr++}switch(yr=kt.substring(bn,Lr),ln===0&&(ln=($r=$r.replace(_e,"").trim()).charCodeAt(0)),ln){case 64:switch(0<un&&($r=$r.replace(ve,"")),Rr=$r.charCodeAt(1),Rr){case 100:case 109:case 115:case 45:un=Mt;break;default:un=fr}if(yr=r(Mt,un,yr,Rr,bt+1),bn=yr.length,0<Gt&&(un=o(fr,$r,dn),Ra=B(3,yr,un,Mt,Qt,It,bn,Rr,bt,zt),$r=un.join(""),Ra!==void 0&&(bn=(yr=Ra.trim()).length)===0&&(Rr=0,yr="")),0<bn)switch(Rr){case 115:$r=$r.replace(gt,k);case 100:case 109:case 45:yr=$r+"{"+yr+"}";break;case 107:$r=$r.replace(He,"$1 $2"),yr=$r+"{"+yr+"}",yr=ar===1||ar===2&&A("@"+yr,3)?"@-webkit-"+yr+"@"+yr:"@"+yr;break;default:yr=$r+yr,zt===112&&(yr=(Nn+=yr,""))}else yr="";break;default:yr=r(Mt,o(Mt,$r,dn),yr,zt,bt+1)}Ii+=yr,yr=dn=un=xr=ln=0,$r="",Rr=kt.charCodeAt(++Lr);break;case 125:case 59:if($r=(0<un?$r.replace(ve,""):$r).trim(),1<(bn=$r.length))switch(xr===0&&(ln=$r.charCodeAt(0),ln===45||96<ln&&123>ln)&&(bn=($r=$r.replace(" ",":")).length),0<Gt&&(Ra=B(1,$r,Mt,Ot,Qt,It,Nn.length,zt,bt,zt))!==void 0&&(bn=($r=Ra.trim()).length)===0&&($r="\0\0"),ln=$r.charCodeAt(0),Rr=$r.charCodeAt(1),ln){case 0:break;case 64:if(Rr===105||Rr===99){cs+=$r+kt.charAt(Lr);break}default:$r.charCodeAt(bn-1)!==58&&(Nn+=_($r,ln,Rr,$r.charCodeAt(2)))}dn=un=xr=ln=0,$r="",Rr=kt.charCodeAt(++Lr)}}switch(Rr){case 13:case 10:tr===47?tr=0:1+ln===0&&zt!==107&&0<$r.length&&(un=1,$r+="\0"),0<Gt*nr&&B(0,$r,Mt,Ot,Qt,It,Nn.length,zt,bt,zt),It=1,Qt++;break;case 59:case 125:if(tr+Fr+Wr+Tr===0){It++;break}default:switch(It++,Gn=kt.charAt(Lr),Rr){case 9:case 32:if(Fr+Tr+tr===0)switch(en){case 44:case 58:case 9:case 32:Gn="";break;default:Rr!==32&&(Gn=" ")}break;case 0:Gn="\\0";break;case 12:Gn="\\f";break;case 11:Gn="\\v";break;case 38:Fr+tr+Tr===0&&(un=dn=1,Gn="\f"+Gn);break;case 108:if(Fr+tr+Tr+Xt===0&&0<xr)switch(Lr-xr){case 2:en===112&&kt.charCodeAt(Lr-3)===58&&(Xt=en);case 8:kr===111&&(Xt=kr)}break;case 58:Fr+tr+Tr===0&&(xr=Lr);break;case 44:tr+Wr+Fr+Tr===0&&(un=1,Gn+="\r");break;case 34:case 39:tr===0&&(Fr=Fr===Rr?0:Fr===0?Rr:Fr);break;case 91:Fr+tr+Wr===0&&Tr++;break;case 93:Fr+tr+Wr===0&&Tr--;break;case 41:Fr+tr+Tr===0&&Wr--;break;case 40:if(Fr+tr+Tr===0){if(ln===0)switch(2*en+3*kr){case 533:break;default:ln=1}Wr++}break;case 64:tr+Wr+Fr+Tr+xr+yr===0&&(yr=1);break;case 42:case 47:if(!(0<Fr+Tr+Wr))switch(tr){case 0:switch(2*Rr+3*kt.charCodeAt(Lr+1)){case 235:tr=47;break;case 220:bn=Lr,tr=42}break;case 42:Rr===47&&en===42&&bn+2!==Lr&&(kt.charCodeAt(bn+2)===33&&(Nn+=kt.substring(bn,Lr+1)),Gn="",tr=0)}}tr===0&&($r+=Gn)}kr=en,en=Rr,Lr++}if(bn=Nn.length,0<bn){if(un=Mt,0<Gt&&(Ra=B(2,Nn,un,Ot,Qt,It,bn,zt,bt,zt),Ra!==void 0&&(Nn=Ra).length===0))return cs+Nn+Ii;if(Nn=un.join(",")+"{"+Nn+"}",ar*Xt!==0){switch(ar!==2||A(Nn,2)||(Xt=0),Xt){case 111:Nn=Nn.replace(et,":-moz-$1")+Nn;break;case 112:Nn=Nn.replace(ut,"::-webkit-input-$1")+Nn.replace(ut,"::-moz-$1")+Nn.replace(ut,":-ms-input-$1")+Nn}Xt=0}}return cs+Nn+Ii}function o(Ot,Mt,kt){var zt=Mt.trim().split(Re);Mt=zt;var bt=zt.length,Tr=Ot.length;switch(Tr){case 0:case 1:var tr=0;for(Ot=Tr===0?"":Ot[0]+" ";tr<bt;++tr)Mt[tr]=i(Ot,Mt[tr],kt).trim();break;default:var Wr=tr=0;for(Mt=[];tr<bt;++tr)for(var Fr=0;Fr<Tr;++Fr)Mt[Wr++]=i(Ot[Fr]+" ",zt[tr],kt).trim()}return Mt}function i(Ot,Mt,kt){var zt=Mt.charCodeAt(0);switch(33>zt&&(zt=(Mt=Mt.trim()).charCodeAt(0)),zt){case 38:return Mt.replace(Fe,"$1"+Ot.trim());case 58:return Ot.trim()+Mt.replace(Fe,"$1"+Ot.trim());default:if(0<1*kt&&0<Mt.indexOf("\f"))return Mt.replace(Fe,(Ot.charCodeAt(0)===58?"":"$1")+Ot.trim())}return Ot+Mt}function _(Ot,Mt,kt,zt){var bt=Ot+";",Tr=2*Mt+3*kt+4*zt;if(Tr===944){Ot=bt.indexOf(":",9)+1;var tr=bt.substring(Ot,bt.length-1).trim();return tr=bt.substring(0,Ot).trim()+tr+";",ar===1||ar===2&&A(tr,1)?"-webkit-"+tr+tr:tr}if(ar===0||ar===2&&!A(bt,1))return bt;switch(Tr){case 1015:return bt.charCodeAt(10)===97?"-webkit-"+bt+bt:bt;case 951:return bt.charCodeAt(3)===116?"-webkit-"+bt+bt:bt;case 963:return bt.charCodeAt(5)===110?"-webkit-"+bt+bt:bt;case 1009:if(bt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+bt+bt;case 978:return"-webkit-"+bt+"-moz-"+bt+bt;case 1019:case 983:return"-webkit-"+bt+"-moz-"+bt+"-ms-"+bt+bt;case 883:if(bt.charCodeAt(8)===45)return"-webkit-"+bt+bt;if(0<bt.indexOf("image-set(",11))return bt.replace(Ft,"$1-webkit-$2")+bt;break;case 932:if(bt.charCodeAt(4)===45)switch(bt.charCodeAt(5)){case 103:return"-webkit-box-"+bt.replace("-grow","")+"-webkit-"+bt+"-ms-"+bt.replace("grow","positive")+bt;case 115:return"-webkit-"+bt+"-ms-"+bt.replace("shrink","negative")+bt;case 98:return"-webkit-"+bt+"-ms-"+bt.replace("basis","preferred-size")+bt}return"-webkit-"+bt+"-ms-"+bt+bt;case 964:return"-webkit-"+bt+"-ms-flex-"+bt+bt;case 1023:if(bt.charCodeAt(8)!==99)break;return tr=bt.substring(bt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+tr+"-webkit-"+bt+"-ms-flex-pack"+tr+bt;case 1005:return Se.test(bt)?bt.replace(Oe,":-webkit-")+bt.replace(Oe,":-moz-")+bt:bt;case 1e3:switch(tr=bt.substring(13).trim(),Mt=tr.indexOf("-")+1,tr.charCodeAt(0)+tr.charCodeAt(Mt)){case 226:tr=bt.replace(rt,"tb");break;case 232:tr=bt.replace(rt,"tb-rl");break;case 220:tr=bt.replace(rt,"lr");break;default:return bt}return"-webkit-"+bt+"-ms-"+tr+bt;case 1017:if(bt.indexOf("sticky",9)===-1)break;case 975:switch(Mt=(bt=Ot).length-10,tr=(bt.charCodeAt(Mt)===33?bt.substring(0,Mt):bt).substring(Ot.indexOf(":",7)+1).trim(),Tr=tr.charCodeAt(0)+(tr.charCodeAt(7)|0)){case 203:if(111>tr.charCodeAt(8))break;case 115:bt=bt.replace(tr,"-webkit-"+tr)+";"+bt;break;case 207:case 102:bt=bt.replace(tr,"-webkit-"+(102<Tr?"inline-":"")+"box")+";"+bt.replace(tr,"-webkit-"+tr)+";"+bt.replace(tr,"-ms-"+tr+"box")+";"+bt}return bt+";";case 938:if(bt.charCodeAt(5)===45)switch(bt.charCodeAt(6)){case 105:return tr=bt.replace("-items",""),"-webkit-"+bt+"-webkit-box-"+tr+"-ms-flex-"+tr+bt;case 115:return"-webkit-"+bt+"-ms-flex-item-"+bt.replace(St,"")+bt;default:return"-webkit-"+bt+"-ms-flex-line-pack"+bt.replace("align-content","").replace(St,"")+bt}break;case 973:case 989:if(bt.charCodeAt(3)!==45||bt.charCodeAt(4)===122)break;case 931:case 953:if(Lt.test(Ot)===!0)return(tr=Ot.substring(Ot.indexOf(":")+1)).charCodeAt(0)===115?_(Ot.replace("stretch","fill-available"),Mt,kt,zt).replace(":fill-available",":stretch"):bt.replace(tr,"-webkit-"+tr)+bt.replace(tr,"-moz-"+tr.replace("fill-",""))+bt;break;case 962:if(bt="-webkit-"+bt+(bt.charCodeAt(5)===102?"-ms-"+bt:"")+bt,kt+zt===211&&bt.charCodeAt(13)===105&&0<bt.indexOf("transform",10))return bt.substring(0,bt.indexOf(";",27)+1).replace(we,"$1-webkit-$2")+bt}return bt}function A(Ot,Mt){var kt=Ot.indexOf(Mt===1?":":"{"),zt=Ot.substring(0,Mt!==3?kt:10);return kt=Ot.substring(kt+1,Ot.length-1),cr(Mt!==2?zt:zt.replace(Dt,"$1"),kt,Mt)}function k(Ot,Mt){var kt=_(Mt,Mt.charCodeAt(0),Mt.charCodeAt(1),Mt.charCodeAt(2));return kt!==Mt+";"?kt.replace(Tt," or ($1)").substring(4):"("+Mt+")"}function B(Ot,Mt,kt,zt,bt,Tr,tr,Wr,Fr,ln){for(var Rr=0,en=Mt,kr;Rr<Gt;++Rr)switch(kr=At[Rr].call(de,Ot,en,kt,zt,bt,Tr,tr,Wr,Fr,ln)){case void 0:case!1:case!0:case null:break;default:en=kr}if(en!==Mt)return en}function x(Ot){switch(Ot){case void 0:case null:Gt=At.length=0;break;default:if(typeof Ot=="function")At[Gt++]=Ot;else if(typeof Ot=="object")for(var Mt=0,kt=Ot.length;Mt<kt;++Mt)x(Ot[Mt]);else nr=!!Ot|0}return x}function q(Ot){return Ot=Ot.prefix,Ot!==void 0&&(cr=null,Ot?typeof Ot!="function"?ar=1:(ar=2,cr=Ot):ar=0),q}function de(Ot,Mt){var kt=Ot;if(33>kt.charCodeAt(0)&&(kt=kt.trim()),er=kt,kt=[er],0<Gt){var zt=B(-1,Mt,kt,kt,Qt,It,0,0,0,0);zt!==void 0&&typeof zt=="string"&&(Mt=zt)}var bt=r(fr,kt,Mt,0,0);return 0<Gt&&(zt=B(-2,bt,kt,kt,Qt,It,bt.length,0,0,0),zt!==void 0&&(bt=zt)),er="",Xt=0,It=Qt=1,bt}var _e=/^\0+/g,ve=/[\0\r\f]/g,Oe=/: */g,Se=/zoo|gra/,we=/([,: ])(transform)/g,Re=/,\r+?/g,Fe=/([\t\r\n ])*\f?&/g,He=/@(k\w+)\s*(\S*)\s*/,ut=/::(place)/g,et=/:(read-only)/g,rt=/[svh]\w+-[tblr]{2}/,gt=/\(\s*(.*)\s*\)/g,Tt=/([\s\S]*?);/g,St=/-self|flex-/g,Dt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Lt=/stretch|:\s*\w+\-(?:conte|avail)/,Ft=/([^-])(image-set\()/,It=1,Qt=1,Xt=0,ar=1,fr=[],At=[],Gt=0,cr=null,nr=0,er="";return de.use=x,de.set=q,n!==void 0&&q(n),de}const Pw=Ew;var yc="/*|*/",Ow=yc+"}";function ww(n){n&&Dl.current.insert(n+"}")}var Dl={current:null},Sw=function(r,o,i,_,A,k,B,x,q,de){switch(r){case 1:{switch(o.charCodeAt(0)){case 64:return Dl.current.insert(o+";"),"";case 108:if(o.charCodeAt(2)===98)return""}break}case 2:{if(x===0)return o+yc;break}case 3:switch(x){case 102:case 112:return Dl.current.insert(i[0]+o),"";default:return o+(de===0?yc:"")}case-2:o.split(Ow).forEach(ww)}},Cw=function(r){r===void 0&&(r={});var o=r.key||"css",i;r.prefix!==void 0&&(i={prefix:r.prefix});var _=new Pw(i),A={},k;{k=r.container||document.head;var B=document.querySelectorAll("style[data-emotion-"+o+"]");Array.prototype.forEach.call(B,function(ve){var Oe=ve.getAttribute("data-emotion-"+o);Oe.split(" ").forEach(function(Se){A[Se]=!0}),ve.parentNode!==k&&k.appendChild(ve)})}var x;if(_.use(r.stylisPlugins)(Sw),x=function(Oe,Se,we,Re){var Fe=Se.name;if(Dl.current=we,!1)var He;_(Oe,Se.styles),Re&&(_e.inserted[Fe]=!0)},!1)var q,de;var _e={key:o,sheet:new bw({key:o,container:k,nonce:r.nonce,speedy:r.speedy}),nonce:r.nonce,inserted:A,registered:{},insert:x};return _e};const Tw=Cw;var Iw=!0;function oh(n,r,o){var i="";return o.split(" ").forEach(function(_){n[_]!==void 0?r.push(n[_]):i+=_+" "}),i}var ah=function(r,o,i){var _=r.key+"-"+o.name;if((i===!1||Iw===!1&&r.compat!==void 0)&&r.registered[_]===void 0&&(r.registered[_]=o.styles),r.inserted[o.name]===void 0){var A=o;do{var k=r.insert("."+_,A,r.sheet,!0);A=A.next}while(A!==void 0)}};function Mw(n){for(var r=0,o,i=0,_=n.length;_>=4;++i,_-=4)o=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,r=(o&65535)*1540483477+((o>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(_){case 3:r^=(n.charCodeAt(i+2)&255)<<16;case 2:r^=(n.charCodeAt(i+1)&255)<<8;case 1:r^=n.charCodeAt(i)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}const Dw=Mw;var Aw={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const Nw=Aw;function Lw(n){var r={};return function(o){return r[o]===void 0&&(r[o]=n(o)),r[o]}}const Rw=Lw;var YB=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,JB="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",xw=/[A-Z]|^ms/g,Uw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ih=function(r){return r.charCodeAt(1)===45},sh=function(r){return r!=null&&typeof r!="boolean"},bc=Rw(function(n){return ih(n)?n:n.replace(xw,"-$&").toLowerCase()}),lh=function(r,o){switch(r){case"animation":case"animationName":if(typeof o=="string")return o.replace(Uw,function(i,_,A){return ma={name:_,styles:A,next:ma},_})}return Nw[r]!==1&&!ih(r)&&typeof o=="number"&&o!==0?o+"px":o};if(!1)var XB,QB,qB,ek,tk,rk;var nk=!0;function ws(n,r,o,i){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return ma={name:o.name,styles:o.styles,next:ma},o.name;if(o.styles!==void 0){var _=o.next;if(_!==void 0)for(;_!==void 0;)ma={name:_.name,styles:_.styles,next:ma},_=_.next;var A=o.styles+";";return A}return Bw(n,r,o)}case"function":{if(n!==void 0){var k=ma,B=o(n);return ma=k,ws(n,r,B,i)}break}case"string":if(!1)var x,q;break}if(r==null)return o;var de=r[o];return de!==void 0&&!i?de:o}function Bw(n,r,o){var i="";if(Array.isArray(o))for(var _=0;_<o.length;_++)i+=ws(n,r,o[_],!1);else for(var A in o){var k=o[A];if(typeof k!="object")r!=null&&r[k]!==void 0?i+=A+"{"+r[k]+"}":sh(k)&&(i+=bc(A)+":"+lh(A,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(r==null||r[k[0]]===void 0))for(var B=0;B<k.length;B++)sh(k[B])&&(i+=bc(A)+":"+lh(A,k[B])+";");else{var x=ws(n,r,k,!1);switch(A){case"animation":case"animationName":{i+=bc(A)+":"+x+";";break}default:i+=A+"{"+x+"}"}}}return i}var uh=/label:\s*([^\s;\n{]+)\s*;/g,ok,ma,Ec=function(r,o,i){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var _=!0,A="";ma=void 0;var k=r[0];k==null||k.raw===void 0?(_=!1,A+=ws(i,o,k,!1)):A+=k[0];for(var B=1;B<r.length;B++)A+=ws(i,o,r[B],A.charCodeAt(A.length-1)===46),_&&(A+=k[B]);var x;uh.lastIndex=0;for(var q="",de;(de=uh.exec(A))!==null;)q+="-"+de[1];var _e=Dw(A)+q;return{name:_e,styles:A,next:ma}},Pc=Object.prototype.hasOwnProperty,ch=(0,Te.createContext)(typeof HTMLElement!="undefined"?Tw():null),dh=(0,Te.createContext)({}),ak=ch.Provider,fh=function(r){var o=function(_,A){return(0,Te.createElement)(ch.Consumer,null,function(k){return r(_,k,A)})};return(0,Te.forwardRef)(o)},ik=function(r){return r.replace(/\$/g,"-")},Oc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sk="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",kw=function(r,o){var i={};for(var _ in o)Pc.call(o,_)&&(i[_]=o[_]);if(i[Oc]=r,!1)var A,k;return i},ph=function(r,o,i,_){var A=i===null?o.css:o.css(i);typeof A=="string"&&r.registered[A]!==void 0&&(A=r.registered[A]);var k=o[Oc],B=[A],x="";typeof o.className=="string"?x=oh(r.registered,B,o.className):o.className!=null&&(x=o.className+" ");var q=Ec(B);if(!1)var de;var _e=ah(r,q,typeof k=="string");x+=r.key+"-"+q.name;var ve={};for(var Oe in o)Pc.call(o,Oe)&&Oe!=="css"&&Oe!==Oc&&(ve[Oe]=o[Oe]);ve.ref=_,ve.className=x;var Se=(0,Te.createElement)(k,ve);return Se},Fw=fh(function(n,r,o){return typeof n.css=="function"?(0,Te.createElement)(dh.Consumer,null,function(i){return ph(r,n,i,o)}):ph(r,n,null,o)});function Ww(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ec(r)}const wc=Ww;var qr=function(r,o){var i=arguments;if(o==null||!Pc.call(o,"css"))return Te.createElement.apply(void 0,i);var _=i.length,A=new Array(_);A[0]=Fw,A[1]=kw(r,o);for(var k=2;k<_;k++)A[k]=i[k];return Te.createElement.apply(null,A)},lk=!1,uk=null,ck=null,jw=function(){var r=wc.apply(void 0,arguments),o="animation-"+r.name;return{name:o,styles:"@keyframes "+o+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Hw=function n(r){for(var o=r.length,i=0,_="";i<o;i++){var A=r[i];if(A!=null){var k=void 0;switch(typeof A){case"boolean":break;case"object":{if(Array.isArray(A))k=n(A);else{k="";for(var B in A)A[B]&&B&&(k&&(k+=" "),k+=B)}break}default:k=A}k&&(_&&(_+=" "),_+=k)}}return _};function Vw(n,r,o){var i=[],_=oh(n,i,o);return i.length<2?o:_+r(i)}var $w=fh(function(n,r){return(0,Te.createElement)(dh.Consumer,null,function(o){var i=!1,_=function(){for(var q=arguments.length,de=new Array(q),_e=0;_e<q;_e++)de[_e]=arguments[_e];var ve=Ec(de,r.registered);return ah(r,ve,!1),r.key+"-"+ve.name},A=function(){for(var q=arguments.length,de=new Array(q),_e=0;_e<q;_e++)de[_e]=arguments[_e];return Vw(r.registered,_,Hw(de))},k={css:_,cx:A,theme:o},B=n.children(k);return i=!0,B})});function Kw(n,r){if(n==null)return{};var o={},i=Object.keys(n),_,A;for(A=0;A<i.length;A++)_=i[A],!(r.indexOf(_)>=0)&&(o[_]=n[_]);return o}function gi(n,r){if(n==null)return{};var o=Kw(n,r),i,_;if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);for(_=0;_<A.length;_++)i=A[_],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}function tn(){return tn=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},tn.apply(this,arguments)}function Gw(n){if(Array.isArray(n))return n}function zw(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var i,_,A,k,B=[],x=!0,q=!1;try{if(A=(o=o.call(n)).next,r===0){if(Object(o)!==o)return;x=!1}else for(;!(x=(i=A.call(o)).done)&&(B.push(i.value),B.length!==r);x=!0);}catch(de){q=!0,_=de}finally{try{if(!x&&o.return!=null&&(k=o.return(),Object(k)!==k))return}finally{if(q)throw _}}return B}}function Sc(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=n[o];return i}function hh(n,r){if(n){if(typeof n=="string")return Sc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Sc(n,r)}}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mh(n,r){return Gw(n)||zw(n,r)||hh(n,r)||Zw()}function Yw(n){if(Array.isArray(n))return Sc(n)}function Jw(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qw(n){return Yw(n)||Jw(n)||hh(n)||Xw()}function Da(n){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Da(n)}function qw(n,r){if(Da(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,r||"default");if(Da(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function _h(n){var r=qw(n,"string");return Da(r)=="symbol"?r:String(r)}function vo(n,r,o){return r=_h(r),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function Xa(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function gh(n,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,_h(i.key),i)}}function Qa(n,r,o){return r&&gh(n.prototype,r),o&&gh(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Cc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tc(n,r){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,_){return i.__proto__=_,i},Tc(n,r)}function qa(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Tc(n,r)}function vi(n,r){if(r&&(Da(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cc(n)}function yo(n){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},yo(n)}function eS(n,r){if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o]!==r[o])return!1;return!0}function tS(n,r){r===void 0&&(r=eS);var o,i=[],_,A=!1;function k(){for(var B=[],x=0;x<arguments.length;x++)B[x]=arguments[x];return A&&o===this&&r(B,i)||(_=n.apply(this,B),A=!0,o=this,i=B),_}return k}const vh=tS;function rS(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}var nS=ke(35639),yh=function(){};function oS(n,r){return r?r[0]==="-"?n+r:n+"__"+r:n}function aS(n,r,o){var i=[o];if(r&&n)for(var _ in r)r.hasOwnProperty(_)&&r[_]&&i.push("".concat(oS(n,_)));return i.filter(function(A){return A}).map(function(A){return String(A).trim()}).join(" ")}var bh=function(r){return Array.isArray(r)?r.filter(Boolean):Da(r)==="object"&&r!==null?[r]:[]};function dk(n,r,o){if(o){var i=o(n,r);if(typeof i=="string")return i}return n}function Ic(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Eh(n){return Ic(n)?window.pageYOffset:n.scrollTop}function Al(n,r){if(Ic(n)){window.scrollTo(0,r);return}n.scrollTop=r}function iS(n){var r=getComputedStyle(n),o=r.position==="absolute",i=/(auto|scroll)/,_=document.documentElement;if(r.position==="fixed")return _;for(var A=n;A=A.parentElement;)if(r=getComputedStyle(A),!(o&&r.position==="static")&&i.test(r.overflow+r.overflowY+r.overflowX))return A;return _}function sS(n,r,o,i){return o*((n=n/i-1)*n*n+1)+r}function Nl(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yh,_=Eh(n),A=r-_,k=10,B=0;function x(){B+=k;var q=sS(B,_,A,o);Al(n,q),B<o?window.requestAnimationFrame(x):i(n)}x()}function lS(n,r){var o=n.getBoundingClientRect(),i=r.getBoundingClientRect(),_=r.offsetHeight/3;i.bottom+_>o.bottom?Al(n,Math.min(r.offsetTop+r.clientHeight-n.offsetHeight+_,n.scrollHeight)):i.top-_<o.top&&Al(n,Math.max(r.offsetTop-_,0))}function uS(n){var r=n.getBoundingClientRect();return{bottom:r.bottom,height:r.height,left:r.left,right:r.right,top:r.top,width:r.width}}function Ph(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function cS(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function Oh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function wh(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Oh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Oh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function Sh(n){var r=dS();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function dS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function fS(n){var r=n.maxHeight,o=n.menuEl,i=n.minHeight,_=n.placement,A=n.shouldScroll,k=n.isFixedPosition,B=n.theme,x=B.spacing,q=iS(o),de={placement:"bottom",maxHeight:r};if(!o||!o.offsetParent)return de;var _e=q.getBoundingClientRect(),ve=_e.height,Oe=o.getBoundingClientRect(),Se=Oe.bottom,we=Oe.height,Re=Oe.top,Fe=o.offsetParent.getBoundingClientRect(),He=Fe.top,ut=window.innerHeight,et=Eh(q),rt=parseInt(getComputedStyle(o).marginBottom,10),gt=parseInt(getComputedStyle(o).marginTop,10),Tt=He-gt,St=ut-Re,Dt=Tt+et,Lt=ve-et-Re,Ft=Se-ut+et+rt,It=et+Re-gt,Qt=160;switch(_){case"auto":case"bottom":if(St>=we)return{placement:"bottom",maxHeight:r};if(Lt>=we&&!k)return A&&Nl(q,Ft,Qt),{placement:"bottom",maxHeight:r};if(!k&&Lt>=i||k&&St>=i){A&&Nl(q,Ft,Qt);var Xt=k?St-rt:Lt-rt;return{placement:"bottom",maxHeight:Xt}}if(_==="auto"||k){var ar=r,fr=k?Tt:Dt;return fr>=i&&(ar=Math.min(fr-rt-x.controlHeight,r)),{placement:"top",maxHeight:ar}}if(_==="bottom")return Al(q,Ft),{placement:"bottom",maxHeight:r};break;case"top":if(Tt>=we)return{placement:"top",maxHeight:r};if(Dt>=we&&!k)return A&&Nl(q,It,Qt),{placement:"top",maxHeight:r};if(!k&&Dt>=i||k&&Tt>=i){var At=r;return(!k&&Dt>=i||k&&Tt>=i)&&(At=k?Tt-gt:Dt-gt),A&&Nl(q,It,Qt),{placement:"top",maxHeight:At}}return{placement:"bottom",maxHeight:r};default:throw new Error('Invalid placement provided "'.concat(_,'".'))}return de}function pS(n){var r={bottom:"top",top:"bottom"};return n?r[n]:"bottom"}var Mc=function(r){return r==="auto"?"bottom":r},hS=function(r){var o,i=r.placement,_=r.theme,A=_.borderRadius,k=_.spacing,B=_.colors;return o={label:"menu"},vo(o,pS(i),"100%"),vo(o,"backgroundColor",B.neutral0),vo(o,"borderRadius",A),vo(o,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),vo(o,"marginBottom",k.menuGutter),vo(o,"marginTop",k.menuGutter),vo(o,"position","absolute"),vo(o,"width","100%"),vo(o,"zIndex",1),o},Ch=(0,Te.createContext)({getPortalPlacement:null}),Th=function(n){qa(o,n);var r=Sh(o);function o(){var i;Xa(this,o);for(var _=arguments.length,A=new Array(_),k=0;k<_;k++)A[k]=arguments[k];return i=r.call.apply(r,[this].concat(A)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(B){var x=i.props,q=x.minMenuHeight,de=x.maxMenuHeight,_e=x.menuPlacement,ve=x.menuPosition,Oe=x.menuShouldScrollIntoView,Se=x.theme;if(B){var we=ve==="fixed",Re=Oe&&!we,Fe=fS({maxHeight:de,menuEl:B,minHeight:q,placement:_e,shouldScroll:Re,isFixedPosition:we,theme:Se}),He=i.context.getPortalPlacement;He&&He(Fe),i.setState(Fe)}},i.getUpdatedProps=function(){var B=i.props.menuPlacement,x=i.state.placement||Mc(B);return wh(wh({},i.props),{},{placement:x,maxHeight:i.state.maxHeight})},i}return Qa(o,[{key:"render",value:function(){var _=this.props.children;return _({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}(Te.Component);Th.contextType=Ch;var mS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerRef,B=r.innerProps;return qr("div",tn({css:A("menu",r),className:_({menu:!0},i)},B,{ref:k}),o)},_S=function(r){var o=r.maxHeight,i=r.theme.spacing.baseUnit;return{maxHeight:o,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},gS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.isMulti,B=r.innerRef,x=r.innerProps;return qr("div",tn({css:A("menuList",r),className:_({"menu-list":!0,"menu-list--is-multi":k},i),ref:B},x),o)},Ih=function(r){var o=r.theme,i=o.spacing.baseUnit,_=o.colors;return{color:_.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},vS=Ih,yS=Ih,Mh=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps;return qr("div",tn({css:A("noOptionsMessage",r),className:_({"menu-notice":!0,"menu-notice--no-options":!0},i)},k),o)};Mh.defaultProps={children:"No options"};var Dh=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps;return qr("div",tn({css:A("loadingMessage",r),className:_({"menu-notice":!0,"menu-notice--loading":!0},i)},k),o)};Dh.defaultProps={children:"Loading..."};var bS=function(r){var o=r.rect,i=r.offset,_=r.position;return{left:o.left,position:_,top:i,width:o.width,zIndex:1}},ES=function(n){qa(o,n);var r=Sh(o);function o(){var i;Xa(this,o);for(var _=arguments.length,A=new Array(_),k=0;k<_;k++)A[k]=arguments[k];return i=r.call.apply(r,[this].concat(A)),i.state={placement:null},i.getPortalPlacement=function(B){var x=B.placement,q=Mc(i.props.menuPlacement);x!==q&&i.setState({placement:x})},i}return Qa(o,[{key:"render",value:function(){var _=this.props,A=_.appendTo,k=_.children,B=_.controlElement,x=_.menuPlacement,q=_.menuPosition,de=_.getStyles,_e=q==="fixed";if(!A&&!_e||!B)return null;var ve=this.state.placement||Mc(x),Oe=uS(B),Se=_e?0:window.pageYOffset,we=Oe[ve]+Se,Re={offset:we,position:q,rect:Oe},Fe=qr("div",{css:de("menuPortal",Re)},k);return qr(Ch.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},A?(0,Te.createPortal)(Fe,A):Fe)}}]),o}(Te.Component),Ah=Array.isArray,Nh=Object.keys,PS=Object.prototype.hasOwnProperty;function Dc(n,r){if(n===r)return!0;if(n&&r&&Da(n)=="object"&&Da(r)=="object"){var o=Ah(n),i=Ah(r),_,A,k;if(o&&i){if(A=n.length,A!=r.length)return!1;for(_=A;_--!==0;)if(!Dc(n[_],r[_]))return!1;return!0}if(o!=i)return!1;var B=n instanceof Date,x=r instanceof Date;if(B!=x)return!1;if(B&&x)return n.getTime()==r.getTime();var q=n instanceof RegExp,de=r instanceof RegExp;if(q!=de)return!1;if(q&&de)return n.toString()==r.toString();var _e=Nh(n);if(A=_e.length,A!==Nh(r).length)return!1;for(_=A;_--!==0;)if(!PS.call(r,_e[_]))return!1;for(_=A;_--!==0;)if(k=_e[_],!(k==="_owner"&&n.$$typeof)&&!Dc(n[k],r[k]))return!1;return!0}return n!==n&&r!==r}function OS(n,r){try{return Dc(n,r)}catch(o){if(o.message&&o.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",o.name,o.message),!1;throw o}}var wS=function(r){var o=r.isDisabled,i=r.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:o?"none":null,position:"relative"}},SS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps,B=r.isDisabled,x=r.isRtl;return qr("div",tn({css:A("container",r),className:_({"--is-disabled":B,"--is-rtl":x},i)},k),o)},CS=function(r){var o=r.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},TS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.isMulti,k=r.getStyles,B=r.hasValue;return qr("div",{css:k("valueContainer",r),className:_({"value-container":!0,"value-container--is-multi":A,"value-container--has-value":B},i)},o)},IS=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},MS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles;return qr("div",{css:A("indicatorsContainer",r),className:_({indicators:!0},i)},o)};function Lh(){var n=rS([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return Lh=function(){return n},n}function fk(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var DS={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},Rh=function(r){var o=r.size,i=gi(r,["size"]);return qr("svg",tn({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:DS},i))},Ac=function(r){return qr(Rh,tn({size:20},r),qr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},xh=function(r){return qr(Rh,tn({size:20},r),qr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Uh=function(r){var o=r.isFocused,i=r.theme,_=i.spacing.baseUnit,A=i.colors;return{label:"indicatorContainer",color:o?A.neutral60:A.neutral20,display:"flex",padding:_*2,transition:"color 150ms",":hover":{color:o?A.neutral80:A.neutral40}}},AS=Uh,NS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps;return qr("div",tn({},k,{css:A("dropdownIndicator",r),className:_({indicator:!0,"dropdown-indicator":!0},i)}),o||qr(xh,null))},LS=Uh,RS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps;return qr("div",tn({},k,{css:A("clearIndicator",r),className:_({indicator:!0,"clear-indicator":!0},i)}),o||qr(Ac,null))},xS=function(r){var o=r.isDisabled,i=r.theme,_=i.spacing.baseUnit,A=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:o?A.neutral10:A.neutral20,marginBottom:_*2,marginTop:_*2,width:1}},US=function(r){var o=r.className,i=r.cx,_=r.getStyles,A=r.innerProps;return qr("span",tn({},A,{css:_("indicatorSeparator",r),className:i({"indicator-separator":!0},o)}))},BS=jw(Lh()),kS=function(r){var o=r.isFocused,i=r.size,_=r.theme,A=_.colors,k=_.spacing.baseUnit;return{label:"loadingIndicator",color:o?A.neutral60:A.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},Nc=function(r){var o=r.delay,i=r.offset;return qr("span",{css:wc({animation:"".concat(BS," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Bh=function(r){var o=r.className,i=r.cx,_=r.getStyles,A=r.innerProps,k=r.isRtl;return qr("div",tn({},A,{css:_("loadingIndicator",r),className:i({indicator:!0,"loading-indicator":!0},o)}),qr(Nc,{delay:0,offset:k}),qr(Nc,{delay:160,offset:!0}),qr(Nc,{delay:320,offset:!k}))};Bh.defaultProps={size:4};var FS=function(r){var o=r.isDisabled,i=r.isFocused,_=r.theme,A=_.colors,k=_.borderRadius,B=_.spacing;return{label:"control",alignItems:"center",backgroundColor:o?A.neutral5:A.neutral0,borderColor:o?A.neutral10:i?A.primary:A.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(A.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:B.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?A.primary:A.neutral30}}},WS=function(r){var o=r.children,i=r.cx,_=r.getStyles,A=r.className,k=r.isDisabled,B=r.isFocused,x=r.innerRef,q=r.innerProps,de=r.menuIsOpen;return qr("div",tn({ref:x,css:_("control",r),className:i({control:!0,"control--is-disabled":k,"control--is-focused":B,"control--menu-is-open":de},A)},q),o)};function kh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function jS(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?kh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):kh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var HS=function(r){var o=r.theme.spacing;return{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},VS=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.Heading,B=r.headingProps,x=r.label,q=r.theme,de=r.selectProps;return qr("div",{css:A("group",r),className:_({group:!0},i)},qr(k,tn({},B,{selectProps:de,theme:q,getStyles:A,cx:_}),x),qr("div",null,o))},$S=function(r){var o=r.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"}},KS=function(r){var o=r.className,i=r.cx,_=r.getStyles,A=r.theme,k=r.selectProps,B=gi(r,["className","cx","getStyles","theme","selectProps"]);return qr("div",tn({css:_("groupHeading",jS({theme:A},B)),className:i({"group-heading":!0},o)},B))};function Fh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function GS(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Fh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Fh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var zS=function(r){var o=r.isDisabled,i=r.theme,_=i.spacing,A=i.colors;return{margin:_.baseUnit/2,paddingBottom:_.baseUnit/2,paddingTop:_.baseUnit/2,visibility:o?"hidden":"visible",color:A.neutral80}},ZS=function(r){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:r?0:1,outline:0,padding:0,color:"inherit"}},YS=function(r){var o=r.className,i=r.cx,_=r.getStyles,A=r.innerRef,k=r.isHidden,B=r.isDisabled,x=r.theme,q=r.selectProps,de=gi(r,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return qr("div",{css:_("input",GS({theme:x},de))},qr(nS.Z,tn({className:i({input:!0},o),inputRef:A,inputStyle:ZS(k),disabled:B},de)))};function Wh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function Lc(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Wh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Wh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var JS=function(r){var o=r.theme,i=o.spacing,_=o.borderRadius,A=o.colors;return{label:"multiValue",backgroundColor:A.neutral10,borderRadius:_/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},XS=function(r){var o=r.theme,i=o.borderRadius,_=o.colors,A=r.cropWithEllipsis;return{borderRadius:i/2,color:_.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:A?"ellipsis":null,whiteSpace:"nowrap"}},QS=function(r){var o=r.theme,i=o.spacing,_=o.borderRadius,A=o.colors,k=r.isFocused;return{alignItems:"center",borderRadius:_/2,backgroundColor:k&&A.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:A.dangerLight,color:A.danger}}},jh=function(r){var o=r.children,i=r.innerProps;return qr("div",i,o)},qS=jh,eC=jh;function tC(n){var r=n.children,o=n.innerProps;return qr("div",o,r||qr(Ac,{size:14}))}var Hh=function(r){var o=r.children,i=r.className,_=r.components,A=r.cx,k=r.data,B=r.getStyles,x=r.innerProps,q=r.isDisabled,de=r.removeProps,_e=r.selectProps,ve=_.Container,Oe=_.Label,Se=_.Remove;return qr($w,null,function(we){var Re=we.css,Fe=we.cx;return qr(ve,{data:k,innerProps:Lc(Lc({},x),{},{className:Fe(Re(B("multiValue",r)),A({"multi-value":!0,"multi-value--is-disabled":q},i))}),selectProps:_e},qr(Oe,{data:k,innerProps:{className:Fe(Re(B("multiValueLabel",r)),A({"multi-value__label":!0},i))},selectProps:_e},o),qr(Se,{data:k,innerProps:Lc({className:Fe(Re(B("multiValueRemove",r)),A({"multi-value__remove":!0},i))},de),selectProps:_e}))})};Hh.defaultProps={cropWithEllipsis:!0};var rC=function(r){var o=r.isDisabled,i=r.isFocused,_=r.isSelected,A=r.theme,k=A.spacing,B=A.colors;return{label:"option",backgroundColor:_?B.primary:i?B.primary25:"transparent",color:o?B.neutral20:_?B.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!o&&(_?B.primary:B.primary50)}}},nC=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.isDisabled,B=r.isFocused,x=r.isSelected,q=r.innerRef,de=r.innerProps;return qr("div",tn({css:A("option",r),className:_({option:!0,"option--is-disabled":k,"option--is-focused":B,"option--is-selected":x},i),ref:q},de),o)},oC=function(r){var o=r.theme,i=o.spacing,_=o.colors;return{label:"placeholder",color:_.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},aC=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.innerProps;return qr("div",tn({css:A("placeholder",r),className:_({placeholder:!0},i)},k),o)},iC=function(r){var o=r.isDisabled,i=r.theme,_=i.spacing,A=i.colors;return{label:"singleValue",color:o?A.neutral40:A.neutral80,marginLeft:_.baseUnit/2,marginRight:_.baseUnit/2,maxWidth:"calc(100% - ".concat(_.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},sC=function(r){var o=r.children,i=r.className,_=r.cx,A=r.getStyles,k=r.isDisabled,B=r.innerProps;return qr("div",tn({css:A("singleValue",r),className:_({"single-value":!0,"single-value--is-disabled":k},i)},B),o)};function Vh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function $h(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Vh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Vh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}for(var lC={ClearIndicator:RS,Control:WS,DropdownIndicator:NS,DownChevron:xh,CrossIcon:Ac,Group:VS,GroupHeading:KS,IndicatorsContainer:MS,IndicatorSeparator:US,Input:YS,LoadingIndicator:Bh,Menu:mS,MenuList:gS,MenuPortal:ES,LoadingMessage:Dh,NoOptionsMessage:Mh,MultiValue:Hh,MultiValueContainer:qS,MultiValueLabel:eC,MultiValueRemove:tC,Option:nC,Placeholder:aC,SelectContainer:SS,SingleValue:sC,ValueContainer:TS},uC=function(r){return $h($h({},lC),r.components)},Rc=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],cC=new RegExp("["+Rc.map(function(n){return n.letters}).join("")+"]","g"),Kh={},xc=0;xc<Rc.length;xc++)for(var Uc=Rc[xc],Bc=0;Bc<Uc.letters.length;Bc++)Kh[Uc.letters[Bc]]=Uc.base;var Gh=function(r){return r.replace(cC,function(o){return Kh[o]})};function zh(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function dC(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?zh(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):zh(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var Zh=function(r){return r.replace(/^\s+|\s+$/g,"")},fC=function(r){return"".concat(r.label," ").concat(r.value)},pC=function(r){return function(o,i){var _=dC({ignoreCase:!0,ignoreAccents:!0,stringify:fC,trim:!0,matchFrom:"any"},r),A=_.ignoreCase,k=_.ignoreAccents,B=_.stringify,x=_.trim,q=_.matchFrom,de=x?Zh(i):i,_e=x?Zh(B(o)):B(o);return A&&(de=de.toLowerCase(),_e=_e.toLowerCase()),k&&(de=Gh(de),_e=Gh(_e)),q==="start"?_e.substr(0,de.length)===de:_e.indexOf(de)>-1}};function pk(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var hC={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},mC=function(r){return qr("span",tn({css:hC},r))};function _C(n){var r=n.in,o=n.out,i=n.onExited,_=n.appear,A=n.enter,k=n.exit,B=n.innerRef,x=n.emotion,q=gi(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return qr("input",tn({ref:B},q,{css:wc({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function gC(n){var r=vC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function vC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Yh=function(n){qa(o,n);var r=gC(o);function o(){return Xa(this,o),r.apply(this,arguments)}return Qa(o,[{key:"componentDidMount",value:function(){this.props.innerRef((0,Te.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),o}(Te.Component),Jh=["boxSizing","height","overflow","paddingRight","position"],Xh={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Qh(n){n.preventDefault()}function qh(n){n.stopPropagation()}function em(){var n=this.scrollTop,r=this.scrollHeight,o=n+this.offsetHeight;n===0?this.scrollTop=1:o===r&&(this.scrollTop=n-1)}function tm(){return"ontouchstart"in window||navigator.maxTouchPoints}function yC(n){var r=bC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function bC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var rm=!!(window.document&&window.document.createElement),Ss=0,nm=function(n){qa(o,n);var r=yC(o);function o(){var i;Xa(this,o);for(var _=arguments.length,A=new Array(_),k=0;k<_;k++)A[k]=arguments[k];return i=r.call.apply(r,[this].concat(A)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Qa(o,[{key:"componentDidMount",value:function(){var _=this;if(rm){var A=this.props,k=A.accountForScrollbars,B=A.touchScrollTarget,x=document.body,q=x&&x.style;if(k&&Jh.forEach(function(Oe){var Se=q&&q[Oe];_.originalStyles[Oe]=Se}),k&&Ss<1){var de=parseInt(this.originalStyles.paddingRight,10)||0,_e=document.body?document.body.clientWidth:0,ve=window.innerWidth-_e+de||0;Object.keys(Xh).forEach(function(Oe){var Se=Xh[Oe];q&&(q[Oe]=Se)}),q&&(q.paddingRight="".concat(ve,"px"))}x&&tm()&&(x.addEventListener("touchmove",Qh,this.listenerOptions),B&&(B.addEventListener("touchstart",em,this.listenerOptions),B.addEventListener("touchmove",qh,this.listenerOptions))),Ss+=1}}},{key:"componentWillUnmount",value:function(){var _=this;if(rm){var A=this.props,k=A.accountForScrollbars,B=A.touchScrollTarget,x=document.body,q=x&&x.style;Ss=Math.max(Ss-1,0),k&&Ss<1&&Jh.forEach(function(de){var _e=_.originalStyles[de];q&&(q[de]=_e)}),x&&tm()&&(x.removeEventListener("touchmove",Qh,this.listenerOptions),B&&(B.removeEventListener("touchstart",em,this.listenerOptions),B.removeEventListener("touchmove",qh,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),o}(Te.Component);nm.defaultProps={accountForScrollbars:!0};function hk(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function EC(n){var r=PC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function PC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var OC={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},wC=function(n){qa(o,n);var r=EC(o);function o(){var i;Xa(this,o);for(var _=arguments.length,A=new Array(_),k=0;k<_;k++)A[k]=arguments[k];return i=r.call.apply(r,[this].concat(A)),i.state={touchScrollTarget:null},i.getScrollTarget=function(B){B!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:B})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Qa(o,[{key:"render",value:function(){var _=this.props,A=_.children,k=_.isEnabled,B=this.state.touchScrollTarget;return k?qr("div",null,qr("div",{onClick:this.blurSelectInput,css:OC}),qr(Yh,{innerRef:this.getScrollTarget},A),B?qr(nm,{touchScrollTarget:B}):null):A}}]),o}(Te.PureComponent);function SC(n){var r=CC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function CC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var TC=function(n){qa(o,n);var r=SC(o);function o(){var i;Xa(this,o);for(var _=arguments.length,A=new Array(_),k=0;k<_;k++)A[k]=arguments[k];return i=r.call.apply(r,[this].concat(A)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(B){B.preventDefault(),B.stopPropagation()},i.handleEventDelta=function(B,x){var q=i.props,de=q.onBottomArrive,_e=q.onBottomLeave,ve=q.onTopArrive,Oe=q.onTopLeave,Se=i.scrollTarget,we=Se.scrollTop,Re=Se.scrollHeight,Fe=Se.clientHeight,He=i.scrollTarget,ut=x>0,et=Re-Fe-we,rt=!1;et>x&&i.isBottom&&(_e&&_e(B),i.isBottom=!1),ut&&i.isTop&&(Oe&&Oe(B),i.isTop=!1),ut&&x>et?(de&&!i.isBottom&&de(B),He.scrollTop=Re,rt=!0,i.isBottom=!0):!ut&&-x>we&&(ve&&!i.isTop&&ve(B),He.scrollTop=0,rt=!0,i.isTop=!0),rt&&i.cancelScroll(B)},i.onWheel=function(B){i.handleEventDelta(B,B.deltaY)},i.onTouchStart=function(B){i.touchStart=B.changedTouches[0].clientY},i.onTouchMove=function(B){var x=i.touchStart-B.changedTouches[0].clientY;i.handleEventDelta(B,x)},i.getScrollTarget=function(B){i.scrollTarget=B},i}return Qa(o,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(_){_&&(typeof _.addEventListener=="function"&&_.addEventListener("wheel",this.onWheel,!1),typeof _.addEventListener=="function"&&_.addEventListener("touchstart",this.onTouchStart,!1),typeof _.addEventListener=="function"&&_.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(_){_&&(typeof _.removeEventListener=="function"&&_.removeEventListener("wheel",this.onWheel,!1),typeof _.removeEventListener=="function"&&_.removeEventListener("touchstart",this.onTouchStart,!1),typeof _.removeEventListener=="function"&&_.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return Te.default.createElement(Yh,{innerRef:this.getScrollTarget},this.props.children)}}]),o}(Te.Component);function IC(n){var r=n.isEnabled,o=r===void 0?!0:r,i=gi(n,["isEnabled"]);return o?Te.default.createElement(TC,i):i.children}var MC=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.isSearchable,_=o.isMulti,A=o.label,k=o.isDisabled,B=o.tabSelectsValue;switch(r){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(B?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(A||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(_?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},DC=function(r,o){var i=o.value,_=o.isDisabled;if(i)switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return _?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},AC=function(r){var o=r.focusedValue,i=r.getOptionLabel,_=r.selectValue;return"value ".concat(i(o)," focused, ").concat(_.indexOf(o)+1," of ").concat(_.length,".")},NC=function(r){var o=r.focusedOption,i=r.getOptionLabel,_=r.options;return"option ".concat(i(o)," focused").concat(o.isDisabled?" disabled":"",", ").concat(_.indexOf(o)+1," of ").concat(_.length,".")},LC=function(r){var o=r.inputValue,i=r.screenReaderMessage;return"".concat(i).concat(o?" for search term "+o:"",".")},RC=function(r){return r.label},xC=function(r){return r.label},UC=function(r){return r.value},om=function(r){return!!r.isDisabled};function am(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function BC(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?am(Object(o),!0).forEach(function(i){_defineProperty(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):am(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var kC={clearIndicator:LS,container:wS,control:FS,dropdownIndicator:AS,group:HS,groupHeading:$S,indicatorsContainer:IS,indicatorSeparator:xS,input:zS,loadingIndicator:kS,loadingMessage:yS,menu:hS,menuList:_S,menuPortal:bS,multiValue:JS,multiValueLabel:XS,multiValueRemove:QS,noOptionsMessage:vS,option:rC,placeholder:oC,singleValue:iC,valueContainer:CS};function mk(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=BC({},n);return Object.keys(r).forEach(function(i){n[i]?o[i]=function(_,A){return r[i](n[i](_,A),A)}:o[i]=r[i]}),o}var FC={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},WC=4,im=4,jC=38,HC=im*2,VC={baseUnit:im,controlHeight:jC,menuGutter:HC},kc={borderRadius:WC,colors:FC,spacing:VC};function sm(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,i)}return o}function Hi(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?sm(Object(o),!0).forEach(function(i){vo(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):sm(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function $C(n){var r=KC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function KC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var GC={backspaceRemovesValue:!0,blurInputOnSelect:Ph(),captureMenuScroll:!Ph(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:pC(),formatGroupLabel:RC,getOptionLabel:xC,getOptionValue:UC,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:om,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!cS(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(r){var o=r.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},zC=1,lm=function(n){qa(o,n);var r=$C(o);function o(i){var _;Xa(this,o),_=r.call(this,i),_.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},_.blockOptionHover=!1,_.isComposing=!1,_.clearFocusValueOnUpdate=!1,_.commonProps=void 0,_.components=void 0,_.hasGroups=!1,_.initialTouchX=0,_.initialTouchY=0,_.inputIsHiddenAfterUpdate=void 0,_.instancePrefix="",_.openAfterFocus=!1,_.scrollToFocusedOptionOnUpdate=!1,_.userIsDragging=void 0,_.controlRef=null,_.getControlRef=function(x){_.controlRef=x},_.focusedOptionRef=null,_.getFocusedOptionRef=function(x){_.focusedOptionRef=x},_.menuListRef=null,_.getMenuListRef=function(x){_.menuListRef=x},_.inputRef=null,_.getInputRef=function(x){_.inputRef=x},_.cacheComponents=function(x){_.components=uC({components:x})},_.focus=_.focusInput,_.blur=_.blurInput,_.onChange=function(x,q){var de=_.props,_e=de.onChange,ve=de.name;_e(x,Hi(Hi({},q),{},{name:ve}))},_.setValue=function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",de=arguments.length>2?arguments[2]:void 0,_e=_.props,ve=_e.closeMenuOnSelect,Oe=_e.isMulti;_.onInputChange("",{action:"set-value"}),ve&&(_.inputIsHiddenAfterUpdate=!Oe,_.onMenuClose()),_.clearFocusValueOnUpdate=!0,_.onChange(x,{action:q,option:de})},_.selectOption=function(x){var q=_.props,de=q.blurInputOnSelect,_e=q.isMulti,ve=_.state.selectValue;if(_e)if(_.isOptionSelected(x,ve)){var Oe=_.getOptionValue(x);_.setValue(ve.filter(function(Se){return _.getOptionValue(Se)!==Oe}),"deselect-option",x),_.announceAriaLiveSelection({event:"deselect-option",context:{value:_.getOptionLabel(x)}})}else _.isOptionDisabled(x,ve)?_.announceAriaLiveSelection({event:"select-option",context:{value:_.getOptionLabel(x),isDisabled:!0}}):(_.setValue([].concat(Qw(ve),[x]),"select-option",x),_.announceAriaLiveSelection({event:"select-option",context:{value:_.getOptionLabel(x)}}));else _.isOptionDisabled(x,ve)?_.announceAriaLiveSelection({event:"select-option",context:{value:_.getOptionLabel(x),isDisabled:!0}}):(_.setValue(x,"select-option"),_.announceAriaLiveSelection({event:"select-option",context:{value:_.getOptionLabel(x)}}));de&&_.blurInput()},_.removeValue=function(x){var q=_.state.selectValue,de=_.getOptionValue(x),_e=q.filter(function(ve){return _.getOptionValue(ve)!==de});_.onChange(_e.length?_e:null,{action:"remove-value",removedValue:x}),_.announceAriaLiveSelection({event:"remove-value",context:{value:x?_.getOptionLabel(x):""}}),_.focusInput()},_.clearValue=function(){_.onChange(null,{action:"clear"})},_.popValue=function(){var x=_.state.selectValue,q=x[x.length-1],de=x.slice(0,x.length-1);_.announceAriaLiveSelection({event:"pop-value",context:{value:q?_.getOptionLabel(q):""}}),_.onChange(de.length?de:null,{action:"pop-value",removedValue:q})},_.getValue=function(){return _.state.selectValue},_.cx=function(){for(var x=arguments.length,q=new Array(x),de=0;de<x;de++)q[de]=arguments[de];return aS.apply(void 0,[_.props.classNamePrefix].concat(q))},_.getOptionLabel=function(x){return _.props.getOptionLabel(x)},_.getOptionValue=function(x){return _.props.getOptionValue(x)},_.getStyles=function(x,q){var de=kC[x](q);de.boxSizing="border-box";var _e=_.props.styles[x];return _e?_e(de,q):de},_.getElementId=function(x){return"".concat(_.instancePrefix,"-").concat(x)},_.getActiveDescendentId=function(){var x=_.props.menuIsOpen,q=_.state,de=q.menuOptions,_e=q.focusedOption;if(!(!_e||!x)){var ve=de.focusable.indexOf(_e),Oe=de.render[ve];return Oe&&Oe.key}},_.announceAriaLiveSelection=function(x){var q=x.event,de=x.context;_.setState({ariaLiveSelection:DC(q,de)})},_.announceAriaLiveContext=function(x){var q=x.event,de=x.context;_.setState({ariaLiveContext:MC(q,Hi(Hi({},de),{},{label:_.props["aria-label"]}))})},_.onMenuMouseDown=function(x){x.button===0&&(x.stopPropagation(),x.preventDefault(),_.focusInput())},_.onMenuMouseMove=function(x){_.blockOptionHover=!1},_.onControlMouseDown=function(x){var q=_.props.openMenuOnClick;_.state.isFocused?_.props.menuIsOpen?x.target.tagName!=="INPUT"&&x.target.tagName!=="TEXTAREA"&&_.onMenuClose():q&&_.openMenu("first"):(q&&(_.openAfterFocus=!0),_.focusInput()),x.target.tagName!=="INPUT"&&x.target.tagName!=="TEXTAREA"&&x.preventDefault()},_.onDropdownIndicatorMouseDown=function(x){if(!(x&&x.type==="mousedown"&&x.button!==0)&&!_.props.isDisabled){var q=_.props,de=q.isMulti,_e=q.menuIsOpen;_.focusInput(),_e?(_.inputIsHiddenAfterUpdate=!de,_.onMenuClose()):_.openMenu("first"),x.preventDefault(),x.stopPropagation()}},_.onClearIndicatorMouseDown=function(x){x&&x.type==="mousedown"&&x.button!==0||(_.clearValue(),x.stopPropagation(),_.openAfterFocus=!1,x.type==="touchend"?_.focusInput():setTimeout(function(){return _.focusInput()}))},_.onScroll=function(x){typeof _.props.closeMenuOnScroll=="boolean"?x.target instanceof HTMLElement&&Ic(x.target)&&_.props.onMenuClose():typeof _.props.closeMenuOnScroll=="function"&&_.props.closeMenuOnScroll(x)&&_.props.onMenuClose()},_.onCompositionStart=function(){_.isComposing=!0},_.onCompositionEnd=function(){_.isComposing=!1},_.onTouchStart=function(x){var q=x.touches,de=q&&q.item(0);de&&(_.initialTouchX=de.clientX,_.initialTouchY=de.clientY,_.userIsDragging=!1)},_.onTouchMove=function(x){var q=x.touches,de=q&&q.item(0);if(de){var _e=Math.abs(de.clientX-_.initialTouchX),ve=Math.abs(de.clientY-_.initialTouchY),Oe=5;_.userIsDragging=_e>Oe||ve>Oe}},_.onTouchEnd=function(x){_.userIsDragging||(_.controlRef&&!_.controlRef.contains(x.target)&&_.menuListRef&&!_.menuListRef.contains(x.target)&&_.blurInput(),_.initialTouchX=0,_.initialTouchY=0)},_.onControlTouchEnd=function(x){_.userIsDragging||_.onControlMouseDown(x)},_.onClearIndicatorTouchEnd=function(x){_.userIsDragging||_.onClearIndicatorMouseDown(x)},_.onDropdownIndicatorTouchEnd=function(x){_.userIsDragging||_.onDropdownIndicatorMouseDown(x)},_.handleInputChange=function(x){var q=x.currentTarget.value;_.inputIsHiddenAfterUpdate=!1,_.onInputChange(q,{action:"input-change"}),_.props.menuIsOpen||_.onMenuOpen()},_.onInputFocus=function(x){var q=_.props,de=q.isSearchable,_e=q.isMulti;_.props.onFocus&&_.props.onFocus(x),_.inputIsHiddenAfterUpdate=!1,_.announceAriaLiveContext({event:"input",context:{isSearchable:de,isMulti:_e}}),_.setState({isFocused:!0}),(_.openAfterFocus||_.props.openMenuOnFocus)&&_.openMenu("first"),_.openAfterFocus=!1},_.onInputBlur=function(x){if(_.menuListRef&&_.menuListRef.contains(document.activeElement)){_.inputRef.focus();return}_.props.onBlur&&_.props.onBlur(x),_.onInputChange("",{action:"input-blur"}),_.onMenuClose(),_.setState({focusedValue:null,isFocused:!1})},_.onOptionHover=function(x){_.blockOptionHover||_.state.focusedOption===x||_.setState({focusedOption:x})},_.shouldHideSelectedOptions=function(){var x=_.props,q=x.hideSelectedOptions,de=x.isMulti;return q===void 0?de:q},_.onKeyDown=function(x){var q=_.props,de=q.isMulti,_e=q.backspaceRemovesValue,ve=q.escapeClearsValue,Oe=q.inputValue,Se=q.isClearable,we=q.isDisabled,Re=q.menuIsOpen,Fe=q.onKeyDown,He=q.tabSelectsValue,ut=q.openMenuOnFocus,et=_.state,rt=et.focusedOption,gt=et.focusedValue,Tt=et.selectValue;if(!we&&!(typeof Fe=="function"&&(Fe(x),x.defaultPrevented))){switch(_.blockOptionHover=!0,x.key){case"ArrowLeft":if(!de||Oe)return;_.focusValue("previous");break;case"ArrowRight":if(!de||Oe)return;_.focusValue("next");break;case"Delete":case"Backspace":if(Oe)return;if(gt)_.removeValue(gt);else{if(!_e)return;de?_.popValue():Se&&_.clearValue()}break;case"Tab":if(_.isComposing||x.shiftKey||!Re||!He||!rt||ut&&_.isOptionSelected(rt,Tt))return;_.selectOption(rt);break;case"Enter":if(x.keyCode===229)break;if(Re){if(!rt||_.isComposing)return;_.selectOption(rt);break}return;case"Escape":Re?(_.inputIsHiddenAfterUpdate=!1,_.onInputChange("",{action:"menu-close"}),_.onMenuClose()):Se&&ve&&_.clearValue();break;case" ":if(Oe)return;if(!Re){_.openMenu("first");break}if(!rt)return;_.selectOption(rt);break;case"ArrowUp":Re?_.focusOption("up"):_.openMenu("last");break;case"ArrowDown":Re?_.focusOption("down"):_.openMenu("first");break;case"PageUp":if(!Re)return;_.focusOption("pageup");break;case"PageDown":if(!Re)return;_.focusOption("pagedown");break;case"Home":if(!Re)return;_.focusOption("first");break;case"End":if(!Re)return;_.focusOption("last");break;default:return}x.preventDefault()}},_.buildMenuOptions=function(x,q){var de=x.inputValue,_e=de===void 0?"":de,ve=x.options,Oe=function(we,Re){var Fe=_.isOptionDisabled(we,q),He=_.isOptionSelected(we,q),ut=_.getOptionLabel(we),et=_.getOptionValue(we);if(!(_.shouldHideSelectedOptions()&&He||!_.filterOption({label:ut,value:et,data:we},_e))){var rt=Fe?void 0:function(){return _.onOptionHover(we)},gt=Fe?void 0:function(){return _.selectOption(we)},Tt="".concat(_.getElementId("option"),"-").concat(Re);return{innerProps:{id:Tt,onClick:gt,onMouseMove:rt,onMouseOver:rt,tabIndex:-1},data:we,isDisabled:Fe,isSelected:He,key:Tt,label:ut,type:"option",value:et}}};return ve.reduce(function(Se,we,Re){if(we.options){_.hasGroups||(_.hasGroups=!0);var Fe=we.options,He=Fe.map(function(rt,gt){var Tt=Oe(rt,"".concat(Re,"-").concat(gt));return Tt&&Se.focusable.push(rt),Tt}).filter(Boolean);if(He.length){var ut="".concat(_.getElementId("group"),"-").concat(Re);Se.render.push({type:"group",key:ut,data:we,options:He})}}else{var et=Oe(we,"".concat(Re));et&&(Se.render.push(et),Se.focusable.push(we))}return Se},{render:[],focusable:[]})};var A=i.value;_.cacheComponents=vh(_.cacheComponents,OS).bind(Cc(_)),_.cacheComponents(i.components),_.instancePrefix="react-select-"+(_.props.instanceId||++zC);var k=bh(A);_.buildMenuOptions=vh(_.buildMenuOptions,function(x,q){var de=x,_e=mh(de,2),ve=_e[0],Oe=_e[1],Se=q,we=mh(Se,2),Re=we[0],Fe=we[1];return Oe===Fe&&ve.inputValue===Re.inputValue&&ve.options===Re.options}).bind(Cc(_));var B=i.menuIsOpen?_.buildMenuOptions(i,k):{render:[],focusable:[]};return _.state.menuOptions=B,_.state.selectValue=k,_}return Qa(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(_){var A=this.props,k=A.options,B=A.value,x=A.menuIsOpen,q=A.inputValue;if(this.cacheComponents(_.components),_.value!==B||_.options!==k||_.menuIsOpen!==x||_.inputValue!==q){var de=bh(_.value),_e=_.menuIsOpen?this.buildMenuOptions(_,de):{render:[],focusable:[]},ve=this.getNextFocusedValue(de),Oe=this.getNextFocusedOption(_e.focusable);this.setState({menuOptions:_e,selectValue:de,focusedOption:Oe,focusedValue:ve})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(_){var A=this.props,k=A.isDisabled,B=A.menuIsOpen,x=this.state.isFocused;(x&&!k&&_.isDisabled||x&&B&&!_.menuIsOpen)&&this.focusInput(),x&&k&&!_.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(lS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var _=this.props,A=_.isSearchable,k=_.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:A,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(_,A){this.props.onInputChange(_,A)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(_){var A=this,k=this.state,B=k.selectValue,x=k.isFocused,q=this.buildMenuOptions(this.props,B),de=this.props,_e=de.isMulti,ve=de.tabSelectsValue,Oe=_==="first"?0:q.focusable.length-1;if(!_e){var Se=q.focusable.indexOf(B[0]);Se>-1&&(Oe=Se)}this.scrollToFocusedOptionOnUpdate=!(x&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:q,focusedValue:null,focusedOption:q.focusable[Oe]},function(){A.onMenuOpen(),A.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:ve}})})}},{key:"focusValue",value:function(_){var A=this.props,k=A.isMulti,B=A.isSearchable,x=this.state,q=x.selectValue,de=x.focusedValue;if(k){this.setState({focusedOption:null});var _e=q.indexOf(de);de||(_e=-1,this.announceAriaLiveContext({event:"value"}));var ve=q.length-1,Oe=-1;if(q.length){switch(_){case"previous":_e===0?Oe=0:_e===-1?Oe=ve:Oe=_e-1;break;case"next":_e>-1&&_e<ve&&(Oe=_e+1);break}Oe===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:B,isMulti:k}}),this.setState({inputIsHidden:Oe!==-1,focusedValue:q[Oe]})}}}},{key:"focusOption",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",A=this.props,k=A.pageSize,B=A.tabSelectsValue,x=this.state,q=x.focusedOption,de=x.menuOptions,_e=de.focusable;if(_e.length){var ve=0,Oe=_e.indexOf(q);q||(Oe=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:B}})),_==="up"?ve=Oe>0?Oe-1:_e.length-1:_==="down"?ve=(Oe+1)%_e.length:_==="pageup"?(ve=Oe-k,ve<0&&(ve=0)):_==="pagedown"?(ve=Oe+k,ve>_e.length-1&&(ve=_e.length-1)):_==="last"&&(ve=_e.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:_e[ve],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:om(_e[ve]),tabSelectsValue:B}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(kc):Hi(Hi({},kc),this.props.theme):kc}},{key:"getCommonProps",value:function(){var _=this.clearValue,A=this.cx,k=this.getStyles,B=this.getValue,x=this.setValue,q=this.selectOption,de=this.props,_e=de.isMulti,ve=de.isRtl,Oe=de.options,Se=this.hasValue();return{cx:A,clearValue:_,getStyles:k,getValue:B,hasValue:Se,isMulti:_e,isRtl:ve,options:Oe,selectOption:q,setValue:x,selectProps:de,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(_){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var A=this.state,k=A.focusedValue,B=A.selectValue,x=B.indexOf(k);if(x>-1){var q=_.indexOf(k);if(q>-1)return k;if(x<_.length)return _[x]}return null}},{key:"getNextFocusedOption",value:function(_){var A=this.state.focusedOption;return A&&_.indexOf(A)>-1?A:_[0]}},{key:"hasValue",value:function(){var _=this.state.selectValue;return _.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var _=this.props,A=_.isClearable,k=_.isMulti;return A===void 0?k:A}},{key:"isOptionDisabled",value:function(_,A){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(_,A):!1}},{key:"isOptionSelected",value:function(_,A){var k=this;if(A.indexOf(_)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(_,A);var B=this.getOptionValue(_);return A.some(function(x){return k.getOptionValue(x)===B})}},{key:"filterOption",value:function(_,A){return this.props.filterOption?this.props.filterOption(_,A):!0}},{key:"formatOptionLabel",value:function(_,A){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,B=this.state.selectValue;return this.props.formatOptionLabel(_,{context:A,inputValue:k,selectValue:B})}else return this.getOptionLabel(_)}},{key:"formatGroupLabel",value:function(_){return this.props.formatGroupLabel(_)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var _=this.state,A=_.ariaLiveContext,k=_.selectValue,B=_.focusedValue,x=_.focusedOption,q=this.props,de=q.options,_e=q.menuIsOpen,ve=q.inputValue,Oe=q.screenReaderStatus,Se=B?AC({focusedValue:B,getOptionLabel:this.getOptionLabel,selectValue:k}):"",we=x&&_e?NC({focusedOption:x,getOptionLabel:this.getOptionLabel,options:de}):"",Re=LC({inputValue:ve,screenReaderMessage:Oe({count:this.countOptions()})});return"".concat(Se," ").concat(we," ").concat(Re," ").concat(A)}},{key:"renderInput",value:function(){var _=this.props,A=_.isDisabled,k=_.isSearchable,B=_.inputId,x=_.inputValue,q=_.tabIndex,de=_.form,_e=this.components.Input,ve=this.state.inputIsHidden,Oe=B||this.getElementId("input"),Se={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return Te.default.createElement(_C,tn({id:Oe,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yh,onFocus:this.onInputFocus,readOnly:!0,disabled:A,tabIndex:q,form:de,value:""},Se));var we=this.commonProps,Re=we.cx,Fe=we.theme,He=we.selectProps;return Te.default.createElement(_e,tn({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Re,getStyles:this.getStyles,id:Oe,innerRef:this.getInputRef,isDisabled:A,isHidden:ve,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:He,spellCheck:"false",tabIndex:q,form:de,theme:Fe,type:"text",value:x},Se))}},{key:"renderPlaceholderOrValue",value:function(){var _=this,A=this.components,k=A.MultiValue,B=A.MultiValueContainer,x=A.MultiValueLabel,q=A.MultiValueRemove,de=A.SingleValue,_e=A.Placeholder,ve=this.commonProps,Oe=this.props,Se=Oe.controlShouldRenderValue,we=Oe.isDisabled,Re=Oe.isMulti,Fe=Oe.inputValue,He=Oe.placeholder,ut=this.state,et=ut.selectValue,rt=ut.focusedValue,gt=ut.isFocused;if(!this.hasValue()||!Se)return Fe?null:Te.default.createElement(_e,tn({},ve,{key:"placeholder",isDisabled:we,isFocused:gt}),He);if(Re){var Tt=et.map(function(Dt,Lt){var Ft=Dt===rt;return Te.default.createElement(k,tn({},ve,{components:{Container:B,Label:x,Remove:q},isFocused:Ft,isDisabled:we,key:"".concat(_.getOptionValue(Dt)).concat(Lt),index:Lt,removeProps:{onClick:function(){return _.removeValue(Dt)},onTouchEnd:function(){return _.removeValue(Dt)},onMouseDown:function(Qt){Qt.preventDefault(),Qt.stopPropagation()}},data:Dt}),_.formatOptionLabel(Dt,"value"))});return Tt}if(Fe)return null;var St=et[0];return Te.default.createElement(de,tn({},ve,{data:St,isDisabled:we}),this.formatOptionLabel(St,"value"))}},{key:"renderClearIndicator",value:function(){var _=this.components.ClearIndicator,A=this.commonProps,k=this.props,B=k.isDisabled,x=k.isLoading,q=this.state.isFocused;if(!this.isClearable()||!_||B||!this.hasValue()||x)return null;var de={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Te.default.createElement(_,tn({},A,{innerProps:de,isFocused:q}))}},{key:"renderLoadingIndicator",value:function(){var _=this.components.LoadingIndicator,A=this.commonProps,k=this.props,B=k.isDisabled,x=k.isLoading,q=this.state.isFocused;if(!_||!x)return null;var de={"aria-hidden":"true"};return Te.default.createElement(_,tn({},A,{innerProps:de,isDisabled:B,isFocused:q}))}},{key:"renderIndicatorSeparator",value:function(){var _=this.components,A=_.DropdownIndicator,k=_.IndicatorSeparator;if(!A||!k)return null;var B=this.commonProps,x=this.props.isDisabled,q=this.state.isFocused;return Te.default.createElement(k,tn({},B,{isDisabled:x,isFocused:q}))}},{key:"renderDropdownIndicator",value:function(){var _=this.components.DropdownIndicator;if(!_)return null;var A=this.commonProps,k=this.props.isDisabled,B=this.state.isFocused,x={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Te.default.createElement(_,tn({},A,{innerProps:x,isDisabled:k,isFocused:B}))}},{key:"renderMenu",value:function(){var _=this,A=this.components,k=A.Group,B=A.GroupHeading,x=A.Menu,q=A.MenuList,de=A.MenuPortal,_e=A.LoadingMessage,ve=A.NoOptionsMessage,Oe=A.Option,Se=this.commonProps,we=this.state,Re=we.focusedOption,Fe=we.menuOptions,He=this.props,ut=He.captureMenuScroll,et=He.inputValue,rt=He.isLoading,gt=He.loadingMessage,Tt=He.minMenuHeight,St=He.maxMenuHeight,Dt=He.menuIsOpen,Lt=He.menuPlacement,Ft=He.menuPosition,It=He.menuPortalTarget,Qt=He.menuShouldBlockScroll,Xt=He.menuShouldScrollIntoView,ar=He.noOptionsMessage,fr=He.onMenuScrollToTop,At=He.onMenuScrollToBottom;if(!Dt)return null;var Gt=function(zt){var bt=Re===zt.data;return zt.innerRef=bt?_.getFocusedOptionRef:void 0,Te.default.createElement(Oe,tn({},Se,zt,{isFocused:bt}),_.formatOptionLabel(zt.data,"menu"))},cr;if(this.hasOptions())cr=Fe.render.map(function(kt){if(kt.type==="group"){var zt=kt.type,bt=gi(kt,["type"]),Tr="".concat(kt.key,"-heading");return Te.default.createElement(k,tn({},Se,bt,{Heading:B,headingProps:{id:Tr,data:kt.data},label:_.formatGroupLabel(kt.data)}),kt.options.map(function(tr){return Gt(tr)}))}else if(kt.type==="option")return Gt(kt)});else if(rt){var nr=gt({inputValue:et});if(nr===null)return null;cr=Te.default.createElement(_e,Se,nr)}else{var er=ar({inputValue:et});if(er===null)return null;cr=Te.default.createElement(ve,Se,er)}var Ot={minMenuHeight:Tt,maxMenuHeight:St,menuPlacement:Lt,menuPosition:Ft,menuShouldScrollIntoView:Xt},Mt=Te.default.createElement(Th,tn({},Se,Ot),function(kt){var zt=kt.ref,bt=kt.placerProps,Tr=bt.placement,tr=bt.maxHeight;return Te.default.createElement(x,tn({},Se,Ot,{innerRef:zt,innerProps:{onMouseDown:_.onMenuMouseDown,onMouseMove:_.onMenuMouseMove},isLoading:rt,placement:Tr}),Te.default.createElement(IC,{isEnabled:ut,onTopArrive:fr,onBottomArrive:At},Te.default.createElement(wC,{isEnabled:Qt},Te.default.createElement(q,tn({},Se,{innerRef:_.getMenuListRef,isLoading:rt,maxHeight:tr}),cr))))});return It||Ft==="fixed"?Te.default.createElement(de,tn({},Se,{appendTo:It,controlElement:this.controlRef,menuPlacement:Lt,menuPosition:Ft}),Mt):Mt}},{key:"renderFormField",value:function(){var _=this,A=this.props,k=A.delimiter,B=A.isDisabled,x=A.isMulti,q=A.name,de=this.state.selectValue;if(!(!q||B))if(x)if(k){var _e=de.map(function(Se){return _.getOptionValue(Se)}).join(k);return Te.default.createElement("input",{name:q,type:"hidden",value:_e})}else{var ve=de.length>0?de.map(function(Se,we){return Te.default.createElement("input",{key:"i-".concat(we),name:q,type:"hidden",value:_.getOptionValue(Se)})}):Te.default.createElement("input",{name:q,type:"hidden"});return Te.default.createElement("div",null,ve)}else{var Oe=de[0]?this.getOptionValue(de[0]):"";return Te.default.createElement("input",{name:q,type:"hidden",value:Oe})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?Te.default.createElement(mC,{"aria-live":"polite"},Te.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),Te.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var _=this.components,A=_.Control,k=_.IndicatorsContainer,B=_.SelectContainer,x=_.ValueContainer,q=this.props,de=q.className,_e=q.id,ve=q.isDisabled,Oe=q.menuIsOpen,Se=this.state.isFocused,we=this.commonProps=this.getCommonProps();return Te.default.createElement(B,tn({},we,{className:de,innerProps:{id:_e,onKeyDown:this.onKeyDown},isDisabled:ve,isFocused:Se}),this.renderLiveRegion(),Te.default.createElement(A,tn({},we,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:ve,isFocused:Se,menuIsOpen:Oe}),Te.default.createElement(x,tn({},we,{isDisabled:ve}),this.renderPlaceholderOrValue(),this.renderInput()),Te.default.createElement(k,tn({},we,{isDisabled:ve}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),o}(Te.Component);lm.defaultProps=GC;function ZC(n){var r=YC();return function(){var i=yo(n),_;if(r){var A=yo(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return vi(this,_)}}function YC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var JC={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},XC=function(r){var o,i;return i=o=function(_){qa(k,_);var A=ZC(k);function k(){var B;Xa(this,k);for(var x=arguments.length,q=new Array(x),de=0;de<x;de++)q[de]=arguments[de];return B=A.call.apply(A,[this].concat(q)),B.select=void 0,B.state={inputValue:B.props.inputValue!==void 0?B.props.inputValue:B.props.defaultInputValue,menuIsOpen:B.props.menuIsOpen!==void 0?B.props.menuIsOpen:B.props.defaultMenuIsOpen,value:B.props.value!==void 0?B.props.value:B.props.defaultValue},B.onChange=function(_e,ve){B.callProp("onChange",_e,ve),B.setState({value:_e})},B.onInputChange=function(_e,ve){var Oe=B.callProp("onInputChange",_e,ve);B.setState({inputValue:Oe!==void 0?Oe:_e})},B.onMenuOpen=function(){B.callProp("onMenuOpen"),B.setState({menuIsOpen:!0})},B.onMenuClose=function(){B.callProp("onMenuClose"),B.setState({menuIsOpen:!1})},B}return Qa(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(x){return this.props[x]!==void 0?this.props[x]:this.state[x]}},{key:"callProp",value:function(x){if(typeof this.props[x]=="function"){for(var q,de=arguments.length,_e=new Array(de>1?de-1:0),ve=1;ve<de;ve++)_e[ve-1]=arguments[ve];return(q=this.props)[x].apply(q,_e)}}},{key:"render",value:function(){var x=this,q=this.props,de=q.defaultInputValue,_e=q.defaultMenuIsOpen,ve=q.defaultValue,Oe=gi(q,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Te.default.createElement(r,tn({},Oe,{ref:function(we){x.select=we},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}(Te.Component),o.defaultProps=JC,i};function _k(n){var r=QC();return function(){var i=_getPrototypeOf(n),_;if(r){var A=_getPrototypeOf(this).constructor;_=Reflect.construct(i,arguments,A)}else _=i.apply(this,arguments);return _possibleConstructorReturn(this,_)}}function QC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var gk=null,qC=XC(lm);const Fc=qC;var eT=Object.defineProperty,um=Object.getOwnPropertySymbols,tT=Object.prototype.hasOwnProperty,rT=Object.prototype.propertyIsEnumerable,cm=(n,r,o)=>r in n?eT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dm=(n,r)=>{for(var o in r||(r={}))tT.call(r,o)&&cm(n,o,r[o]);if(um)for(var o of um(r))rT.call(r,o)&&cm(n,o,r[o]);return n};const fm=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:r})=>{}});fm.displayName="PublishContext";const vk=n=>{const r=o=>{const i=pm();return h(n,dm(dm({},i),o))};return r.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,r},pm=()=>(0,t.qp)(fm);var nT=Object.defineProperty,oT=Object.defineProperties,aT=Object.getOwnPropertyDescriptors,Ll=Object.getOwnPropertySymbols,hm=Object.prototype.hasOwnProperty,mm=Object.prototype.propertyIsEnumerable,_m=(n,r,o)=>r in n?nT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,yi=(n,r)=>{for(var o in r||(r={}))hm.call(r,o)&&_m(n,o,r[o]);if(Ll)for(var o of Ll(r))mm.call(r,o)&&_m(n,o,r[o]);return n},Rl=(n,r)=>oT(n,aT(r)),iT=(n,r)=>{var o={};for(var i in n)hm.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ll)for(var i of Ll(n))r.indexOf(i)<0&&mm.call(n,i)&&(o[i]=n[i]);return o};const sT=()=>null,gm=n=>{var r=n,{variant:o="default",isSearchable:i=!1,className:_}=r,A=iT(r,["variant","isSearchable","className"]),k,B;const{pub:x}=pm();return(0,e.h)(Fc,Rl(yi({},A),{isDisabled:A.isDisabled,className:s()("themed-select",_),components:yi({IndicatorSeparator:sT},A.components),theme:(0,W.getSelectTheme)({primary:((k=x.theme)==null?void 0:k.background_pop_color)||x.theme_var_background_pop||"#1a1a1a",neutral0:o==="light"?"white":(B=x.theme)==null?void 0:B.web_bg_color}),isSearchable:i,styles:yi(yi({container:q=>Rl(yi({},q),{flex:1}),dropdownIndicator:q=>Rl(yi({},q),{color:"#1a1a1a"})},A.showOnlyIndicator&&{valueContainer:q=>Rl(yi({},q),{width:0,padding:0})}),A.styles)}))};var lT=Object.defineProperty,uT=Object.defineProperties,cT=Object.getOwnPropertyDescriptors,vm=Object.getOwnPropertySymbols,dT=Object.prototype.hasOwnProperty,fT=Object.prototype.propertyIsEnumerable,ym=(n,r,o)=>r in n?lT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bm=(n,r)=>{for(var o in r||(r={}))dT.call(r,o)&&ym(n,o,r[o]);if(vm)for(var o of vm(r))fT.call(r,o)&&ym(n,o,r[o]);return n},pT=(n,r)=>uT(n,cT(r)),Cs=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Em=2,Pm=5,hT=35,mT=255,_T=({isExpired:n,isPublished:r,remainingHours:o,language:i})=>{const{iString:_,iTemplate:A}=I18N.i(i);if(n)return _("POLL CLOSED");if(!r)return _("NOT PUBLISHED");if(o>=168)return"";if(o>=48){const k=Math.floor(o/24);return A`${k} DAYS REMAINING`}return o>=24?A`1 DAY REMAINING`:o>=2?A`${o} HOURS REMAINING`:o==1?_("1 HOUR REMAINING"):_("LESS THAN 1 HOUR REMAINING")},Wc=(n,r)=>{const{iTemplate:o}=I18N.i(r);return n>1?o`Choice ${n+1} (optional)`:o`Choice ${n+1}`},gT=({question:n,expiry:r,audience:o,options:i},_)=>{const{iString:A}=I18N.i(_),k=i.filter(Boolean);if(n.length<1||n.length>255)return A("The question must be between 1 and 255 characters long.");if(k.length<2||k.length>5)return A("Your poll must have 2 to 5 options.");if(k.some(B=>B.length<1||B.length>50))return A("Each option must be between 1 and 50 characters long.");if(["all_subscribers","only_paid"].includes(o)){if(![1,24,72,168,999999].includes(r))return A("The length of your poll is invalid.")}else return A("Your poll audience is invalid.");return null},vT=({index:n,text:r,onChange:o,onDelete:i,showDeleteButton:_,disabled:A})=>{const{language:k}=(0,l.M1)();return(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:B=>{o(n,B.currentTarget.value)},value:r,disabled:A,placeholder:Wc(n,k),maxLength:hT}),(0,e.h)("button",{className:s()("poll-remove-option",{"is-hidden":!_}),onClick:()=>i(n),disabled:A,tabIndex:_?void 0:-1},(0,e.h)(vs.Z,null)))},yT=({poll:n,isOpen:r,onClose:o,onSave:i,isPublished:_,totalVotes:A,shouldShowAudiencePicker:k})=>{let B=n.options.map(er=>er.label);B.length>1?B.length<Pm&&B.push(""):B=["",""];const{iString:x,language:q,iPlural:de}=(0,l.M1)(),{payments_state:_e}=(0,Xu.I)()||{},ve=k&&_e==="enabled"?"only_paid":"all_subscribers",[Oe,Se]=(0,t.eJ)(n.question||""),[we,Re]=(0,t.eJ)(B),[Fe,He]=(0,t.eJ)(n.expiry||24),[ut,et]=(0,t.eJ)(n.audience||ve),[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(n.votes_hidden||!1),[Dt,Lt]=(0,t.eJ)(null),Ft=gT({question:Oe,options:we,expiry:Fe,audience:ut,votes_hidden:Tt},q),It=(0,t.I4)(()=>{var er;Se(n.question||""),Re(((er=n.options)==null?void 0:er.map(Ot=>Ot.label))||["",""]),He(n.expiry||24),et(n.audience||ve),St(n.votes_hidden||!1),Lt(null),o()},[Se,Re,He,et,n,o]),Qt=(0,t.I4)(({value:er})=>{["only_paid","all_subscribers"].includes(er)&&et(er)},[et]),Xt=x(ut==="only_paid"?"Only paid subscribers":"All subscribers who can see this post"),ar=(0,t.I4)(({value:er})=>{const Ot=Number(er);[1,24,72,168,999999].includes(Ot)&&He(Ot)},[He]),fr=x(Fe===1?"1 hour":Fe===24?"1 day":Fe===72?"3 days":Fe===168?"1 week":"Forever"),At=(0,t.I4)((er,Ot)=>{const Mt=[...we];Mt.splice(er,1,Ot),er===Mt.length-1&&Mt.length<Pm&&Mt.push(""),Re(Mt)},[we,Re]),Gt=(0,t.I4)(er=>{if(we.length<=Em||er>=we.length)return;const Ot=[...we];Ot.splice(er,1),Ot[Ot.length-1].length&&Ot.push(""),Re(Ot)},[we,Re]),cr=Array(Math.max(2,we.length||0)).fill("").map((er,Ot)=>we.length>Ot?we[Ot]:er),nr=Dt||_&&de("This poll is part of a post that has already been published. If you modify it, 1 existing vote will be removed.","This poll is part of a post that has already been published. If you modify it, %1 existing votes will be removed.",A);return(0,e.h)(Mo.u_,{className:"poll-editor-modal",isOpen:r,onClose:o},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:Oe,onChange:er=>Se(er.currentTarget.value),placeholder:x("Enter your question..."),disabled:rt,maxLength:mT})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},cr.map((er,Ot)=>(0,e.h)(vT,{index:Ot,text:er,onChange:At,onDelete:Gt,disabled:rt,showDeleteButton:cr.length>Em&&(Ot<cr.length-1||er.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},x("Length")),(0,e.h)(gm,{options:[{label:x("1 hour"),value:"1"},{label:x("1 day"),value:"24"},{label:x("3 days"),value:"72"},{label:x("1 week"),value:"168"},{label:x("Forever"),value:"999999"}],isDisabled:rt,value:{label:fr,value:String(Fe)},onChange:ar})),k&&_e==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},x("Who can vote?")),(0,e.h)(gm,{options:[{label:x("Only paid subscribers"),value:"only_paid"},{label:x("All subscribers who can see this post"),value:"all_subscribers"}],isDisabled:rt,value:{label:Xt,value:ut},onChange:Qt})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(eh.p,{checked:Tt,onChange:()=>St(!Tt),label:x("Hide the total vote count from readers?"),name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},nr&&(0,e.h)("div",{className:"edit-warning"},nr),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(qo.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:It,disabled:rt},x("Cancel")),(0,e.h)(gw.L,{content:Ft,className:s()("inverse",{disabled:Ft===null})},(0,e.h)(qo.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Cs(void 0,null,function*(){gt(!0);try{yield i({audience:ut,question:Oe,options:we.filter(Boolean),expiry:Fe,votes_hidden:Tt})}catch(er){Lt(x("An error occurred while saving this poll."))}gt(!1)}),disabled:Ft!==null||rt},x("Save")))))))},bT=({id:n,text:r,onVote:o,showVotes:i,currentVotes:_,totalVotes:A,myVote:k,canVote:B})=>{const x=(0,t.I4)(()=>Cs(void 0,null,function*(){n&&(yield o(n))}),[n,o]),q=Math.round(100*(A===0?0:_/A));return(0,e.h)("div",{className:s()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":B,"my-vote":k}),onClick:x},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${q}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},r,i&&k&&(0,e.h)(aw.Z,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},q,"%"))},ET=({id:n,isEditor:r,post:o,pub:i,isVersionView:_})=>{var A,k,B;const[x,q]=(0,t.eJ)(!1),[de,_e]=(0,t.eJ)(!0),[ve,Oe]=(0,t.eJ)(null),[Se,we]=(0,t.eJ)(null),[Re,Fe]=(0,t.eJ)(!0),[He,ut]=(0,t.eJ)(_!=null?_:!1),{iString:et,iPlural:rt,language:gt}=(0,l.M1)(),Tt=(0,yn.pm)(),St={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!r){const yr=(0,f.parseQuery)(window.location.href);if(yr&&yr.token&&(St.token=yr.token),!St.token&&((A=window._preloads)!=null&&A.original_url)){const xr=(0,f.parseQuery)(window._preloads.original_url);xr&&xr.token&&(St.token=xr.token)}}if(typeof window!="undefined"&&!r&&o.is_draft){const yr=(0,f.getPostSlug)(window.location.href);yr&&(0,Et.isUUID)(yr)&&(St.uuid=yr)}const Dt=(0,ro.aF)()||{},Lt=bm({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},Dt),{is_subscribed:Ft,is_admin:It,is_contributor:Qt,is_author:Xt}=Lt;let{is_free_subscribed:ar}=Lt;uw()&&(ar=!0);const fr=Qt||It||Xt,At=Hr()(),Gt=ve&&ve.published_at&&Hr()(ve.published_at).add(ve.expiry,"hour"),cr=Gt&&Gt.diff(At,"hour"),er=(ve==null?void 0:ve.audience)==="only_paid"?Ft:ar,Ot=ve&&ve.options.some(yr=>yr.my_vote),Mt=!!(ve!=null&&ve.is_published),kt=Mt&&Gt&&Gt.isBefore(At),zt=r&&((ve==null?void 0:ve.post_type)!=="adhoc_email"||!Mt),bt=(0,t.sO)(null),Tr=!Ot&&Mt&&!kt&&er,tr=rt("%1 VOTE","%1 VOTES",(ve==null?void 0:ve.total_votes)||0),Wr=_T({isExpired:kt,isPublished:Mt,remainingHours:cr,language:gt}),Fr=(0,t.I4)((...yr)=>Cs(void 0,[...yr],function*({shouldNotSetLoading:xr}={shouldNotSetLoading:!1}){xr||_e(!0);try{const Lr=yield Ke()(`/api/v1/poll/${n}`).query(St);Oe(Lr.body),we(null)}catch(Lr){we(et("We were unable to load this poll. Please refresh the page."))}_e(!1)}),[n,_e,Oe]);(0,t.d4)(()=>{Fr()},[Fr]);const ln=(0,t.I4)(yr=>Cs(void 0,null,function*(){try{yield Ke().put(`/api/v1/poll/${n}`).send(yr)}catch(xr){return xr}return q(!1),_e(!0),yield Fr(),null}),[n,_e,Fr]),Rr=(0,t.I4)(yr=>Cs(void 0,null,function*(){var xr;if(!er&&Mt&&!kt&&!zt){(xr=bt.current)==null||xr.open();return}if(!(zt||!Tr||He)){ut(!0);try{yield Ke().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:yr}).query(St),we(null)}catch(Lr){we(et("We were unable to record your vote. Please refresh the page and try again.")),ut(!1);return}yield Fr({shouldNotSetLoading:!0}),ut(!1)}}),[zt,Tr,He,ut,n,Fr,er,Mt,kt]),en=zt?Array(Math.max(2,((k=ve==null?void 0:ve.options)==null?void 0:k.length)||0)).fill("").map((yr,xr)=>{var Lr;return ve&&((Lr=ve.options)==null?void 0:Lr.length)>xr?ve.options[xr].label:Wc(xr,gt)}):(B=ve==null?void 0:ve.options)==null?void 0:B.map(yr=>yr.label);if(Se!==null&&!ve)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},Se));const kr=r?null:`${(0,f.getPostUrl)(i,o)}#poll-${n}`;return(0,e.h)(pe.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},kr&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:yr=>{location!=null&&location.href&&(yr.preventDefault(),(0,W.copyToClipboard)(kr),Tt.popToast(xr=>(0,e.h)(yn.FN,pT(bm({},xr),{text:et("Link copied"),Icon:Ui.Z}))))}},(0,e.h)("a",{href:kr},(0,e.h)(Ui.Z,{size:20})))),zt&&ve&&(0,e.h)(yT,{poll:ve,isOpen:x,onClose:()=>{q(!1)},isPublished:Mt,totalVotes:(ve==null?void 0:ve.total_votes)||0,onSave:ln,shouldShowAudiencePicker:(ve==null?void 0:ve.post_type)!=="adhoc_email"}),!r&&ve&&(0,e.h)(_w,{ref:bt,noCloseButton:!0,className:"poll-dialog",pub:i,post:o,user:Dt,pollId:ve.id,audience:ve.audience}),de?(0,e.h)(pe.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(a.xv.Meta,{translated:!0},"Loading...")):(0,e.h)(e.Fragment,null,zt&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{q(!0)},disabled:de},(0,e.h)(iw.Z,{height:20})),(0,e.h)(pe.tu,{gap:4},(0,e.h)(pe.gq,{className:"poll-title",alignItems:"baseline",gap:4},(ve==null?void 0:ve.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(sw.Z,{size:16}),(0,e.h)(a.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(a.xv.Meta,{translated:!0},"POLL")),(0,e.h)(a.xv.H3,{className:"poll-question",color:"pub-primary-text"},(ve==null?void 0:ve.question)||et("New Poll"))),Se!==null&&(0,e.h)("div",{className:"poll-error"},Se),(0,e.h)(pe.tu,{gap:12,className:s()("poll-options",{"no-margins":!Mt})},en.map((yr,xr)=>{var Lr,un,dn;return(0,e.h)(bT,{id:((Lr=ve==null?void 0:ve.options[xr])==null?void 0:Lr.id)||null,text:yr,canVote:!Ot&&Mt&&!kt&&(!r||(ve==null?void 0:ve.post_type)==="adhoc_email"),onVote:Rr,showVotes:Ot||kt||fr&&Re,totalVotes:(ve==null?void 0:ve.total_votes)||0,currentVotes:((un=ve==null?void 0:ve.options[xr])==null?void 0:un.votes)||0,myVote:((dn=ve==null?void 0:ve.options[xr])==null?void 0:dn.my_vote)||!1})})),Mt&&(0,e.h)(a.xv.Meta,{className:"poll-status"},(fr||!ve.votes_hidden)&&`${tr} \xB7 `,Wr,fr&&!Ot&&!kt&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:et("Only the author, contributors, and admins may view results before voting."),onClick:()=>{Fe(!Re)}},et(Re?"SHOW OPTIONS":"SHOW RESULTS"))))))},PT=({id:n,embeddedPolls:r})=>{const o=r.find(A=>A.id===n),{iString:i,language:_}=(0,l.M1)();return o?(0,e.h)(Qr.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Qr.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(o==null?void 0:o.audience)==="only_paid"?i("SUBSCRIBER-ONLY POLL"):i("POLL"))),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,o.question||i("New Poll"))),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Qr.YF,{className:"poll-options",width:"100%"},o.options.map(({label:A,id:k},B)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${k}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},A||Wc(B,_))))))))))))):(0,e.h)("table",{className:"poll-wrapper","data-component-name":"StaticPollError"},i("Something went wrong."))};var Ts=ke(25380),OT=Object.defineProperty,wT=Object.defineProperties,ST=Object.getOwnPropertyDescriptors,Om=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,TT=Object.prototype.propertyIsEnumerable,wm=(n,r,o)=>r in n?OT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,IT=(n,r)=>{for(var o in r||(r={}))CT.call(r,o)&&wm(n,o,r[o]);if(Om)for(var o of Om(r))TT.call(r,o)&&wm(n,o,r[o]);return n},MT=(n,r)=>wT(n,ST(r));const DT=n=>(0,e.h)(De.l,MT(IT({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Ts.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var AT=ke(29910),NT=Object.defineProperty,LT=Object.defineProperties,RT=Object.getOwnPropertyDescriptors,Sm=Object.getOwnPropertySymbols,xT=Object.prototype.hasOwnProperty,UT=Object.prototype.propertyIsEnumerable,Cm=(n,r,o)=>r in n?NT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,jc=(n,r)=>{for(var o in r||(r={}))xT.call(r,o)&&Cm(n,o,r[o]);if(Sm)for(var o of Sm(r))UT.call(r,o)&&Cm(n,o,r[o]);return n},BT=(n,r)=>LT(n,RT(r));const kT=["Subscribe","Subscribe now","Sign up","Sign up now"];function Tm({isStatic:n,pub:r,user:o,freeSignup:i,children:_,pledgesEnabled:A}){if(n)return(0,e.h)(vc.E.Consumer,null,({isFreemail:q,isFreeSubscribed:de,isPledged:_e})=>_({isFreeSubscribed:de,isSubscribed:!q,isFullySubscribed:r.plans?!q:!A||_e,isForPaidSubscription:!!r.plans&&q,isPledged:_e}));const k=i||(o==null?void 0:o.is_free_subscribed),B=o==null?void 0:o.is_subscribed,x=o==null?void 0:o.is_pledged;return _({isFreeSubscribed:k,isSubscribed:B,isFullySubscribed:r.plans?B:k&&(!A||x),isForPaidSubscription:!!r.plans&&k&&!B,isPledged:x})}function Hc({pub:n,user:r,now:o,isStatic:i}){const{getExperimentVariant:_,exposeExperiment:A}=(0,gr.jc)(),{language:k}=(0,l.M1)();return(0,e.h)(L.vz.Consumer,null,({getSettingFor:B})=>{const x=n.payments_state==="disabled"&&!n.invite_only&&B("payment_pledges_enabled");return(0,e.h)(Tm,{isStatic:i,user:r,pub:n,pledgesEnabled:x},({isFreeSubscribed:q,isPledged:de})=>i?(0,Et.getSubscribeText)(n,{now:o,isFreeSubscribed:q,isPledged:de,pledgesEnabled:x,language:k}):(0,e.h)(c.gq,{alignItems:"center",gap:8},q?null:(0,e.h)(fs.Z,{size:20}),(0,Et.getSubscribeText)(n,{now:o,isFreeSubscribed:q,isPledged:de,pledgesEnabled:x,language:k})))})}class _a extends e.Component{onSignup(r){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(r):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,f.getSubscribeUrl)(this.props.pub,BT(jc(jc({addBase:!0,utm_medium:j.UTM_MEDIUM.web,utm_source:this.props.source||j.UTM_SOURCE.subscribeWidget,utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:r.body.requires_confirmation?"true":""},r.body.subscription_id&&{subscription_id:r.body.subscription_id}),r.body.referral_token&&{referral_token:r.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(r){const{pub:o,subscribeButtonAttrs:i,isStatic:_,source:A,post:k,next:B}=this.props,x={utm_medium:_?j.UTM_MEDIUM.email:j.UTM_MEDIUM.web,utm_source:A||j.UTM_SOURCE.subscribeWidget,utm_content:k&&k.id,next:B,referring_pub_ids:_?void 0:(0,f.getQueryItem)("referring_pub_ids")};return r?_?ao.Substitutions.ACCOUNT_URL:(0,f.getPubAccountSettingsUrl)(o,{params:x}):(0,f.getSubscribeUrl)(o,jc({addBase:!0,root:i?i.url:_&&ao.Substitutions.CHECKOUT_URL},x))}getButtonLabel(r,o,{isPledged:i,pledgesEnabled:_}){const{pub:A,subscribeButtonAttrs:k}=this.props,{iString:B}=I18N.i({pub:A});if(r||i)return B("Subscribed");const x=k&&k.text;if(x&&!kT.includes(x))return x;const q=o;return(0,Et.getSubscribeText)(A,{now:!q,isFreeSubscribed:q,isPledged:i,pledgesEnabled:_,language:this.context.language})}render({pub:r,user:o,freeSignup:i,freeSignupEmail:_,source:A,isStatic:k,forceEmailInput:B,expectTruncation:x,onPrepareData:q,onError:de},{loading:_e}){const ve=typeof window!="undefined"&&r.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(L.vz.Consumer,null,({getSettingFor:Oe})=>(0,e.h)(AT._j.Consumer,null,Se=>(0,e.h)(Tm,{pub:r,user:o,isStatic:k,freeSignup:i,pledgesEnabled:r.payments_state==="disabled"&&!r.invite_only&&Oe("payment_pledges_enabled")},({isFreeSubscribed:we,isSubscribed:Re,isFullySubscribed:Fe,isPledged:He})=>{var ut;const et=this.getButtonLabel(Fe,we,{isPledged:He,pledgesEnabled:r.payments_state==="disabled"&&!r.invite_only&&Oe("payment_pledges_enabled")}),rt=we||Re;return(0,e.h)("div",{className:s()("subscribe-widget",{"is-signed-up":rt,"is-fully-subscribed":Fe}),"data-component-name":"SubscribeWidget"},!B&&(rt||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:s()("button subscribe-btn",Fe?"outline":"primary"),href:this.getHref(Fe),native:!k},Fe&&(0,e.h)(DT,{stroke:((ut=r==null?void 0:r.theme)==null?void 0:ut.background_pop_color)||(r==null?void 0:r.theme_var_background_pop)||Fa.Hu,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,et)):(0,e.h)(qo.z,{className:"subscribe-btn",href:this.getHref(Fe),localNavigation:!1,variant:Fe?"themed-secondary":"themed-primary",leftIcon:Fe?(0,e.h)(Ts.Z,{size:20}):null},(0,e.h)("span",null,et))):(0,e.h)(c.gq,{justifyContent:"center"},(0,e.h)(ye.Z,{disabled:rt||_e,freeSignup:i,freeSignupEmail:_,expectTruncation:x,next:ve?window.location.href:null,pub:r,source:A||"subscribe-widget",submitButtonText:rt?"\u2713":(0,Et.getSubscribeText)(r,{language:this.context.language}),useSubscribeLink:(Se==null?void 0:Se.isSubstack)||ve,user:o,utm_campaign:Se!=null&&Se.isSubstack?j.UTM_CAMPAIGN.reader2:ve?j.UTM_CAMPAIGN.crossPost:null,onConfirmationRequired:(r==null?void 0:r.payments_state)==="enabled"?()=>null:void 0,onError:de,onPrepareData:q,onSuccess:gt=>this.onSignup(gt)})))})))}}_a.contextType=l.wj;var FT=Object.defineProperty,WT=Object.defineProperties,jT=Object.getOwnPropertyDescriptors,Im=Object.getOwnPropertySymbols,HT=Object.prototype.hasOwnProperty,VT=Object.prototype.propertyIsEnumerable,Mm=(n,r,o)=>r in n?FT(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ga=(n,r)=>{for(var o in r||(r={}))HT.call(r,o)&&Mm(n,o,r[o]);if(Im)for(var o of Im(r))VT.call(r,o)&&Mm(n,o,r[o]);return n},Vc=(n,r)=>WT(n,jT(r));const $T=(n,r)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(_a,ga({pub:r.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},r.props)))),KT=(n,r)=>{try{const o=JSON.parse(fo()(n.getAttribute("data-attrs")));if([`${r.pub.base_url}/subscribe?`,`${r.pub.base_url}/subscribe?plan=founding`,ao.Substitutions.CHECKOUT_URL,ao.Substitutions.FOUNDING_CHECKOUT_URL].includes(o.url)){const i=JSON.parse(fo()(n.getAttribute("data-attrs")));return(0,e.h)(_a,ga({pub:r.pub,subscribeButtonAttrs:i},r.props))}}catch(o){console.error("Failed to parse button:",o)}},GT=(n,{pub:r,props:{isStatic:o,post:i}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(fo()(_));return o?(0,e.h)(wp,{label:A.label,pub:r,post:i,duration:A.duration}):(0,e.h)(Op,{label:A.label,pub:r,post:i,src:`/api/v1/audio/upload/${A.mediaUploadId}/src`,duration:A.duration,autoPlay:!1})}}catch(_){console.error("Failed to parse audio:",_)}},zT=(n,{pub:r,props:{isStatic:o,post:i}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(fo()(_));return o?(0,e.h)(wp,{label:A.label,pub:r,post:i,duration:A.duration}):(0,e.h)(Op,{label:A.label,pub:r,post:i,src:A.url,duration:A.duration,autoPlay:!1})}}catch(_){console.error("Failed to parse audio:",_)}},ZT=(n,{props:{isStatic:r}})=>{try{const o=n.getAttribute("data-attrs");if(o){const{name:i,avatarUrl:_,url:A}=JSON.parse(fo()(o));return r?(0,e.h)(c2,{name:i,avatarUrl:_,url:A}):(0,e.h)(d2,{name:i,avatarUrl:_,url:A})}}catch(o){console.error("Failed to parse audio:",o)}},YT=n=>{try{const r=JSON.parse(n.dataset.attrs).symbol;return r?(0,e.h)(V2,{symbol:r,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(r){return(0,e.h)(e.Fragment,null)}},JT=(n,{pub:r,props:{isStatic:o,post:i}})=>{const{iString:_}=I18N.i({pub:r});try{if(o){const A=n.getAttribute("data-attrs");if(A){const k=JSON.parse(fo()(A)),B=k==null?void 0:k.persistentExpression;return B?(0,e.h)("img",{src:(0,f.getLatexUrl)(B),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const A=n.getAttribute("data-attrs"),k=JSON.parse(fo()(A)),B=k==null?void 0:k.persistentExpression;return B?(0,e.h)(pe.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(pe.tu,{justifyContent:"center"},(0,e.h)(SP,{inline:!1},`\\(${B}\\)`))):(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 no expression found"))}}catch(A){return console.error("failed to render mathjax",A),(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 error"))}},XT=n=>{try{const r=JSON.parse(n.dataset.attrs),{name:o,id:i,type:_,url:A,photo_url:k,uuid:B,isStatic:x}=r;return o?(0,e.h)(Xp.default,{name:o,id:i,type:_,url:A,photo_url:k,uuid:B,isStatic:x}):(0,e.h)(e.Fragment,null)}catch(r){return(0,e.h)(e.Fragment,null)}},QT=(n,r)=>{var o;try{const i=JSON.parse(fo()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(PT,{id:i.id,embeddedPolls:(o=r.props.dataForEmailRender)==null?void 0:o.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(ET,{id:i.id,isEditor:!1,post:r.props.post,pub:r.pub,isVersionView:!!r.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function qT(n,{props:{isStatic:r}}){try{const o=n.getAttribute("data-attrs"),i=JSON.parse(fo()(o));return!i.pub||!i.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:o},r?(0,e.h)(MP,ga({},i)):(0,e.h)(IP,{pub:i.pub,subdomain:i.subdomain}))}catch(o){return console.error("Failed to parse chat embed:",o),(0,e.h)(e.Fragment,null)}}function eI(n,r){const{props:{isStatic:o,is_freemail:i}}=r;try{const _=n.getAttribute("data-attrs"),A=JSON.parse(fo()(_));return o?(0,e.h)(GP,ga({is_freemail:i},A)):(0,e.h)(KP,ga({},A))}catch(_){return console.error("Failed to parse chat post embed:",_),(0,e.h)(e.Fragment,null)}}function tI(n,{props:{isStatic:r}}){try{const o=n.getAttribute("data-attrs"),i=JSON.parse(fo()(o));return r?(0,e.h)(pp,ga({},i)):(0,e.h)(YP,ga({},i))}catch(o){return console.error("Failed to parse chat post embed:",o),(0,e.h)(e.Fragment,null)}}const rI=(n,r,o)=>{var i;const _=n.id,[A,,k]=_.split("-"),B=(i=o.wrapper.querySelector(`#${A}-${k}`))==null?void 0:i.nextElementSibling;return B?((0,v.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(hp.z,{content:(0,e.h)("div",{className:"markup"},Is(B,r,o)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard",as:"span"},Is(n,r,o))):Is(n,r,o)},po=(n,r)=>(0,e.h)(l._7,{language:r},n),xl=(n,r,{shallow:o}={})=>{var i,_,A,k;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=r.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),r.pub&&n.nodeName==="P"&&(0,W.hasClass)(n,"button-wrapper")){const x=KT(n,r);if(x)return x}const B=((_=r.pub)==null?void 0:_.language)||"en";return(0,W.hasClass)(n,"subscription-widget-wrap")?po($T(n,r),B):(0,W.hasClass)(n,"cashtag-wrap")?po(YT(n),B):(0,W.hasClass)(n,"mention-wrap")?po(XT(n),B):r.pub&&(0,W.hasClass)(n,"native-audio-url-embed")?po(zT(n,r),B):r.pub&&(0,W.hasClass)(n,"native-audio-embed")?po(GT(n,r),B):r.pub&&(0,W.hasClass)(n,"native-video-embed")?po(QO(n,r),B):r.pub&&(0,W.hasClass)(n,"meeting-embed")?po(ZT(n,r),B):(0,W.hasClass)(n,"poll-embed")?po(QT(n,r),B):(0,W.hasClass)(n,"image-gallery-embed")?po(rw(n,r),B):(0,W.hasClass)(n,"image3")?po(tw(n,r),B):(0,W.hasClass)(n,"latex-rendered")?po(JT(n,r)):(0,W.hasClass)(n,"community-chat")?po(qT(n,r),B):(0,W.hasClass)(n,"community-post")?po(eI(n,r),B):(0,W.hasClass)(n,"digest-post-embed")?po(qO(n,r),B):(0,W.hasClass)(n,"comment")&&!(0,W.hasClass)(n,"template-comment")?po(tI(n,r),B):(0,W.hasClass)(n,"referrals-tier-card")?po(ew(n,r),B):((k=(A=r.props)==null?void 0:A.post)!=null&&k.id&&(0,W.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${r.props.post.id}`),n.href&&(n.href+=`-${r.props.post.id}`)),(0,W.hasClass)(n,"footnote-anchor")?po(rI(n,xl,r),B):o?null:Is(n,xl,r))},nI=function(n){const r={},o=Array.prototype.slice.call(n);for(const{name:i,value:_}of o)r[i]=_;return r},oI=(n,r)=>{let o=0;return function(){const i=[].slice.call(arguments,0),_=++o>r;_&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:o});const A=n.apply(null,[...i,..._?[!0]:[]]);return o--,A}};function aI(n,r,o,i){var _,A,k;const B=s()("header-with-anchor-widget",r.className),x=o.children.length?Array.prototype.map.call(o.childNodes,q=>xl(q,i)):[o.textContent];return(0,e.h)(n,Vc(ga({},r),{className:B}),...x,(0,e.h)(ow,{text:o.textContent,pub:i==null?void 0:i.pub,post:(_=i==null?void 0:i.props)==null?void 0:_.post,offsetTop:!0,isAboutPage:(k=(A=i==null?void 0:i.props)==null?void 0:A.isAboutPage)!=null?k:!1}))}const Is=oI((n,r,o,i)=>{var _,A;if(!n)throw new Error("Empty node, cannot preactify!");const k=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),B=n.nodeType!==1?{}:nI(n.attributes),x=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(k,Vc(ga({},B),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));if(k==="script"&&n.innerHTML===CP)return(0,e.h)(k,Vc(ga({},B),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const q=!!((_=n.parentElement)!=null&&_.getAttribute("data-prose-mirror-wrapper"));if(((A=o==null?void 0:o.pub)==null?void 0:A.type)!=="rss"&&q&&["h1","h2","h3","h4"].includes(k)&&!n.className)return aI(k,B,n,o);if(x)return(0,e.h)(k,B,x);const de=r(n,o,{shallow:!0});return de||(0,e.h)(k,B,...Array.prototype.map.call(n.childNodes,_e=>r(_e,o)))},2500);function iI(n,r,o={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,_=>Is(_,xl,{wrapper:i,pub:r,props:o}))}var Ul=ke(62017);const Dm=typeof window!="undefined";function Am(n,r,o=Dm?localStorage:void 0){var i;const[_,A]=(0,t.eJ)(typeof o!="undefined"&&(i=o.getItem(n))!=null?i:r);return[_,B=>{A(x=>{const q=typeof B=="function"?B(x):B;return o&&o.setItem(n,q),q})}]}function Pk(n,r,o=Dm?localStorage:void 0){const i=useMemo(()=>JSON.stringify(r),[r]),[_,A]=Am(n,i,o);return[useMemo(()=>{try{return JSON.parse(_)}catch(x){return console.error("Failed to parse stored value:",x),r}},[_,r]),x=>A(JSON.stringify(x))]}var Nm=ke(16742);const io={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS",mobileFooter:"frontend-components-selection_popover-module__mobileFooter--gk9tq"};var sI=Object.defineProperty,lI=Object.defineProperties,uI=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,Lm=Object.prototype.hasOwnProperty,Rm=Object.prototype.propertyIsEnumerable,xm=(n,r,o)=>r in n?sI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bi=(n,r)=>{for(var o in r||(r={}))Lm.call(r,o)&&xm(n,o,r[o]);if(Bl)for(var o of Bl(r))Rm.call(r,o)&&xm(n,o,r[o]);return n},Ms=(n,r)=>lI(n,uI(r)),cI=(n,r)=>{var o={};for(var i in n)Lm.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Bl)for(var i of Bl(n))r.indexOf(i)<0&&Rm.call(n,i)&&(o[i]=n[i]);return o},Vi=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Um=2048;function dI(n){var r,o,i,_;const{nuxModal:A,showRestackNux:k}=(0,Nm.y)("post");return(0,e.h)(e.Fragment,null,A,((_=(i=(o=(r=n.selection)==null?void 0:r.text)==null?void 0:o.split)==null?void 0:i.call(o," "))==null?void 0:_.length)>=3&&(0,e.h)(fI,bi({onShare:k},n)))}function fI({pub:n,post:r,selection:o,onShare:i,onClose:_,userInteractionDisabled:A,selectingTextForQuote:k}){var B,x,q;const de=(0,ro.aF)(),_e=(0,yn.pm)(),ve=(0,_s.i3)(),Oe=(0,hn.XA)(),Se="has_dismissed_restack_selection_explainer",[we]=Am(Se),Re=(0,ro.SE)();(0,t.d4)(()=>{we==="true"&&(Re!=null&&Re.userSettings)&&!Re.userSettings.has_seen_select_to_restack_tooltip_nux&&Re.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Fe=!r.is_draft&&!!de,He=!r.is_draft,ut=()=>Vi(this,null,function*(){const It=yield(0,$n.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:r.id,publication_id:n.id,startParagraph:o.startParagraph,endParagraph:o.endParagraph,startOffset:o.startOffset,endOffset:o.endOffset}});if(It instanceof Error)throw It;return It.selection.id}),et=()=>Vi(this,null,function*(){const It=yield ut();return(0,f.getPostUrl)(n,r,{urlParams:{r:de?de.id.toString(36):null,selection:It,utm_campaign:j.UTM_CAMPAIGN.postSelection,utm_medium:j.UTM_MEDIUM.web}})}),rt=()=>Vi(this,null,function*(){if(!Fe)return;_(),(0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:r.id});let It;try{It=yield et()}catch(Xt){_e.popToast(ar=>(0,e.h)(yn.FN,Ms(bi({},ar),{text:"Failed to generate quote"})));return}const Qt=yield ve.open({restackUrl:It});Qt instanceof Error?(console.error(Qt),_e.popToast(Xt=>(0,e.h)(yn.FN,Ms(bi({},Xt),{text:"Failed to post"})))):(i(),_e.popToast(Xt=>(0,e.h)(yn.FN,Ms(bi({},Xt),{text:"Note sent",cta:"View",href:(0,yt.getFeedUrl)()}))))}),gt=()=>Vi(this,null,function*(){(0,d.track)(d.EVENTS.VIDEO_QUOTE_TEXT_SELECTED,{post_id:r.id,selection_id:o.id}),(0,W.redirect)((0,yt.getPostDetailsShareCenterUrl)(n,r.id,{selectionForQuote:o.text}),{local_navigation:!1})}),Tt=()=>Vi(this,null,function*(){if(!He)return;_();let It;try{It=yield et()}catch(Qt){_e.popToast(Xt=>(0,e.h)(yn.FN,Ms(bi({},Xt),{text:"Failed to copy link to quote"})));return}(0,W.copyToClipboard)(It),_e.popToast(Qt=>(0,e.h)(yn.FN,Ms(bi({},Qt),{text:"Link copied to clipboard"})))}),St=It=>Vi(this,null,function*(){if(de)return;_(),(0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:r.id});let Qt;try{Qt=yield ut()}catch(fr){}const Xt=(0,f.updateQuery)(document.location.href,{selection:Qt}),ar=(0,f.getSigninUrl)({redirect:Xt});(0,W.redirect)(ar,{local_navigation:!1,event:It})});(0,t.d4)(()=>(window.addEventListener("scroll",_,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",_,{capture:!0,once:!0})}),[_]);const Dt=(Re==null?void 0:Re.userSettings)&&!((B=Re.userSettings)!=null&&B.has_seen_select_to_restack_tooltip_nux)&&!k,Lt=Dt?156:40,Ft=()=>{Re.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(pe.tu,{style:{top:(0,Et.isTouchDevice)()?o.y+o.height+8:o.y-Lt-8,left:o.rect.x+o.rect.width/2,transform:"translateX(-50%)",pointerEvents:A?"none":"auto",maxWidth:240},justifyContent:"center",className:io.popover,shadow:"md",radius:12},(0,e.h)(pe.tu,{className:s()(io.popoverButtons,Oe&&io.isMobile),radius:12,padding:Dt?8:4,gap:8},Dt&&(0,e.h)(pI,{onDismiss:Ft}),(0,e.h)(kl,{onClick:k?gt:de?rt:St,disabled:!Fe&&!!de||k&&((x=o.text)==null?void 0:x.length)>Um,isExplainer:Dt},!k&&(0,e.h)(Fi.Z,{className:s()(io.icon,!Fe&&io.disabled)}),(0,e.h)(a.xv.B4,{color:Fe?"bg-light":"secondary",weight:"medium"},k?((q=o.text)==null?void 0:q.length)>Um?"Selection too long":"Use this text":Fe?"Restack quote":de?r.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(r==null?void 0:r.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function kl(n){var r=n,{isExplainer:o}=r,i=cI(r,["isExplainer"]);return(0,e.h)(me.kG,bi({className:s()(io.button,o&&io.explainerButton),resetCss:!0},i))}function pI({onDismiss:n}){return(0,e.h)(pe.tu,{className:io.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(me.kG,{resetCss:!0,className:io.dismissExplainer,onClick:n},(0,e.h)(vs.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(a.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(a.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post as"," ",(0,e.h)(Ul.hh,{color:"secondary",decoration:"underline",href:(0,yt.getFeedUrl)(),target:"_blank"},"a note"),"."))}var $c=ke(71212);const hI=(n,r=500)=>{const o=(0,t.sO)(null),i=(0,t.sO)({x:0,y:0}),_=(0,t.sO)(!1),A=(0,t.I4)(x=>{i.current={x:x.touches[0].clientX,y:x.touches[0].clientY},o.current=window.setTimeout(()=>{_.current=!0,n()},r)},[n,r]),k=(0,t.I4)(()=>{o.current!==null&&clearTimeout(o.current),_.current=!1},[]),B=(0,t.I4)(x=>{const q={x:x.touches[0].clientX,y:x.touches[0].clientY},de=Math.abs(q.x-i.current.x),_e=Math.abs(q.y-i.current.y),ve=10;(de>ve||_e>ve)&&(o.current!==null&&clearTimeout(o.current),_.current=!1)},[]);return(0,t.d4)(()=>()=>{o.current!==null&&clearTimeout(o.current)},[]),{onTouchStart:A,onTouchEnd:k,onTouchMove:B,longPressActivated:_}};var mI=ke(41487),_I=ke(40946);const va={root:"frontend-components-ShareSelectionImage-module__root--pmZjU",large:"frontend-components-ShareSelectionImage-module__large--KtLJ0",image:"frontend-components-ShareSelectionImage-module__image--A2mIB",imageLoading:"frontend-components-ShareSelectionImage-module__imageLoading--CWfsY",stories:"frontend-components-ShareSelectionImage-module__stories--GtFB9",small:"frontend-components-ShareSelectionImage-module__small--xwYwM",square:"frontend-components-ShareSelectionImage-module__square--ahhUC",link:"frontend-components-ShareSelectionImage-module__link--RAXSX",download:"frontend-components-ShareSelectionImage-module__download--d6vx_",secondaryBorder:"frontend-components-ShareSelectionImage-module__secondaryBorder--GZZF_",spinner:"frontend-components-ShareSelectionImage-module__spinner--Cngzw",text:"frontend-components-ShareSelectionImage-module__text--WP_9Y"};var gI=Object.defineProperty,Bm=Object.getOwnPropertySymbols,vI=Object.prototype.hasOwnProperty,yI=Object.prototype.propertyIsEnumerable,km=(n,r,o)=>r in n?gI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bI=(n,r)=>{for(var o in r||(r={}))vI.call(r,o)&&km(n,o,r[o]);if(Bm)for(var o of Bm(r))yI.call(r,o)&&km(n,o,r[o]);return n},EI=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const PI=({pub:n,post:r,style:o,text:i,selectionId:_,size:A,editButton:k,wrapperClassName:B})=>{const{img:x,imgDownload:q,shareData:de,useNativeShare:_e}=(0,mI.Q)({shareTitle:"Share this post",shareText:r.title,shareUrl:(0,f.getPostUrl)(n,r),imageDownloadUrl:(0,f.getPostSelectionMediaUrl)(n,r,_,o,`${i}${o.aspectRatio?` - ${o.aspectRatio}`:""}`),imageUrl:(0,f.getPostSelectionMediaUrl)(n,r,_,o),imageUrlSameOrigin:(0,f.getPostSelectionMediaImageUrl)(n,r,_,o)}),ve=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r.id,selection_id:_,type:i,aspect_ratio:o.aspectRatio,interaction:"longpress"})},[r.id,_,i,o.aspectRatio]),Oe=hI(ve),Se=(0,t.I4)(Re=>EI(void 0,null,function*(){if(Oe.longPressActivated.current){Re.preventDefault();return}if((0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r.id,selection_id:_,type:i,aspect_ratio:o.aspectRatio,interaction:"click"}),_e&&de)try{yield navigator.share(de)}catch(Fe){}}),[Oe.longPressActivated,r.id,_,i,o.aspectRatio,_e,de]),we=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.IMAGE_CONTEXT_MENU_CLICKED,{post_id:r.id,clicked_from:"share_selection",selection_id:_,type:i,aspect_ratio:o.aspectRatio,interaction:"click"})},[r.id,_,i,o.aspectRatio]);return(0,e.h)("a",bI({href:(0,v.isMobile)()?void 0:q,alt:"Download Image",download:!0,className:s()(va.link,B),target:"_blank",onClick:Se,onContextMenu:we},Oe),(0,e.h)("div",{className:s()(va.root,o.aspectRatio==="stories"?va.stories:va.square,A&&va[A])},(0,v.isMobile)()&&k,!(0,v.isMobile)()&&(0,e.h)("div",{className:va.download},(0,e.h)(_I.Z,{stroke:"white",fill:"none"})),!x&&(0,e.h)("div",{className:s()(va.image,va.imageLoading),alt:"Loading"},(0,e.h)(fa.Sv,{className:va.spinner})),x&&(0,e.h)("img",{src:x,className:va.image})))};var OI=ke(71765),wI=ke(64484),Fl=ke(48042);const ya={root:"frontend-components-SelectionV2Modal-module__root--xQnU9",imageSmall:"frontend-components-SelectionV2Modal-module__imageSmall--R16_y",imageWrapper:"frontend-components-SelectionV2Modal-module__imageWrapper--KI6MA",modalWithFooter:"frontend-components-SelectionV2Modal-module__modalWithFooter--DhxFS",actionSheetMenu:"frontend-components-SelectionV2Modal-module__actionSheetMenu--ji2CC",actionSheetBody:"frontend-components-SelectionV2Modal-module__actionSheetBody--VAUMt",modalBody:"frontend-components-SelectionV2Modal-module__modalBody--KAht0",mediaAssetContainer:"frontend-components-SelectionV2Modal-module__mediaAssetContainer--ZwVNu",safeAreaInsetPaddingBottom:"frontend-components-SelectionV2Modal-module__safeAreaInsetPaddingBottom--RH4Gf",actionSheetContainer:"frontend-components-SelectionV2Modal-module__actionSheetContainer--BaWcS",actionSheetItems:"frontend-components-SelectionV2Modal-module__actionSheetItems--LLOEr",edit:"frontend-components-SelectionV2Modal-module__edit--PbhOl"};var SI=Object.defineProperty,CI=Object.defineProperties,TI=Object.getOwnPropertyDescriptors,Fm=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,MI=Object.prototype.propertyIsEnumerable,Wm=(n,r,o)=>r in n?SI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,DI=(n,r)=>{for(var o in r||(r={}))II.call(r,o)&&Wm(n,o,r[o]);if(Fm)for(var o of Fm(r))MI.call(r,o)&&Wm(n,o,r[o]);return n},AI=(n,r)=>CI(n,TI(r)),$i=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const NI=({pub:n,post:r,selectionId:o,style:i,showText:_=!1,size:A,editButton:k})=>{const B=(0,Fl.fQ)(i.aspectRatio);return(0,e.h)("div",{className:s()(ya.root,ya.imageWrapper,A&&ya[A])},(0,e.h)(PI,{pub:n,post:r,style:i,text:B,selectionId:o,size:A,editButton:k,wrapperClassName:ya.imageWrapper}),_&&B&&(0,e.h)(c.xv.Meta,{paddingTop:A==="small"?8:16},B))},LI=({pub:n,post:r,isOpen:o,onClose:i,selection:_,selectionId:A,setSelectionId:k,themeVariables:B})=>{const{iString:x}=(0,l.M1)(),[q,de]=(0,t.eJ)(!1),[_e,ve]=(0,t.eJ)("stories"),Oe=(r==null?void 0:r.cover_image)||(n==null?void 0:n.cover_photo_url),[Se,we]=(0,t.eJ)(Oe?"image":"accent"),[Re,Fe]=(0,t.eJ)(!1),He=(0,ro.aF)(),ut=(0,c.pm)(),et=(0,v.isMobile)({checkFirst4:!0}),{result:rt}=(0,$n.ib)({pathname:`/api/v1/publication/${n.id}/theme`,auto:_&&r&&o&&!B,cacheTtl:1/0,initialResult:B,deps:[_,r,o,B]}),gt=o&&(!!A||q)&&!!rt;(0,t.d4)(()=>{gt&&(r!=null&&r.id)&&(0,d.track)(d.EVENTS.SHARE_SELECTION_MODAL_OPENED,{post_id:r.id})},[gt,r]),(0,t.d4)(()=>{if(!_||!r||!o)return;(()=>$i(void 0,null,function*(){de(!0);try{const Gt=yield(0,$n.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:r.id,publication_id:n.id,startParagraph:_.startParagraph,endParagraph:_.endParagraph,startOffset:_.startOffset,endOffset:_.endOffset}});if(de(!1),Gt instanceof Error)throw Gt;k(Gt.selection.id.toString())}catch(Gt){alert((0,$n.i)(Gt)),de(!1),i()}}))()},[n,r,_,o,k,i]);const Tt=(At,Gt)=>{const cr=(0,$a.O1)(null,{pub:n,post:r,selectionId:A,user:He||void 0,medium:"web",utm_campaign:j.UTM_CAMPAIGN.postShareSelection});(0,$a.I)(At,Gt,{shareUrl:cr,post:r,pub:n,selectionId:A,utm_campaign:j.UTM_CAMPAIGN.postShareSelection})},St=()=>$i(void 0,null,function*(){Tt("copy",At=>((0,W.copyToClipboard)(At),ut.popToast(Gt=>(0,e.h)(c.FN,AI(DI({},Gt),{text:x("Link copied to clipboard")}))),!1))}),Dt=()=>$i(void 0,null,function*(){Tt("facebook",At=>(0,yt.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:At}))}),Lt=()=>$i(void 0,null,function*(){r&&Tt("twitter",At=>(0,f.getTwitterShareUrl)({url:At,text:r.title}))}),Ft=()=>$i(void 0,null,function*(){Tt("linkedin",At=>(0,yt.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:At}))}),It=()=>{if(!rt)return{aspectRatio:_e};switch(Se){case"image":return{aspectRatio:_e,textColor:"#ffffff",bgImage:!0};case"accent":return{aspectRatio:_e,bgColor:rt.background_pop,textColor:rt.print_on_pop};case"primary":default:return{aspectRatio:_e,bgColor:rt.web_bg_color||rt.cover_bg_color,textColor:rt.print_on_web_bg_color||rt.cover_print_primary||"#1a1a1a"}}},Qt=()=>$i(void 0,null,function*(){const At=It(),Gt=`Share Selection - ${At.aspectRatio}`;(0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r==null?void 0:r.id,selection_id:A,type:Gt,aspect_ratio:_e,interaction:"click"});const cr=document.createElement("a");cr.href=r&&A?(0,f.getPostSelectionMediaUrl)(n,r,A,At,Gt):"",cr.download=`Share Selection - ${_e}`,cr.target="_blank",cr.rel="noopener noreferrer",cr.style.display="none",document.body.appendChild(cr),cr.click(),document.body.removeChild(cr)}),Xt=()=>{Fe(!1)},ar=(0,e.h)(c.u_,{className:ya.actionSheetMenu,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0,isOpen:Re,position:"bottom",onClose:Xt},(0,e.h)(c.xB,{title:x("Edit image"),includeClose:!0,onClose:Xt}),(0,e.h)(c.fe,{className:ya.actionSheetBody},(0,e.h)(jm,{assetStyle:It(),aspectRatio:_e,loadingSelection:q,post:r,pub:n,themeVariables:rt,setAspectRatio:ve,assetTheme:Se,setAssetTheme:we,selectionId:A,setSelectionId:k}))),fr=(0,e.h)(c.zx,{rounded:!0,priority:"secondary",className:ya.edit,onClick:At=>{At.stopPropagation(),Fe(!0),(0,d.track)(d.EVENTS.SHARE_SELECTION_EDIT_MODAL_OPENED,{post_id:r==null?void 0:r.id})}},x("Edit"));return(0,e.h)(c.u_,{isOpen:gt,onClose:i,width:630,fullscreenMobile:!0,className:ya.modalWithFooter},ar,(0,e.h)(c.xB,{title:x("Share quote"),includeClose:!0,onClose:i}),(0,e.h)(c.xu,null,(0,e.h)(c.iz,{paddingY:20})),(0,e.h)(jm,{assetStyle:It(),aspectRatio:_e,loadingSelection:q,post:r,pub:n,themeVariables:rt,setAspectRatio:ve,assetTheme:Se,setAssetTheme:we,selectionId:A,setSelectionId:k,editActionSheet:fr}),(0,e.h)(c.xu,null,(0,e.h)(c.iz,null)),(0,e.h)(c.xu,{className:ya.safeAreaInsetPaddingBottom},(0,e.h)(c.gq,{padding:16,gap:8,justifyContent:"center"},(0,e.h)(c.hU,{fill:"outline",rounded:!1,onClick:St,disabled:!A},(0,e.h)(Ui.Z,{height:20,width:20})),(0,e.h)(c.hU,{fill:"outline",rounded:!1,onClick:Lt,disabled:!A},(0,e.h)(cf.Z,{height:20,width:20})),(0,e.h)(c.hU,{fill:"outline",rounded:!1,onClick:Dt,disabled:!A},(0,e.h)(OI.Z,{height:20,width:20})),(0,e.h)(c.hU,{fill:"outline",rounded:!1,onClick:Ft,disabled:!A},(0,e.h)(wI.Z,{height:20,width:20})),!et&&(0,e.h)(c.zx,{grow:!0,disabled:!A,onClick:Qt,leftIcon:(0,e.h)($c.Z,{stroke:"#404040",size:20})},x("Download")))))},jm=({assetStyle:n,aspectRatio:r,loadingSelection:o,post:i,pub:_,themeVariables:A,setAspectRatio:k,assetTheme:B,setAssetTheme:x,selectionId:q,editActionSheet:de})=>{const{iString:_e}=(0,l.M1)(),ve=[],Oe=(i==null?void 0:i.cover_image)||(_==null?void 0:_.cover_photo_url);Oe&&ve.push("image"),A.background_pop&&ve.push("accent"),ve.push("primary");const Se=(0,v.isMobile)({checkFirst4:!0});return(0,e.h)(e.Fragment,null,Se&&(0,e.h)(c.gq,{justifyContent:"center",alignItems:"center",paddingTop:de?8:0,paddingBottom:8},(0,e.h)(c.xv.B4,{color:"secondary"},_e("Long press to download image"))),(0,e.h)(c.tu,{justifyContent:"center",flex:"grow",className:ya.mediaAssetContainer,paddingBottom:16},i&&q&&!o&&(0,e.h)(NI,{pub:_,post:i,selectionId:q,style:n,size:"large",editButton:de})),(!Se||!de)&&(0,e.h)(c.gq,{gap:24,paddingX:{desktop:24,mobile:0},paddingBottom:{desktop:24,mobile:0}},(0,e.h)(c.tu,null,(0,e.h)(c.xv.Detail,{weight:"bold",color:"primary"},_e("Background")),(0,e.h)(c.gq,{paddingY:8},(0,e.h)(c.gq,{gap:8},ve.map(we=>(0,e.h)(Fl.rn,{value:we,isSelected:we===B,onClick:()=>x(we),coverImageUrl:Oe,themeVariables:A}))))),(0,e.h)(c.tu,null,(0,e.h)(c.xv.Detail,{weight:"bold",color:"primary"},_e("Aspect ratio")),(0,e.h)(c.gq,{paddingY:8},(0,e.h)(c.gq,{gap:8},Fl.sl.map(we=>(0,e.h)(Fl.ar,{value:we,isSelected:we===r,onClick:()=>k(we)})))))))},RI=LI;var xI=Object.defineProperty,UI=Object.defineProperties,BI=Object.getOwnPropertyDescriptors,Hm=Object.getOwnPropertySymbols,kI=Object.prototype.hasOwnProperty,FI=Object.prototype.propertyIsEnumerable,Vm=(n,r,o)=>r in n?xI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,$m=(n,r)=>{for(var o in r||(r={}))kI.call(r,o)&&Vm(n,o,r[o]);if(Hm)for(var o of Hm(r))FI.call(r,o)&&Vm(n,o,r[o]);return n},Km=(n,r)=>UI(n,BI(r)),Gm=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function WI({post:n,pub:r,selection:o,onClose:i,themeVariables:_,userInteractionDisabled:A}){var k,B,x;const[q,de]=(0,t.eJ)(!1),[_e,ve]=(0,t.eJ)(),Oe=((x=(B=(k=o==null?void 0:o.text)==null?void 0:k.split)==null?void 0:B.call(k," "))==null?void 0:x.length)||0,we=o&&Oe>=3&&!n.is_draft&&!(r!=null&&r.invite_only)?(0,e.h)(jI,{selection:o,onClose:i,userInteractionDisabled:A,onShowSelectionModal:de,post:n,pub:r}):null;return(0,e.h)(e.Fragment,null,we,(0,e.h)(RI,{selection:o,pub:r,post:n,isOpen:q,onClose:()=>de(!1),selectionId:_e,setSelectionId:ve,themeVariables:_}))}function jI({selection:n,onClose:r,userInteractionDisabled:o,onShowSelectionModal:i,post:_,pub:A}){const{iString:k}=(0,l.M1)(),B=(0,hn.XA)(),x=(0,ro.aF)(),q=(0,_s.i3)(),de=(0,c.pm)(),_e=!_.is_draft&&!!x,[ve,Oe]=(0,t.eJ)(!1),[Se,we]=(0,t.eJ)(-1);(0,t.d4)(()=>(window.addEventListener("scroll",r,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",r,{capture:!0})}),[r,i]),(0,t.d4)(()=>{const et=()=>{const gt=window.innerHeight-(n.y+n.height)-(B?57:0),Tt=96,St=gt<Tt;we(St?n.y-Tt-12:n.y+n.height+12)};return window.addEventListener("resize",et),et(),()=>{window.removeEventListener("resize",et)}},[n,B]);const Re=()=>{i(!0)},Fe=()=>Gm(this,null,function*(){Oe(!0);try{const et=yield(0,$n.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:_.id,publication_id:A.id,startParagraph:n.startParagraph,endParagraph:n.endParagraph,startOffset:n.startOffset,endOffset:n.endOffset}});if(Oe(!1),et instanceof Error)throw et;return et.selection.id}catch(et){alert((0,$n.i)(et)),Oe(!1)}}),He=()=>Gm(this,null,function*(){const et=yield Fe();if((0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:_.id}),!x){const Tt=(0,f.updateQuery)(document.location.href,{action:"restack-comment",selection:et}),St=(0,f.getSigninUrl)({redirect:Tt});(0,W.redirect)(St,{local_navigation:!1,event});return}const rt=(0,f.getPostUrl)(A,_,{urlParams:{r:x?x.id.toString(36):null,selection:et,utm_campaign:j.UTM_CAMPAIGN.postShareSelection,utm_medium:j.UTM_MEDIUM.web}});(yield q.open({restackUrl:rt}))instanceof Error?de.popToast(Tt=>(0,e.h)(c.FN,Km($m({},Tt),{text:"Failed to post"}))):de.popToast(Tt=>(0,e.h)(c.FN,Km($m({},Tt),{text:"Note sent",cta:"View",href:(0,yt.getFeedUrl)()})))}),ut=!_e&&!ve&&!!x;return Se<0?null:(0,e.h)(c.tu,{style:{top:Se,left:n.rect.x+n.rect.width/2,transform:"translateX(-50%)",pointerEvents:o?"none":"auto",maxWidth:240},justifyContent:"center",className:io.popover,shadow:"md",radius:12},(0,e.h)(c.tu,{className:s()(io.popoverButtons,B&&io.isMobile),radius:12,padding:4,gap:8},(0,e.h)(kl,{onClick:Re,isExplainer:!1},(0,e.h)(pl.Z,{className:io.icon}),(0,e.h)(c.xv.B4,{color:"bg-light",weight:"medium"},k("Share quote"))),(0,e.h)(kl,{onClick:He,isExplainer:!1,disabled:ut},(0,e.h)(Fi.Z,{className:s()(io.icon,!_e&&io.disabled)}),(0,e.h)(c.xv.B4,{color:_e?"bg-light":"secondary",weight:"medium"},_e?k("Restack quote"):x?_.is_draft?k("Cannot quote a draft"):A!=null&&A.invite_only?k("Cannot quote on invite-only publication"):["only_paid","founding"].includes(_==null?void 0:_.audience)?k("Cannot quote paid post"):k("Cannot quote this post"):k("Sign in to restack quote")))))}var HI=Object.defineProperty,VI=Object.defineProperties,$I=Object.getOwnPropertyDescriptors,Wl=Object.getOwnPropertySymbols,zm=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,Ym=(n,r,o)=>r in n?HI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,KI=(n,r)=>{for(var o in r||(r={}))zm.call(r,o)&&Ym(n,o,r[o]);if(Wl)for(var o of Wl(r))Zm.call(r,o)&&Ym(n,o,r[o]);return n},GI=(n,r)=>VI(n,$I(r)),zI=(n,r)=>{var o={};for(var i in n)zm.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Wl)for(var i of Wl(n))r.indexOf(i)<0&&Zm.call(n,i)&&(o[i]=n[i]);return o},ZI=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Jm=`
:is(
  div.body.markup, .pullquote, blockquote, li, caption, .footnote-content
) > :is(
  h1, h2, h3, h4, h5, h6, p:not(.button-wrapper)
)
`,YI=".image-link.image2";class Ds extends e.Component{constructor(r,o){super(r,o),this.state={selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1,shouldUseSelectionV2Popover:!1},this.onBodyMouseDown=()=>{this.setState({selectionUserInteractionDisabled:!0})},this.onMouseUp=()=>{this.setState((i,_)=>i.selectionUserInteractionDisabled?(i.selection&&_.trackSelection&&(0,d.track)(d.EVENTS.POST_TEXT_SELECTED,{post_id:_.post.id,post_audience:_.post.audience,post_type:_.post.type}),{selectionUserInteractionDisabled:!1}):null)},this.onSelectionChange=ic()(()=>{const i=this.getSelectionState();if(i){const _=this.shouldShowShareSelectionPopover();this.setState({selection:i,shouldUseSelectionV2Popover:_})}else this.state.selection&&this.setState({selection:null})},100),this.onDocumentClick=i=>{const _=i.target.closest(".image-link.image2");if(_&&this.originalImageState){const A=_.querySelector("img"),k=this.originalImageState.findIndex(B=>B.src===A.src);if(k>=0){i.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null},this.clearActiveSelection=()=>{this.setState({selection:null})},this.closeImageViewerModal=()=>{this.setState({selectedImgIndex:null})},this.shouldShowShareSelectionPopover=()=>{let i;return typeof window!="undefined"&&(i=new URLSearchParams(window.location.search).get("selectQuote")==="true"),!i},this.body=(0,e.createRef)()}componentDidMount(){return ZI(this,null,function*(){const r=Array.from(this.body.current.querySelectorAll(Jm));this.originalParagraphState=r.map(B=>({text:B.textContent}));const o=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(YI));i=i.map(B=>{const x=B.querySelector("img"),q=JSON.parse(x.getAttribute("data-attrs")),de=q.width/q.height,_e=q.resizeWidth?q.resizeWidth/de:q.height,ve=q.resizeWidth?q.resizeWidth/_e:de;return{element:B,image:x,attrs:q,extraAttrs:{imageRatio:de,resizeHeight:_e,resizeRatio:ve}}});let _=0;if(o){const B=i.find(x=>x.attrs.src===o);B&&(_=B.image.getBoundingClientRect().top-65)}const A=240,k=4;if(i=i.filter(B=>(0,f.unimginary)(B.image.src)===(0,f.unimginary)(B.element.href)),i=i.filter(B=>B.attrs.height>A&&B.extraAttrs.resizeHeight>A),i=i.filter(B=>B.extraAttrs.imageRatio<k&&B.extraAttrs.resizeRatio<k),this.originalImageState=i.map(B=>{var x;const q=B.image.src;let de=null;const _e=B.element.parentElement;return _e.tagName==="FIGURE"&&(de=(x=_e.querySelector(":scope > figcaption"))==null?void 0:x.textContent),{src:q,attrs:B.attrs,caption:de}}),o){window.scrollTo({top:_});const B=this.originalImageState.findIndex(x=>x.attrs.src===o);B>=0&&this.setState({selectedImgIndex:B})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(r,o){return this.props.html!==r.html||this.state.selectedImgIndex!==o.selectedImgIndex||this.state.selection!==o.selection||this.state.selectionUserInteractionDisabled!==o.selectionUserInteractionDisabled||this.state.selectingTextForQuote!==o.selectingTextForQuote}onLinkClick(r){if(!r.target.nodeName||r.target.nodeName!=="A"&&r.target.parentNode.nodeName!=="A")return;const o=r.target.nodeName==="A"?r.target:r.target.parentNode;if((0,d.track)(d.EVENTS.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:o.href}),window.location.host===o.host){const i=(0,Et.transformDocumentLink)(o.href);i!==o.href&&(0,W.redirect)(i,{local_navigation:!1,event:r});return}r.preventDefault(),(0,Et.handleDocumentLinkClick)(o.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const r=window.getSelection();if(!r||r.isCollapsed||r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset)return;const o=this.findParentParagraph(r.anchorNode);if(!o)return;const i=this.findParentParagraph(r.focusNode);if(!i)return;const _=Array.from(this.body.current.querySelectorAll(Jm)),A=_.findIndex(_e=>_e.isSameNode(o));if(A===-1)return;const k=_.findIndex(_e=>_e.isSameNode(i));if(k===-1)return;const B=this.getCharacterOffsetParagraph(o,r.anchorNode,r.anchorOffset);if(B===null)return;const x=this.getCharacterOffsetParagraph(i,r.focusNode,r.focusOffset);if(x===null)return;const q=A>k||A===k&&B>x,de=r.getRangeAt(0).getBoundingClientRect();return{startParagraph:q?k:A,endParagraph:q?A:k,startOffset:q?x:B,endOffset:q?B:x,y:de.y,height:de.height,rect:de,text:r.toString()}}catch(r){console.error("Failed to parse selection:",r)}}findParentParagraph(r){return r?["P","H1","H2","H3","H4","H5","H6"].includes(r.nodeName)?r:this.findParentParagraph(r.parentNode):null}isAncestorOf(r,o){return r===null?!1:r.isSameNode(o)?!0:this.isAncestorOf(r.parentNode,o)}getCharacterOffsetParagraph(r,o,i){var _;let A=i;for(let k=0;k<r.childNodes.length;k++){const B=r.childNodes[k];if(this.isAncestorOf(o,B))return A;B.className!=="footnote-anchor"&&(A+=((_=B.textContent)==null?void 0:_.length)||0)}return A}shouldShowImageViewerModal(){const{selectedImgIndex:r}=this.state;return r!=null}render(r){var o=r,{children:i,html:_,pub:A,skipTrackClick:k,trackSelection:B,paywall:x,isAboutPage:q}=o,de=zI(o,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:_e,selectedImgIndex:ve,shouldUseSelectionV2Popover:Oe,selectingTextForQuote:Se}=this.state;typeof window!="undefined"&&!Se&&new URLSearchParams(window.location.search).get("selectQuote")==="true"&&this.setState({selectingTextForQuote:!0}),_&&(i=iI(_,A,GI(KI({},de),{isAboutPage:q})),i&&(_=null));const we=i?Array.from(i).some(Fe=>{var He,ut,et,rt;return((He=Fe.props)==null?void 0:He.className)==="latex-rendered"||((rt=(et=(ut=Fe.props)==null?void 0:ut.children)==null?void 0:et.props)==null?void 0:rt.className)==="latex-rendered"}):!1,Re=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:_?{__html:_}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),Oe&&!Se?(0,e.h)(WI,{pub:A,post:this.props.post,selection:_e,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,themeVariables:this.props.themeVariables}):(0,e.h)(dI,{pub:A,post:this.props.post,selection:_e,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,selectingTextForQuote:Se}),(0,e.h)(hc.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:ve}));return we&&!de.isStatic?(0,e.h)(EP,null,Re):Re}}Ds.contextType=gr.kx;const JI=({tabs:n,tab:r,onTabClick:o})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:_})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${r===i?"active":""}`,onClick:()=>o&&o(i)},_)));var Kc=ke(36868);const ei={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},XI=(n,r)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,f.getDefaultPodcastArtUrl)(),mainClickUrl:(0,f.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:r,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),QI=({logoUrl:n,mainClickUrl:r,buttonClickUrl:o,name:i,description:_,showButton:A,buttonText:k,openInNewTab:B=!1})=>(0,e.h)("div",{className:ei.childPublication},n&&(0,e.h)("img",{className:ei.logo,src:(0,f.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:ei.details},(0,e.h)("div",{className:ei.info},(0,e.h)("div",{className:ei.title},(0,e.h)("a",{className:ei.link,href:r},i)),(0,e.h)("div",{className:ei.description},_)),A&&(0,e.h)(me.zx,{priority:"primary",className:ei.subscribe,href:o,newTab:B},k))),jl=({showButton:n,items:r,openInNewTab:o=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},r.map(_=>(0,e.h)(QI,{logoUrl:_.logoUrl,mainClickUrl:_.mainClickUrl,buttonClickUrl:_.buttonClickUrl,name:_.name,description:_.description,buttonText:i,openInNewTab:o,showButton:n}))),Gc={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var Hl=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function qI(n){if(typeof window=="undefined")return!0;const r=document.createElement("div");r.innerHTML=n;for(let o=r.childNodes.length-1;o>=0;o--){const i=r.childNodes[o];if((0,W.hasClass)(i,"button-wrapper")||(0,W.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const e5=({pub:n,user:r,freeSignup:o,freeSignupEmail:i})=>{const _=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":"free_upsell";return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:_})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(ne,{onVisible:()=>{(0,d.track)(d.EVENTS.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:_})}}),(0,e.h)(pe.tu,{alignItems:"center",gap:16,padding:24,className:s()(Gc.container,"end-cta-container")},(0,e.h)("img",{src:(0,f.imginary)(n.author_photo_url||n.logo_url,64),className:Gc.authorPic}),(0,e.h)(pe.tu,{alignItems:"center"},(0,e.h)(a.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(a.xv.Meta,{size:12,className:Gc.heroText,align:"center",color:"pub-secondary-text"},n.hero_text)),(0,e.h)(_a,{pub:n,user:r,freeSignup:o,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function t5({pub:n,user:r,freeSignup:o,freeSignupEmail:i,subscribeContent:_}){return typeof _!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(Ds,{html:_,pub:n,user:r,freeSignup:o,freeSignupEmail:i,isAboutPage:!0}))}function r5({pub:n,people:r}){const o=(0,nc.useMediaQuery)({maxWidth:540}),i=o?[[]]:[[],[]];for(let _=0;_<r.length;++_)i[o?0:_%2].push(r[_]);return(0,e.h)("div",{className:"content-people"},i.map(_=>(0,e.h)("div",{className:"people-column"},_.map(A=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,Bf.Q)(k,(0,f.getProfileUrl)(A,n,{utm_source:j.UTM_SOURCE.aboutPage}),{native:!0})},(0,e.h)(ha.ProfileCard,{subject:A,profile:A,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class n5 extends e.Component{constructor(r,o){super(r,o),this.onTabClick=i=>{this.loadTab({tabId:i})},this.state={subscribeContent:r.subscribeContent,people:r.people,tabs:[]}}componentDidMount(){return Hl(this,null,function*(){this.loadPeople(),this.loadAbout()})}loadAbout(){return Hl(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:r}=yield Ke().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:r})}catch(r){console.error("Failed to load about content:",r)}})}loadPeople(){return Hl(this,null,function*(){if(!this.state.people)try{const{body:r}=yield Ke().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:r})}catch(r){console.error("Failed to load people:",r)}})}loadTab(){return Hl(this,arguments,function*({tabId:r}={}){const o=r?this.state.tabs.find(i=>i.id===r):this.state.tab;this.state.tab.id!==o.id&&(this.setState({tab:o}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,f.updateQuery)({sort:o.id})))})}renderChildPublications({pub:r,user:o,freeSignup:i},{tab:_}){let A,k;if(r.plans?(k=o&&o.is_subscribed,A=k):(A=i||o&&o.is_free_subscribed,k=o&&o.is_free_subscribed),_.id==="podcast")if(k){const x=[];return(0,e.h)(jl,{pub:r,showButton:!0,buttonText:"Set up podcast",items:x})}else{const x=[];return(0,e.h)(jl,{pub:r,showButton:!A,buttonText:"Subscribe",items:x})}const B=[];return(0,e.h)(jl,{pub:r,showButton:!A,buttonText:"Subscribe",items:B})}render({pub:r,user:o,freeSignup:i,freeSignupEmail:_,metadata:A},{subscribeContent:k,people:B,tabs:x,tab:q}){const de=x.length>0&&(q==null?void 0:q.id),_e=!de||(q==null?void 0:q.id)==="about",ve=(!o||!(0,Kc.P)(o,r))&&qI(k);return(0,e.h)("div",{className:"page typography about-page typography"},A&&(0,W.setMetaData)(A),(0,e.h)("div",{className:"container"},(o==null?void 0:o.is_contributor)&&_e&&(0,e.h)(qo.z,{variant:"themed-secondary",href:(0,f.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Bi.Z,{size:20})},(0,e.h)(a.xv,null,"Edit")),de&&(0,e.h)(JI,{tabs:x,tab:q.id,onTabClick:this.onTabClick}),_e&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(t5,{pub:r,user:o,freeSignup:i,freeSignupEmail:_,subscribeContent:k})),ve?(0,e.h)(e5,{pub:r,user:o,freeSignup:i,freeSignupEmail:_}):null,(B!=null?B:[]).length>0&&(0,e.h)(pe.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(r5,{pub:r,people:B}))),de&&["podcast","newsletter"].includes(q.id)&&this.renderChildPublications({pub:r,user:o,freeSignup:i},{tab:q})))}}var o5=Object.defineProperty,Xm=Object.getOwnPropertySymbols,a5=Object.prototype.hasOwnProperty,i5=Object.prototype.propertyIsEnumerable,Qm=(n,r,o)=>r in n?o5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,zc=(n,r)=>{for(var o in r||(r={}))a5.call(r,o)&&Qm(n,o,r[o]);if(Xm)for(var o of Xm(r))i5.call(r,o)&&Qm(n,o,r[o]);return n},s5=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class l5 extends e.Component{constructor(r,o){if(super(r,o),this.onTabClick=i=>_=>{_.preventDefault(),this.loadTab(i)},this.onSearchInput=i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")},this.onSearchKeyDown=i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))},this.onPostClicked=(i,_,A,k)=>{(0,d.track)(d.EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:_,tab:this.state.tab.id,rank_in_feed:A,source:k!=null?k:this.props.source})},this.onSearchBlur=i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")},this.loadTab=(i,_)=>s5(this,null,function*(){const A=this.state.tabs.find(de=>de.id===i);let k=!1;if(A.id==="search"&&typeof _=="string"&&A.query!==_&&(k=!0,A.query=_,A.posts=null,A.fullyLoaded=!1,A.loading=!1,A.loadingError=null),A.id!==this.state.tab.id?(this.setState({tab:A},()=>{A.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,f.updateQuery)({sort:A.id,search:A.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,f.updateQuery)({search:A.query||null})),A.loading||A.fullyLoaded)return;if(A.id==="search"&&!A.query){A.posts=[],A.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const B=(0,Et.randomString)();if(A.loading=B,A.loadingError=null,this.setState({tabs:this.state.tabs}),A.id==="search"&&A.query&&(yield new Promise(de=>setTimeout(de,300)),A.loading!==B))return;!this.state.tabs.find(de=>de.posts||de.fullyLoaded||de.loading||de.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(de=>setTimeout(de,this.props.delayFirstLoad)));const q=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const de=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),_e=(yield Ke().get(q).query(zc(zc(zc({sort:A.id==="search"?"new":A.id,search:A.id==="search"?A.query:"",offset:(A.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(A.loading!==B)return;A.posts=A.posts?A.posts.concat(_e):_e,A.fullyLoaded=_e.length<de||this.props.maxPosts&&A.posts.length>=this.props.maxPosts}catch(de){console.error("Failed to load tab:",de),A.loadingError=de}A.loading=!1,this.setState({tabs:this.state.tabs.map(de=>de.id===A.id?A:de),tab:A})}),this.onChange=({post:i})=>{i&&((0,W.stateTransaction)(this,_=>{let A=!1;const k=_.tabs.map(B=>B.posts).filter(B=>Array.isArray(B));for(const B of k){const x=B.findIndex(q=>q.id===i.id);x!==-1&&(B[x]=i,A=!0)}A&&this.setState({tabs:_.tabs})}),this.props.onChange&&this.props.onChange(i))},!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(r){(r.hideTop!==this.props.hideTop||r.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var r,o;let i=[];const{iString:_}=this.props;i.push({id:"new",title:this.props.newTitle||_("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||_("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(r=this.props.pub)!=null&&r.community_enabled&&((o=this.props.pub)!=null&&o.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||_("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:_("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const A=i.find(k=>k.id===this.props.sort)||this.props.search&&i.find(k=>k.id==="search")||i[0];return{tabs:i,tab:A}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:r,className:o,disableInteractive:i,emptyMessage:_,filterPostsPredicate:A,hideAuthor:k,hideSearchTab:B,hideShare:x,isBelowTheFold:q,isPodcast:de,maxPosts:_e,maxTitleLength:ve,pinnedPosts:Oe,profile:Se,pub:we,renderLoading:Re,renderPosts:Fe,renderTabs:He,renderSeeAll:ut,showMonthDividers:et,showPins:rt,showPublicationName:gt,source:Tt,user:St,iString:Dt,iTemplate:Lt},{tabs:Ft,tab:It}){_=_||Dt("No posts");const Qt=et&&It.id==="new",Xt=Ft.find(bt=>bt.id==="search"),ar=Ft.find(bt=>bt.id==="community");let fr=Array.isArray(It.posts)?It.posts.filter(bt=>!(we&&It.id==="top"&&bt.top_exclusions.includes(we.id))).filter(bt=>we!=null&&we.section&&(Oe!=null&&Oe.length)?!Oe.find(Tr=>Tr.id===bt.id):!0).filter(bt=>!Et.hidePaidPostsFor.includes(we==null?void 0:we.subdomain)||bt.audience==="everyone"||(St==null?void 0:St.is_subscribed)).filter(A||(()=>!0)):[];we!=null&&we.section&&(Oe!=null&&Oe.length)&&["new","top"].includes(It.id)&&(fr=[...Oe,...fr]);const At=fr.length===0,Gt=!fr&&!It.loadingError,cr=fr.some&&fr.some(bt=>bt.cover_image);let nr;Se&&(nr=new Map(Se.publicationUsers.map(bt=>[bt.publication.id,bt.publication])));const er=_e?fr.slice(0,_e):fr,Ot=Fe?Fe({posts:er,linkToComments:It===ar,onClickPost:({event:bt,post:Tr,index:tr,source:Wr})=>this.onPostClicked(bt,Tr.id,tr,Wr),postGroups:Qt?c5(er,we.language):null}):[],Mt=de?(0,yt.getPodcastArchiveUrl)({pub:we,section:we.section,params:{sort:It.id,search:It.query}}):(0,f.getArchiveUrl)(we,{params:{sort:It.id,search:It.query}}),kt=ut?ut({url:Mt}):(0,e.h)("a",{className:"portable-archive-all",href:Mt,native:!0},Dt("See all")," ",(0,e.h)(Be,{height:12,width:12})),zt=Re?Re():null;return(0,e.h)("div",{className:s()("portable-archive",o,{"empty-list":At})},He&&He({activeTabId:It.id,isSearching:It===Xt,showSearch:!!(Xt&&!B),searchInputProps:{value:Xt==null?void 0:Xt.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:bt=>{this.searchInput=bt},tabs:Ft.filter(bt=>!bt.hidden),onClick:bt=>{this.loadTab(bt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(Ft[0].id)}}),(0,e.h)("div",{className:"portable-archive-list"},It.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},Dt("Failed to load posts")):fr.length===0&&!It.loading?(0,e.h)("p",{className:"portable-archive-empty"},It.id!=="search"?_:It.query?Dt("No results"):Lt`Search ${we?we.name:""}`):(0,e.h)(e.Fragment,null,Ot,!_e&&!Gt&&!It.loading&&!It.fullyLoaded&&(0,e.h)(ne,{threshold:640,onVisible:()=>this.loadTab(It.id,It.query)})),It.loading||Gt?zt:_e&&fr.length>=_e&&kt))}}const u5=(0,l.fz)(l5),c5=(n,r="en")=>{let o;const i=[];return n.forEach((_,A)=>{const k=it()(_.post_date).locale(r).format("MMMM YYYY");k!==o?(A===0?i.push({label:"",posts:[_]}):i.push({label:k,posts:[_]}),o=k):i[i.length-1].posts.push(_)}),i};var d5=Object.defineProperty,f5=Object.defineProperties,p5=Object.getOwnPropertyDescriptors,Vl=Object.getOwnPropertySymbols,qm=Object.prototype.hasOwnProperty,e0=Object.prototype.propertyIsEnumerable,t0=(n,r,o)=>r in n?d5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,h5=(n,r)=>{for(var o in r||(r={}))qm.call(r,o)&&t0(n,o,r[o]);if(Vl)for(var o of Vl(r))e0.call(r,o)&&t0(n,o,r[o]);return n},m5=(n,r)=>f5(n,p5(r)),_5=(n,r)=>{var o={};for(var i in n)qm.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Vl)for(var i of Vl(n))r.indexOf(i)<0&&e0.call(n,i)&&(o[i]=n[i]);return o};const r0=n=>{var r=n,{stroke:o}=r,i=_5(r,["stroke"]);return(0,e.h)(De.l,m5(h5({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},Zc={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},ti=({children:n,showContentBelowOnMobile:r,stretchVertically:o,variant:i})=>(0,e.h)("div",{style:o?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:s()(Zc.container,Zc[i],{[Zc["show-below"]]:r})},n)),Ki=({numColumns:n,paddingBottom:r,paddingTop:o})=>(0,e.h)(ti,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(c.tu,{paddingBottom:typeof r=="number"?r:24,paddingTop:typeof o=="number"?o:24,paddingX:8},(0,e.h)(c.hs,{borderBottom:"detail-themed"}))),$l=(0,e.createContext)({alwaysShowActions:!1,cropGravity:"center"}),Yc=(0,e.createContext)({url:"",linkToComments:!1}),As=3/2,Ns=16/9,Kl={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},ea=({animated:n=!0,width:r,height:o,aspectRatio:i,className:_})=>i?(0,e.h)("div",{style:`aspect-ratio:${i}`},(0,e.h)("div",{className:s()(Kl.container,_,{[Kl.containerAnimated]:n}),style:{width:r,height:o!=null?o:"100%"}})):(0,e.h)("div",{className:s()(Kl.container,_,{[Kl.containerAnimated]:n}),style:{width:r,height:o}}),g5=(0,Te.forwardRef)(({animated:n=!0,variant:r},o)=>["grid","grid-groups"].includes(r)?(0,e.h)(c.tu,{gap:12,ref:o},(0,e.h)(ea,{animated:n,aspectRatio:As}),(0,e.h)(c.tu,{gap:8},(0,e.h)(ea,{animated:n,height:24,width:"70%"}),(0,e.h)(ea,{animated:n,height:20,width:"90%"}),(0,e.h)(ea,{animated:n,height:20,width:"50%"}))):r==="list"?(0,e.h)(c.tu,{gap:8,ref:o},(0,e.h)(ea,{animated:n,height:28,width:"60%"}),(0,e.h)(ea,{animated:n,height:24,width:"80%"}),(0,e.h)(ea,{animated:n,height:20,width:"20%"})):null),n0={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},Jc=(0,Te.forwardRef)(({animated:n=!0,postCount:r,variant:o},i)=>(0,e.h)("div",{className:s()({[n0.loadingContainerGrid]:["grid","grid-groups"].includes(o),[n0.loadingContainerList]:o==="list"}),ref:i},Array.from(new Array(r)).map(()=>(0,e.h)(g5,{variant:o,animated:n})))),o0={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},v5=({tabs:n,activeTabId:r,onClick:o})=>(0,e.h)(pe.gq,{gap:8},n.map(i=>(0,e.h)(y5,{onClick:()=>{o(i.id)},active:i.id===r},i.title))),y5=({active:n,onClick:r,children:o})=>(0,e.h)("div",{className:s()(o0.pillTab,{[o0.pillTabActive]:n}),role:"button",onClick:r},o),Ls={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var b5=Object.defineProperty,E5=Object.defineProperties,P5=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,O5=Object.prototype.hasOwnProperty,w5=Object.prototype.propertyIsEnumerable,i0=(n,r,o)=>r in n?b5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,S5=(n,r)=>{for(var o in r||(r={}))O5.call(r,o)&&i0(n,o,r[o]);if(a0)for(var o of a0(r))w5.call(r,o)&&i0(n,o,r[o]);return n},C5=(n,r)=>E5(n,P5(r));const Gi=({children:n,communityPosts:r,communityTitle:o,delayFirstLoad:i,filterPostsPredicate:_,isBelowTheFold:A,isPodcast:k,maxPosts:B,newPosts:x,pinnedPosts:q,postTagId:de,pub:_e,search:ve,searchPosts:Oe,sectionId:Se,showMonthDividers:we,sort:Re,sortTabs:Fe,source:He,user:ut,variant:et="list"})=>{const{iString:rt}=(0,l.M1)(),{isMobile:gt}=(0,xn.v9)(),{getSettingFor:Tt}=(0,L.So)(),St=(0,Et.ensureInList)(Tt("post_preview_crop_gravity"),["center","auto"]);return(0,e.h)($l.Provider,{value:{alwaysShowActions:!1,cropGravity:St}},(0,e.h)(u5,{communityPosts:r,communityTitle:o,delayFirstLoad:i,filterPostsPredicate:_,isBelowTheFold:A,isPodcast:k,maxPosts:B,newPosts:x,pinnedPosts:q,postTagId:de,pub:_e,renderPosts:({posts:Dt,linkToComments:Lt,onClickPost:Ft,postGroups:It})=>It?It.map(({label:Qt,posts:Xt})=>(0,e.h)(e.Fragment,null,Qt&&(0,e.h)(e.Fragment,null,(0,e.h)(Ki,{paddingTop:8,paddingBottom:8}),(0,e.h)(c.xv.Meta,{as:"h3",className:Ls.monthHeader,color:"pub-accent",paddingBottom:24},Qt)),n({posts:Xt,linkToComments:Lt,onClickPost:Ft}))):n({posts:Dt,linkToComments:Lt,onClickPost:Ft}),renderLoading:()=>(0,e.h)(Jc,{variant:et,postCount:B!=null?B:7}),renderSeeAll:({url:Dt})=>et==="grid-groups"?null:(0,e.h)(c.gq,{paddingTop:16},(0,e.h)(c.zx,{href:Dt,rightIcon:(0,e.h)(_l.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},rt("See all"))),renderTabs:({activeTabId:Dt,isSearching:Lt,tabs:Ft,searchInputProps:It,searchRef:Qt,showSearch:Xt,onClick:ar,onClickSearch:fr,onClickSearchClose:At})=>et==="grid-groups"?null:Lt?(0,e.h)(c.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:gt?0:8},(0,e.h)(c.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(r0,{height:16,className:Ls.searchIcon}),(0,e.h)("input",C5(S5({},It),{ref:Qt,type:"text",placeholder:rt("Search..."),className:Ls.searchInput}))),(0,e.h)("div",{role:"button",onClick:At,className:Ls.iconButton},(0,e.h)(Me.Z,{height:20}))):(0,e.h)(c.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:gt?0:8},(0,e.h)(v5,{activeTabId:Dt,tabs:Ft,onClick:ar}),Xt&&(0,e.h)("div",{role:"button",onClick:fr,className:Ls.iconButton},(0,e.h)(r0,{height:20}))),sectionId:Se,search:ve,searchPosts:Oe,showMonthDividers:we,sort:Re,sortTabs:Fe,source:He,stateInUrl:!0,user:ut}))},T5=({justified:n,post:r,pub:o,user:i,onChange:_,onToggleMenu:A})=>{const k=r.type==="restack";return(0,e.h)(An._2,{allowEdit:!k,editButtonIsLast:!0,hideComments:!(0,Et.showCommentsOnPost)({publication:o,post:r})||k,hideReactions:!o.community_enabled||k,hideShare:k,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:r,pub:o,hideFeedRestackButton:k,showRestackButton:!k,style:"compressed",user:i,position:"pub-preview",onChange:_,onToggleMenu:A})};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=(0,pn.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);var l0=ke(25597);const ri={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},Ei=({clamp:n,post:r,pub:o,showPin:i})=>{const _=(0,Et.getBylineUsers)(r),{iTemplate:A,language:k}=(0,l.M1)();return(0,e.h)(c.xv.Meta,{className:ri.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:ri.icon},(0,e.h)(s0,{size:12})),(0,or.isPaidAudience)(r.audience)&&!(0,Ka.lp)({post:r})&&(0,e.h)("div",{className:s()(ri.icon,n&&ri.iconClamped)},(0,e.h)(l0.Z,{audience:r.audience,size:12})),r.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ri.pub},A`Published on ${r.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:ri.date,dateTime:Hr()(r.post_date).toISOString()},(0,An.fh)({post:r,showDatetime:!1,language:k})),r.type!=="restack"&&_.length>0&&o.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Et.oxfordComma)(_.map(B=>n?(0,e.h)("a",{className:ri.link,href:(0,f.getProfileUrl)(B,o),onClick:x=>x.stopPropagation()},B.name):(0,e.h)(ha.ProfileHoverCard,{subject:B,utmSource:"byline"},(0,e.h)("a",{className:ri.link,href:(0,f.getProfileUrl)(B,o),onClick:x=>x.stopPropagation()},B.name))),{noBreakSpace:!0})))};var I5=Object.defineProperty,M5=Object.defineProperties,D5=Object.getOwnPropertyDescriptors,u0=Object.getOwnPropertySymbols,A5=Object.prototype.hasOwnProperty,N5=Object.prototype.propertyIsEnumerable,c0=(n,r,o)=>r in n?I5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,L5=(n,r)=>{for(var o in r||(r={}))A5.call(r,o)&&c0(n,o,r[o]);if(u0)for(var o of u0(r))N5.call(r,o)&&c0(n,o,r[o]);return n},R5=(n,r)=>M5(n,D5(r)),x5=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const U5=({pub:n,magicToken:r,section:o,user:i})=>{const[_,A]=(0,t.eJ)((0,f.getPodcastRssUrl)({pub:R5(L5({},n),{section:o}),token:r})),[k,B]=(0,t.eJ)(!1);return(0,t.d4)(()=>{if(!i||!i.is_subscribed&&!i.is_free_subscribed)return;(()=>x5(void 0,null,function*(){var q;const de=yield Ke().get("/api/v1/subscription/podcast_rss_url").query({token:r,section_id:(q=o==null?void 0:o.id)!=null?q:null});de.body.podcast_rss_url&&(A(de.body.podcast_rss_url),B(!0))}))()},[r,o,i,i==null?void 0:i.is_free_subscribed,i==null?void 0:i.is_subscribed]),{feedUrl:_,isPrivateFeed:k}},d0=n=>{const[r,o]=(0,t.eJ)(!1),i=()=>{o(!0)},_=()=>{o(!1)};return(0,t.d4)(()=>{const A=n.current;if(A)return A.addEventListener("mouseenter",i),A.addEventListener("mouseleave",_),()=>{A.removeEventListener("mouseenter",i),A.removeEventListener("mouseleave",_)}},[n]),[r]},Rs={gifPreview:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__gifPreview--Q_gZG",visible:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__visible--CDDZi",image:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__image--qjVzM"},f0=({post:n,containerRef:r,aspectRatio:o,size:i="small"})=>{var _;const[A]=d0(r),k=i==="small"?320:i==="medium"?480:640;return(_=n.videoUpload)!=null&&_.is_mux?(0,e.h)("div",{className:s()(Rs.gifPreview,{[Rs.visible]:A})},(0,e.h)("img",{className:Rs.image,style:`aspect-ratio: ${o}`,type:"image/gif",src:`/api/v1/video/upload/${n.videoUpload.id}/preview.gif?height=${k}`})):null};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=(0,pn.Z)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=(0,pn.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),F5=({pub:n,post:r,containerRef:o})=>{const[i]=d0(o),[_,A]=(0,t.eJ)(!0),k=(0,t.sO)(null);(0,t.d4)(()=>{var x,q,de,_e,ve,Oe,Se;i?((de=(q=(x=k.current)==null?void 0:x.player)==null?void 0:q.play)==null||de.call(q),setTimeout(()=>{var we;(we=k.current)!=null&&we.player&&(k.current.player.volume=_?0:1)},500)):((Oe=(ve=(_e=k.current)==null?void 0:_e.player)==null?void 0:ve.pause)==null||Oe.call(ve),(Se=k.current)!=null&&Se.player&&(k.current.player.volume=0))},[i]);const B=x=>{var q;x.stopPropagation(),A(!_),(q=k.current)!=null&&q.player&&(k.current.player.volume=_?1:0)};return n&&r.videoUpload?(0,e.h)("div",{className:s()(Rs.gifPreview,{[Rs.visible]:i})},(0,e.h)(c.gq,{justifyContent:"center",alignItems:"center",position:"relative",style:{width:"100%",height:"100%"}},(0,e.h)(Ja.Z,{ref:k,pub:n,mediaUpload:r.videoUpload,noControls:!0,noPreview:!0}),(0,e.h)(c.gq,{position:"absolute",padding:12,style:{top:0,right:0}},(0,e.h)(c.hU,{priority:"media",onClick:x=>B(x)},_?(0,e.h)(B5,null):(0,e.h)(k5,null))))):null},oa={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7",bottomLabels:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__bottomLabels--ZYHRu"},Aa=({className:n,hidePlaceholder:r,imageAspectRatio:o,imageWidth:i,isBelowTheFold:_,post:A,pub:k,squareImageSize:B})=>{var x,q,de,_e,ve,Oe,Se,we;const{cropGravity:Re}=(0,t.qp)($l),{getConfigFor:Fe}=(0,te.xR)(),{isMobile:He}=(0,xn.v9)(),ut=Fe("show_entire_square_image");let et=(0,or.getCoverImageUrl)(A);et||((x=A.videoUpload)!=null&&x.thumbnail_id?et=(0,f.getMediaUploadThumbnailUrlForPlayer)(A.videoUpload):(q=A.podcastUpload)!=null&&q.thumbnail_id&&(et=(0,f.getMediaUploadThumbnailUrlForPlayer)(A.podcastUpload,{post:A})));const rt=i<=640,gt=i>640,Tt=(0,t.sO)(null);if(!et&&r)return null;const St=!i&&!o?1.32:o,Dt=i||336,Lt=!!et&&A.cover_image_is_square&&ut,Ft=Lt&&!!B&&!He,It=_?"lazy":void 0,Qt=(we=(Oe=(de=A.videoUpload)==null?void 0:de.duration)!=null?Oe:(ve=(_e=A.podcastUpload)==null?void 0:_e.full_podcast_info)==null?void 0:ve.duration)!=null?we:(Se=A.podcastUpload)==null?void 0:Se.duration;return Ft?(0,e.h)(W5,{aspectRatio:St,className:n,imageUrl:et,loading:It,size:B,width:Dt}):(0,e.h)("div",{ref:Tt,className:s()(n,oa.container,{"post-preview-cover-image-container--empty":!et}),style:`aspect-ratio: ${St}`},rt?(0,e.h)(f0,{containerRef:Tt,post:A,aspectRatio:St,size:i>320?"large":"medium"}):gt?(0,e.h)(F5,{containerRef:Tt,pub:k,post:A}):null,et?(0,e.h)(Qe.e,{className:s()(oa.image,{[oa["image-square-legacy"]]:Lt}),src:et,alt:"",maxWidth:Dt,imageProps:St?{height:Math.round(Dt/St),smartCrop:!0,gravity:Re}:{},loading:It,style:`aspect-ratio: ${St}`,imageSizingCss:"(min-width:768px) 50vw, 100vw"}):null,!!Qt&&(0,e.h)(c.xu,{className:oa.bottomLabels,bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(c.xv.Meta,{color:"always-white",lineHeight:20},(0,Et.secondsToHHMMSS)(Qt!=null?Qt:0))))},W5=({aspectRatio:n,className:r,imageUrl:o,width:i,loading:_,size:A})=>(0,e.h)("div",{className:s()(r,oa.container,oa.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:s()(oa["inner-wrapper"],oa[`inner-wrapper-${A}`])},(0,e.h)(Qe.e,{className:s()(oa.image,oa["image-square"],oa[`image-square-${A}`]),src:o,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:_}))),xs=({align:n,clamp:r,lineHeight:o=20,maxLength:i=152,paddingBottom:_,post:A,size:k=14})=>{const{url:B}=(0,t.qp)(Yc);return(0,e.h)(c.tu,{paddingBottom:_},(0,e.h)(c.xv,{as:"a",align:n,href:B,clamp:r,color:"pub-secondary-text",font:"text",size:k,lineHeight:o},fo()((0,Et.truncateWords)(A.description,i))))};var Gl=ke(98961),j5=Object.defineProperty,H5=Object.defineProperties,V5=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,$5=Object.prototype.hasOwnProperty,K5=Object.prototype.propertyIsEnumerable,h0=(n,r,o)=>r in n?j5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,G5=(n,r)=>{for(var o in r||(r={}))$5.call(r,o)&&h0(n,o,r[o]);if(p0)for(var o of p0(r))K5.call(r,o)&&h0(n,o,r[o]);return n},z5=(n,r)=>H5(n,V5(r));const m0=n=>(0,e.h)(De.l,z5(G5({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}));var Z5=Object.defineProperty,Y5=Object.defineProperties,J5=Object.getOwnPropertyDescriptors,zl=Object.getOwnPropertySymbols,_0=Object.prototype.hasOwnProperty,g0=Object.prototype.propertyIsEnumerable,v0=(n,r,o)=>r in n?Z5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,X5=(n,r)=>{for(var o in r||(r={}))_0.call(r,o)&&v0(n,o,r[o]);if(zl)for(var o of zl(r))g0.call(r,o)&&v0(n,o,r[o]);return n},Q5=(n,r)=>Y5(n,J5(r)),q5=(n,r)=>{var o={};for(var i in n)_0.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&zl)for(var i of zl(n))r.indexOf(i)<0&&g0.call(n,i)&&(o[i]=n[i]);return o};const y0=n=>{var r=n,{stroke:o="black"}=r,i=q5(r,["stroke"]);return(0,e.h)(De.l,Q5(X5({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:o,"stroke-linejoin":"round"}))},Xc={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},ni={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"};var eM=Object.defineProperty,tM=Object.defineProperties,rM=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,nM=Object.prototype.hasOwnProperty,oM=Object.prototype.propertyIsEnumerable,E0=(n,r,o)=>r in n?eM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,aM=(n,r)=>{for(var o in r||(r={}))nM.call(r,o)&&E0(n,o,r[o]);if(b0)for(var o of b0(r))oM.call(r,o)&&E0(n,o,r[o]);return n},iM=(n,r)=>tM(n,rM(r));const oi=({align:n,clamp:r,maxLength:o=140,noIcons:i,paddingBottom:_,post:A,preset:k})=>{var B;const{url:x,linkToComments:q}=(0,t.qp)(Yc),{lineHeight:de,size:_e}=Xc[k],ve=_e>=28;return(0,e.h)(c.tu,{paddingBottom:_},(0,e.h)(c.xv,iM(aM({},x?{as:"a",href:x}:null),{align:n,clamp:r,font:"pub-headings",lineHeight:de,size:_e,"data-testid":"post-preview-title"}),A.type==="thread"&&!i&&(0,e.h)(y0,{height:ve?26:17,className:ni.icon}),A.type==="podcast"&&!i&&(A.videoUpload&&((B=A.videoUpload)==null?void 0:B.media_type)==="video"?(0,e.h)(Gl.Z,{height:ve?26:19,width:ve?26:19,className:s()(ni.icon,ni.iconVideo,ni[`iconVideo-${_e}`]),strokeWidth:1.8}):(0,e.h)(m0,{height:ve?26:17,className:ni.icon})),A.type==="video"&&!i&&(0,e.h)(Gl.Z,{height:ve?26:19,width:ve?26:19,className:s()(ni.icon,ni.iconVideo,ni[`iconVideo-${_e}`]),strokeWidth:1.8}),q&&A.type!=="thread"&&"Comments on: ",(0,Et.truncateWords)(A.title,o)))},Zl={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var sM=Object.defineProperty,lM=Object.defineProperties,uM=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,cM=Object.prototype.hasOwnProperty,dM=Object.prototype.propertyIsEnumerable,O0=(n,r,o)=>r in n?sM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,fM=(n,r)=>{for(var o in r||(r={}))cM.call(r,o)&&O0(n,o,r[o]);if(P0)for(var o of P0(r))dM.call(r,o)&&O0(n,o,r[o]);return n},pM=(n,r)=>lM(n,uM(r));const w0=({actions:n,isSmall:r,post:o,pub:i})=>{const{isTablet:_}=(0,xn.v9)(),A=!!(0,or.getCoverImageUrl)(o);return(0,e.h)("div",{className:s()(Zl.container,{[Zl.containerNoImage]:!A})},A&&(0,e.h)(Aa,{className:Zl.image,imageAspectRatio:r?As:Ns,imageWidth:1280,isBelowTheFold:!1,post:o,squareImageSize:"large"}),(0,e.h)(c.tu,{className:Zl.content,alignItems:"center",justifyContent:"center",paddingX:A?32:64,paddingY:A?24:64},(0,e.h)(oi,{post:o,align:"center",preset:_?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(xs,{post:o,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(Ei,{post:o,pub:i}),(0,e.h)(c.tu,{paddingTop:20},n({justified:!1}))))},hM=n=>(0,e.h)(w0,pM(fM({},n),{isSmall:!0})),mM={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},_M=({actions:n,hideImage:r,imageAspectRatio:o,post:i,pub:_})=>(0,e.h)(c.tu,null,!r&&(0,e.h)(Aa,{pub:_,post:i,className:mM.image,imageWidth:1250,imageAspectRatio:o==="wide"?Ns:As,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(c.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(oi,{post:i,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(xs,{post:i,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(Ei,{post:i,pub:_}),(0,e.h)(c.tu,{paddingTop:16},n({justified:!1})))),Qc={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui","container--no-image":"frontend-main-home-PostPreview-PostPreviewListing-module__container--no-image--so05t",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},gM=({actions:n,hideImage:r,post:o,pub:i,showPin:_})=>{const{isMobile:A}=(0,xn.v9)();let k=!!i.community_enabled;return r&&!A&&(k=!1),(0,e.h)("div",{className:s()(Qc.container,{[Qc["container--no-image"]]:r})},(0,e.h)(c.tu,{gap:8,position:"relative"},(0,e.h)(oi,{clamp:3,post:o,preset:A?"mobileMd":"md"}),(0,e.h)(xs,{clamp:2,post:o,size:14,lineHeight:r?24:20}),(0,e.h)(Ei,{post:o,pub:i,showPin:_})),!r&&(o.cover_image?(0,e.h)(Aa,{className:Qc.image,post:o,imageWidth:A?150:320,imageAspectRatio:A?1:As,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:k}))},vM={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},yM=({actions:n,post:r,pub:o})=>{const i=!!o.community_enabled;return(0,e.h)(c.tu,{padding:8},(0,e.h)(c.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(c.tu,{flex:"grow"},(0,e.h)(oi,{post:r,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(Ei,{clamp:1,post:r,pub:o})),(0,e.h)(Aa,{className:vM.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:r})),n({justified:i}))},bM={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},EM=({actions:n,hidePlaceholder:r,post:o,pub:i})=>{const _=!!i.community_enabled;return(0,e.h)(c.tu,null,o.cover_image&&(0,e.h)(Aa,{post:o,className:bM.image,imageWidth:1250,imageAspectRatio:Ns,isBelowTheFold:!1,hidePlaceholder:r,squareImageSize:"large"}),(0,e.h)(c.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(c.tu,{gap:8,paddingBottom:12},(0,e.h)(oi,{post:o,preset:"mobileLg",clamp:3}),(0,e.h)(xs,{post:o,size:14,lineHeight:20,clamp:3}),(0,e.h)(Ei,{post:o,pub:i})),n({justified:_})))},PM={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},OM=({actions:n,post:r,pub:o})=>{const{isMobile:i}=(0,xn.v9)(),_=!!o.community_enabled;return(0,e.h)(c.tu,{padding:i?0:8},(0,e.h)(Aa,{post:r,className:PM.image,imageWidth:600,imageAspectRatio:As,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(c.tu,{flex:"grow",gap:12,paddingTop:12},(0,e.h)(c.tu,{gap:8,flex:"grow"},(0,e.h)(oi,{clamp:3,post:r,preset:"md"}),(0,e.h)(xs,{clamp:1,post:r}),(0,e.h)(Ei,{post:r,pub:o})),n({justified:_})))},zi={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K","container--menu-open":"frontend-main-home-PostPreview-index-module__container--menu-open--js7AZ",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu","actions--menu-open":"frontend-main-home-PostPreview-index-module__actions--menu-open--HkA_4"},wM={jumbo:w0,"jumbo-small":hM,large:_M,listing:gM,mini:yM,"mobile-hero":EM,square:OM},Zi=({disableInteractive:n,hideImage:r,hideWash:o,imageAspectRatio:i,linkToComments:_,variant:A,post:k,pub:B,showPin:x,testid:q,user:de,utm:_e,onChange:ve,onClick:Oe})=>{const{alwaysShowActions:Se}=(0,t.qp)($l),[we,Re]=(0,t.eJ)(!1),Fe=(0,t.I4)(({active:gt})=>{Re(gt)},[]),He=wM[A];if(!He)return(0,e.h)("div",null,"PostPreview: ",A," not implemented");const ut=S0({linkToComments:!!_,post:k,pub:B,utm:_e}),et=gt=>{Oe&&Oe(gt),!n&&(0,W.redirect)(ut,{event:gt})},rt=["large","jumbo","jumbo-small"].includes(A);return(0,e.h)(Yc.Provider,{value:{url:ut,linkToComments:!!_}},(0,e.h)(c.tu,{className:s()(zi.container,{[zi.containerWithBackground]:!o&&rt,[zi["container--menu-open"]]:we}),"data-testid":q,radius:6,onClick:et},(0,e.h)(He,{hideImage:r,imageAspectRatio:i,post:k,pub:B,showPin:x,actions:({justified:gt})=>k.type==="restack"?null:(0,e.h)(c.tu,{className:s()(zi.actions,{[zi["actions--menu-open"]]:we,[zi["actions--always-show"]]:Se})},(0,e.h)(T5,{justified:gt,post:k,pub:B,user:de,onChange:ve,onToggleMenu:Fe}))})))},S0=({linkToComments:n,post:r,pub:o,utm:i})=>n?(0,yt.getPostUrl)(o,r,{comments:!0}):r.type==="video"?(0,f.updateQuery)(r.canonical_url,{autoPlay:!0}):i?(0,yt.pathWithQuery)(r.canonical_url,{utm:i}):r.canonical_url,aa={container:"frontend-main-home-PostsLayout-module__container--ZMlBv",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX",dividerVertical:"frontend-main-home-PostsLayout-module__dividerVertical--eFKbV","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var SM=Object.defineProperty,CM=Object.defineProperties,TM=Object.getOwnPropertyDescriptors,Yl=Object.getOwnPropertySymbols,C0=Object.prototype.hasOwnProperty,T0=Object.prototype.propertyIsEnumerable,I0=(n,r,o)=>r in n?SM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ai=(n,r)=>{for(var o in r||(r={}))C0.call(r,o)&&I0(n,o,r[o]);if(Yl)for(var o of Yl(r))T0.call(r,o)&&I0(n,o,r[o]);return n},Us=(n,r)=>CM(n,TM(r)),M0=(n,r)=>{var o={};for(var i in n)C0.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Yl)for(var i of Yl(n))r.indexOf(i)<0&&T0.call(n,i)&&(o[i]=n[i]);return o};const Kn=n=>{const{flex:r,hideImages:o,linkToComments:i,posts:_,pub:A,showSectionPins:k,source:B,user:x,utm:q,variant:de,onChange:_e,onClickPost:ve}=n;return de==="two-three-two"?(0,e.h)(MM,ai({},n)):de==="two-small-three-medium"?(0,e.h)(IM,ai({},n)):["mini-row","three-column-mini-row"].includes(de)?(0,e.h)(DM,ai({},n)):(0,e.h)("div",{style:r==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:s()(aa.container,aa[de])},_.map((Oe,Se)=>(0,e.h)(e.Fragment,null,Se>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(de)&&(0,e.h)(c.gq,{className:aa.divider,borderBottom:"detail-themed"}),[2,4].includes(Se)&&de==="five-up"&&(0,e.h)(c.gq,{className:aa.divider,borderBottom:"detail-themed"}),Se%2===0&&Se>0&&["two-column-grid"].includes(de)&&(0,e.h)(c.gq,{className:aa["long-divider"],borderBottom:"detail-themed"}),Se%3===0&&Se>0&&["three-column-grid"].includes(de)&&(0,e.h)(c.gq,{className:aa["long-divider"],borderBottom:"detail-themed"}),Se%4===0&&Se>0&&["four-column-grid"].includes(de)&&(0,e.h)(c.gq,{className:aa["long-divider"],borderBottom:"detail-themed"}),(0,e.h)(Zi,{testid:["large-listing-listing-column","two-small-one-large"].includes(de)?`magazine-spot-${Se+1}`:void 0,hideImage:o,linkToComments:i,post:Oe,pub:A,showPin:k&&Oe.is_section_pinned,user:x,utm:q,variant:D0(de,Se),onChange:_e,onClick:ve&&B?we=>{ve({event:we,post:Oe,index:Se,source:B})}:void 0}))),de==="two-small-one-large"&&(0,e.h)(c.gq,{borderBottom:"detail-themed"})))},IM=n=>{const r=n,{posts:o}=r,i=M0(r,["posts"]),_=o.slice(0,3),A=o.slice(3);return(0,e.h)(ti,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(Kn,Us(ai({},i),{flex:"grow",variant:"large-listing-listing-column",posts:_,hideImages:!0})),(0,e.h)(Kn,Us(ai({},i),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})))},MM=n=>{const r=n,{posts:o}=r,i=M0(r,["posts"]),_=o.slice(0,3),A=o.slice(3,5),k=o.slice(5);return(0,e.h)(ti,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(Kn,Us(ai({},i),{flex:"grow",variant:"large-listing-listing-column",posts:_,hideImages:!0})),(0,e.h)(Kn,Us(ai({},i),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})),(0,e.h)(Kn,Us(ai({},i),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},DM=n=>{const{linkToComments:r,posts:o,pub:i,source:_,user:A,utm:k,variant:B,onChange:x,onClickPost:q}=n,de=B==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:s()(aa.container,aa[B])},o.slice(0,de).map((_e,ve)=>(0,e.h)(e.Fragment,null,ve>0&&(0,e.h)(c.gq,{className:s()(aa.divider,aa.dividerVertical),paddingY:16,alignItems:"center"},(0,e.h)(c.gq,{borderLeft:"detail-themed"})),(0,e.h)(Zi,{linkToComments:r,post:_e,pub:i,user:A,utm:k,variant:D0(B,ve),onChange:x,onClick:q&&_?Oe=>{q({event:Oe,post:_e,index:ve,source:_})}:void 0})))))},D0=(n,r)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?r===0?"large":"listing":n==="two-small-one-large"?r===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?r===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",AM={container:"frontend-main-archive_page-module__container--Brctc"};function Bs({children:n,title:r,pub:o,user:i,freeSignup:_,freeSignupEmail:A,sort:k,search:B,newPosts:x,topPosts:q,communityPosts:de,searchPosts:_e,sectionId:ve,isPodcast:Oe,metadata:Se}){const we=!!(o!=null&&o.theme),{iString:Re,iTemplate:Fe}=(0,l.M1)();return(0,e.h)(w.ze,{value:{hasThemedBackground:we}},Se&&(0,W.setMetaData)(Se),(0,e.h)("div",{className:s()("archive-page typography",AM.container,{"use-theme-bg":we})},(0,e.h)("div",{className:"container"},r&&(0,e.h)("h2",null,r),(0,e.h)(Gi,{communityPosts:de,communityTitle:Re("Discussion"),freeSignup:_,freeSignupEmail:A,isPodcast:Oe,newPosts:x,pub:o,search:B,searchPosts:_e,sectionId:ve,showMonthDividers:!0,sort:k,source:"archive",topPosts:q,user:i,variant:"list"},({posts:He,linkToComments:ut,onClickPost:et})=>(0,e.h)(Kn,{hideImages:o.theme.hide_images_from_list,linkToComments:ut,posts:He,pub:o,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:et})),n)))}var NM=ke(18029),LM=ke.n(NM),RM=ke(44908),xM=ke.n(RM);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=(0,pn.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=(0,pn.Z)("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);var kM=ke(922);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=(0,pn.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),A0=n=>{const[r,o]=(0,t.eJ)(0),[i,_]=(0,t.eJ)(!1);return(0,t.d4)(()=>{var A;const k=(A=n.current)==null?void 0:A.player;if(k){const B=_e=>{typeof _e.target.currentTime=="number"&&o(_e.target.currentTime)},x=()=>_(!0),q=()=>_(!1),de=()=>_(!1);return k.addEventListener("timeupdate",B),k.addEventListener("play",x),k.addEventListener("pause",q),k.addEventListener("ended",de),k.paused||_(!0),()=>{k.removeEventListener("timeupdate",B),k.removeEventListener("play",x),k.removeEventListener("pause",q),k.removeEventListener("ended",de)}}},[n]),{currentTime:r,isPlaying:i}};var N0=ke(34518);const ho={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",speakerText:"frontend-components-TranscriptionText-module__speakerText--XxjIF",rowEditableText:"frontend-components-TranscriptionText-module__rowEditableText--njdfk",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var WM=Object.defineProperty,jM=Object.defineProperties,HM=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,VM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,R0=(n,r,o)=>r in n?WM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,qc=(n,r)=>{for(var o in r||(r={}))VM.call(r,o)&&R0(n,o,r[o]);if(L0)for(var o of L0(r))$M.call(r,o)&&R0(n,o,r[o]);return n},ed=(n,r)=>jM(n,HM(r));function x0({editable:n,forPublisherDash:r=!1,player:o,postId:i,renderTranscriptionChunk:_,transcription:A,onEdit:k,onUpdate:B,onUpdateActiveRowIndex:x}){var q,de;const[_e,ve]=(0,t.eJ)(!1),[Oe,Se]=(0,t.eJ)(),[we,Re]=(0,t.eJ)(),[Fe,He]=(0,t.eJ)({}),[ut,et]=(0,t.eJ)(!1),[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(),[Dt,Lt]=(0,t.eJ)(),{currentTime:Ft,isPlaying:It}=A0(o),[Qt,Xt]=(0,t.eJ)(),ar=Oe==null?void 0:Oe.findIndex(nr=>nr.start<=Ft&&nr.end>Ft);(0,t.d4)(()=>{x&&ar!==void 0&&ar!==-1&&x(ar)},[ar,x]),(0,t.d4)(()=>{A.cdn_url?(ve(!0),Ke().get(A.cdn_url).then(nr=>{if(nr.text){const er=JSON.parse(nr.text);Se(er);const Ot=xM()(er.map(Mt=>Mt.speaker)).filter(Mt=>Mt).sort();Ot.length&&Re(Ot)}}).finally(()=>ve(!1))):Se(void 0),A.speaker_map&&Object.values(A.speaker_map).length&&He(A.speaker_map)},[A]);const fr=Fe?Object.values(Fe).filter(nr=>nr):[],At=!!(we!=null&&we.length&&we.length===fr.length);if((0,t.d4)(()=>{const nr=()=>{setTimeout(()=>{var er,Ot,Mt,kt,zt;const bt=window.getSelection();if(!bt||bt.rangeCount===0||bt.isCollapsed){Xt(void 0),Lt(void 0);return}const Tr=bt.getRangeAt(0),tr=Tr.startContainer.parentNode,Wr=Tr.endContainer.parentNode,Fr=(er=tr==null?void 0:tr.dataset)==null?void 0:er.chunkIndex,ln=(Ot=Wr==null?void 0:Wr.dataset)==null?void 0:Ot.chunkIndex;if(Fr&&ln){let Rr=parseInt(Fr,10),en=parseInt(ln,10);Tr.startOffset===((Mt=tr==null?void 0:tr.textContent)==null?void 0:Mt.length)&&(Rr+=1),Tr.endOffset===0&&(en-=1),(zt=(kt=o.current)==null?void 0:kt.player)==null||zt.pause(),Xt(bt),Lt([Rr,en])}else Xt(void 0),Lt(void 0)},0)};return document.addEventListener("mouseup",nr),()=>{document.removeEventListener("mouseup",nr)}},[]),_e)return(0,e.h)(U0,null);if(!(Oe!=null&&Oe.length))return(0,e.h)("div",{className:ho.transcriptionStatus},(0,e.h)("p",null,(A==null?void 0:A.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(U0,null));const Gt=((de=(q=o==null?void 0:o.current)==null?void 0:q.player)==null?void 0:de.tagName)==="VIDEO"?"videogram":"audiogram";function cr(nr){return(0,d.track)(d.EVENTS.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:i,audiogram_id:Tt==null?void 0:Tt.id,media_upload_id:A.media_upload_id}),fetch(nr,{method:"GET"}).then(er=>er.blob()).then(er=>{var Ot;const Mt=(Ot=Tt==null?void 0:Tt.video_url)==null?void 0:Ot.split("/").pop(),kt=Mt==null?void 0:Mt.match(/^([^-]+-[^_]+)_/),zt=(kt==null?void 0:kt[1])||"",bt=URL.createObjectURL(er),Tr=document.createElement("a");Tr.href=bt,Tr.download=`substack-${Gt}-${i}-${zt}.mp4`,document.body.appendChild(Tr),Tr.click(),URL.revokeObjectURL(bt),Tr.remove()})}return(0,e.h)(e.Fragment,null,!n&&Qt&&Dt&&(0,e.h)(KM,{noun:Gt,selection:Qt,onMakeAudiogram:()=>{if(Dt){const[nr,er]=Dt;et(!0),Ke().post("/api/v1/audiogram").send({post_id:i,start_idx:nr,end_idx:er,use_draft:r}).then(Ot=>{var Mt,kt;(Mt=Ot.body)!=null&&Mt.data&&(St(Ot.body.data),Xt(void 0),Lt(void 0),(kt=o.current)!=null&&kt.player&&o.current.player.pause())}).finally(()=>et(!1))}}}),Oe.map((nr,er)=>_?_({isPlaying:It,row:nr,rowIndex:er,words:nr.words,onPause:()=>{var Ot;(Ot=o.current)!=null&&Ot.player&&o.current.player.pause()},onPlay:()=>{var Ot;(Ot=o.current)!=null&&Ot.player&&(o.current.player.currentTime=nr.start+1e-4,o.current.player.play())}}):(0,e.h)(GM,{key:er,idx:er,row:nr,rows:Oe,speakerName:r?nr.speaker&&`${B0(nr.speaker)}${Fe[nr.speaker]?`: ${Fe[nr.speaker]}`:""}`:At&&nr.speaker?Fe[nr.speaker]:void 0,onReassign:()=>gt(!0),currentTime:Ft,isPlaying:It,isSelected:!!(Dt&&er>=Dt[0]&&er<=Dt[1]),onClick:()=>{Xt(void 0),Lt(void 0)},onPause:()=>{var Ot;(Ot=o.current)!=null&&Ot.player&&o.current.player.pause()},onPlay:()=>{var Ot;(Ot=o.current)!=null&&Ot.player&&(o.current.player.currentTime=nr.start+1e-4,o.current.player.play())},editable:n,onEdit:k})),!!(ut||Tt)&&(0,e.h)(N0.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{St(void 0)}},(0,e.h)(a.xv.H3,{style:{marginTop:22,paddingLeft:16}},ut?`Generating ${Gt}...`:`Shareable ${Gt}...`),(0,e.h)(c.tu,{padding:16},Tt?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:Tt.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(c.zx,{priority:"secondary",leftIcon:(0,e.h)($c.Z,{height:18}),onClick:()=>cr(Tt.cdn_url)},"Download")):(0,e.h)(c.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))),we&&!!we.length&&!!rt&&(0,e.h)(N0.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{gt(!1)}},(0,e.h)(a.xv.H3,{style:{marginTop:22,paddingLeft:16}},"Assign Speakers"),(0,e.h)("p",{style:{padding:"0 16px",fontSize:14,marginTop:4,marginBottom:4}},"To have speaker names shown to readers, assign a name to each of the identified speakers. If we've identified too many speakers, you may have to duplicate a speaker's name."),(0,e.h)(c.tu,{padding:16},we.map(nr=>(0,e.h)(c.tu,{style:{marginBottom:12}},(0,e.h)("span",{style:{fontSize:14,marginBottom:6}},B0(nr)),(0,e.h)(fa.II,{onChange:er=>He(Ot=>{var Mt;return ed(qc({},Ot),{[nr]:(Mt=er.target)==null?void 0:Mt.value})}),value:(Fe==null?void 0:Fe[nr])||"",placeholder:"Speaker name..."}))),(0,e.h)(c.zx,{style:{marginTop:8},priority:"secondary",leftIcon:(0,e.h)(UM,{height:18}),onClick:()=>{Fe&&Object.keys(Fe).length>0&&Ke().put(`/api/v1/drafts/${i}/transcript`).send({speaker_map:Fe}).then(nr=>{nr.body.data&&(B==null||B(nr.body.data),gt(!1))})}},"Assign"))))}function KM({selection:n,onMakeAudiogram:r,noun:o}){var i,_;const A=(0,hn.XA)(),k=(_=(i=n.anchorNode)==null?void 0:i.parentElement)==null?void 0:_.getBoundingClientRect();return k?(0,e.h)(c.tu,{style:{top:(0,Et.isTouchDevice)()?Math.max(k.y,0)+k.height+12:Math.max(k.y,0)-48,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:io.popover},(0,e.h)(c.tu,{className:s()(io.popoverButtons,A&&io.isMobile),radius:12,padding:4,gap:8,shadow:"md"},(0,e.h)(kl,{onClick:r,disabled:!1,isExplainer:!1},(0,e.h)(BM,{color:"white"}),(0,e.h)(a.xv.B4,{color:"bg-light",weight:"medium"},"Make ",o)))):null}function U0(){return(0,e.h)(e.Fragment,null,(0,e.h)(ea,{width:"80%",height:"24px",className:ho.loadingSilhouette}),(0,e.h)(ea,{width:"34%",height:"24px",className:ho.loadingSilhouette}),(0,e.h)(ea,{width:"75%",height:"24px",className:ho.loadingSilhouette}),(0,e.h)(ea,{width:"100%",height:"24px",className:ho.loadingSilhouette}),(0,e.h)(ea,{width:"68%",height:"24px",className:ho.loadingSilhouette}))}function B0(n){const r=n.split("_"),o=parseInt(r[1]);return`${LM()(r[0])} ${o+1}`}function GM({row:n,currentTime:r,onPlay:o,isPlaying:i,onPause:_,isSelected:A,onClick:k,idx:B,editable:x,onEdit:q,rows:de,onReassign:_e,speakerName:ve}){var Oe;const[Se,we]=(0,t.eJ)(!1),Re=(0,t.sO)(null),Fe=n.start<=r&&n.end>=r,He=n.words.map(rt=>rt.word).join(" "),ut=x?He:n.words.map(rt=>rt.start<=r&&rt.end>=r?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ho.activeWord},rt.word)," "):`${rt.word} `);let et=null;if(n.speaker&&ve){const rt=B===0||(Oe=de[B-1])==null?void 0:Oe.speaker;n.speaker!==rt&&(et=(0,e.h)("div",{className:ho.speakerText,onClick:_e},ve))}return(0,e.h)("div",{ref:Re,onClick:k,onMouseEnter:()=>we(!0),onMouseLeave:()=>we(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!i||Se&&!Fe?(0,e.h)(kM.Z,{onClick:o,size:24,className:ho.playCircle,style:ed(qc({},Se&&{color:"var(--color-accent-themed)"}),{visibility:Fe||Se?"visible":"hidden"})}):(0,e.h)(FM,{onClick:_,size:24,className:ho.playCircle,style:ed(qc({},Se&&{color:"var(--color-accent-themed)"}),{visibility:Fe||Se?"visible":"hidden"})}),(0,e.h)("div",{className:s()(ho.transcriptionChunk,{[ho.activeRow]:Fe||A,[ho.hoverChunk]:Se}),"data-chunk-index":B},(0,e.h)("div",{className:s()(ho.rowIndicator,{[ho.hoverRow]:Se})}),(0,e.h)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"5px 0"}},et,x?(0,e.h)("div",{className:ho.rowEditableText,"data-chunk-index":B,contentEditable:!0,onInput:rt=>{var gt;const Tt=(gt=rt.target)==null?void 0:gt.innerHTML;typeof Tt=="string"&&(Tt===He?q==null||q({[String(B)]:void 0}):q==null||q({[String(B)]:Tt}))}},ut):(0,e.h)("div",{className:ho.rowText,"data-chunk-index":B},ut))))}var zM=Object.defineProperty,Jl=Object.getOwnPropertySymbols,k0=Object.prototype.hasOwnProperty,F0=Object.prototype.propertyIsEnumerable,W0=(n,r,o)=>r in n?zM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ZM=(n,r)=>{for(var o in r||(r={}))k0.call(r,o)&&W0(n,o,r[o]);if(Jl)for(var o of Jl(r))F0.call(r,o)&&W0(n,o,r[o]);return n},YM=(n,r)=>{var o={};for(var i in n)k0.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Jl)for(var i of Jl(n))r.indexOf(i)<0&&F0.call(n,i)&&(o[i]=n[i]);return o},JM=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const ks=({className:n=null,title:r,subtitle:o=null,reauthenticationTitle:i,publication:_,post:A,user:k,freeSignup:B=null,freeSignupEmail:x=null,email_form:q=!1,autoFocus:de=!1,isStatic:_e=!1,coupon:ve=null})=>{const{iString:Oe,iTemplate:Se}=(0,l.M1)(),we=k&&k.email||x||null,Re=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),Fe=(A==null?void 0:A.audience)==="founding",He=!!(k!=null&&k.is_free_subscribed||B),ut=(0,f.getPostUrl)(_,A),et=ve&&ve.id&&!Fe;let rt;return et?(A==null?void 0:A.type)==="podcast"?rt=Oe("Listen to this episode with a 7-day free trial"):(A==null?void 0:A.type)==="video"?rt=Oe("Watch with a 7-day free trial"):rt=Oe("Keep reading with a 7-day free trial"):Re?rt=i:rt=r,(0,e.h)("div",{className:s()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},we&&(0,e.h)(a.xv,{translated:!0,as:"div",className:"paywall-intro"},"Hi ",(0,e.h)("b",null,I18N.p(we))),(0,e.h)("h2",{className:"paywall-title"},rt),o&&!et&&(0,e.h)("p",{className:"paywall-subtitle"},o),et&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(A==null?void 0:A.type)==="podcast"&&(0,e.h)(a.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(a.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to listen to this post and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="video"&&(0,e.h)(a.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(a.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to watch this video and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="newsletter"&&(0,e.h)(a.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(a.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="adhoc_email"&&(0,e.h)(a.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(a.xv,{weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),q?!He&&(0,e.h)(c.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(ye.Z,{autoFocus:de!=null?de:!0,email:we,freeSignup:B,freeSignupEmail:x,onAccentBackground:!0,pub:_,source:"post-unlock",submitButtonText:(A==null?void 0:A.type)==="podcast"?Oe("Start listening"):(A==null?void 0:A.type)==="video"?Oe("Start watching"):Oe("Start reading"),user:k,onSuccess:()=>document.location.reload()})):(0,e.h)(XM,{coupon:ve,email:we,isStatic:_e,post:A,postUrl:ut,publication:_,useCoupon:et,user:k}),!Re&&!_e&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,f.getSigninUrl)({for_pub:_.subdomain,change_user:!!we}),native:!0},e4({post:A,publication:_,isPaid:!q})," ",(0,e.h)("b",null,Oe(we?"Switch accounts":"Sign in")))))},XM=({coupon:n,email:r,isStatic:o,post:i,postUrl:_,publication:A,useCoupon:k,user:B})=>{const x=!!(B!=null&&B.is_founding),q=!!(B!=null&&B.is_subscribed),de=!!(B!=null&&B.is_subscribed&&(B!=null&&B.is_magic)),_e=(i==null?void 0:i.audience)==="founding",{exposeExperiment:ve,getExperimentVariant:Oe}=(0,gr.jc)(),Se=Oe("autosubscribe_from_paywall")==="treatment",{iString:we,iTemplate:Re}=(0,l.M1)();if(o){if(!A.plans)return null;const Fe=_e?ao.Substitutions.FOUNDING_CHECKOUT_URL:ao.Substitutions.CHECKOUT_URL,He=k?`&coupon=${n.id}`:"",ut=_e?Re`Upgrade to ${(0,Rn.getFoundingTierName)(A)}`:k?we("Start trial"):(0,e.h)(Hc,{pub:A,user:B,isStatic:o});return(0,e.h)(QM,{href:`${Fe}simple=true&utm_source=${j.UTM_SOURCE.paywall}&utm_medium=${j.UTM_MEDIUM.email}&utm_content=${i.id}&next=${_}${He}`},ut)}return!x&&_e?A.plans?(0,e.h)(Xl,{href:(0,f.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:i?i.id:null,plan:"founding"})},Re`Upgrade to ${(0,Rn.getFoundingTierName)(A)}`):null:q?de?(0,e.h)(Xl,{href:(0,f.getSigninUrl)({for_pub:A.subdomain,email:r})},we("Click here to sign in")):null:A.plans?B!=null&&B.email&&!k?(0,e.h)(Xl,{onClick:()=>JM(void 0,null,function*(){yield ve("autosubscribe_from_paywall");let Fe;if(Se)try{Fe=(yield Ke().post("/api/v1/free").send({source:"paywall",email:r,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)()}catch(He){(0,d.track)(d.EVENTS.PAYWALL_FREE_SIGNUP_FAILED,{reason:He.message})}window.location.href=(0,f.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:o?j.UTM_MEDIUM.email:j.UTM_MEDIUM.web,utm_content:i?i.id:null,just_signed_up:Se,referral_token:Fe})})},(0,e.h)(Hc,{pub:A,user:B,isStatic:o})):(0,e.h)(Xl,{href:(0,f.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:k?j.UTM_SOURCE.paywallFreeTrial:j.UTM_SOURCE.paywall,utm_medium:o?j.UTM_SOURCE.email:j.UTM_SOURCE.web,utm_content:i?i.id:null,coupon:k?n.id:null})},k?we("Start trial"):(0,e.h)(Hc,{pub:A,user:B,isStatic:o})):null},QM=({children:n,href:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:r},(0,e.h)("span",null,n))),Xl=({children:n,href:r,onClick:o})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:r,onClick:o,native:!0},(0,e.h)(be.Z,{className:"subscribe-btn"},n)));class qM extends $e.p{renderChildren(){const r=this.props,{ref:o}=r,i=YM(r,["ref"]);return(0,e.h)(ks,ZM({className:"modal-paywall"},i))}}class j0 extends Ja.Z{constructor(){super(...arguments),this.playbackEnabled=()=>this.props.mediaUpload.preview_duration>0,this.cta=()=>{const{iString:r}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?r("Subscribe for full video"):r("Subscribe and watch")},this.href=()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,f.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:this.props.mediaUpload.post_id})}}function e4({post:n,publication:r,isPaid:o=!0}={}){const{iString:i,iTemplate:_}=I18N.i({pub:r});return o?(n==null?void 0:n.audience)==="founding"?(0,Rn.getFoundingTierName)(r)?_`Already in the ${(0,Rn.getFoundingTierName)(r)} plan?`:_`Already in the Founding Member plan?`:i("Already a paid subscriber?"):i("Already a subscriber?")}const H0=({post:n,pub:r,user:o,playerRef:i})=>{var _,A;const k=!(0,Et.canSeeTranscription)(o,n),B=((_=n==null?void 0:n.podcastUpload)==null?void 0:_.transcription)||((A=n==null?void 0:n.videoUpload)==null?void 0:A.transcription),{iString:x}=(0,l.M1)();return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.TRANSCRIPTION_PAGE_VIEWED,{post_id:n.id})},[n.id]),B?k?(0,e.h)(ks,{user:o,publication:r,post:n,title:x("Transcriptions on this post are for paid subscribers"),reauthenticationTitle:x("To see the post, please re-authenticate.")}):(0,e.h)(x0,{transcription:B,player:i,postId:n.id}):null};var t4=ke(69518),Fs=ke(43615),bo=ke(39776),Ql=ke(95297),r4=ke(98913),n4=ke.n(r4),Pi=ke(65578),o4=ke(83379),V0=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const a4={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},i4=({ban:n,onReply:r,showReplyLink:o,name:i})=>{const _=Hr()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",_,"."," ",o&&(0,e.h)("span",null,(0,e.h)("a",{onClick:r,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function td({pub:n,sub:r,children:o,tab:i}){return!r||!r.email?o:(0,e.h)("a",{target:"_blank",href:(0,f.getSubscriberDetailsUrl)(n,r.email,{tab:i})},o)}const s4=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,l4=({bans:n,activeBans:r})=>n.length===0?(0,e.h)("span",null,"No previous bans"):r.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Hr()(n[0].start).standardDatetimeWithYear()," to"," ",Hr()(n[0].expiry).standardDatetimeWithYear()),u4=({comment:n,pub:r,onReply:o,onBan:i,onClose:_})=>{const[A,k]=(0,t.eJ)(null),[B,x]=(0,t.eJ)(!1),[q,de]=(0,t.eJ)([]),[_e,ve]=(0,t.eJ)(!1),[Oe,Se]=(0,t.eJ)("24h"),[we,Re]=(0,t.eJ)(null),[Fe,He]=(0,t.eJ)(!0),ut=(0,t.sO)(null),et=!!n||B,rt=Lt=>{const Ft=Lt;Lt.forEach(It=>{Ft.findIndex(Qt=>Qt.id===It.id)==-1&&Ft.push(It)}),de(Ft)},gt=()=>{o(n.id),ut.current.close()};(0,t.d4)(()=>{ut!=null&&ut.current&&(et?ut.current.state.open||ut.current.open():ut.current.state.open&&ut.current.close())},[n,B]),(0,t.d4)(()=>V0(void 0,null,function*(){if(n){ve(!1),x(!0),de([]),Re(null),k(null);try{const Lt=yield Ke().get(`/api/v1/user/${n.user_id}/bans`);de(Lt.body.bans),k(Lt.body.sub)}catch(Lt){console.error("Failed to get bans:",Lt),Re(!0)}x(!1)}}),[n]);const Tt=()=>V0(void 0,null,function*(){x(!0);try{const Lt=yield Ke().post(`/api/v1/comment_ban/${n.id}`,{pub:r}).send({user_id:n.user_id,expiry:Oe,removeAllComments:Fe});Fe&&document.location.reload(),rt(Lt.body.bans),ve(!0),x(!1),i(n,q)}catch(Lt){console.error("Failed to submit ban",Lt),Re(!0)}x(!1)});if(!n)return null;const St=a4[Oe],Dt=q.filter(Lt=>Hr()(Lt.expiry).isAfter(Hr()()));return(0,e.h)($e.p,{ref:ut,noExitOnClick:!0,onClose:_},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(td,{pub:r,sub:A},(0,e.h)(o4.fi,{photo_url:n.photo_url,size:80,banned:Dt.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(td,{pub:r,sub:A},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(s4,{sub:A}),(0,e.h)(l4,{bans:q,activeBans:Dt}))),we&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),B?"Loading...":(0,e.h)("form",{className:"form"},Dt.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:Lt=>Se(Lt.target.value),value:Oe},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Fe,onInput:Lt=>He(Lt.target.checked)}),"Remove ",(0,Et.guessFirstName)(n.name),"'s"," ",(0,e.h)(td,{pub:r,sub:A,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(be.Z,{className:"button primary",onClick:Tt},"Ban for ",St))),Dt.length>0&&q.filter(Lt=>Lt.user_id).map(Lt=>(0,e.h)(i4,{ban:Lt,showReplyLink:_e,onReply:gt,name:n.name})))))},Ak=null;var wo=ke(82622),rd=ke(37812),c4=ke(7617),d4=ke(80587);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=(0,pn.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=(0,pn.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var h4=ke(66440),m4=ke(81108),_4=ke(5149),g4=ke(17048),v4=Object.defineProperty,y4=Object.defineProperties,b4=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,E4=Object.prototype.hasOwnProperty,P4=Object.prototype.propertyIsEnumerable,K0=(n,r,o)=>r in n?v4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,O4=(n,r)=>{for(var o in r||(r={}))E4.call(r,o)&&K0(n,o,r[o]);if($0)for(var o of $0(r))P4.call(r,o)&&K0(n,o,r[o]);return n},w4=(n,r)=>y4(n,b4(r));const S4=n=>(0,e.h)(De.l,w4(O4({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Oi=ke(91801),C4=ke(28175),T4=ke.n(C4),Yi=ke(36250);const G0="comment-collapse-state",z0=250,Na=L4(),I4=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},M4=()=>typeof window!="undefined"&&window.location.hash==="#input",Z0=(n,r)=>{if(!n||!r||!r.length)return null;for(const o of r){if(o.id===n)return o;if(o.children&&o.children.length){const i=Z0(n,o.children);if(i)return i}}return null};function Ws(n,r){return n.map(o=>o.id===r.id?r:(o.children=Ws(o.children,r),o)).filter(o=>o)}function D4(n,r,{recurse:o=!0}={}){var i,_,A,k;return!!(n.id!==r.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((_=r==null?void 0:r.metadata)==null?void 0:_.is_author)||((A=n==null?void 0:n.metadata)==null?void 0:A.founding)!==((k=r==null?void 0:r.metadata)==null?void 0:k.founding)||(n==null?void 0:n.body)!==(r==null?void 0:r.body)||(n==null?void 0:n.status)!==(r==null?void 0:r.status)||n.reaction!==r.reaction||n.user_banned!==r.user_banned||n.reported_by_user!==r.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(r.reactor_names?r.reactor_names.length:0)||Object.values(n.reactions).reduce((B,x)=>B+x,0)!==Object.values(r.reactions).reduce((B,x)=>B+x,0)||o&&A4(n.children,r.children,{recurse:o}))}function A4(n,r,{recurse:o=!0}={}){if((n?n.length:0)!==(r?r.length:0))return!0;if(n)for(const i of n){const _=r.find(A=>A.id===i.id);if(!_||o&&D4(i,_,{recurse:o}))return!0}return!1}function js(n,r,o){return(0,f.pathWithQuery)((0,f.getPostUrl)(r,n,{comments:!(0,Et.shouldUseInlineComments)(r,n)}),o)}function N4(n){return(n||"").split(`
`).filter(r=>r.trim()).map(r=>(0,e.h)("p",null,(0,e.h)(T4(),{options:{validate:{url:o=>o&&!o.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},r)))}const ql=n=>{var r,o,i,_;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((r=n.metadata)==null?void 0:r.membership_state),is_subscribed:((o=n.metadata)==null?void 0:o.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(_=n.metadata)==null?void 0:_.is_author}};function L4(){try{return(0,T.mM)(G0,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function R4(n,r){let o=!1;if(r)Na.includes(n)||(o=!0,Na.push(n),Na.length>z0&&Na.splice(0,Na.length-z0));else{const i=Na.indexOf(n);i>=0&&(o=!0,Na.splice(i,1))}if(o)try{(0,T.ex)(G0,Na)}catch(i){console.error("Failed to store comment collapse state:",i)}}function x4(n){return Na.includes(n)}const nd={link:"frontend-main-comments-CommentActions-module__link--yWV0t",withShareButton:"frontend-main-comments-CommentActions-module__withShareButton--ftFtT"};var eu=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const U4=({comment:n,pub:r,user:o,post:i,reaction_token:_,commentsEnabledForPost:A,hideContextMenu:k,noRestack:B,onChange:x,startReply:q,startEdit:de,startReport:_e,openBan:ve,shareComment:Oe,updateCommentReacted:Se})=>{var we;const{pinned_by_user_id:Re}=n,Fe=!!Re,He=(0,t.sO)(),[ut,et]=(0,t.eJ)(!1),[rt,gt]=(0,t.eJ)(!1),[Tt,St]=(0,t.eJ)(!1),{iString:Dt,iTemplate:Lt}=(0,l.M1)(),Ft=()=>eu(void 0,null,function*(){if(!Tt&&window.confirm(Fe?Lt`Are you sure you want to unpin this comment?`:Lt`Are you sure you want to pin this comment?`)&&!Tt){St(!0);try{yield Ke().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!Fe}),x({pinned:!Fe}),document.location.reload()}catch(en){alert((0,W.getNetworkErrorMessage)(en)),St(!1)}}}),It=()=>eu(void 0,null,function*(){var en;if(!ut&&window.confirm(Dt("Are you sure you want to remove this comment?"))&&!ut){et(!0);try{yield Ke().patch(`/api/v1/comment/${n.id}/status`).send({status:wo.COMMENT_STATUS.moderator_removed}),x({suppressed:!0,status:wo.COMMENT_STATUS.moderator_removed,body:null}),(en=He.current)==null||en.close()}catch(kr){alert((0,W.getNetworkErrorMessage)(kr))}et(!1)}}),Qt=()=>eu(void 0,null,function*(){var en;if(!rt&&window.confirm(Dt("Are you sure you want to delete this comment?"))&&!rt){gt(!0);try{yield Ke().delete(`/api/v1/comment/${n.id}`).send(),x({status:wo.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(en=He.current)==null||en.close()}catch(kr){alert((0,W.getNetworkErrorMessage)(kr))}gt(!1)}}),Xt=()=>eu(void 0,null,function*(){const en=(0,Yi.aE)(i,n,r),kr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${en}&status=Triage`;window.open(kr,"_blank")}),ar=!!(o&&o.id===n.user_id),fr=(o==null?void 0:o.is_contributor)&&(0,wo.Ng)(n)&&n.ancestor_path==="",At=(0,Et.canEditComment)(o,n),Gt=(o==null?void 0:o.is_contributor)&&(0,wo.Ng)(n)&&n.ancestor_path==="",cr=!ar&&n.metadata.eligibleForGift&&!n.metadata.is_author,nr=(o==null?void 0:o.is_contributor)&&(0,wo.Ng)(n),er=!ar&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Ot=ar,Mt=nr&&!ar,kt=nr&&o.is_global_admin,zt=o==null?void 0:o.is_global_admin,bt=nr&&!n.user_banned&&!ar,Tr=nr&&n.email&&!ar,tr=At||Gt||cr||Tr,Wr=bt||er||Mt||Ot||kt,Fr=(0,bo.default)("like_comments_enabled"),ln=!k&&(tr||Wr),Rr=`${r.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,Yp.H)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(pe.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:s()("comment-actions",{[nd.withShareButton]:!!Oe})},!n.deleted&&[Fr&&(0,e.h)(Oi.dJ,{user:o,pub:r,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:_,onChange:({comment:en})=>x(en),onReactedChange:en=>{Se&&Se(n.id,en)},noSelfUpdate:!!Se}),A&&(0,e.h)(Ul.hh,{onClick:()=>q(),className:nd.link},(0,e.h)(pe.hs,{gap:6,alignItems:"center"},(0,e.h)(c4.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(a.xv.Meta,{color:"pub-secondary-text"},Dt("Reply"),((we=n.children)==null?void 0:we.length)>0&&` (${n.children.length})`))),!!Oe&&(0,e.h)(Ul.hh,{onClick:()=>Oe(n.id),className:nd.link},(0,e.h)(pe.hs,{gap:6,alignItems:"center"},(0,e.h)(pl.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(a.xv.Meta,{color:"pub-secondary-text"},Dt("Share")))),!B&&(0,e.h)(k4,{pub:r,post:i,comment:n,onChange:x}),ln&&(0,e.h)(ce.v2,{trigger:(0,e.h)(me.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(d4.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:Dt("More")},fr&&(0,e.h)(B4,{pub:r,post:i,comment:n}),At&&(0,e.h)(ce.sN,{icon:(0,e.h)(Bi.Z,null),onClick:de},Dt("Edit")),Gt&&(0,e.h)(ce.sN,{icon:(0,e.h)(s0,null),onClick:Ft},Dt(Tt?Fe?"Unpinning...":"Pinning...":Fe?"Unpin":"Pin")),cr&&(0,e.h)(ce.sN,{icon:(0,e.h)(f4,null),href:Rr},Dt("Gift a subscription")),zt&&(0,e.h)(ce.sN,{icon:(0,e.h)(S4,{strokeWidth:0,height:24,width:24}),onClick:Xt},Dt("Add comment to Linear")),Tr&&(0,e.h)(ce.sN,{icon:(0,e.h)(p4,null),onClick:()=>window.open((0,f.getSubscriberDetailsUrl)(r,n.email),"_blank")},Dt("Subscriber details")),tr&&Wr&&(0,e.h)(Bp.i,null),Ot&&(0,e.h)(ce.sN,{icon:(0,e.h)(h4.Z,null),onClick:Qt,priority:"destructive"},Dt(rt?"Deleting...":"Delete")),Mt&&(0,e.h)(ce.sN,{icon:(0,e.h)(m4.Z,null),onClick:It,priority:"destructive"},Dt(ut?"Removing...":"Remove")),er&&(0,e.h)(ce.sN,{icon:(0,e.h)(_4.Z,null),onClick:_e,priority:"destructive"},Dt("Report")),bt&&(0,e.h)(ce.sN,{icon:(0,e.h)(g4.Z,null),onClick:ve,priority:"destructive"},Dt("Ban or suspend user")))])};function B4({pub:n,post:r,comment:o}){const i=(0,_s.i3)(),{iString:_}=(0,l.M1)();return(0,e.h)(ce.sN,{icon:(0,e.h)(Fi.Z,null),onClick:()=>{i.open({restackUrl:(0,Yi.aE)(r,o,n)})}},_("Restack"))}function k4({pub:n,post:r,comment:o,onChange:i}){const{iString:_}=(0,l.M1)(),{canRestack:A,isRestacked:k,restacks:B,menuItems:x,nuxModal:q}=(0,Nm.K)({pub:n,post:r,comment:o,onRestack:de=>{i({restacked:de,restacks:B+(de?1:-1)})}});if(A)return(0,e.h)("span",null,q,(0,e.h)(ce.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:s()("restack-button",k&&"restacked"),href:"javascript:void(0)"},(0,e.h)(Fi.Z,null),_("Restack"),B>0&&` (${B})`)},x))}const F4=U4,W4=({comment:n,bodyRef:r,expandToggleClicked:o})=>{const[i,_]=(0,t.eJ)(!1),A=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:r},(0,e.h)(j4,{comment:n,showHiddenComment:i,setShowHiddenComment:_}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):A?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(H4,{comment:n}):N4(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>o()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},j4=({comment:n,showHiddenComment:r,setShowHiddenComment:o})=>{const i=(0,wo.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),_=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,_,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>o(!r)},r?"Hide":"Show")))},H4=({comment:n})=>{const{title:r,truncated_body_text:o,date:i,bylines:_,like_count:A,comment_count:k,url:B}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,f.pathWithQuery)(B,{utm_source:j.UTM_SOURCE.substack,utm_campaign:j.UTM_CAMPAIGN.postReplyComment,utm_medium:j.UTM_MEDIUM.web}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},r),o&&(0,e.h)("div",{className:"reply-comment-body"},(0,Et.formatEllipsis)(o)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Et.getPostEmbedMeta)({date:i,bylines:_,like_count:A,comment_count:k})))},V4=W4;var od=ke(77190),Y0=ke(71943),$4=Object.defineProperty,K4=Object.defineProperties,G4=Object.getOwnPropertyDescriptors,J0=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,Z4=Object.prototype.propertyIsEnumerable,X0=(n,r,o)=>r in n?$4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Y4=(n,r)=>{for(var o in r||(r={}))z4.call(r,o)&&X0(n,o,r[o]);if(J0)for(var o of J0(r))Z4.call(r,o)&&X0(n,o,r[o]);return n},J4=(n,r)=>K4(n,G4(r));const X4=n=>(0,e.h)(De.l,J4(Y4({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var Q4=Object.defineProperty,q4=Object.defineProperties,eD=Object.getOwnPropertyDescriptors,Q0=Object.getOwnPropertySymbols,tD=Object.prototype.hasOwnProperty,rD=Object.prototype.propertyIsEnumerable,q0=(n,r,o)=>r in n?Q4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nD=(n,r)=>{for(var o in r||(r={}))tD.call(r,o)&&q0(n,o,r[o]);if(Q0)for(var o of Q0(r))rD.call(r,o)&&q0(n,o,r[o]);return n},oD=(n,r)=>q4(n,eD(r));const aD=n=>(0,e.h)(De.l,oD(nD({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var iD=Object.defineProperty,sD=Object.defineProperties,lD=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,uD=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable,t_=(n,r,o)=>r in n?iD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dD=(n,r)=>{for(var o in r||(r={}))uD.call(r,o)&&t_(n,o,r[o]);if(e_)for(var o of e_(r))cD.call(r,o)&&t_(n,o,r[o]);return n},fD=(n,r)=>sD(n,lD(r));const pD=n=>(0,e.h)(De.l,fD(dD({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var hD=ke(18446),Hs=ke.n(hD),mD=Object.defineProperty,r_=Object.getOwnPropertySymbols,_D=Object.prototype.hasOwnProperty,gD=Object.prototype.propertyIsEnumerable,n_=(n,r,o)=>r in n?mD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,vD=(n,r)=>{for(var o in r||(r={}))_D.call(r,o)&&n_(n,o,r[o]);if(r_)for(var o of r_(r))gD.call(r,o)&&n_(n,o,r[o]);return n};class o_ extends e.Component{constructor(r,o){super(r,o),this.open=()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()},this.close=()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()},this.onDocumentMouseUp=i=>{var _;!(0,W.isRootOrChild)(i.target,this.portalRef.current,((_=this.props.baseRef)==null?void 0:_.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onDocumentKeyDown=i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onResize=ic()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const r=!this.state.open;r?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:r})}updateCoords(){var r,o,i,_,A,k,B;const x=(_=(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:o.getBoundingClientRect)==null?void 0:_.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(x){let q=0,de=((A=this.props.baseRef)==null?void 0:A.current)||this.props.baseRef;for(;de=de==null?void 0:de.parentElement;)q+=de.scrollTop;this.setState({coords:{left:x.x+(this.props.rightAlign?x.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:x.y+q+(((B=this.props.offset)==null?void 0:B.y)||0),width:x.width,height:x.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var r,o,i,_;(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null||o.addEventListener("mouseenter",this.open),(_=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||_.addEventListener("mouseleave",this.close)}removeMouseListeners(){var r,o,i,_;(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null||o.removeEventListener("mouseenter",this.open),(_=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||_.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(r){var o,i;const _=r==null?void 0:r.getBoundingClientRect(),A=(i=((o=this.props.baseRef)==null?void 0:o.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!_||!A)return;const k=({x:_e,y:ve})=>q<=_e&&_e<=de&&B<=ve&&ve<=x,{top:B,bottom:x,left:q,right:de}=_;k({x:A.left,y:A.top})||k({x:A.right,y:A.top})||k({x:A.left,y:A.bottom})||k({x:A.right,y:A.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(r=>r())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(r=>{const o=(r==null?void 0:r.current)||r,i=ic()(()=>this.onScroll(o),10);return o==null||o.addEventListener("scroll",i),()=>o==null?void 0:o.removeEventListener("scroll",i)})}componentShouldUpdate(r,o){return!Hs()(this.props,r)||!Hs()(this.state,o)}componentDidUpdate(r){var o,i,_,A;!Hs()(r.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Hs()(r.baseRef,this.props.baseRef)||((i=((o=r.baseRef)==null?void 0:o.current)||r.baseRef)==null||i.removeEventListener("mouseenter",this.open),(A=((_=r.baseRef)==null?void 0:_.current)||r.baseRef)==null||A.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:r,rootElement:o,className:i},{coords:_}){return typeof window=="undefined"?null:(0,Te.createPortal)((0,e.h)("div",{style:vD({},_),className:s()("tooltip-portal",i),ref:this.portalRef},r),o||document.body)}}o_.defaultProps={scrollContainers:[]};const a_=o_;var yD=ke(48403),bD=ke.n(yD),ED=Object.defineProperty,PD=Object.defineProperties,OD=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,wD=Object.prototype.hasOwnProperty,SD=Object.prototype.propertyIsEnumerable,s_=(n,r,o)=>r in n?ED(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,CD=(n,r)=>{for(var o in r||(r={}))wD.call(r,o)&&s_(n,o,r[o]);if(i_)for(var o of i_(r))SD.call(r,o)&&s_(n,o,r[o]);return n},TD=(n,r)=>PD(n,OD(r));const l_=n=>(0,e.h)(De.l,TD(CD({},n),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var ID=Object.defineProperty,MD=Object.defineProperties,DD=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,AD=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,c_=(n,r,o)=>r in n?ID(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,LD=(n,r)=>{for(var o in r||(r={}))AD.call(r,o)&&c_(n,o,r[o]);if(u_)for(var o of u_(r))ND.call(r,o)&&c_(n,o,r[o]);return n},RD=(n,r)=>MD(n,DD(r));const d_=n=>(0,e.h)(De.l,RD(LD({},n),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),Ji={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var xD=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function UD({status:n,pub:r,user:o,freeSignup:i,freeSignupEmail:_}){const[A,k]=n==="paid"?[d_,BD]:[l_,kD];return(0,e.h)(hp.z,{content:(0,e.h)(k,{pub:r,user:o,freeSignup:i,freeSignupEmail:_}),layerClassName:Ji["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,d.track)(d.EVENTS.SUBSCRIBER_BADGE_INFO_SHOWN,{status:n})}},(0,e.h)(pe.gq,{className:Ji.badgeContainter},(0,e.h)(A,{className:Ji.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const f_=({Icon:n,heading:r,body:o,buttonText:i,href:_,user:A,pub:k,freeSignupEmail:B})=>(0,e.h)(pe.tu,{alignItems:"center"},(0,e.h)(pe.gq,{alignItems:"center",className:Ji["hover-card-icon-section"]},(0,e.h)(n,{className:Ji["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(pe.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(pe.tu,{alignItems:"center",gap:6},(0,e.h)(a.xv.H3,{weight:"semibold"},r),(0,e.h)(a.xv.B3,{align:"center",color:"secondary"},o)),i&&(0,e.h)(me.zx,{className:Ji["hover-card-button"],grow:!0,onClick:A&&!A.is_magic&&A.email||B?x=>xD(void 0,null,function*(){x.preventDefault();const q=A&&!A.is_magic&&A.email||B;let de;try{de=(yield Ke().post("/api/v1/free").send({source:"subscriber_badge",email:q,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)()}catch(_e){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:_e==null?void 0:_e.message,source:"subscriber_badge"})}window.location.href=(0,yt.getSubscribeUrl)(k,{addBase:!0,params:{next:document.location.href,utm_source:j.UTM_SOURCE.subscriberBadge,simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:de}})}):void 0,href:_,localNavigation:!1,priority:"primary-theme"},i)));function BD({pub:n,user:r,freeSignup:o,freeSignupEmail:i}){const _=!(r!=null&&r.is_subscribed)&&(0,Rn.paymentsAreEnabled)(n);return(0,e.h)(f_,{Icon:d_,heading:`Paid ${(0,Et.getSubscriptionWord)(n,"subscriber")}`,body:_?`This badge is only available to paid members \u2014 ${r!=null&&r.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:_?(0,Et.getSubscribeText)(n,{isFreeSubscribed:(r==null?void 0:r.is_free_subscribed)||o}):void 0,href:_?(0,yt.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:j.UTM_SOURCE.subscriberBadge}}):void 0,user:r,pub:n,freeSignupEmail:i})}function kD({pub:n,user:r,freeSignup:o,freeSignupEmail:i}){var _;const A=!(r!=null&&r.is_founding)&&(0,Rn.paymentsAreEnabled)(n)&&(0,Rn.getFoundingTierPlan)(n),k=(_=(0,Rn.getFoundingTierName)(n))!=null?_:"Founding Member";return(0,e.h)(f_,{Icon:l_,heading:k,body:`This badge is${A?" only":""} available to paid ${(0,Et.getSubscriptionWord)(n,"subscriber")}s under the "${k}" plan${A?` \u2014 ${r!=null&&r.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:A?r!=null&&r.is_free_subscribed||o?bD()((0,Et.getSubscriptionWord)(n,"upgrade")):(0,Et.getSubscribeText)(n):void 0,href:A?(0,yt.getSubscribeUrl)(n,{params:{next:window.location.href,plan:"founding",utm_source:j.UTM_SOURCE.subscriberBadge}}):void 0,user:r,pub:n,freeSignupEmail:i})}function FD({subject:n,pub:r,user:o,freeSignup:i,freeSignupEmail:_,hoverDisabled:A=!1,onClick:k}){var B;const{exposeExperiment:x,getExperimentVariant:q}=(0,gr.jc)(),de=(B=q("subscriber_badges_2"))!=null?B:"control",_e=n.is_founding&&!n.is_author?"founding":n.is_subscribed&&!n.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(ne,{onVisible:()=>{_e&&x("subscriber_badges_2")}}),(0,e.h)(pe.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ha.ProfileHoverCard,{subject:n,disabled:A,utmSource:"comment"},(0,e.h)("a",{onClick:k,href:k?"javascript:void(0)":(0,yt.getReaderProfileUrl)(n)},(0,e.h)(a.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(Ql.UserBadge,{size:"sm",tier:n.bestseller_tier,userId:n.id}),_e&&de!=="control"&&(0,e.h)(UD,{status:_e,pub:r,user:o,freeSignup:i,freeSignupEmail:_})))}var WD=ke(44695);const p_=({post:n,pub:r,user:o,freeSignup:i,freeSignupEmail:_,comment:A,isCollapsed:k,onProfileClick:B,userBanned:x,toggleCollapse:q,noHoverProfile:de,userPendingApproval:_e})=>{var ve,Oe;const{iString:Se,iTemplate:we,language:Re,iPlural:Fe}=(0,l.M1)(),He=gt=>gt.children.length+gt.children.reduce((Tt,St)=>Tt+He(St),0),ut=He(A),et=!!A.edited_at,rt=!A.hidden&&((ve=A.metadata.author_on_other_pub)==null?void 0:ve.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},A.name?(0,e.h)(FD,{subject:ql(A),pub:r,user:o,freeSignup:i,freeSignupEmail:_,hoverDisabled:de||!(0,wo.Ng)(A)||A.hidden||k,onClick:B?()=>B(A):null}):A.hidden?(0,e.h)("i",null,Se("hidden")):A.deleted?(0,e.h)("i",null,Se("deleted")):(0,wo.Ng)(A)?Se("Anonymous"):Se("Removed"),x&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),_e&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${A.user_id}`,target:"_blank",rel:"noopener"}," ","(",Se("Awaiting New Commenter Approval"),")")),A.metadata.author_on_other_pub&&!A.metadata.is_author&&(rt?(0,e.h)(WD.Sm,{publication_id:(Oe=A.metadata.author_on_other_pub)==null?void 0:Oe.id},(0,e.h)(h_,{comment:A})):(0,e.h)(h_,{comment:A})),(0,e.h)("a",{className:"comment-timestamp",href:(0,Yi.aE)(n,A,r),onClick:gt=>(void 0).onDateClick(gt),rel:"nofollow",native:!0},Hr()(A.date).locale(Re).standardDateOrTime()),et&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,we`edited ${Hr()(A.edited_at).locale(Re).standardDateOrTime()}`))],(0,e.h)(jD,{comment:A})),k&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(be.Z,{className:"outline comment-collapse-toggle",onClick:q},Fe("Expand comment reply","Expand comment replies",ut)))]};function h_({comment:n}){const{iTemplate:r}=(0,l.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,f.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.web,utm_content:j.UTM_CONTENT.commentMetadata}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,(0,Et.truncateText)(n.metadata.author_on_other_pub.name,32)," "))}const jD=({comment:n})=>{const[r,o]=(0,t.eJ)(!1),i=(0,t.sO)(null),_=(0,t.sO)(null),{iString:A,iTemplate:k}=(0,l.M1)(),B=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!B)return null;const x={pinned:(0,e.h)(aD,null),author:(0,e.h)(pD,null),liked:(0,e.h)(X4,null)},q={pinned:A("Pinned"),author:A("Author"),liked:k`Liked by ${n.reactor_names.join(", ")}`},de=B==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:s()("highlight",{hover:r}),onMouseEnter:()=>de&&o(!0),onMouseLeave:()=>de&&o(!1)},x[B],(0,e.h)("span",{className:"highlight-text"},q[B]),de&&(0,e.h)(a_,{baseRef:i,hoverToggle:!0,onOpen:()=>{var _e;return(_e=_.current)==null?void 0:_e.open()},onClose:()=>{var _e;return(_e=_.current)==null?void 0:_e.close()}},(0,e.h)(Ho.Fx,{ref:_,noList:!0,className:"explanation above small thin"},(0,e.h)(a.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(n.pinned_by_name))))))};var HD=Object.defineProperty,VD=Object.defineProperties,$D=Object.getOwnPropertyDescriptors,m_=Object.getOwnPropertySymbols,KD=Object.prototype.hasOwnProperty,GD=Object.prototype.propertyIsEnumerable,__=(n,r,o)=>r in n?HD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,g_=(n,r)=>{for(var o in r||(r={}))KD.call(r,o)&&__(n,o,r[o]);if(m_)for(var o of m_(r))GD.call(r,o)&&__(n,o,r[o]);return n},zD=(n,r)=>VD(n,$D(r)),Vs=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const tu="commentInput";class ZD extends e.Component{constructor(r){var o;super(r),this.state={value:(o=r.commentBeingEdited)==null?void 0:o.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const r=JSON.parse(localStorage.getItem(tu)||"{}");r.postId===this.props.post.id&&this.setState({value:r.value,alsoShareToNotes:!!r.alsoShareToNotes}),localStorage.removeItem(tu)}}componentDidMount(){var r;this.props.autoFocus&&((r=this.bodyInput)==null||r.focus())}needsProfile(){const{user:r}=this.props;return!r||!r.name}onKeyDown(r){var o;if((o=this.props.user)!=null&&o.is_magic){r&&r.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Et.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){r&&r.preventDefault(),this.showPaywall();return}r.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():r.key==="Enter"&&r.metaKey&&this.form.handleSubmit(r)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(tu,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(r){if(!(0,Et.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){r&&r.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Vs(this,arguments,function*({profileUpdated:r}={}){const{user:o,pub:i,post:_,parent:A,token:k,iString:B}=this.props,{alsoShareToNotes:x}=this.state;if(!(0,Et.canPostComments)(o,_,i).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(de=>setTimeout(de,600)),new Le.ew(B("Please sign in"));if(this.needsProfile()&&!r)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(de=>setTimeout(de,600)),new Le.ew(B("Please update your profile"));const q={body:this.bodyInput.value,token:k};try{let de;if(x){const ve=yield Ke().post("/api/v1/comment/attachment").send({type:"link",url:(0,f.getPostUrl)(i,_)});if(!(ve!=null&&ve.body))console.log("Error creating attachment");else{const Oe=g_({},q);Oe.attachmentIds=[ve.body.id],de=yield Ke().post("/api/v1/comment/feed").send(Oe)}}A&&(q.parent_id=A.id);const _e=yield Ke().post(`/api/v1/post/${_.id}/comment`).send(q);if(typeof localStorage!="undefined"&&localStorage.removeItem(tu),!(o!=null&&o.profile_set_up_at)){const{body:{count:ve}}=yield Ke().get("/api/v1/user/profile_role_count");if(ve>=2)return window.location=(0,f.pathWithQuery)(`${(0,f.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,Yi.aE)(_,_e.body,i)}),!1}return{notesComment:de,res:_e}}catch(de){throw de.response&&de.response.statusCode===403&&(o&&o.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),de}})}onSuccess(r){const{res:o,notesComment:i}=r,{iString:_,getConfigFor:A}=this.props;if(o!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const k=(0,yt.getFeedCommentUrl)(i.body);this.props.popToast(B=>(0,e.h)(c.FN,zD(g_({},B),{icon:Ts.Z,text:A("unified_home_emabled_web")?_("Note shared"):_("Shared to Notes"),cta:_("View Now"),href:k})))}this.setState({value:""}),this.props.onSuccess(o.body)}else{const k=js(this.props.post,this.props.pub);window.location.pathname===k?window.location.reload():window.location.href=js(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,yt.getFeedCommentUrl)(o.body)}:{})}}showFinishMagicLoginModal(){return Vs(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,d.track)(d.EVENTS.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Vs(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,d.track)(d.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Vs(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,d.track)(d.EVENTS.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Vs(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield Ke().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(r){alert((0,W.getNetworkErrorMessage)(r))}}})}focus(){this.bodyInput.focus()}render({user:r,freeSignup:o,freeSignupEmail:i,pub:_,post:A,token:k,onCancel:B,autoFocus:x,commentBeingEdited:q,saveEdit:de,formClassName:_e,bannedFromNotes:ve,iString:Oe,iTemplate:Se},{value:we,alsoShareToNotes:Re}){return(0,e.h)(pe.hs,{"data-test-id":"comment-input",flex:"grow",className:s()("comment-input-wrap",{comment:q})},(0,e.h)(Le.ZP,{ref:Fe=>this.form=Fe,className:s()("comment-input",_e),performSubmit:Fe=>q?de(we):this.postComment(Fe),onSuccess:Fe=>this.onSuccess(Fe),noInlineErrors:!0,autoLock:!0},(0,e.h)(_o.qE,{user:r,size:32}),(0,e.h)(pe.tu,{flex:"grow",className:"comment-input-right"},q&&(0,e.h)(p_,{post:A,pub:_,user:r,freeSignup:o,freeSignupEmail:i,comment:q,isCollapsed:!1,userBanned:!1}),(0,e.h)(Y0.Z,{ref:Fe=>this.bodyInput=Fe&&Fe.base,name:"body",placeholder:Oe("Write a comment..."),autoHeight:!0,maxLines:8,value:we||"",onInput:Fe=>this.onInput(Fe),onKeyDown:Fe=>this.onKeyDown(Fe)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(pe.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!we&&!B&&(0,e.h)(pe.hs,{gap:8,alignItems:"center",justifyContent:"center"},!ve&&(0,e.h)(c.XZ,{name:"also_feed",size:"medium",as:"div",checked:Re,onChange:()=>{this.setState({alsoShareToNotes:!Re})},withTheme:!0}),!ve&&(0,e.h)(a.xv.B4,{color:"pub-secondary-text",translated:!0},"Also share a"," ",(0,e.h)(Ul.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,yt.getFeedUrl)({urlParams:{utm_content:j.UTM_CONTENT.commentShareCheckbox}})},"note"))),(B||!!we)&&(0,e.h)(be.Z,{className:"primary",type:"submit"},Oe(q?"Save":"Post")),B&&(0,e.h)(be.Z,{className:"cancel",onClick:B},Oe("Cancel"))))),(0,e.h)(ra.h,null,(0,e.h)(od.EB,{ref:Fe=>this.profileUpdater=Fe,user:r,freeSignup:o,freeSignupEmail:i,optionalPhoto:!0,token:k,text:Oe("Save & Post Comment"),onBeforeClose:Fe=>Fe&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(qM,{ref:Fe=>this.modalPaywall=Fe,user:r,freeSignup:o,freeSignupEmail:i,publication:_,post:A,title:Se`Only ${(0,or.isFoundingAudience)(A.audience)?"founding":"paid"} subscribers can comment on this post`,reauthenticationTitle:Oe("To post a comment, please re-authenticate.")}),(0,e.h)($e.p,{ref:Fe=>this.finishMagicLoginModal=Fe,className:"finish-magic-login-modal"},(0,e.h)("h4",null,Oe("Check your email")),(0,e.h)("p",null,Oe("For your security, we need to re-authenticate you.")),(0,e.h)(a.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(r==null?void 0:r.email),", or"," ",(0,e.h)("a",{href:(0,f.getSigninUrl)({for_pub:_.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const $s=(0,te.xY)((0,c.dd)((0,l.fz)(ZD)));var YD=ke(58682),JD=Object.defineProperty,XD=Object.defineProperties,QD=Object.getOwnPropertyDescriptors,v_=Object.getOwnPropertySymbols,qD=Object.prototype.hasOwnProperty,eA=Object.prototype.propertyIsEnumerable,y_=(n,r,o)=>r in n?JD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Xi=(n,r)=>{for(var o in r||(r={}))qD.call(r,o)&&y_(n,o,r[o]);if(v_)for(var o of v_(r))eA.call(r,o)&&y_(n,o,r[o]);return n},b_=(n,r)=>XD(n,QD(r)),ad=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const E_=200,tA=50,rA=140,nA=728,oA=80;function aA(){const r=Math.min(nA,document.body.clientWidth)-rA;return Math.ceil(r/tA)}const P_=aA();class O_ extends e.Component{constructor(r,o){super(r,o),this.bodyRef=(0,e.createRef)(null),this.headContainerRef=(0,e.createRef)(null),this.openBan=()=>{this.props.banComment()},this.setSelectedHighlight=()=>{const _=I4()===this.props.comment.id;this.setState({isSelected:_})},this.startEdit=()=>{this.setState({editing:!0})},this.saveEdit=i=>ad(this,null,function*(){return this.state.editing?{res:yield Ke().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})}:void 0}),this.onSaveEditSuccess=({edited:i})=>{this.setState({editing:!1}),this.props.onChange(Xi(Xi({},this.props.comment),i))},this.setShowReportModal=i=>{this.setState({showReportModal:i})},this.onReportSuccess=()=>{this.setShowReportModal(!1),this.props.onChange(b_(Xi({},this.props.comment),{reported_by_user:!0}))},this.expandToggleClicked=()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,d.track)(d.EVENTS.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))},this.onChange=i=>{this.props.onChange?this.props.onChange(Xi(Xi({},this.props.comment),i)):document.location.href=js(this.props.post,this.props.pub)},this.setComment=i=>{this.setState({comment:i})},this.setCollapsed=i=>{var _,A;if(this.setState({isCollapsed:i}),i&&((A=(_=this.headContainerRef)==null?void 0:_.current)!=null&&A.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-oA)}this.props.retainUserCollapseState&&R4(this.props.comment.id,i)},this.state={editing:!1,replying:!1,showReportModal:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&x4(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(r){var o,i;((o=r.comment)==null?void 0:o.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),r.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const r=/^#comment-(\d+)-reply$/.exec(window.location.hash);!r||Number(r[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return ad(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(r=>this.setState({replying:!0},r)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(r){const[o,i]=r.target.href.split("?")[0].split("#");o===window.location.href.split("?")[0].split("#")[0]&&i&&(r.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const r=this.bodyRef.current;if(!r)return;const o=r.scrollHeight-r.clientHeight;o>0&&o<E_?r.classList.add("expanded"):o>=E_&&(r.classList.add("long"),r.setAttribute("data-hidden-height",o))}render({user:r,comment:o,freeSignup:i,freeSignupEmail:_,pub:A,post:k,reaction_token:B,depth:x,collapseAtDepth:q,onChange:de,scrollRef:_e,retainUserCollapseState:ve,onStartReply:Oe,noHoverProfile:Se,onProfileClick:we,onShareComment:Re,hideContextMenu:Fe,noRestack:He,updateCommentReacted:ut,iString:et},{isSelected:rt,replying:gt,editing:Tt,showReportModal:St,hideAnchors:Dt,isCollapsed:Lt}){var Ft,It,Qt,Xt,ar;const fr=A.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:At}=o;let Gt=!1;return((Ft=this.context.getExperimentVariant("subscriber_badges_2"))!=null?Ft:"control")==="control"&&((It=o.metadata)!=null&&It.is_author?Gt="author":(Qt=o.metadata)!=null&&Qt.founding&&(Gt="founding")),Tt?(0,e.h)($s,{autoFocus:!0,user:r,freeSignup:i,freeSignupEmail:_,pub:A,post:k,commentBeingEdited:o,saveEdit:this.saveEdit,token:B,onCancel:()=>this.setState({editing:!1}),onSuccess:de?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:s()("comment",{selected:rt,"post-reply":o.type==="reply",collapsed:Lt}),key:`comment-${o.id}`},!Dt&&[(0,e.h)("div",{id:`comment-${o.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${o.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(ha.ProfileHoverCard,{subject:ql(o),disabled:Se||!(0,wo.Ng)(o)||o.hidden||Lt,utmSource:"comment"},(0,e.h)(rd.ZP,{subject:ql(o),pub:A,user:r,freeSignup:i,freeSignupEmail:_,token:B,isBanned:At,tooltip:{founding:(0,Et.foundingMemberDescription)(A),author_ons_other_pub:et("Author of another publication")}[Gt],badge:Gt,isAuthor:o.metadata.is_author,onClick:we?()=>we(o):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(p_,{post:k,pub:A,user:r,freeSignup:i,freeSignupEmail:_,comment:o,commentUser:ql,isCollapsed:Lt,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:we,userBanned:At,noHoverProfile:Se,userPendingApproval:o.status===wo.COMMENT_STATUS.new_commenter_approval_required&&(r==null?void 0:r.is_admin)}),(0,e.h)(V4,{comment:o,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!gt&&(0,e.h)(F4,{comment:o,pub:A,user:r,post:k,reaction_token:B,commentsEnabledForPost:fr,hideContextMenu:Fe,noRestack:He,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.setShowReportModal(!0),openBan:this.openBan,updateCommentReacted:ut,shareComment:Re})))),gt&&fr&&(0,e.h)($s,{ref:cr=>this.commentInput=cr,user:r,freeSignup:i,freeSignupEmail:_,pub:A,post:k,parent:o,token:B,onCancel:()=>this.setState({replying:!1}),onSuccess:de?cr=>{this.setState({replying:!1});const nr=b_(Xi({},o),{children:[cr].concat(o.children)});de(nr)}:null}),o.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,Yi.aE)(k,o,A)},o.childrenSummary)),!o.childrenSummary&&x>=P_&&!!o.children.length&&(0,e.h)(be.Z,{className:"outline continue-thread-button",href:(0,Yi.aE)(k,o,A)},et("Continue Thread \u2192")),!o.childrenSummary&&x<P_&&(0,e.h)(ru,{key:`comment:${o.id}`,user:r,freeSignup:i,freeSignupEmail:_,pub:A,post:k,comments:(Xt=o.children)!=null?Xt:[],parent:o,reaction_token:B,depth:(x||0)+1,collapseAtDepth:q,onChange:de,isChild:!0,scrollRef:_e,retainUserCollapseState:ve,onStartReply:Oe,noHoverProfile:Se,onProfileClick:we,hideContextMenu:Fe,updateCommentReacted:ut,noRestack:!0}),!Lt&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),(0,e.h)(YD.u,{pub:A,canReportToAdmins:!!(A!=null&&A.moderation_enabled)&&!((ar=o.metadata)!=null&&ar.is_author),isOpen:St,onClose:()=>this.setShowReportModal(!1),onSubmit:cr=>ad(this,[cr],function*({reportCategory:nr,reportedToSubstack:er,details:Ot}){yield Ke().post(`/api/v1/comment/${o.id}/report`).send({publication_id:A==null?void 0:A.id,details:Ot,reportCategory:nr,reportedToSubstack:er}),this.onReportSuccess()})}))}}O_.contextType=gr.kx;const iA=(0,l.fz)(O_);var sA=Object.defineProperty,lA=Object.defineProperties,uA=Object.getOwnPropertyDescriptors,w_=Object.getOwnPropertySymbols,cA=Object.prototype.hasOwnProperty,dA=Object.prototype.propertyIsEnumerable,S_=(n,r,o)=>r in n?sA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,fA=(n,r)=>{for(var o in r||(r={}))cA.call(r,o)&&S_(n,o,r[o]);if(w_)for(var o of w_(r))dA.call(r,o)&&S_(n,o,r[o]);return n},pA=(n,r)=>lA(n,uA(r));const hA=ke(43174),mA=5,_A=1,C_=16,gA=50,vA=200;function T_(n){return n.reduce((r,o)=>r+1+T_(o.children||[]),0)}function ru({user:n,freeSignup:r,freeSignupEmail:o,pub:i,post:_,comments:A,reaction_token:k,depth:B,collapseAtDepth:x,onChange:q,pageSize:de,retainUserCollapseState:_e,updateCommentReacted:ve,parent:Oe,scrollRef:Se,className:we,onStartReply:Re,noHoverProfile:Fe,onProfileClick:He,hideContextMenu:ut,noRestack:et}){const rt=de||C_,[gt,Tt]=(0,t.eJ)(rt),[St,Dt]=(0,t.eJ)(-1),[Lt,Ft]=(0,t.eJ)(null),[It,Qt]=(0,t.eJ)(null),[Xt,ar]=(0,t.eJ)(null),[fr,At]=(0,t.eJ)(new Set(A.map(({id:zt})=>zt))),{iString:Gt,iPlural:cr}=(0,l.M1)(),nr=(0,t.sO)();if((0,t.d4)(()=>{St>=0&&window.scrollTo(window.scrollX,St)},[St]),(A||[]).length===0)return;const[er,Ot]=hA(A,({id:zt,user_id:bt})=>fr.has(zt)||bt===(n==null?void 0:n.id)),Mt=er.slice(0,gt),kt=zt=>{var bt;ar(zt),(bt=nr.current)==null||bt.open()};return(0,e.h)("div",{className:s()("comment-list",we,{"has-new-comments":Ot.length>0})},(0,e.h)(u4,{pub:i,comment:Lt,onClose:()=>Ft(null),onReply:zt=>{Qt(zt),Ft(null)},onBan:(zt,bt)=>{q?q(pA(fA({},zt),{user_banned:!0,bans:bt.concat(zt.bans)})):document.location.href=js(_,i)}}),(0,e.h)(Pi.ZP,{ref:nr,pub:i,post:_,commentId:Xt,utm_campaign:j.UTM_CAMPAIGN.commentListShareCta,comments:A,user:n}),Ot.length>0&&(0,e.h)(be.Z,{className:"collapsed-reply outline",onClick:()=>At(new Set(A.map(({id:zt})=>zt)))},cr("1 new reply","%1 new replies",T_(Ot))),(0,e.h)("div",{className:"comment-list-items"},Mt.map(zt=>(0,e.h)(iA,{banComment:()=>Ft(zt),key:`cmt-${zt.id}`,user:n,freeSignup:r,freeSignupEmail:o,pub:i,post:_,comment:zt,parent:Oe,reaction_token:k,collapseAtDepth:x,depth:B||0,onChange:q,replying:It===zt.id,scrollRef:Se,retainUserCollapseState:_e,onStartReply:Re,noHoverProfile:Fe,onShareComment:kt,onProfileClick:He,hideContextMenu:ut,noRestack:et,updateCommentReacted:ve}))),er.length>Mt.length&&(0,e.h)(be.Z,{className:"collapsed-reply outline",onClick:()=>{Dt(window.scrollY),Tt(gt+rt)}},Gt("Load More")))}var id=ke(11628),I_=ke(70444),yA=ke(35442),M_=ke(31163),Ks=ke(85200);function bA({publication:n,siteConfigs:r={},twitterCardUrl:o=null}){var i;const{title:_,description:A}=nu(n);let k,B;return o?(k=o,B=!0):[k,B]=au(n,null),(0,W.setMetaData)({title:_,description:A,image:k,isLargeImage:B,pub:n,siteConfigs:r,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function nu(n,r,o){var i,_;let A;const k=!!(0,bo.default)("publication_author_display_override")&&String((0,bo.default)("publication_author_display_override"))||((i=(0,Ks.Im)(n.contributors))==null?void 0:i.owner),B=k&&!((_=n.name)!=null&&_.toLowerCase().includes(k==null?void 0:k.toLowerCase())),x=r!=null?r:n.name;return B?A=`${x} | ${k} | Substack`:A=`${x} | Substack`,{title:A,description:fo()(D_(n,o))}}function D_(n,r){var o,i,_;const A=(o=n.name)==null?void 0:o.trim();let k=A;(0,Et.endsWithPunctuation)(A)&&(k=`"${A}"`);const B=(0,Ks.Im)(n.contributors);let x,q;return n.invite_only?(x=null,q=null):(x=(i=n.rankingDetailFreeIncluded)!=null&&i.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded.toLowerCase():null,q=n.rankingDetailFreeIncluded||n.rankingDetail),(0,Ks.ab)(r!=null?r:(_=n.hero_text)==null?void 0:_.trim(),B,x,k,q)}function ou({publication:n,post:r,clip:o,siteConfigs:i={},twitterCardUrl:_=null,isCommentPage:A=!1,selection:k=null}){var B,x;const q=(r==null?void 0:r.social_title)||(r==null?void 0:r.title)||n.name,{title:de,description:_e}=A_(r,n,{isCommentPage:A});let ve,Oe,Se=null;_?(ve=_,Oe=!0):k&&r?(ve=(0,f.getPostSelectionPreviewUrl)(n,r,k),Oe=!0):([ve,Oe]=au(n,r),Se=N_(n,r));const we=A&&r&&r.type!=="thread"&&r.comment_count===0||(r==null?void 0:r.type)==="restack";return(0,W.setMetaData)({title:de,socialTitle:o?`\u2702\uFE0F ${(0,M_.UB)((B=o.duration)!=null?B:0)} | ${q}`:q,searchDescription:r==null?void 0:r.search_engine_description,description:_e,image:o&&(x=(0,f.getMediaUploadThumbnailUrl)(o))!=null?x:ve,twitterImage:!o&&Se,isLargeImage:Oe,imageHeight:k&&564,imageWidth:k&&1128,seoProps:{noindex:we,noarchive:!!(r&&r.post_paywall_content_for_google)},isPodcast:(r==null?void 0:r.type)==="podcast",isVideo:(r==null?void 0:r.type)==="video",slug:r==null?void 0:r.slug,pub:n,post:r,siteConfigs:i})}function A_(n,r,{isCommentPage:o=!1}={}){var i,_;const A=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||r.name;let k,B;n?B=(0,Et.getPrintedByline)(r,n):B=(0,bo.default)("publication_author_display_override")||((i=(0,Ks.Im)(r.contributors))==null?void 0:i.owner);const x=B&&!((_=r.name)!=null&&_.toLowerCase().includes(B==null?void 0:B.toLowerCase()));n!=null&&n.title?(k=(n==null?void 0:n.search_engine_title)||A,o&&n.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${B}`.length<60&&(B&&x&&(k+=` - by ${B}`),`${k} - ${r.name}`.length<60&&(k+=` - ${r.name}`))):x?k=`${r.name} | ${B} | Substack`:k=`${r.name} | Substack`;let q;return n?q=(0,Et.postSocialDescription)(n,r):q=D_(r),q=fo()(q),{title:k,description:q}}function au(n,r){let o,i;return r!=null&&r.cover_image?(o=(0,f.imginary)(r.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(o=(0,f.imginary)("/img/numlock_square.png?v=2",840),i=!1):(o=(0,f.getTwitterSubscribeCardUrl)(n),i=!0),[o,i]}function N_(n,r){return r!=null&&r.cover_image?(0,f.getTwitterPreviewUrl)(n,r):null}var EA=Object.defineProperty,L_=Object.getOwnPropertySymbols,PA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,R_=(n,r,o)=>r in n?EA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wA=(n,r)=>{for(var o in r||(r={}))PA.call(r,o)&&R_(n,o,r[o]);if(L_)for(var o of L_(r))OA.call(r,o)&&R_(n,o,r[o]);return n};function SA({comment:n,post:r,publication:o}){var i,_,A;let k="Note on Substack";o&&n.name?k=`Comment by ${n.name} on ${o.name}`:n.name?k=`Note by ${n.name} on Substack`:o&&(k=`Comment on ${o.name}`);const B=r&&o?A_(r,o,{isCommentPage:!0}).title:`${k}: "${(0,Et.truncateText)(n.body,280)}"`,x=(i=n.attachments)==null?void 0:i.find(we=>we.type==="image"),q=x==null?void 0:x.imageUrl,de=!1,_e=de?680:void 0,ve=de?680:void 0,Oe=q!=null?q:de?(0,yt.imginary)((0,I_.IY)(n.id),ve,{height:_e}):r&&o?au(o,r)[0]:null,Se=!de||q?n.body:"Subscribe to see all their notes.";return(0,e.h)(yA.Metadata,wA({},{title:B,socialTitle:k,description:Se,image:Oe,imageHeight:_e,imageWidth:ve,isLargeImage:Oe?!0:void 0,siteName:o?o.name:"Substack",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((_=n.reaction_count)!=null?_:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((A=n.children_count)!=null?A:0)}]}))}var x_=ke(49786),CA=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class U_ extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,d.track)(d.EVENTS.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,d.track)(d.EVENTS.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return CA(this,null,function*(){try{yield Ke().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(r){console.error("Failed to subscribe to email notifications:",r),alert((0,W.getNetworkErrorMessage)(r))}})}render({className:r,pub:o,post:i,user:_,freeSignup:A,freeSignupEmail:k,isStatic:B,hidden:x,truncated:q,invisible:de,post_reaction_token:_e,onChange:ve,showCta:Oe=q,showUnsubscribeNotice:Se,dataForEmailRender:we={},showReactions:Re=!0,gap:Fe=16,iString:He,iTemplate:ut,iPlural:et,language:rt,showShare:gt}){typeof x!="boolean"&&(x=i.hidden);let Tt,St;x?(Tt=He("Subscribe to view"),St=(0,f.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.thread,utm_medium:j.UTM_MEDIUM.web,utm_content:i.id})):(St=(0,f.getPostUrl)(o,i,{noBase:!0}),i.type!=="thread"||q?Tt=(0,Et.getPostCtaText)(i,rt):i.comment_count?Tt=et("View 1 comment","View %1 comments",i.comment_count):Tt=He("Reply"));const Dt=B&&!this.context.isAmp;return(0,e.h)(Qr.YF,{className:`thread-head typography ${r||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Qr.i$,{width:"100%"},!de&&!x&&(0,e.h)(ne,{onVisible:()=>this.onTopReached()}),(0,e.h)(Qr.i$,{gap:Fe,width:"100%"},(0,e.h)(mu,{pub:o,post:i,user:_,isStatic:B,freeSignup:A,freeSignupEmail:k,reaction_token:_e,allowEdit:!0,allowTruncate:q,showReactions:!!Oe||Re,showShare:gt,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:ve,showLabel:!0}),(0,e.h)(Ds,{user:_,freeSignup:A,freeSignupEmail:k,pub:o,post:i,html:!x&&!q&&i.body_html,isStatic:B,dataForEmailRender:we},x?(0,e.h)("p",null,(0,e.h)("i",null,ut`This thread is only visible to ${(0,or.isFoundingAudience)(i.audience)?"founding":"paid"} subscribers of ${o.name}`)):q?(0,e.h)("p",null,i.description):null),Oe?(0,e.h)("a",{className:"thread-head-cta",href:St,native:!0},Tt," \u2192"):x&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,f.getSubscribeUrl)(o,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.thread,utm_medium:j.UTM_MEDIUM.web,utm_content:i.id}),className:"button primary subscribe-btn",native:!B},(0,Et.getSubscribeText)(o)),(0,e.h)("a",{href:(0,f.getSigninUrl)({for_pub:o.subdomain}),className:"button",native:!0},He("Sign in")))),Dt&&(0,e.h)(Qr.i$,{gap:Fe,style:{width:"100%"}},(0,e.h)(Qr.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:ao.Substitutions.HALF_MAGIC_COMMENTS_URL},He("See the discussion"))),(0,e.h)(An.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:Re},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),Se&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},He("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},He("Re-enable"))),!de&&!x&&(0,e.h)(ne,{onVisible:()=>this.onBottomReached()})))))}}U_.contextType=vc.E;const B_=(0,l.fz)(U_);class TA extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const sd=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var IA=Object.defineProperty,MA=Object.defineProperties,DA=Object.getOwnPropertyDescriptors,k_=Object.getOwnPropertySymbols,AA=Object.prototype.hasOwnProperty,NA=Object.prototype.propertyIsEnumerable,F_=(n,r,o)=>r in n?IA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,LA=(n,r)=>{for(var o in r||(r={}))AA.call(r,o)&&F_(n,o,r[o]);if(k_)for(var o of k_(r))NA.call(r,o)&&F_(n,o,r[o]);return n},RA=(n,r)=>MA(n,DA(r));const xA=n=>(0,e.h)(De.l,RA(LA({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));class UA extends e.Component{constructor(){super(...arguments),this.onSortCommentsClicked=r=>{this.sortMenuRef.toggle(),this.props.onSortSelected(r)}}render({sort:r,loading:o,pub:i}){const _=(0,bo.default)("like_comments_enabled");return(0,e.h)("div",{className:s()("comments-page-sort-controls",{loading:o})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,wo.Sh)(r,i.language)),(0,e.h)(xA,{height:"6"})),(0,e.h)(Ho.ZP,{className:"comments-page-sort-menu-dropdown",ref:A=>this.sortMenuRef=A},(0,wo.Hz)({likesEnabled:_,language:i.language}).map(({key:A,text:k})=>(0,e.h)(gl.Z,{className:r===A?"selected":"",onClick:()=>this.onSortCommentsClicked(A)},k)))))}}const W_=UA;var BA=Object.defineProperty,kA=Object.defineProperties,FA=Object.getOwnPropertyDescriptors,j_=Object.getOwnPropertySymbols,WA=Object.prototype.hasOwnProperty,jA=Object.prototype.propertyIsEnumerable,H_=(n,r,o)=>r in n?BA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ld=(n,r)=>{for(var o in r||(r={}))WA.call(r,o)&&H_(n,o,r[o]);if(j_)for(var o of j_(r))jA.call(r,o)&&H_(n,o,r[o]);return n},HA=(n,r)=>kA(n,FA(r)),Gs=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const VA=30*1e3;class $A extends e.Component{constructor(r,o){super(r,o),this.modalRef=(0,e.createRef)(null),this.onWindowVisibilityChange=()=>{(0,W.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)},this.state={},r.post&&r.post.slug===r.slug&&(this.state.post=r.post),this.state.sort=r.sort||this.state.post&&this.state.post.default_comment_sort||r.publication.default_comment_sort||"best_first",this.state.comments=r.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Gs(this,null,function*(){var r;const{iString:o,inline:i,user:_}=this.props;if((0,W.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(r=this.props.matches)!=null&&r.feedCommentUrl){const A=this.props.matches.feedCommentUrl,k=new URL(location.toString());k.searchParams.delete("feedCommentUrl"),history.replaceState({},"",k),this.props.popToast(B=>(0,e.h)(c.FN,HA(ld({},B),{text:o("Note Shared."),cta:o("View Now"),href:A})),{ttl:1e4})}})}componentWillUnmount(){(0,W.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(r,o){return Gs(this,null,function*(){if(r.slug!==this.props.slug||o.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,W.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,wo.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:r}=this.state;(0,d.track)(d.EVENTS.COMMENTS_VIEWED,{post_id:r.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(r.type==="thread"||(0,Et.canSeeComments)(this.props.user,r))&&(0,d.track)(d.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:r.id,post_type:r.type}),r.type==="thread"&&this.props.user&&Promise.resolve(Ke().post(`/api/v1/posts/${r.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),VA)}loadPost(){return Gs(this,null,function*(){if(this.state.comments&&!(0,W.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const r=this.state.comments&&this.state.comments.length>0;let o;this.state.comments&&(o=null,(0,wo.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!o||i.date>o)&&(o=i.date)}));try{const i=this.props.slug,_=this.state.sort,A={token:this.props.post_reaction_token||"",all_comments:!0,sort:_,last_comment_at:o};this.state.post&&this.props.commentId&&(A.comment_id=this.props.commentId);const k=yield Ke().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(A);if(this.setState({loading:!1}),i!==this.props.slug||_!==this.state.sort)return;let B=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(B=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,W.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:B}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,W.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!r&&this.state.comments&&this.state.comments.length>0&&(0,W.scrollToHash)(),(0,W.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(r){this.setState({comments:Ws(this.state.comments,r)})}onSortSelected(r){this.setState({sort:r}),(0,d.track)(d.EVENTS.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:r})}triggerShareOnLoad(){var r;(r=this.shareDialogRef)!=null&&r.current&&(0,f.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,f.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(r){const{publication:o}=this.props;return(o==null?void 0:o.subdomain)===r}render({slug:r,user:o,freeSignup:i,freeSignupEmail:_,publication:A,post_reaction_token:k,inline:B,commentId:x,selectionFromQuery:q,freeTrialCoupon:de,show_reaction_upsell:_e,bannedFromNotes:ve,iString:Oe,iPlural:Se,iTemplate:we},{sort:Re,post:Fe,comments:He,notAllowedToFetchComments:ut,reactionSigninComment:et}){if(!Fe||!A.community_enabled)return!B&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(TA,null)));const rt=A.community_enabled&&Fe&&Fe.write_comment_permissions!=="none",gt=ut||rt&&!(0,Et.canSeeComments)(o,Fe),Tt=(St,Dt)=>Gs(this,null,function*(){return $_({user:o,reactionToken:k,comments:He,id:St,reacted:Dt,setComments:Lt=>this.setState({comments:Lt}),onNeedsSignin:Lt=>new Promise(Ft=>this.setState({reactionSigninComment:Lt},()=>this.modalRef.current.open(Ft)))})});return(0,e.h)("div",{className:"comments-page"},x&&(He==null?void 0:He.length)>0?(0,e.h)(SA,{comment:He[0],post:Fe,publication:A}):(0,e.h)(ou,{post:Fe,publication:A,isCommentPage:!this.props.inline,selection:q}),(0,e.h)(Pi.ZP,{ref:this.shareDialogRef,user:o,pub:A,post:Fe,reaction_token:k,comments:He,commentId:x}),!B&&!x&&(0,e.h)("div",{className:"container"},(0,e.h)(B_,{pub:A,post:Object.assign({},Fe,{comment_url_override:(0,f.getPostUrl)(A,Fe,{comments:!0})}),user:o,freeSignup:i,freeSignupEmail:_,hidden:!(0,Et.isUUID)(r)&&Fe.hidden,truncated:Fe.type!=="thread",post_reaction_token:k,onChange:St=>this.setState(St),showUnsubscribeNotice:!0,gap:0,showShare:!1},(0,e.h)("div",{className:"full-container-border"}))),gt&&(0,e.h)("div",{className:"container"},(0,e.h)(ks,{user:o,freeSignupEmail:_,freeSignup:i,publication:A,post:Fe,title:we`Comments on this ${Fe.type==="podcast"?"episode":"post"} are for ${(0,or.isFoundingAudience)(Fe.audience)?"founding":"paid"} subscribers`,reauthenticationTitle:Oe("To see the comments, please re-authenticate."),coupon:de})),Fe.type==="thread"||(0,Et.canSeeComments)(o,Fe)?(0,e.h)("div",{className:"container"},He&&(0,e.h)(c.gq,{alignItems:"center",justifyContent:"space-between",paddingY:8},(0,e.h)("div",{className:"comments-heading"},Se("1 Comment","%1 Comments",Fe.comment_count)),!B&&!A.invite_only&&(0,Et.canSeeComments)(o,Fe)&&(0,e.h)(c.zx,{priority:"secondary-theme",leftIcon:(0,e.h)(id.Z,null),onClick:()=>{var St;(St=this.shareDialogRef.current)==null||St.open()}},Oe("Share"))),He&&He.length>0&&!rt&&(0,e.h)(V_,{post:Fe}),rt&&(0,e.h)($s,{user:o,freeSignup:i,freeSignupEmail:_,pub:A,post:Fe,token:k,autoFocus:M4(),onSuccess:St=>this.setState({comments:[St].concat(He)}),bannedFromNotes:ve}),(!He||He.length>0)&&!ut&&!x&&(0,e.h)(W_,{sort:Re,loading:!He,onSortSelected:St=>this.onSortSelected(St),pub:A}),x&&He&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,f.getPostUrl)(A,Fe,{comments:!0,commentId:x,highlightComment:!0})},Oe("\u2B60 Return to thread")),!He&&!ut?[(0,e.h)(sd,null),(0,e.h)(sd,null)]:He.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(ru,{key:`post:${Fe.id}`,user:o,freeSignup:i,freeSignupEmail:_,pub:A,post:Fe,comments:He,reaction_token:k,depth:0,collapseAtDepth:B?10:He.length>3&&Re==="most_recent_first"?_A:mA,onChange:St=>this.onChange(St),pageSize:B||this._isPub("astralcodexten")?vA:Fe.type==="thread"?gA:C_,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Tt,noRestack:!0}))]:null):null,et&&(0,e.h)(Oi.oq,{comment:et,pub:A,user:o,react:()=>Tt(et.id,!0),modalRef:this.modalRef}),_e?(0,e.h)(x_.hF,{user:o,pub:A,post:Fe}):null)}}const ud=(0,c.dd)((0,l.fz)($A)),V_=({post:n})=>{const{iString:r}=(0,l.M1)();return(0,e.h)("div",{className:"locked-comments"},n.type==="adhoc_email"?r("Commenting has been turned off for this email"):r("Commenting has been turned off for this post"))};function $_(n){return Gs(this,arguments,function*({user:r,reactionToken:o,comments:i,id:_,reacted:A,setComments:k,onNeedsSignin:B}){var x;const q=Z0(_,i);if(!q)return;const de=ld({},q);(0,Oi.E6)(r,de,A),k(Ws(i.slice(0),de));try{yield(0,Oi.xl)(de,!0,A,o)}catch(_e){if((0,Oi.E6)(r,de,!A),k(Ws(i.slice(0),ld({},de))),((x=_e.response)==null?void 0:x.statusCode)!==401){alert((0,W.getNetworkErrorMessage)(_e));return}yield B({comment:de})}})}const KA=({comments:n,expectedCommentCount:r,inputRef:o,post:i,pub:_,sort:A,token:k,user:B,onAddComment:x,onUpdateComment:q,onUpdateSort:de})=>{const _e=!(0,Et.canSeeComments)(B,i),{iString:ve}=(0,l.M1)();return _e?(0,e.h)(ks,{user:B,publication:_,post:i,title:ve("Comments on this episode are for paid subscribers"),reauthenticationTitle:ve("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)($s,{ref:o,formClassName:"tw-m-0",user:B,pub:_,post:i,token:k,onSuccess:x}),r>0&&(0,e.h)(W_,{sort:A,loading:!n,onSortSelected:de,pub:_}),n?(0,e.h)(ru,{comments:n,post:i,pub:_,reaction_token:k,user:B,onChange:q,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},n4()(Math.min(r,5),()=>(0,e.h)(sd,null))))},iu={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou",backdrop:"frontend-podcast_post_page-PodcastPostHeader-module__backdrop--jaZvB",backdropHidden:"frontend-podcast_post_page-PodcastPostHeader-module__backdropHidden--Ebi0K",backdropVisible:"frontend-podcast_post_page-PodcastPostHeader-module__backdropVisible--ZT26O"};var GA=Object.defineProperty,K_=Object.getOwnPropertySymbols,zA=Object.prototype.hasOwnProperty,ZA=Object.prototype.propertyIsEnumerable,G_=(n,r,o)=>r in n?GA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,YA=(n,r)=>{for(var o in r||(r={}))zA.call(r,o)&&G_(n,o,r[o]);if(K_)for(var o of K_(r))ZA.call(r,o)&&G_(n,o,r[o]);return n};const z_=({bylines:n,variant:r})=>(0,e.h)(c.hs,YA({},r==="shows"?{direction:"row",gap:16,wrap:"wrap"}:{direction:"column",gap:24}),n.map(o=>(0,e.h)(c.gq,{alignItems:"center",gap:4},(0,e.h)(c.hs,null,(0,e.h)(Fs.ZP,{className:iu.facepile,maximum:1,hoverProfiles:!0,faces:[o],faceUtmSource:"author-byline-face-podcast",size:32})),(0,e.h)(c.tu,null,(0,e.h)(c.gq,{gap:4,alignItems:"center"},(0,e.h)(c.xv.B4,{color:"pub-primary-text"},o.name),(0,e.h)(Ql.UserBadge,{userId:o.id,tier:o.bestseller_tier,size:"sm"})),o.primaryPublicationName&&(o.primaryPublicationUrl?(0,e.h)(c.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes"," ",(0,e.h)("a",{style:{textDecoration:"none"},href:o.primaryPublicationUrl},I18N.p(o.primaryPublicationName))," ",(0,e.h)("a",{href:`${o.primaryPublicationUrl}/subscribe`},"Subscribe")):(0,e.h)(c.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes ",I18N.p(o.primaryPublicationName)))))));var JA=ke(91613),XA=Object.defineProperty,QA=Object.defineProperties,qA=Object.getOwnPropertyDescriptors,Z_=Object.getOwnPropertySymbols,e3=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,Y_=(n,r,o)=>r in n?XA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,r3=(n,r)=>{for(var o in r||(r={}))e3.call(r,o)&&Y_(n,o,r[o]);if(Z_)for(var o of Z_(r))t3.call(r,o)&&Y_(n,o,r[o]);return n},n3=(n,r)=>QA(n,qA(r));const J_=n=>(0,e.h)(De.l,n3(r3({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function X_({post:n,pub:r,user:o,showDate:i,showDatetime:_,isStatic:A,className:k,postReactionToken:B,onChange:x,allowEdit:q,hidePinning:de,showEmailSent:_e,allowSendEmail:ve,allowMobileFooter:Oe,onCommentsClick:Se,onClipClick:we,useWashBackground:Re,showRestackModal:Fe,setFooterShown:He}){const ut=(0,v.isMobile)({checkFirst4:!0}),et=typeof window=="undefined",rt=(0,Et.getBylineUsers)(n),{language:gt}=(0,l.M1)(),Tt=_?Hr()(n.post_date).locale(gt).standardDatetime():A?Hr()(n.post_date).locale(gt).standardDate():Hr()(n.post_date).locale(gt).standardDateOrTime(),{getSettingFor:St}=(0,L.So)(),Dt=r.bylines_enabled&&(0,Et.getPrintedByline)(r,n)&&n.type!=="podcast",Lt=Dt&&r.byline_images_enabled&&rt.some(({photo_url:At})=>!!At),Ft=n.type!=="page",It=ut&&Lt&&rt.length>2,Qt=(r==null?void 0:r.community_enabled)&&n.slug&&!n.is_draft&&(0,Et.showCommentsOnPost)({publication:r,post:n}),Xt=Dt&&rt.length===1&&rt[0].is_guest&&rt[0].primaryPublicationSubscribeUrl&&rt[0].primaryPublicationId!==r.id&&!n.is_draft&&!(0,bo.default)("dont_show_guest_byline"),ar=(0,Et.oxfordComma)(rt.map(At=>A?(0,e.h)("a",{className:"byline-profile-link",href:(0,f.getProfileUrl)(At,r,{base:A}),onClick:Gt=>Gt.stopPropagation()},At.name):(0,e.h)(pe.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ha.ProfileHoverCard,{subject:At,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,f.getProfileUrl)(At,r,{base:A}),onClick:Gt=>Gt.stopPropagation()},At.name)),!A&&(0,e.h)(Ql.UserBadge,{tier:At.bestseller_tier,size:"sm",userId:At.id})))),fr=!n.is_draft&&(0,JA.x)(o,{enable_restacking:!!St("enable_restacking")},n,r,A);return(0,e.h)("div",{className:s()("post-subheader",k)},(0,e.h)("div",{className:s()("left",{vertical:It})},Lt&&(A?(0,e.h)(Fs.Pn,{pub:r,post:n}):(0,e.h)(Fs.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:rt.map(({id:At,name:Gt,photo_url:cr})=>({id:At,name:Gt,photo_url:cr})),faceUtmSource:"author-byline-face",elevated:Re})),(0,e.h)("div",{className:"label-stack"},Dt&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},ar)),Xt&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:rt[0].primaryPublicationUrl,title:rt[0].primaryPublicationName},rt[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:rt[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(J_,{className:"audience-icon adhoc-email-icon",height:16,isStatic:A}):Ft&&(0,or.isPaidAudience)(n.audience)&&!(0,Ka.lp)({post:n})&&(0,e.h)(l0.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:A,thin:!0}),(i||_)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:Hr()(n.post_date).toISOString()},Tt),n.is_draft&&(i||_)&&"Draft"))),(0,e.h)("div",{className:"right"},ut&&!et&&Oe&&(0,e.h)(An.mt,{post:n,pub:r,user:o,isStatic:A,onChange:x,allowEdit:q,hidePinning:de,showEmailSent:_e,allowSendEmail:ve,hideComments:!Qt,onCommentsClick:Se,showRestackButton:fr,showRestackModal:Fe,setFooterShown:He,postReactionToken:B}),!ut&&(0,e.h)(An._2,{post:n,pub:r,user:o,isStatic:A,style:"button",onChange:x,allowEdit:q,hidePinning:de,showEmailSent:_e,allowSendEmail:ve,labelStyle:"counts-or-none",hideComments:!Qt,onCommentsClick:Se,onClipClick:we,position:"post-header",showRestackButton:fr,showRestackModal:Fe,showClipping:n.type==="podcast",editButtonIsLast:!0,postReactionToken:B})))}var zs=ke(18302);const o3=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,f.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(Os.Z,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen"))),a3=({isFreeSubscribed:n,isSubscribed:r,pub:o,post:i,onGetDuration:_,isPreview:A,playerRef:k,feedUrl:B})=>(0,e.h)(Cl.Z,{ref:k,feature:"Podcast",pub:o,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:_,render:({currentTime:x,isPlaying:q,progress:de,progressBarRef:_e,progressBarOnMouseDown:ve,remainingTime:Oe,playbackRate:Se,setPlaybackRate:we,skipBack:Re,skipForward:Fe,togglePlayback:He})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(F2,{isPlaying:q,onSkipBack:Re,onSkipForward:Fe,onTogglePlayback:He}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(pc,{onSetPlaybackRate:we,playbackRate:Se,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(fc,{currentTime:x,remainingTime:Oe,containerRef:_e,progress:de,onMouseDown:ve}),A&&!(0,Ka.lp)({post:i})?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(zs.wO,{feedUrl:B,post:i,pub:o,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:r||n,fileSrc:i.podcast_url}))}),i3=({expiry:n,podcastName:r,pub:o,postId:i})=>{const _=Hr()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",r," ends ",_,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(qo.z,{look:"button",variant:"themed-primary",size:"medium",onClick:()=>{(0,W.redirect)((0,f.getSubscribeUrl)(o,{utm_source:j.UTM_SOURCE.continueYourSupport,utm_medium:j.UTM_MEDIUM.web,utm_content:i,simple:!0,next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Continue your support"))},s3=({freeSignupEmail:n,pub:r,source:o,user:i,onSuccess:_})=>{const A=typeof window!="undefined"&&r.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(ye.Z,{user:i,pub:r,freeSignupEmail:n,source:o,onSuccess:_,useSubscribeLink:A,submitButtonText:(0,Et.getSubscribeText)(r)}))},cd=j.UTM_SOURCE.podcastPostHeader,l3=({freeSignupEmail:n,isFreeSubscribed:r,pub:o,user:i})=>{const[_,A]=(0,t.eJ)(!1),[k,B]=(0,t.eJ)(!1),x=(0,t.sO)(null),q=o.section?o.section.description:o.podcast_description,de=ve=>{if(o.plans){let Oe=(0,f.getSubscribeUrl)(o,{just_signed_up:!0,referral_token:ve.body.referral_token});ve.body.prompt_to_login&&(Oe=`/account/login?redirect=${encodeURIComponent(Oe)}&email=${encodeURIComponent(ve.body.email)}`),document.location.href=Oe}else window.location.reload()},_e=(0,t.I4)(()=>{A(!_)},[A,_]);return(0,t.bt)(()=>{const ve=()=>{const Se=x.current&&x.current.scrollHeight>x.current.clientHeight;B(_||Se)};ve();const Oe=(0,W.debounce)(ve);return window.addEventListener("resize",Oe),()=>{window.removeEventListener("resize",Oe)}},[B,x,_]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},q&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:x,"data-testid":"podcast-description",className:s()({"podcast-description--clamped":!_})},q),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:_e},!_&&(0,e.h)("span",null,"show more"),_&&(0,e.h)("span",null," show less"))),r?(0,e.h)(be.Z,{href:(0,f.getSubscribeUrl)(o,{utm_source:cd}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Et.getSubscribeText)(o,{isFreeSubscribed:!0})):(0,W.isMobileBrowser)()?(0,e.h)(be.Z,{href:(0,f.getSubscribeUrl)(o,{utm_source:cd,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Et.getSubscribeText)(o)):(0,e.h)(pe.gq,{justifyContent:"center"},(0,e.h)(s3,{freeSignupEmail:n,pub:o,source:cd,user:i,onSuccess:de})))};var Q_=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const dd=({visible:n,className:r=void 0,style:o={}})=>{const[i,_]=(0,t.eJ)(!1),[A,k]=(0,t.eJ)(n);(0,t.d4)(()=>{n?(k(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{_(!0)})})):_(!1)},[n]),(0,t.d4)(()=>{n&&k(!0)},[n]);function B(){n||k(!1)}return A?(0,e.h)("div",{className:`${iu.backdrop} ${i?iu.backdropVisible:iu.backdropHidden} ${r}`,onTransitionEnd:B,style:o}):null},u3=({freeSignupEmail:n,isFreeSignup:r,isPaywall:o,post:i,pub:_,magicToken:A,user:k,onChange:B,onClickCommentButton:x,onTopReached:q,playerRef:de,onFeedChange:_e,videoPlayerRef:ve,reaction_token:Oe})=>{var Se;const we=(0,v.isMobile)({checkFirst4:!0}),Re=!!(k!=null&&k.is_subscribed),Fe=!!(r||k!=null&&k.is_free_subscribed),[He,ut]=(0,t.eJ)((Se=i.podcast_duration)!=null?Se:0),[et,rt]=(0,t.eJ)(null),[gt,Tt]=(0,t.eJ)(!1);(0,t.d4)(()=>{if(!Re&&!Fe)return;(()=>Q_(void 0,null,function*(){const fr=yield Ke().get("/api/v1/subscription/podcast_rss_url").query({token:A,section_id:i.section_id});fr.body.podcast_rss_url&&(rt(fr.body.podcast_rss_url),_e(fr.body.podcast_rss_url))}))()},[Fe,Re,A]);const St=ar=>{ut(ar)},Dt=!Fe||!Re&&!!_.plans,Lt=Re&&(k==null?void 0:k.subscription_type)==="comp"&&Hr()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),Ft=Fe&&!Re&&(k==null?void 0:k.comp_expired_recently),It=(0,Et.getBylineUsers)(i).sort((ar,fr)=>ar.id===_.author_id?-1:fr.id===_.author_id?1:ar.is_guest&&!fr.is_guest?-1:!ar.is_guest&&fr.is_guest?1:(ar.name||"").localeCompare(fr.name||"")),Qt=()=>{(0,d.track)(d.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:i.id,type:i.type}),Tt(!0)},Xt=o?j0:Ja.Z;return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)(dd,{visible:gt,style:{zIndex:1}}),(0,e.h)("div",{className:"container"},(0,e.h)(ne,{onVisible:q}),i.videoUpload&&(0,e.h)(Xt,{mediaUpload:i.videoUpload,pub:_,post:i,autoPlay:!1,restorePlaybackLocation:!0,reaction_token:Oe,ref:ve,clippingMode:gt,onClippingModeCancel:()=>Tt(!1)}),(0,e.h)(c3,{post:i,podcastDuration:He,hideEpisodeImage:!!i.videoUpload}),(0,e.h)(X_,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:A,pub:_,showDate:!0,showDatetime:!1,user:k,onChange:B,onCommentsClick:x,onClipClick:Qt,useWashBackground:!0}),i.videoUpload?null:o&&!(0,Rn.podcastPostIsFreePreview)(i)?(0,e.h)(o3,{post:i}):(0,e.h)(a3,{isFreeSubscribed:Fe,isSubscribed:Re,post:i,pub:_,magicToken:A,onGetDuration:St,isPreview:(0,Rn.podcastPostIsFreePreview)(i),playerRef:de,feedUrl:et}),we&&(0,e.h)(zs.wO,{feedUrl:et,post:i,pub:_,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:Re||Fe,fileSrc:i.podcast_url}),_.bylines_enabled&&It&&It.length?(0,e.h)(c.hs,{direction:"column",gap:24,paddingTop:i.videoUpload&&!we?0:24},(0,e.h)(c.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),(0,e.h)(z_,{bylines:It,variant:"podcast"})):null,Lt||Ft?(0,e.h)(i3,{expiry:k.subscription_expiry,postId:i.id,podcastName:_.podcast_title,pub:_}):Dt?(0,e.h)(l3,{freeSignupEmail:n,isFreeSubscribed:Fe,pub:_,user:k}):null))};function c3({post:n,podcastDuration:r,hideEpisodeImage:o}){const{language:i}=(0,l.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},!o&&n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,yt.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?Hr()(n.post_date).locale(i).standardDate():Hr()().locale(i).standardDate(),r>0&&` \u2022 ${(0,Et.formatPodcastDuration)(r)}`),n.title&&(0,e.h)("h1",{className:s()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:s()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function zk({post:n,pub:r,user:o,isPaywall:i}){const _=!!(o!=null&&o.is_subscribed),A=!!(o.is_subscribed||o.is_free_subscribed),k="",[B,x]=useState(null);return useEffect(()=>{if(n.videoUpload||!_&&!A)return;(()=>Q_(this,null,function*(){const de=yield request.get("/api/v1/subscription/podcast_rss_url").query({token:k,section_id:n.section_id});de.body.podcast_rss_url&&x(de.body.podcast_rss_url)}))()},[A,_,k]),n.videoUpload?h(VideoPlayer,{mediaUpload:n.videoUpload,pub:r,autoPlay:!1,restorePlaybackLocation:!0}):i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:A,isSubscribed:_,post:n,pub:r,magicToken:k,isPreview:podcastPostIsFreePreview(n),feedUrl:B})}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=(0,pn.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var d3=ke(77951);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=(0,pn.Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),f3={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},p3=({label:n,icon:r,isActive:o=!1,size:i,onClick:_,useSubstackTheme:A=!1,isDisabled:k=!1})=>{const B=f3[i];return(0,e.h)("div",{className:s()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",B,{"tw-cursor-pointer":!k||o,"tw-cursor-not-allowed tw-opacity-50":k&&!o,"tw-border-b-pub-primary-text tw-text-pub-primary-text":o&&!A,"tw-text-pub-secondary-text":!o&&!A,"tw-border-b-substack-primary tw-text-substack-primary":o&&A,"tw-text-substack-secondary":!o&&A,"hover:tw-bg-pub-wash":!A&&!o&&!k,"hover:tw-bg-substack-wash":A&&!o&&!k}),disabled:k,onClick:k?()=>{}:_,role:"button"},typeof r=="function"?r({active:o}):r,(0,e.h)("span",null,n))},h3=({items:n,size:r="large",onSelect:o,activeTab:i,useSubstackTheme:_=!1,className:A})=>(0,e.h)("div",{className:s()("tw-flex",A)},n.map(({key:k,icon:B,label:x,isDisabled:q})=>(0,e.h)(p3,{isActive:k==i,icon:B,onClick:()=>{o(k)},size:r,label:x,useSubstackTheme:_,isDisabled:q}))),m3=({activeTab:n,commentCount:r,onClickTab:o,loadedWithHeaderLink:i,transcription:_,hideComments:A,showPlayers:k,feedUrl:B,pub:x,post:q})=>{const{iString:de,iPlural:_e}=(0,l.M1)(),[ve,Oe]=(0,t.eJ)(i);return(0,t.d4)(()=>{if(typeof window=="undefined"||ve){Oe(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container tw-flex tw-justify-between tw-items-center"},(0,e.h)(h3,{items:[{key:"details",icon:(0,e.h)(q_,{height:18}),label:de("Episode details")},...A?[]:[{key:"comments",icon:({active:Se})=>(0,e.h)(Ku.Z,{className:s()("tw-fill-transparent",Se?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:r===0?de("Comments"):_e("%1 comment","%1 comments",r)}],..._?[{key:"transcription",icon:(0,e.h)(d3.Z,{height:18}),label:de("Transcript")}]:[]],onSelect:o,activeTab:n}),k&&B&&(0,e.h)(zs.wO,{feedUrl:B,post:q,pub:x,icon:(0,e.h)(fd,{size:16}),fileSrc:q.podcast_url})))},_3=({children:n,href:r})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:r,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),g3=({post:n,compAlreadyExpired:r=!1})=>{const o=`${ao.Substitutions.CHECKOUT_URL}&utm_medium=${j.UTM_MEDIUM.email}&utm_campaign=${j.UTM_CAMPAIGN.continueYourSupport}&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),r?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",ao.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(_3,{href:o},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var eg=ke(43498);const Zs={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var v3=Object.defineProperty,y3=Object.defineProperties,b3=Object.getOwnPropertyDescriptors,tg=Object.getOwnPropertySymbols,E3=Object.prototype.hasOwnProperty,P3=Object.prototype.propertyIsEnumerable,rg=(n,r,o)=>r in n?v3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,O3=(n,r)=>{for(var o in r||(r={}))E3.call(r,o)&&rg(n,o,r[o]);if(tg)for(var o of tg(r))P3.call(r,o)&&rg(n,o,r[o]);return n},w3=(n,r)=>y3(n,b3(r));const S3=({postType:n,crossPostInfo:{introText:r,crossPostedPub:o,crossPostingByLine:i}})=>{const _=i[0];return(0,e.h)(pe.tu,{className:s()(Zs.container,n==="podcast"&&Zs.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(pe.hs,{className:Zs.attribution,gap:4,alignItems:"center"},(0,e.h)(eg.Z,{className:Zs.icon,height:16})," ",(0,e.h)(a.xv.Meta,{translated:!0,color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:Zs.pub,href:(0,yt.getBaseUrl)(o)},I18N.p(o.name)))),(0,e.h)(a.xv.B2,{color:"pub-primary-text"},r," - ",(0,e.h)(Xp.default,w3(O3({},_),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var pd=ke(80012),C3=ke(12297),T3=ke.n(C3),I3=Object.defineProperty,M3=Object.defineProperties,D3=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,A3=Object.prototype.hasOwnProperty,N3=Object.prototype.propertyIsEnumerable,og=(n,r,o)=>r in n?I3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,L3=(n,r)=>{for(var o in r||(r={}))A3.call(r,o)&&og(n,o,r[o]);if(ng)for(var o of ng(r))N3.call(r,o)&&og(n,o,r[o]);return n},R3=(n,r)=>M3(n,D3(r));const ag=n=>(0,e.h)(De.l,R3(L3({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var x3=Object.defineProperty,U3=Object.defineProperties,B3=Object.getOwnPropertyDescriptors,su=Object.getOwnPropertySymbols,ig=Object.prototype.hasOwnProperty,sg=Object.prototype.propertyIsEnumerable,lg=(n,r,o)=>r in n?x3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,k3=(n,r)=>{for(var o in r||(r={}))ig.call(r,o)&&lg(n,o,r[o]);if(su)for(var o of su(r))sg.call(r,o)&&lg(n,o,r[o]);return n},F3=(n,r)=>U3(n,B3(r)),W3=(n,r)=>{var o={};for(var i in n)ig.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&su)for(var i of su(n))r.indexOf(i)<0&&sg.call(n,i)&&(o[i]=n[i]);return o};const j3=n=>{var r=n,{color:o="#B6B6B6",height:i=18}=r,_=W3(r,["color","height"]);return(0,e.h)(De.l,F3(k3({},_),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:o,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:o,stroke:o}))};var H3=ke(15440);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=(0,pn.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var V3=Object.defineProperty,$3=Object.defineProperties,K3=Object.getOwnPropertyDescriptors,cg=Object.getOwnPropertySymbols,G3=Object.prototype.hasOwnProperty,z3=Object.prototype.propertyIsEnumerable,dg=(n,r,o)=>r in n?V3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Z3=(n,r)=>{for(var o in r||(r={}))G3.call(r,o)&&dg(n,o,r[o]);if(cg)for(var o of cg(r))z3.call(r,o)&&dg(n,o,r[o]);return n},Y3=(n,r)=>$3(n,K3(r));const J3=n=>(0,e.h)(De.l,Y3(Z3({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(ug,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var X3=ke(11762);class Q3 extends e.Component{onShare(r){this.props.position&&(0,d.track)(d.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(r&&r.stopPropagation(),this.props.sharedShareDialog?r.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:r,linkClassName:o,user:i,pub:_,post:A,reaction_token:k,height:B,onChange:x,isStatic:q,children:de,sharedShareDialog:_e,noIcon:ve}){let Oe;return A.share_url_override?Oe=A.share_url_override:q?A?Oe=ao.Substitutions.SHARE_URL:Oe=ao.Substitutions.SHARE_PUB_URL:Oe="javascript:void(0)",(0,e.h)("span",{className:r},(0,e.h)("a",{href:Oe,onClick:Se=>this.onShare(Se),className:o},!ve&&(0,e.h)(id.Z,{className:"recommend-icon post-meta-icon",isStatic:q,height:B,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:q?1:1.5}),de),!q&&!_e&&(0,e.h)(Pi.ZP,{ref:Se=>this.modal=Se,user:i,pub:_,post:A,reaction_token:k,onChange:x}))}}const q3=({children:n,content:r,baseRef:o=void 0,portalClass:i="",className:_="",style:A=void 0})=>{const k=(0,t.sO)(null),B=(0,t.sO)(null);return r?(0,e.h)("div",{ref:k,className:_,style:A},n,(0,e.h)(a_,{baseRef:o||k,hoverToggle:!0,onOpen:()=>{var x;return(x=B.current)==null?void 0:x.open()},onClose:()=>{var x;return(x=B.current)==null?void 0:x.close()},className:i},(0,e.h)(Ho.Fx,{ref:B,noList:!0,className:"explanation"},r))):n};var e9=ke(73413),t9=Object.defineProperty,r9=Object.defineProperties,n9=Object.getOwnPropertyDescriptors,fg=Object.getOwnPropertySymbols,o9=Object.prototype.hasOwnProperty,a9=Object.prototype.propertyIsEnumerable,pg=(n,r,o)=>r in n?t9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,hd=(n,r)=>{for(var o in r||(r={}))o9.call(r,o)&&pg(n,o,r[o]);if(fg)for(var o of fg(r))a9.call(r,o)&&pg(n,o,r[o]);return n},hg=(n,r)=>r9(n,n9(r));const{getPaidOrFoundingTierNameForPost:i9}=ke(74806),s9=46438;class mg extends e.Component{constructor(r,o){if(super(r,o),this.withAuthorLine=(i,_)=>{const{pub:A,post:k,showAuthor:B,showPhoto:x}=i,q=k.type==="adhoc_email",de=(0,Et.getBylineUsers)(k).length,_e=de===1,ve=_e&&(0,Et.getBylineUsers)(k)[0],Oe=_e&&ve.is_guest&&!(0,bo.default)("dont_show_guest_byline")&&!q,Se=i.showDate||i.showDatetime,we=!k.is_published&&!i.inThreadHead&&Se&&!q,Re=i.isFreePreview&&i.showAudience&&Se&&!q,Fe=(0,or.isFoundingAudience)(k.audience)&&i.showAudience&&!Re&&Se&&!q&&!(0,Rn.hasFreePodcastUrl)({post:k}),He=(0,or.isPaidAudience)(k.audience)&&i.showAudience&&!Fe&&!Re&&Se&&!q&&!(0,Rn.hasFreePodcastUrl)({post:k}),ut=(0,An.F6)({pub:A,post:k,showAuthor:B,showPhoto:x});return(0,e.h)(Qr.YF,{width:"100%",className:s()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Qr.i$,null,(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,{color:"primary",className:Kp.A.postAuthor},de>0?(0,Et.oxfordComma)((0,Et.getBylineUsers)(k).map(et=>(0,e.h)(a.xv.Meta,{as:"a",href:(0,f.getProfileUrl)(et,A,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},et.name))):(0,Et.getPrintedByline)(A,k))),(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,(i.showDate||i.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:Hr()(k.post_date).toISOString()},Hr()(k.post_date).locale(this.context.language).standardDate())),He&&(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,"\u2219"),(0,e.h)(a.xv.Meta,{color:"accent-purple",translated:!0},"Paid")),Fe&&(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,"\u2219"),(0,e.h)(a.xv.Meta,{color:"accent-purple"},this.context.iString(i9(A,k)))),Re&&(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,"\u2219"),(0,e.h)(a.xv.Meta,{color:"accent-purple",translated:!0},"Preview")),Oe&&(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,"\u2219"),(0,e.h)(a.xv.Meta,{translated:!0},"Guest post")),we&&(0,e.h)(Qr.zK,{gap:4},(0,e.h)(a.xv.Meta,null,"\u2219"),(0,e.h)(a.xv.Meta,{translated:!0},"Draft"))))),ut&&(0,e.h)("td",{align:"right"},(0,e.h)(Qr.zK,{gap:4},de>0&&(0,Et.getBylineUsers)(k).map((et,rt)=>rt<4&&(0,e.h)("a",{href:(0,f.getProfileUrl)(et,A,{base:i.isStatic})},(0,e.h)(Qr.NS,{src:et.photo_url,size:de>1?32:40})))))))},typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const _=A=>{this.unmounted||this.setState({isMobileWidth:A.matches})};i.addEventListener?i.addEventListener("change",_):i.addListener&&i.addListener(_)}}componentWillUnmount(){this.unmounted=!0}render({pub:r,post:o,showAuthor:i,showPhoto:_,fromPostPage:A}){return(0,An.F6)({pub:r,post:o,showAuthor:i,showPhoto:_})||(0,An.Cz)({pub:r,post:o,showAuthor:i})||(0,An.z5)({pub:r,post:o,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(u9,hg(hd({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:A?"post-header-compact":"post-preview"}))}}mg.contextType=l.wj;const l9=({shouldShowFullWidthUfi:n,isMobileWidth:r,children:o})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},o):r?o:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},o),eF=({additionalCommentCount:n,user:r,pub:o,post:i,showReactions:_,showComments:A,reaction_token:k,onChange:B,shareTooltipText:x,fromPostPage:q,onClickCommentButton:de,reactors:_e,isStatic:ve,base_url:Oe,className:Se,showShare:we})=>{_=_&&o.community_enabled&&i.slug&&!i.is_draft;const Re=useMediaQuery({maxWidth:540}),{getSettingFor:Fe}=usePublicationSettings(),He=!ve&&(i==null?void 0:i.id)&&o.community_enabled&&!i.is_draft&&i.slug,ut=sum(Object.values((i==null?void 0:i.reactions)||{})),et=He&&!!ut&&_,rt=!i.is_draft&&canPostBeRestacked(r,{enable_restacking:!!Fe("enable_restacking")},i,o,!1),gt=rt;return h(l9,{shouldShowFullWidthUfi:gt,isMobileWidth:Re},h(PostUfi,{style:"button",post:i,pub:o,user:r,postReactionToken:k,hideReactions:!_||Re&&rt,hideComments:!A||Re&&rt,hideSavePost:Re&&rt,hideShare:!we||Re&&rt,useShareLabel:Re&&!gt,labelStyle:Re&&!gt?"labels":"counts-or-none",onChange:B,additionalCommentCount:n,showShare:we,onCommentsClick:de,position:gt?"post-footer-full-width":"post-footer",showRestackButton:rt}),et&&h(Fragment,null,(gt||Re)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(_d,{postId:i.id,totalLikes:ut,reactors:Qi(_e,r,!!i.reaction,o),loading:!_e,hoverProfiles:!0,enableModal:!0,showFaces:o.post_reaction_faces_enabled}))))};function md({pub:n,post:r,user:o,reactors:i,secondaryFaces:_}){var A;return(0,e.h)(_d,{postId:r.id,totalLikes:Math.max((A=r.reactions["\u2764"])!=null?A:0,(i!=null?i:[]).length),reactors:Qi(i,o,!!r.reaction,n),secondaryFaces:Qi(_,o,!!r.restacked,n),totalRestacks:r.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function tF(n){const{post:r,user:o,pub:i}=n,{result:_,isLoading:A}=useFetch({pathname:`/api/v1/post/${r.id}/reactors`,auto:!0,deps:[r.id]}),{result:k,isLoading:B}=useFetch({pathname:`/api/v1/post/${r.id}/restackers`,auto:!0,deps:[r.id]});return h(md,hd({reactors:Qi(_,o,!!r.reaction,i),secondaryFaces:Qi(k,o,!!r.restacked,i)},n))}function Qi(n,r,o,i){if(!n)return[];if(r){const _=n.findIndex(A=>A.id===r.id);o&&(r.subscription_visibility!=="private"||i.id===s9)&&r.activity_likes_enabled&&_<0?n.splice(0,0,{id:r.id,name:r.name,photo_url:r.photo_url}):!o&&_>=0&&n.splice(_,1)}return n}function u9({additionalCommentCount:n=0,className:r,user:o,pub:i,post:_,showAudience:A=!1,showDate:k=!1,showEmailSent:B=!1,showDatetime:x=!1,showReactions:q=!0,showComments:de=!0,showShare:_e=!1,showRestack:ve=!1,showPublicationName:Oe=!1,hidePinning:Se=!1,reaction_token:we,onClick:Re,onChange:Fe,isStatic:He=!1,isFreePreview:ut=!1,allowSendEmail:et=!1,allowEdit:rt=!1,shareTooltipText:gt,showPins:Tt,sharedShareDialog:St,showUpdatedIcons:Dt,editOnRightSide:Lt=!1,onClickCommentButton:Ft,reactors:It,showAuthor:Qt,showPhoto:Xt,fromPostPage:ar,isMobileWidth:fr,actionBarStyle:At="post-header-compact"}){var Gt;const cr=i.id===_.publication_id?i:void 0,nr=Qi(It,o,!!_.reaction,i),er=At==="post-footer",Ot=er?20:At==="post-preview"?14:18,Mt=At==="post-header-large"?20:At==="post-preview"?16:At==="thread-head"||er?14:18;let kt;_.comment_url_override?kt=_.comment_url_override:He?kt=`${ao.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`:kt=(0,f.getPostUrl)(i,_,{comments:!0});const zt=n+((Gt=_.comment_count)!=null?Gt:0),bt=de&&!ut&&(0,Et.showCommentsOnPost)({publication:i,post:_})&&_.type!=="restack",Tr=q&&!ut&&!["adhoc_email","restack"].includes(_.type),tr=(k||x)&&_.post_date&&!_.is_draft,Wr=B?!!_.email_sent_at:null,Fr=(0,Ff.S)({user:o,noBase:!1}),ln=kr=>{var yr;(yr=kr.post)!=null&&yr.reaction&&o&&Fr({user:o}),Fe(kr)},Rr=(0,e.h)(Oi.dJ,{user:o,pub:i,post:_,token:we,onChange:ln,height:Mt,isStatic:He,isFreePreview:ut,alt:"Like",buttonStyle:er,className:"post-meta-icon like-reaction-button",hideReactionCount:er&&!He}),en=[B&&Wr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(ag,{className:"post-meta-icon",height:Ot,isStatic:He})},Tt&&_.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(X3.Z,{className:"post-meta-icon",isStatic:He})},_.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(J_,{className:"post-meta-icon",isStatic:He})}:A&&(0,or.isPaidAudience)(_.audience)&&{className:"audience-lock",content:(0,e.h)(j3,{color:"#666666",height:Ot,isStatic:He})},(0,An.Er)({pub:i,post:_,showAuthor:Qt,showPhoto:Xt,isMobileWidth:fr})&&{className:"author",content:(0,Et.getBylineUsers)(_).length>0?(0,Et.oxfordComma)((0,Et.getBylineUsers)(_).map(kr=>(0,e.h)(ha.ProfileHoverCard,{disabled:He,subject:kr,utmSource:"byline"},(0,e.h)("a",{href:(0,f.getProfileUrl)(kr,i,{base:He}),onClick:yr=>yr.stopPropagation()},kr.name)))):(0,Et.getPrintedByline)(i,_)},Oe&&{className:"post-publication-name",content:i.name},Dt&&!Lt&&rt&&!He&&o&&o.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)(pd.l,{pub:i,post:_,iconHeight:Ot,hidePinning:Se,user:o,emailSent:Wr,allowSendEmail:et,showUpdatedIcons:Dt})},tr&&{className:"post-date",title:Hr()(_.post_date).toISOString(),content:(0,e.h)(a.xv.Meta,null,(0,e.h)("time",{dateTime:Hr()(_.post_date).toISOString()},(0,An.fh)({post:_,showDatetime:x,isStatic:He,fromPostPage:ar,showReactions:Tr})))},(cr==null?void 0:cr.community_enabled)&&_.slug&&Tr&&!_.is_draft&&{className:"icon",onClick:kr=>kr.stopPropagation(),content:!er&&!He&&nr.length?(0,e.h)(q3,{portalClass:"facepile-tooltip",content:(0,e.h)(_d,{postId:_.id,totalLikes:T3()(Object.values(_.reactions)),reactors:nr,loading:!It})},Rr):Rr},o&&{className:"icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)(c9,{post:_,isPostFooter:er,isStatic:He,lucideIconHeight:Mt,onChange:Fe})},(cr==null?void 0:cr.community_enabled)&&_.slug&&bt&&!_.is_draft&&{className:"icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)("a",{className:er?"post-meta-button button":"",href:kt,native:cr&&(0,f.isPublishPath)(document.location.pathname,cr),onClick:Ft},(0,e.h)(Ku.Z,{className:"comment-icon post-meta-icon",isStatic:He,height:Mt,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:He?1:1.5,ampProps:{layout:"fixed"}}),!zt&&er&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),zt>0&&(0,e.h)("span",{className:"comment-count"},(0,Et.numberToString)(zt)))},ve&&!er&&{className:"icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)("a",{href:ao.Substitutions.RESTACK_URL,className:er?"button post-meta-button":void 0},(0,e.h)(J3,{className:"recommend-icon post-meta-icon",isStatic:He,height:Mt,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:He?1:1.5,ampProps:{layout:"fixed"}}),er&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},_e&&_.audience!=="only_free"&&!_.is_draft&&!ut&&{className:"icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)(Q3,{user:o,pub:cr,post:_,reaction_token:we,height:Mt,onChange:Fe,isStatic:He,sharedShareDialog:St,position:At==="post-footer"?"post-footer":"post-header",linkClassName:er?"button post-meta-button":void 0},er&&(0,e.h)("span",{className:"meta-button-label"},"Share"),gt&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},gt)))},(!Dt||Lt)&&rt&&!He&&o&&o.is_contributor&&{className:"icon edit-icon",onClick:kr=>kr.stopPropagation(),content:(0,e.h)(pd.l,{pub:i,post:_,iconHeight:Ot,hidePinning:Se,user:o,emailSent:Wr,allowSendEmail:et,showUpdatedIcons:Dt})}].filter(kr=>!!kr);return He?(0,e.h)("table",{className:s()("post-meta custom",{big:er},r),cellpadding:"0",cellspacing:"0",onClick:Re},(0,e.h)("tr",null,en.map(({className:kr,title:yr,onClick:xr,content:Lr})=>(0,e.h)("td",{className:s()("post-meta-item",kr),title:yr,onClick:xr},Lr)))):(0,e.h)("div",{className:s()("post-meta post-meta-actions-web custom",{big:er},r),onClick:Re},en.map(({className:kr,title:yr,onClick:xr,content:Lr})=>(0,e.h)("div",{className:s()("post-meta-item",kr),title:yr,onClick:xr},Lr)))}function _d({className:n,postId:r,reactors:o,secondaryFaces:i,totalLikes:_,totalRestacks:A,loading:k,hoverProfiles:B,enableModal:x,showFaces:q}){const de=_>0?(0,Et.pluralize)(_,"Like"):"";let _e="";return A>0&&(_e=`${(0,Et.pluralize)(A,"Restack")}`),(0,e.h)(Fs.ZP,{className:n,loading:k,faces:o,secondaryFaces:i,pileLabel:de,modalLabel:de,secondaryLabel:_e,secondaryHref:(0,I_.Oi)(r,{noBase:e9.L,urlParams:{utm_source:j.UTM_SOURCE.substack,utm_content:j.UTM_CONTENT.facepileRestacks}}),totalCount:_,totalRestacks:A,hoverProfiles:B,enableModal:x,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,d.track)(d.EVENTS.POST_REACTIONS_MODAL_VIEWED,{post_id:r})},showFaces:q})}function c9({post:n,isPostFooter:r,isStatic:o,isSaved:i,lucideIconHeight:_,onChange:A}){const{onSave:k,isSaved:B}=(0,An.vk)({post:n,isSaved:n.is_saved}),x=()=>{const q=k();A({post:hg(hd({},n),{is_saved:q})})};return(0,e.h)("a",{className:s()("post-meta-save-button",r?"post-meta-button button":"",{isSaved:B}),href:o&&ao.Substitutions.SAVE_POST_URL,onClick:x},(0,e.h)(H3.Z,{isStatic:o,height:_,stroke:"#757575",strokeWidth:o?1:1.5}),r&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=(0,pn.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var f9=Object.defineProperty,p9=Object.defineProperties,h9=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,m9=Object.prototype.hasOwnProperty,_9=Object.prototype.propertyIsEnumerable,gg=(n,r,o)=>r in n?f9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,g9=(n,r)=>{for(var o in r||(r={}))m9.call(r,o)&&gg(n,o,r[o]);if(_g)for(var o of _g(r))_9.call(r,o)&&gg(n,o,r[o]);return n},v9=(n,r)=>p9(n,h9(r));const y9=n=>(0,e.h)(De.l,v9(g9({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(d9,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var b9=Object.defineProperty,E9=Object.defineProperties,P9=Object.getOwnPropertyDescriptors,vg=Object.getOwnPropertySymbols,O9=Object.prototype.hasOwnProperty,w9=Object.prototype.propertyIsEnumerable,yg=(n,r,o)=>r in n?b9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,S9=(n,r)=>{for(var o in r||(r={}))O9.call(r,o)&&yg(n,o,r[o]);if(vg)for(var o of vg(r))w9.call(r,o)&&yg(n,o,r[o]);return n},C9=(n,r)=>E9(n,P9(r));const T9=n=>(0,e.h)(De.l,C9(S9({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(kp,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),bg=({post:n})=>{const r=(0,L.So)().getSettingFor("enable_prev_next_nav"),o=(0,hn.XA)(),{iString:i}=(0,l.M1)();return!r||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(An.Ng,{icon:(0,e.h)(y9,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,d.track)(d.EVENTS.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},i("Previous")))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(An.Ng,{icon:(0,e.h)(T9,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,d.track)(d.EVENTS.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},i("Next")))))};var I9=Object.defineProperty,M9=Object.defineProperties,D9=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,Eg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Og=(n,r,o)=>r in n?I9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,A9=(n,r)=>{for(var o in r||(r={}))Eg.call(r,o)&&Og(n,o,r[o]);if(lu)for(var o of lu(r))Pg.call(r,o)&&Og(n,o,r[o]);return n},N9=(n,r)=>M9(n,D9(r)),L9=(n,r)=>{var o={};for(var i in n)Eg.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&lu)for(var i of lu(n))r.indexOf(i)<0&&Pg.call(n,i)&&(o[i]=n[i]);return o};const R9=n=>{var r=n,{stroke:o="black",height:i=19,width:_=19}=r,A=L9(r,["stroke","height","width"]);return(0,e.h)(De.l,N9(A9({},A),{name:"AdhocEmailIcon",svgParams:{height:i,width:_,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:o}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:o}))};var x9=Object.defineProperty,U9=Object.defineProperties,B9=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,Sg=Object.prototype.propertyIsEnumerable,Cg=(n,r,o)=>r in n?x9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,k9=(n,r)=>{for(var o in r||(r={}))wg.call(r,o)&&Cg(n,o,r[o]);if(uu)for(var o of uu(r))Sg.call(r,o)&&Cg(n,o,r[o]);return n},F9=(n,r)=>U9(n,B9(r)),W9=(n,r)=>{var o={};for(var i in n)wg.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&uu)for(var i of uu(n))r.indexOf(i)<0&&Sg.call(n,i)&&(o[i]=n[i]);return o};const j9=n=>{var r=n,{stroke:o="black",height:i=19,width:_=19}=r,A=W9(r,["stroke","height","width"]);return(0,e.h)(De.l,F9(k9({},A),{name:"NewsletterIcon",svgParams:{height:i,width:_,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}))};var H9=Object.defineProperty,V9=Object.defineProperties,$9=Object.getOwnPropertyDescriptors,cu=Object.getOwnPropertySymbols,Tg=Object.prototype.hasOwnProperty,Ig=Object.prototype.propertyIsEnumerable,Mg=(n,r,o)=>r in n?H9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,K9=(n,r)=>{for(var o in r||(r={}))Tg.call(r,o)&&Mg(n,o,r[o]);if(cu)for(var o of cu(r))Ig.call(r,o)&&Mg(n,o,r[o]);return n},G9=(n,r)=>V9(n,$9(r)),z9=(n,r)=>{var o={};for(var i in n)Tg.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&cu)for(var i of cu(n))r.indexOf(i)<0&&Ig.call(n,i)&&(o[i]=n[i]);return o};const Z9=n=>{var r=n,{stroke:o="black",height:i=19,width:_=19}=r,A=z9(r,["stroke","height","width"]);return(0,e.h)(De.l,G9(K9({},A),{name:"VideoIcon",svgParams:{height:i,width:_,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:o}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:o}),(0,e.h)("path",{d:"M8 4L11 7",stroke:o}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:o})))};var Y9=Object.defineProperty,du=Object.getOwnPropertySymbols,Dg=Object.prototype.hasOwnProperty,Ag=Object.prototype.propertyIsEnumerable,Ng=(n,r,o)=>r in n?Y9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,qi=(n,r)=>{for(var o in r||(r={}))Dg.call(r,o)&&Ng(n,o,r[o]);if(du)for(var o of du(r))Ag.call(r,o)&&Ng(n,o,r[o]);return n},J9=(n,r)=>{var o={};for(var i in n)Dg.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&du)for(var i of du(n))r.indexOf(i)<0&&Ag.call(n,i)&&(o[i]=n[i]);return o};const X9=n=>{var r=n,{postType:o}=r,i=J9(r,["postType"]);switch(o){case"newsletter":return(0,e.h)(j9,qi({},i));case"adhoc_email":return(0,e.h)(R9,qi({},i));case"thread":return(0,e.h)(y0,qi({},i));case"podcast":return(0,e.h)(m0,qi({},i));case"video":return(0,e.h)(Z9,qi({},i));case"restack":return(0,e.h)(eg.Z,qi({},i));default:return console.warn(`Unrecognized post type: [${o}]`),null}};var Q9=Object.defineProperty,Lg=Object.getOwnPropertySymbols,q9=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,Rg=(n,r,o)=>r in n?Q9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,xg=(n,r)=>{for(var o in r||(r={}))q9.call(r,o)&&Rg(n,o,r[o]);if(Lg)for(var o of Lg(r))eN.call(r,o)&&Rg(n,o,r[o]);return n},tN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const fu=500,rN={PUBLICATION:"publication",CHOOSE:"choose"},nN=({pubToRecommendBack:n,recommendingPub:r,recommendedPubs:o,setStep:i,close:_,setLoading:A,source:k})=>{const{iString:B,iTemplate:x}=(0,l.M1)(),[q,de]=(0,t.eJ)(null);(0,t.d4)(()=>{var ve;q==null&&(o!=null&&o.find(({id:Oe})=>Oe===n.id))&&de((ve=o==null?void 0:o.find(({id:Oe})=>Oe===n.id))==null?void 0:ve.blurb)},[q,o,n.id]);const _e=(0,Et.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(Ya.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,x`Recommend ${n.name}`),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},_e?x`By ${_e}`:null,_e&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},x`Why are you recommending ${n.name}? (optional)`),(0,e.h)("textarea",xg({placeholder:B("Share why your readers might enjoy it..."),onChange:ve=>{de(ve.target.value)},value:q},Y0.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},B("Recommendations are shown to readers after they subscribe to your publication.")," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,d.track)(d.EVENTS.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,B("Learn more")))),(0,e.h)("button",{className:s()("continue-button button primary",{disabled:((q==null?void 0:q.length)||0)>fu}),disabled:((q==null?void 0:q.length)||0)>fu,title:((q==null?void 0:q.length)||0)>fu?x`Please enter a description shorter than ${fu} characters`:"",onClick:()=>tN(void 0,null,function*(){yield Ke().put("/api/v1/recommendations").send(xg({recommended_publication_id:n.id,recommending_publication_id:r.id,source:k||"recommendation_notification_email",suggested:!1},!!q&&{description:q.length>=2?q:null})),o!=null&&o.filter(({id:ve})=>ve!==n.id).length?_():i(rN.CHOOSE),A?(A(!0),_()):((0,W.redirect)("/publish/settings/recommendations"),(0,za.ZP)(x`Started recommending ${n.name}`,{timeout:1500}))})},B("Continue"))))};var oN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const aN=({pub:n})=>{const[r,o]=(0,t.eJ)(!0),[i,_]=(0,t.eJ)(null),[A,k]=(0,t.eJ)(!1),B=(0,t.sO)(null),x=()=>{B.current.close()};if((0,t.d4)(()=>{!i&&r&&(()=>oN(void 0,null,function*(){try{const _e=(yield Ke().get("/api/v1/publication_user/default")).body;if(_(_e),!_e||_e.id===n.id){k(!0),o(!1);return}const ve=yield Ke().get(`/api/v1/recommendations/from/${_e.id}/to/${n.id}`);k(!!ve.body),o(!1)}catch(de){console.error("Failed to load recommend cta: ",de)}}))()},[n,r,o,i,_]),!(r||A||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(Ya.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(be.Z,{className:s()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,d.track)(d.EVENTS.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),B.current.isOpen()?B.current.close():B.current.open()}},"Recommend")),(0,e.h)(iN,{pubToRecommend:n,recommendingPub:i,setLoading:o,setStep:x,ref:B}))};class iN extends $e.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(nN,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:r=>{this.props.setLoading(r),(0,za.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var sN=ke(55886);const ba={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var lN=Object.defineProperty,Ug=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,cN=Object.prototype.propertyIsEnumerable,Bg=(n,r,o)=>r in n?lN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kg=(n,r)=>{for(var o in r||(r={}))uN.call(r,o)&&Bg(n,o,r[o]);if(Ug)for(var o of Ug(r))cN.call(r,o)&&Bg(n,o,r[o]);return n},dN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const fN=300,pN=({pub:n,post:r,isTest:o})=>{const[i,_]=(0,t.eJ)(!1),[A,k]=(0,t.eJ)(!1),[B,x]=(0,t.eJ)(!1),[q,de]=(0,t.eJ)(""),[_e,ve]=(0,t.eJ)([]),[Oe,Se]=(0,t.eJ)(200),[we,Re]=(0,t.eJ)(0),Fe=(0,t.sO)(null),He=(0,hn.XA)(),ut=`pub-${n.id}-subscribe-prompt-next-shown-at`,et=`pub-${n.id}-takeover-next-shown-at`,rt=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,gt=document.getElementsByClassName("available-content"),Tt=gt.length>0?gt[0].scrollHeight:0;let St=600;St=Math.max(Math.min(St,Tt-rt),600),(()=>{var Mt;const{height:kt,width:zt}=((Mt=Fe.current)==null?void 0:Mt.getBoundingClientRect())||{height:0,width:0};Se(typeof window!="undefined"&&window&&Fe.current?(window.innerHeight-kt)/2:200),Re(typeof window!="undefined"&&window&&Fe.current?(window.innerWidth-zt)/2:0)})();const[Lt,Ft]=(0,t.eJ)(rt+Math.max(Oe,St)),[It,Qt]=(0,t.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[Xt,ar]=(0,t.eJ)("absolute"),[fr,At]=(0,t.eJ)(Xt==="fixed"||It>Lt-rt),Gt=Xt==="fixed"?60:Math.min(Math.max((It-Lt+rt)/(rt-Oe)*60,0),60),cr=(0,t.I4)(()=>{!He&&It>=Lt-fN&&k(!0)},[It,He,Lt,Oe,k]);(0,t.d4)(()=>{if(o)return;let Mt=!0;Tt<=1.5*rt&&(_(!0),Mt=!1);let kt=null;if(document!=null&&document.referrer){try{kt=new URL(document.referrer)}catch(zt){}((kt==null?void 0:kt.hostname)==="news.ycombinator.com"||(kt==null?void 0:kt.hostname)==="hckrnews.com")&&(_(!0),Mt=!1)}(0,T.mM)(ut)>Date.now()&&_(!0)},[]),(0,t.d4)(()=>{fr&&(i||((0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SHOWN,{post_id:r.id}),(0,T.ex)(ut,Hr()().add(1,"hour").valueOf()),(0,T.ex)(et,Hr()().add(1,"hour").valueOf())))},[fr,i]),(0,t.d4)(()=>{A&&((0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_DISMISSED,{post_id:r.id}),(0,T.ex)(ut,Hr()().add(1,"day").valueOf()),(0,T.ex)(et,Hr()().add(1,"hour").valueOf()))},[A]);const nr=Mt=>{window.location.href=(0,f.getPostUrl)(n,r,{urlParams:{subscribe_prompt:Mt}})},er=(0,t.I4)(Mt=>dN(void 0,null,function*(){var kt,zt,bt,Tr,tr;if(!B){x(!0),ve([]),(0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:r.id});try{const Wr=yield Ke().post("/api/v1/free").send({email:Mt,source:"post-subscribe-prompt"});(0,d.signup)(),n.payments_state!=="enabled"&&!n.has_recommendations?nr("free"):document.location.href=(0,f.getSubscribeUrl)(n,kg(kg({utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.postSubscribePrompt,utm_content:r&&r.id,simple:!0,just_signed_up:!0,next:(0,f.getPostUrl)(n,r),requires_confirmation:Wr.body.requires_confirmation?"true":""},Wr.body.subscription_id&&{subscription_id:Wr.body.subscription_id}),Wr.body.referral_token&&{referral_token:Wr.body.referral_token}))}catch(Wr){(zt=(kt=Wr==null?void 0:Wr.response)==null?void 0:kt.body)!=null&&zt.error&&typeof Wr.response.body.error=="string"?ve([Wr.response.body.error]):(Tr=(bt=Wr==null?void 0:Wr.response)==null?void 0:bt.body)!=null&&Tr.errors&&Array.isArray(Wr.response.body.errors)&&Wr.response.body.errors.length>0&&typeof((tr=Wr.response.body.errors[0])==null?void 0:tr.msg)=="string"&&ve(Wr.response.body.errors.map(Fr=>Fr.msg))}finally{x(!1)}}}),[r,n,B,x]);(0,t.d4)(()=>{if(i||A)return;const Mt=()=>{const kt=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),zt=kt-It;zt>0&&Xt==="absolute"&&kt>Lt-Oe&&ar("fixed"),zt<0&&Xt==="fixed"&&(ar("absolute"),Ft(It+Oe)),zt<0&&Xt==="absolute"&&kt<Lt-rt&&Ft(rt+Math.max(Oe,St,It)),Qt(kt),(Xt==="fixed"||zt>0&&kt>Lt-rt)&&At(!0)};return window.addEventListener("scroll",Mt),window.addEventListener("resize",Mt),()=>{window.removeEventListener("scroll",Mt),window.removeEventListener("resize",Mt)}},[Xt,Lt,Ft,It,Qt,At]),(0,t.d4)(()=>{if(i||A)return;const Mt=kt=>{kt.key==="Escape"&&k(!0)};return window.addEventListener("keydown",Mt),()=>{window.removeEventListener("keydown",Mt)}},[i,A,k]);const{iString:Ot}=(0,l.M1)();return i||A?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,(0,e.h)(pe.tu,{ref:Fe,className:ba.subscribeDialog,style:{top:Xt==="absolute"?`${Lt}px`:`${Oe}px`,left:`${we}px`,position:Xt},alignItems:"center"},(0,e.h)(e.Fragment,null,(0,e.h)(pe.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:ba.pictureBox},(0,e.h)(_o.qE,{user:{photo_url:n.author_photo_url},size:64,className:ba.authorIcon}),n.logo_url&&(0,e.h)(sN.t,{src:n.logo_url,size:24,className:ba.childPublicationIcon,alt:n.name}))),(0,e.h)(a.xv.H4,{translated:!0,paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",I18N.p(n.name)),(0,e.h)(a.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(a.xv.Detail,{paddingBottom:24,align:"center",color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:ba.form,onSubmit:Mt=>{Mt.preventDefault(),er(q)}},(0,e.h)("input",{className:ba.emailInput,placeholder:"Type your email...",value:q,disabled:B,onChange:Mt=>{Mt.stopPropagation(),Mt.preventDefault(),de(Mt.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},_e&&_e.map(Mt=>(0,e.h)("div",{className:ba.error},Mt))),(0,e.h)(me.zx,{type:"submit",disabled:B,grow:!0,priority:"primary-theme"},Ot("Subscribe"))),(0,e.h)(pe.gq,{gap:8,alignItems:"center",justifyContent:"center",className:ba.dismissButton,onClick:()=>k(!0)},(0,e.h)(a.xv.B4,{translated:!0,weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(_l.Z,null)),(0,e.h)(a.xv.B4,{align:"center",className:ba.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:r.id}),(0,W.redirect)((0,f.getSigninUrl)({for_pub:n.subdomain,redirect:(0,f.getPostUrl)(n,r)}))},style:{cursor:"pointer"}},Ot("Sign in"))," ")," ")),Gt>0&&(0,e.h)("div",{className:ba.background,onClick:cr,style:{opacity:`${Gt}%`}}))};function hN({postId:n,onClose:r}){return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(Mo.u_,{isOpen:!0,onClose:r},(0,e.h)(Mo.xB,{includeClose:!0,onClose:r}),(0,e.h)(Mo.fe,null,(0,e.h)(pe.tu,{alignItems:"center",gap:24},(0,e.h)(pe.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(Mo.r6,null,"Listen to this post"),(0,e.h)(a.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(mN,null))),(0,e.h)(Mo.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(qo.z,{variant:"primary",href:(0,f.getAppStoreRedirectUrl)({utm_source:j.UTM_SOURCE.web,utm_campaign:j.UTM_CAMPAIGN.ttsModal}),onClick:()=>(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function mN(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(_N(1,4)).map(r=>`${n}/${r}x.png ${r}x`).join(", ")}))}function*_N(n,r){for(let o=n;o<r;o++)yield o}const Fg={"byline-wrapper":"frontend-components-post-module__byline-wrapper--koh98","byline-wrapper--swap-on-mobile":"frontend-components-post-module__byline-wrapper--swap-on-mobile--n9xWk","byline-faces--swap-on-mobile":"frontend-components-post-module__byline-faces--swap-on-mobile--JiA_S"};var gN=ke(90030),vN=ke(58718);const Wg={avatarContainer:"frontend-components-FollowPrompt-module__avatarContainer--N53bp",avatar:"frontend-components-FollowPrompt-module__avatar--POyNQ"};var yN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const bN=({pub:n,post:r,referringUser:o})=>{var i,_,A,k;const[B,x]=(0,t.eJ)(!1),[q,de]=(0,t.eJ)(!1),_e=(0,ro.aF)(),{iTemplate:ve,iString:Oe}=(0,l.M1)(),Se=(0,vN.Sv)(o,"post-follow-referrer-prompt");(0,t.d4)(()=>{x(!0),(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_SHOWN,{post_id:r.id,referring_user_id:o.id})},[r.id,o.id]);const we=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_DISMISSED,{post_id:r.id,referring_user_id:o.id}),x(!1)},[r.id,o.id,x]),Re=(0,t.I4)(()=>yN(void 0,null,function*(){if(!q){de(!0);try{if((0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_CTA_CLICKED,{post_id:r.id,referring_user_id:o.id}),!_e||Se.isFollowing)return;yield Se.toggle(),x(!1)}finally{de(!1)}}}),[r.id,o.id,_e,Se,q,de,x]);if(!_e)return null;const Fe=(_=(i=o.photo_url)!=null?i:n.logo_url)!=null?_:n.author_photo_url;let He=null;const ut=(k=(A=o.subscriptions)==null?void 0:A.find(et=>et.publication_id==n.id))==null?void 0:k.membership_state;return ut==="subscribed"?He=(0,e.h)(a.xv.B2,{translated:!0,align:"center",color:"pub-primary-text"},(0,e.h)("strong",null,I18N.p(o.name)),", a paid subscriber of ",(0,e.h)("strong",null,I18N.p(n.name)),", shared this with you"):ut==="free_signup"?He=(0,e.h)(a.xv.B2,{translated:!0,align:"center",color:"pub-primary-text"},(0,e.h)("strong",null,I18N.p(o.name)),", a subscriber of ",(0,e.h)("strong",null,I18N.p(n.name)),", shared this with you"):He=(0,e.h)(a.xv.B2,{translated:!0,align:"center",color:"pub-primary-text"},(0,e.h)("strong",null,I18N.p(o.name))," shared this post from ",(0,e.h)("strong",null,I18N.p(n.name))," with you"),(0,e.h)(c.u_,{isOpen:B,onClose:we},(0,e.h)("div",{className:Wg.avatarContainer},(0,e.h)(_o.qE,{className:Wg.avatar,size:64,user:{photo_url:Fe}})),(0,e.h)(c.fe,null,He),(0,e.h)(c.mz,{alignment:"center",primaryButton:(0,e.h)(me.zx,{priority:"primary-theme",disabled:q,onClick:Re},ve`Follow ${(0,gN.Q1)(o.name)} and continue reading`),secondaryButton:(0,e.h)(me.zx,{priority:"secondary",fill:"empty",onClick:we},Oe("Read without following"))}))};var EN=Object.defineProperty,PN=Object.defineProperties,ON=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,wN=Object.prototype.hasOwnProperty,SN=Object.prototype.propertyIsEnumerable,Hg=(n,r,o)=>r in n?EN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,es=(n,r)=>{for(var o in r||(r={}))wN.call(r,o)&&Hg(n,o,r[o]);if(jg)for(var o of jg(r))SN.call(r,o)&&Hg(n,o,r[o]);return n},Ys=(n,r)=>PN(n,ON(r)),pu=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const gd="focus-comment-input",Vg=["details","comments"],CN=(n,r)=>n&&!n.invite_only&&r&&r.has_publication&&!r.is_admin&&!r.is_contributor&&!r.is_public_admin&&(0,Kc.P)(r,n),TN=(n,r,o,i)=>n.payments_state==="enabled"?!(r!=null&&r.is_subscribed):r!=null&&r.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&o&&!(r!=null&&r.is_pledged):!(r!=null&&r.is_free_subscribed);class vd extends e.Component{constructor(r,o){var i,_,A,k;super(r,o),this.onTopReached=x=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,d.trackPostSeen)({post:this.props.post,hasPaywall:x,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))},this.onTranscriptionClick=()=>{this.setState(x=>({showTranscription:!x.showTranscription}))},this.onCommentButtonClicked=x=>{var q,de;if(this.props.post.type==="podcast"){x.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),(de=(q=this.props)==null?void 0:q.setTab)==null||de.call(q,"comments"),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var _e;(_e=this.podcastCommentInput.current)==null||_e.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(x.stopPropagation(),x.preventDefault(),document.dispatchEvent(new CustomEvent(gd)))},this.handleClickTab=x=>{var q,de;this.setState({activeTab:x}),(de=(q=this.props)==null?void 0:q.setTab)==null||de.call(q,x),x==="comments"&&!this.state.podcastComments&&this.loadComments()},this.handleAddPodcastComment=x=>{this.setState({podcastComments:[x].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})},this.handleUpdatePodcastComments=x=>{let q=0;const de=(ve,Oe)=>ve.map(Se=>Se.id===Oe.id?(Oe.status==="deleted"?q-=1:q+=Oe.children.length-Se.children.length,Oe):Ys(es({},Se),{children:de(Se.children,Oe)})),_e=de(this.state.podcastComments,x);this.setState({podcastComments:_e,addedPodcastComments:this.state.addedPodcastComments+q})},this.handleUpdateSortPodcastComments=x=>{(0,d.track)(d.EVENTS.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:x}),this.setState({commentSort:x},()=>{this.loadComments()})};const B=(0,W.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=r.post.default_comment_sort)!=null?i:"best_first",activeTab:Vg.includes(B)?B:"details",loadedWithHeaderLink:typeof window!="undefined"&&((_=window.location.hash)==null?void 0:_.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null,feedUrl:null,clippingMode:!1,shouldShowSubscribePrompt:!1,shouldShowFollowPrompt:!1},(k=(A=this.props)==null?void 0:A.setTab)==null||k.call(A,Vg.includes(B)?B:"details"),!r.paywall&&!r.post.hidden&&r.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=AN(r.post.body_html),this.state.truncated=r.truncateAt?DN(r.post.body_html,r.truncateAt,r.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,f.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,f.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,f.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,f.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=CN(r.pub,r.user)}loadReactors(){return pu(this,null,function*(){const[r,o]=yield Promise.all([Ke().get(`/api/v1/post/${this.props.post.id}/reactors`),Ke().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:r.body,restackers:o.body})})}componentDidMount(){return pu(this,null,function*(){var r;this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Et.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,d.track)(d.EVENTS.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,d.triggerPostPagePingBacks)({post:this.props.post});const o=(0,f.getQueryItem)("subscribe_prompt");o&&(o==="paid"?this.props.popToast(i=>(0,e.h)(c.FN,Ys(es({},i),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(i=>(0,e.h)(c.FN,Ys(es({},i),{text:`Subscribed to ${this.props.pub.name}`})))),this.setPostPromptState(),(0,f.getQueryItem)("onboarded-from")==="follow"&&((0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_REDIRECTED,{post_id:this.props.post.id,referring_user_id:this.props.referringUser.id,destination:"post"}),(0,W.removeQueryParam)("onboarded-from"),(r=this.props.referringUser)!=null&&r.name&&this.props.popToast(i=>(0,e.h)(c.FN,Ys(es({},i),{Icon:t4.$,text:`Followed ${(0,Et.guessFirstName)(this.props.referringUser.name)}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return pu(this,null,function*(){const r={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const o=yield Ke().get(`/api/v1/post/${this.props.post.id}/comments`).query(r);this.setState({podcastComments:o.body.comments})}catch(o){alert((0,W.getNetworkErrorMessage)(o))}})}setPostPromptState(){return pu(this,null,function*(){const r=this.props.post.type==="newsletter"&&this.props.getSettingFor("enable_post_page_conversion")===!0&&!this.props.disableSubscribePrompt&&!(0,W.getUrlHash)()&&!this.props.readerIsSearchCrawler,{pub:o,user:i,referringUser:_}=this.props;let A=[];if(i)try{A=yield(0,$n.rd)("/api/v1/feed/following")}catch(x){}const k=r&&i&&_&&_.name&&_.id!==(i==null?void 0:i.id)&&!A.includes(_.id)&&o.contributors.every(x=>x.user_id!==_.id),B=r&&!k&&!this.props.paywall&&!this.props.freeSignup&&!i;this.setState({shouldShowFollowPrompt:k,shouldShowSubscribePrompt:B})})}triggerShare({fromEmail:r}={}){r?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(r){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,d.trackPostBottomSeen)({post:this.props.post,hasPaywall:r,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:r,user:o,pub:i,getSettingFor:_}=this.props,{canShowSubscribeFooterAfterPost:A}=this.state;return r&&A?TN(i,o,_("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const r=document.createElement("div");r.innerHTML=this.props.post.body_html;const o=this.props.pub.post_preview_limit||Et.DEFAULT_PREVIEW_LIMIT;let i="",_=!1;for(let A=r.childNodes.length-1;A>=0;A--){const k=r.childNodes[A];if(i+=k.textContent,i.length>o){_=!0;break}}return _}render({commentsEnabled:r,user:o,pub:i,post:_,freeSignup:A,freeSignupEmail:k,isServingFreePodcastUrl:B,isShowsPost:x,reaction_token:q,invisible:de,paywall:_e,onChange:ve,hideTitle:Oe,noTitleLink:Se,showComments:we,fromPostPage:Re,freeTrialCoupon:Fe,showRestackModal:He,stripe_publishable_key:ut,crossPostInfo:et,iString:rt,iTemplate:gt,themeVariables:Tt,referringUser:St,renderComments:Dt,renderContent:Lt},{showTranscription:Ft,activeTab:It,loadedWithHeaderLink:Qt,truncated:Xt,coupon:ar,autoPlay:fr,autoPlayVoiceOver:At,podcastComments:Gt,commentSort:cr,addedPodcastComments:nr,reactors:er,restackers:Ot,shouldShowFollowPrompt:Mt,shouldShowSubscribePrompt:kt}){var zt,bt,Tr,tr;const Wr=(0,v.isMobile)({checkFirst4:!0}),Fr=(0,bo.default)("like_posts_enabled"),ln=(0,bo.default)("allow_video_transcription"),Rr=this.state.clippingMode,en=Nn=>this.setState({clippingMode:Nn}),kr=!_e||_e&&this.shouldTrackPaywallPostSeen(),yr=_.type==="video"&&(_e?j0:Ja.Z),xr=_.type==="video"&&ln&&!_e&&((zt=_.videoUpload)==null?void 0:zt.transcription),Lr=_.type==="podcast"&&(r||!!((bt=_.podcastUpload)!=null&&bt.transcription)||!!_.videoUpload),un=_.comment_count+nr,dn=this.shouldShowUFI(),bn=Kg(_),Lo=er?er.length>0:!1;let Jn="";_.type==="video"?Jn=_.audience==="founding"&&(0,Rn.getFoundingTierName)(i)?gt`The full video is for subscribers in the ${(0,Rn.getFoundingTierName)(i)} plan`:_.audience==="founding"?gt`The full video is for subscribers in the Founding Member plan`:gt`The full video is for paid subscribers`:_.type==="adhoc_email"?Jn=_.audience==="founding"&&(0,Rn.getFoundingTierName)(i)?gt`This email is for subscribers in the ${(0,Rn.getFoundingTierName)(i)} plan`:_.audience==="founding"?gt`This email is for subscribers in the Founding Member plan`:gt`This email is for paid subscribers`:Jn=_.audience==="founding"&&(0,Rn.getFoundingTierName)(i)?gt`This post is for subscribers in the ${(0,Rn.getFoundingTierName)(i)} plan`:_.audience==="founding"?gt`This post is for subscribers in the Founding Member plan`:gt`This post is for paid subscribers`;const Gn=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"available-content"},Ft?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(H0,{post:_,pub:i,user:o,playerRef:this.videoPlayer})):(0,e.h)(Ds,{html:Xt||_.body_html,pub:i,trackSelection:!0,user:o,freeSignup:A,freeSignupEmail:k,post:_,paywall:_e,showing_behind_paywall:!!_.post_paywall_content_for_google,themeVariables:Tt})),_.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(Ds,{html:_.post_paywall_content_for_google,pub:i,trackSelection:!1,user:o,freeSignup:A,freeSignupEmail:k,post:_,paywall:_e})),!de&&kr&&(0,e.h)(ne,{onVisible:()=>this.onBottomReached(_e)})),$r=(0,e.h)(ks,es({user:o,freeSignupEmail:k,freeSignup:A,publication:i,post:_,fromPostPage:Re,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Fe:null},Object.assign({title:Jn,reauthenticationTitle:rt("To read this, please re-authenticate.")},_e)));return(0,e.h)("article",{className:s()(`typography ${_.type}-post post`,{"tw-p-0":_.type==="podcast","shows-post":x}),ref:this.containerRef},(o==null?void 0:o.is_contributor)&&(_==null?void 0:_.id)&&(_==null?void 0:_.type)==="page"&&(0,e.h)(qo.z,{variant:"themed-secondary",href:(0,yt.getEditPostUrlById)(i,_.id,_.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Bi.Z,{size:20})},"Edit"),(0,e.h)(NN,{post:_,user:o,onChange:ve}),(0,e.h)(Pi.ZP,{ref:this.shareDialogRef,user:o,pub:i,post:_,reaction_token:q,source:"email-share"}),Mt&&(0,e.h)(bN,{pub:i,post:_,referringUser:St}),kt&&(0,e.h)(pN,{pub:i,post:_,stripe_publishable_key:ut,sharer:St}),Lt?(0,e.h)(e.Fragment,null,!de&&(0,e.h)(ne,{onVisible:()=>{this.onTopReached(_e)}}),Lt({comments:Dt?Dt():null,postContent:(0,e.h)(e.Fragment,null,Gn,!!(_e&&!_.post_paywall_content_for_google&&!B)&&$r)})):(0,e.h)(e.Fragment,null,(0,e.h)(dd,{visible:Rr,style:{zIndex:1}}),_.videoUpload&&_.type==="video"&&yr&&(0,e.h)(yr,{mediaUpload:_.videoUpload,pub:i,post:_,autoPlay:fr,restorePlaybackLocation:!0,reaction_token:q,ref:this.videoPlayer,clippingMode:Rr,onClippingModeCancel:()=>en(!1)}),_.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(u3,{bylinesEnabled:i.bylines_enabled,commentCount:un,commentsEnabled:r,freeSignupEmail:k,isFreeSignup:A,isLikesEnabled:Fr,isPaywall:_e,post:_,pub:i,magicToken:q,renderEditButton:()=>(0,e.h)(pd.l,{pub:i,post:_,iconHeight:18,user:o,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:o,onChange:ve,onClickCommentButton:r?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer,videoPlayerRef:this.videoPlayer,reaction_token:q,onFeedChange:Nn=>this.setState({feedUrl:Nn})}),Lr&&(0,e.h)(m3,{activeTab:It,loadedWithHeaderLink:Qt,commentCount:un,onClickTab:this.handleClickTab,transcription:(Tr=_.podcastUpload)==null?void 0:Tr.transcription,hideComments:!r,showPlayers:!!_.videoUpload&&!Wr,feedUrl:this.state.feedUrl,pub:i,post:_})):(0,e.h)(e.Fragment,null,(0,e.h)(mu,{user:o,pub:i,post:_,isOnPostPage:!0,freeSignup:A,freeSignupEmail:k,reaction_token:q,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Oe,noTitleLink:Se,onChange:ve,hideDate:_.type==="page",hideAudience:_.type==="page",showReactions:Fr,showComments:we,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Re,onClickCommentButton:this.onCommentButtonClicked,reactors:er,showRestackModal:He,showTranscriptionButton:!!xr,onTranscriptionClick:this.onTranscriptionClick,themeVariables:Tt,setClippingMode:en}),!de&&kr&&(0,e.h)(ne,{onVisible:()=>this.onTopReached(_e)}),(_.has_voiceover||!!_.voiceoverUpload)&&(0,e.h)(W2,{pub:i,post:_,mediaUploadId:_.voiceover_upload_id,duration:(tr=_.voiceoverUpload)==null?void 0:tr.duration,autoPlay:At,href:_.canonical_url,isPaywalled:!_.voiceover_upload_id}),!_.voiceoverUpload&&At&&bn&&(0,e.h)(hN,{postId:_.id,onClose:()=>{(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:_.id}),this.setState({autoPlayVoiceOver:!1})}})),et?(0,e.h)(S3,{postType:_.type,crossPostInfo:et}):null,(_.type!=="podcast"||It==="details"||!Lr)&&(0,e.h)("div",{className:s()({"container container--podcast-post container--podcast-post-with-ufi":_.type==="podcast"})},Gn,_e&&!_.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,$r,(0,e.h)(bg,{post:_})):Xt?(0,e.h)("p",null,(0,e.h)(be.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",rt("show full post"))):!["page"].includes(_==null?void 0:_.type)&&(0,e.h)(e.Fragment,null,dn&&(0,e.h)(IN,{pub:i,post:_,user:o,freeSignup:A,freeSignupEmail:k}),!dn&&this.shouldShowRecommendCta&&(0,e.h)(aN,{pub:i}),(0,bo.default)("like_posts_enabled")&&i.community_enabled&&Lo&&(0,e.h)(c.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(md,{post:_,pub:i,user:o,reactors:er,secondaryFaces:Ot})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(An.Mp,{post:_,pub:i,user:o,onChange:ve,themeVariables:Tt,postReactionToken:q})),(0,e.h)(bg,{post:_})),_.show_guest_bios&&_.type!=="podcast"&&(0,e.h)(MN,{user:o,pub:i,post:_})),_.type==="podcast"&&It==="comments"&&r&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(KA,{comments:Gt!=null?Gt:[],expectedCommentCount:un,post:_,pub:i,sort:cr,token:q,user:o,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),_.type==="podcast"&&It==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(H0,{post:_,pub:i,user:o,playerRef:this.podcastPlayer}))))}}vd.contextType=On,vd.displayName="Post";const hu=(0,c.dd)((0,gr.f9)((0,L.us)((0,l.fz)(vd)))),IN=({pub:n,post:r,user:o,freeSignup:i,freeSignupEmail:_,overridePledgesEnabled:A})=>{const{iString:k,iTemplate:B}=(0,l.M1)(),{getSettingFor:x}=(0,L.So)(),q=n.payments_state==="disabled"&&!n.invite_only&&(x("payment_pledges_enabled")||A),de=n.payments_state==="enabled"&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_subscribed)?"paid_upsell":q&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?"pledge_upsell":"free_upsell";(0,t.d4)(()=>{(0,d.track)(d.EVENTS.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:r.id,type:de})},[n.id,r.id,de]);const _e=(0,Et.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(ne,{onVisible:()=>{(0,d.track)(d.EVENTS.POST_END_CTA_SEEN,{pub_id:n.id,post_id:r.id,type:de})}}),(0,e.h)("h3",null,q&&(o!=null&&o.is_free_subscribed)?B`Support ${n.name}`:B`Subscribe to ${n.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},_e?B`By ${_e}`:null,_e&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),q&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?(0,e.h)(me.zx,{priority:"primary-theme",onClick:()=>{(0,d.track)(d.EVENTS.POST_END_CTA_CLICKED,{type:"pledge"}),(0,W.redirect)((0,yt.getSubscribeUrl)(n,{params:{utm_source:j.UTM_SOURCE.postEndCta}}),{local_navigation:!1})}},k("Pledge your support")):(0,e.h)(_a,{pub:n,post:r,user:o,freeSignup:i,freeSignupEmail:_,isStatic:!1,source:"post-end-cta"}))},$g=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),mu=({allowEdit:n,allowSendEmail:r,allowTruncate:o,base_url:i,children:_,className:A,hideAudience:k,hideDate:B,hideTitle:x,hidePinning:q,noTitleLink:de,isStatic:_e,isFreePreview:ve,is_draft:Oe,onChange:Se,post:we,pub:Re,reaction_token:Fe,showComments:He,showDatetime:ut,showEmailSent:et,showReactions:rt,showShare:gt,showAppUpsell:Tt,showSubtitle:St,showPhoto:Dt,showLabel:Lt,showRestack:Ft,showCommentRestack:It,hideAuthor:Qt,user:Xt,utm_source:ar,showUpdatedIcons:fr,fromPostPage:At,onClickCommentButton:Gt,reactors:cr,inThreadHead:nr,publishedPost:er,compEndsSoon:Ot,compEndedRecently:Mt,siteConfigValues:kt={},eligibleForTTS:zt,showRestackModal:bt,showIcon:Tr,isOnPostPage:tr,showTranscriptionButton:Wr,onTranscriptionClick:Fr,themeVariables:ln,setClippingMode:Rr=void 0})=>{const en=(0,v.isMobile)({checkFirst4:!0}),kr=typeof o=="number"?o:45,yr=we.title&&we.title.length>kr,xr=Oe?we.draft_title:we.title,Lr=[(Tr||we.type==="thread")&&(0,e.h)(X9,{postType:we.type,isStatic:_e,height:15,className:we.type}),yr&&o?(0,Et.truncateWords)(xr,kr):xr],un=Oe?we.draft_subtitle:we.subtitle;we.section_id&&Re.sections&&Re.sections.length&&(we.section=Re.sections.find(cs=>cs.id===we.section_id));const dn=!["page"].includes(we==null?void 0:we.type),bn=dn&&_e&&Ot&&(kt==null?void 0:kt.continue_support_cta_in_newsletter_emails),Lo=Kg(we)||zt||we.voiceoverUpload,Jn=(we==null?void 0:we.type)==="adhoc_email",Gn=dn&&_e&&!Jn;let $r;we.post_url_override?$r=we.post_url_override:_e?$r=ao.Substitutions.POST_TITLE_URL:$r=`${(0,yt.getPostUrl)(Re,we)}${ar?`?utm_source=${ar}`:""}`;const Nn=`${Re.base_url+(we.section?(0,yt.getSectionUrl)(Re,{section:we.section}):"")}/?utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.menu}`,Ii=()=>{(0,d.track)(d.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:we.id,type:we.type}),Rr==null||Rr(!0)};return(0,e.h)("div",{className:s()("post-header",A)},Lt&&we.section&&(0,e.h)(c.hs,{className:"post-label"},(0,e.h)(c.xv.Meta,{as:"a",size:14,href:Nn},we.section.name)),bn&&(0,e.h)(g3,{post:we,compAlreadyExpired:Mt}),!x&&(0,e.h)("h1",{className:s()("post-title",we.is_published?"published":we.type==="restack"?"email-only-cross-post":we.type==="adhoc_email"?"adhoc":"unpublished")},de?Lr:(0,e.h)("a",{href:$r},Lr)),St&&un&&(0,e.h)("h3",{className:"subtitle"},un),tr&&!_e?(0,e.h)(c.tu,{paddingBottom:16},(0,e.h)(c.tu,{paddingY:16},(0,e.h)(Gg,{post:we,pub:Re})),en?At&&(0,e.h)(An.mt,{post:we,pub:Re,user:Xt,isStatic:_e,postReactionToken:Fe,onChange:Se,allowEdit:n,hidePinning:q,showEmailSent:et,allowSendEmail:r,hideComments:!He,onCommentsClick:Gt,showRestackModal:bt}):(0,e.h)(An.Mp,{post:we,pub:Re,user:Xt,onChange:Se,showRestackModal:bt,showTranscriptionButton:Wr,onTranscriptionClick:Fr,themeVariables:ln,onClipClick:Ii,showClipping:we.type==="video",postReactionToken:Fe})):(0,e.h)(e.Fragment,null,dn&&!_e&&!er&&!nr?(0,e.h)(X_,{className:"meta-subheader",pub:Re,post:we,user:Xt,showDate:!B,showDatetime:ut,isStatic:_e,postReactionToken:Fe,onChange:Se,allowEdit:n,hidePinning:q,showEmailSent:et,allowSendEmail:r,allowMobileFooter:At,reactors:cr,onCommentsClick:Gt,showRestackModal:bt,setClippingMode:Rr}):dn&&!_e&&er?(0,e.h)(An._2,{post:we,pub:Re,user:Xt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Fe,showEmailSent:et,hideShare:!gt||we.type==="restack",hideComments:we.type==="restack",hideSavePost:we.type==="restack",hideReactions:we.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:r,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!B,showDatetime:ut,showAuthor:!Qt},position:"publisher-post-list"}):nr&&!_e?(0,e.h)(An._2,{post:we,pub:Re,user:Xt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Fe,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:r,editButtonIsLast:!0,onChange:Se,preambleConfig:{showAudience:!k,showDate:!B,showDatetime:ut,showAuthor:!Qt},hideShare:!gt,position:"publisher-post-list"}):dn?(0,e.h)(mg,{user:Xt,pub:Re,post:we,showDate:!B,showDatetime:ut,showEmailSent:et,showAudience:!k,showReactions:!Gn&&rt,showComments:!Gn&&He,showShare:!Gn&&gt,showRestack:!Gn&&Ft,reaction_token:Fe,onChange:Se,isStatic:_e,isFreePreview:ve,sharedShareDialog:!0,base_url:i,allowSendEmail:r,allowEdit:n,showAuthor:!Qt,showPhoto:Dt,hidePinning:q,showUpdatedIcons:fr,inThreadHead:nr,fromPostPage:At,onClickCommentButton:Gt,reactors:cr}):(0,e.h)("div",{className:"spacer",style:{height:24}}),dn&&Gn&&(0,e.h)(An.yT,{customization:{showShare:gt,showComments:He,showReactions:rt,showListen:!Ft&&!ve&&Lo,showSave:!Ft,showRestack:Ft,showCommentRestack:It,showAppUpsell:Tt}}),Jn&&(0,e.h)("div",{className:"email-ufi-2-empty"})),_)},MN=({user:n,pub:r,post:o})=>{const{iString:i,iTemplate:_}=(0,l.M1)(),A=(0,Et.getBylineUsers)(o).filter(k=>k.is_guest);return A.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),A.map(k=>{const B=(0,Et.guessFirstName)(k.name);let x=k.primaryPublicationSubscribeUrl;x&&(n!=null&&n.email)&&(x=(0,f.updateQuery)(x,{email:n.email,autoSubmit:!0,utm_source:j.UTM_SOURCE.substack,utm_campaign:j.UTM_CAMPAIGN.guestPostBio,utm_medium:j.UTM_MEDIUM.web}));const q=(0,f.updateQuery)((0,yt.getReaderProfileUrl)(k),{utm_campaign:j.UTM_CAMPAIGN.guestPostBio,utm_medium:j.UTM_MEDIUM.web}),de=rd.ZP.hasCustomProfilePhoto(k);return(0,e.h)("div",{className:s()("post-contributor-bio",{"post-contributor-bio-no-text":!k.bio}),"data-user-id":k.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},de&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(ha.ProfileHoverCard,{subject:k,utmSource:"byline"},(0,e.h)(rd.ZP,{size:52,user:n,pub:r,subject:k}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)(c.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(ha.ProfileHoverCard,{subject:k,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:q,native:!0},k.name)),(0,e.h)(Ql.UserBadge,{size:"sm",tier:k.bestseller_tier,userId:k.id})),k.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},k.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},x&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:x,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},_`Subscribe to ${B}`)))))))))))}))};class sF extends null{render({renderPost:r,posts:o,hideFirstHeading:i,className:_,top:A,children:k}){return o=o.slice(0).sort((B,x)=>dayjs(x.post_date)-dayjs(B.post_date)),h("div",{className:`calendared-post-list ${_||""}`},A,flat(this.renderByHeading(o,"year",(B,x)=>[!x.isSameNow("year")&&h("h2",{date:x},x.year()),this.renderByHeading(B,"month",(q,de)=>[!(de.isSameNow("year")&&de.isSameNow("month"))&&h("h3",{date:x},get_month_name(de)," ",!de.isSameNow("year")&&de.year()),q.map(_e=>r(_e,o.indexOf(_e),o))])]),1/0).filter(B=>B).filter((B,x,q)=>!i||x>=q.findIndex(de=>!de.props||!de.props.date)),k)}renderByHeading(r,o,i){return Array.from(group_by(r,_=>dayjs(_.post_date)[o]())).sort((_,A)=>A[0]-_[0]).map(([,_])=>i(_,dayjs(_[0].post_date)))}}function DN(n,r=1e4,o=r){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<r||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>o);return i.innerHTML}function AN(n,r=500){if(typeof window=="undefined")return!1;const o=document.createElement("div");o.innerHTML=n;let i="",_=!1;for(let A=o.childNodes.length-1;A>=0;A--){const k=o.childNodes[A];if((0,W.hasClass)(k,"button-wrapper")||(0,W.hasClass)(k,"subscription-widget-wrap")){_=!0;break}if(i+=k.textContent,i.length>r)break}return!_}function NN({post:n,user:r,onChange:o}){const{onSave:i}=(0,An.vk)({post:n,isSaved:!1});return(0,t.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,f.updateQuery)({action:null})),r)){const A=i();o({post:Ys(es({},n),{is_saved:A})})}},[]),null}function Kg(n){var r;return(r=n.audio_items)==null?void 0:r.some(o=>o.type==="tts")}function Gg({variant:n="",post:r,pub:o,relativeLinks:i=!1}){const{publishedBylines:_=[]}=r,A=o.bylines_enabled&&(0,Et.getPrintedByline)(o,r)&&(r.type!=="podcast"||n==="shows"),k=A&&o.byline_images_enabled&&_.some(({photo_url:_e})=>!!_e),B=r.type!=="page",{iContext:x,language:q}=(0,l.M1)(),de=new Intl.DateTimeFormat(q==="en"?void 0:q,{dateStyle:"medium"});return(0,e.h)(c.hs,{className:s()("byline-wrapper",{[Fg["byline-wrapper--swap-on-mobile"]]:n==="shows"}),gap:12,alignItems:"center"},k&&(0,e.h)(c.hs,{className:s()({[Fg["byline-faces--swap-on-mobile"]]:n==="shows"})},(0,e.h)(Fs.ZP,{faces:_,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:i})),(0,e.h)(c.tu,null,A&&(0,e.h)(c.xv.Meta,{color:"pub-primary-text"},(0,e.h)(_c.M,{array:_,formatter:_e=>(0,e.h)(ha.ProfileHoverCard,{subject:_e,utmSource:"byline"},(0,e.h)(c.xv,{as:"a",href:(0,yt.getReaderProfileUrl)(_e),decoration:"hover-underline"},_e.name)),limit:4})),(0,e.h)(c.hs,{gap:4},(0,e.h)(c.xv.Meta,{color:"pub-secondary-text"},de.format(Hr()(r.post_date).toDate())),B&&(0,or.isPaidAudience)(r.audience)&&(0,e.h)(c.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",x("postAudience","Paid")))))}var yd=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class zg extends e.Component{constructor(r,o){super(r,o),this.likesEnabled=(0,bo.default)("like_posts_enabled"),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,za.ZP)(this.props.notify_user)}componentDidMount(){return yd(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return yd(this,null,function*(){if(!this.state.hasMore)return;(yield(0,W.stateLock)(this,"loading",o=>yd(this,[o],function*({hasMore:i,posts:_}){if(i){_=_||[];try{const k=(yield Ke().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:_.length})).body;_=_.concat(k),i=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:_,hasMore:i})}catch(A){console.error(A)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,f.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,f.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(r){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!r||r.filter(_=>(0,or.isPaidAudience)(_.audience)&&!_.hidden).length===0)return;const o="__cookie_checked",i=(0,f.parseQuery)(window.location.search);i[o]||(i[o]="true",window.location.search=`?${(0,f.serializeQuery)(i)}`)}onChange({post:r}){if(r){const o=(this.state.posts||[]).map(i=>i.id).indexOf(r&&r.id);o!==-1&&(this.state.posts[o]=r,this.setState({posts:this.state.posts}))}}render({user:r,pub:o,freeSignup:i,freeSignupEmail:_,preloadedPosts:A,hide_intro_popup:k,children:B,blurbs:x,noBalanceHeroText:q,launchWelcomePage:de,skipIntoPopupRender:_e},{posts:ve,hasMore:Oe,share_on_load:Se}){const we=[];for(const Re of ve||A||[])Re.hidden?Array.isArray(we[we.length-1])?we[we.length-1].push(Re):we.push([Re]):we.push(Re);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Pi.ZP,{ref:Re=>this.shareDialog=Re,user:r,pub:o}),_e?null:(0,e.h)(_n,{freeSignup:i,freeSignupEmail:_,user:r,post:null,publication:o,hidden:k||Se,blurbs:x,noBalance:q,launchWelcomePage:de}),o&&o.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},we.length===0&&!Oe&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),we.map((Re,Fe)=>Array.isArray(Re)?this.renderHiddenPosts(Re,Fe):this.renderPost(Re,Fe)),Oe?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(ne,{ref:Re=>this.loader=Re,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):o.has_posts&&ve&&ve.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,f.getBaseArchiveUrl)(o)},"View archive"))),B)}renderPost(r){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},r.type==="thread"?(0,e.h)(B_,{post:r,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(hu,{post:r,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:o=>this.onChange(o),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(r,o){let i,_;return o===0?(i=r.slice(0,1),_=r.slice(1)):r.length<=3?(i=r,_=[]):(i=r.slice(0,2),_=r.slice(2)),(0,e.h)(LN,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:_,onChange:A=>this.onChange(A)})}}zg.contextType=te.QA;class LN extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,d.track)(d.EVENTS.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:r,pub:o,posts:i,collapsedPosts:_,onChange:A},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(B=>(0,e.h)(mu,{user:r,pub:o,post:B,onChange:A})),_.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${_.length} more`),_.map(B=>(0,e.h)(mu,{className:"collapsed",user:r,pub:o,post:B,utm_source:j.UTM_SOURCE.home,onChange:A}))))}}const Zg=({delayFirstLoad:n,filterPostsPredicate:r,isBelowTheFold:o,maxPosts:i,pub:_,search:A,sort:k,sortTabs:B,source:x,user:q})=>(0,e.h)(c.xu,{paddingY:24},(0,e.h)(Gi,{delayFirstLoad:n,filterPostsPredicate:r,isBelowTheFold:o,maxPosts:i,pub:_,search:A,sort:k,sortTabs:B,source:x,user:q},({posts:de,linkToComments:_e,onClickPost:ve})=>(0,e.h)(Kn,{hideImages:_.theme.hide_images_from_list,linkToComments:_e,posts:de,pub:_,user:q,variant:"two-column-list",onChange:()=>{},onClickPost:ve})));var RN=ke(2405);function bd(){const n=r=>{var o,i;(r.data==="3pc.supported"||r.data==="3pc.unsupported")&&(r.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(A=>{const k=A.querySelector(".tiktok-iframe");k.classList.add("visible"),A.querySelector(".tiktok-wrap.static").classList.add("hidden");const B=A.querySelector(".fallback-failure");B.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&B.classList.add("visible")}catch(x){}k.onload=()=>{B.classList.add("visible")},k.onerror=()=>{B.classList.add("visible")},k.onabort=()=>{B.classList.add("visible")}}),(i=(o=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:o.forEach)==null||i.call(o,_=>_.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function lF(){useEffect(bd,[])}var Ed=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class xN extends e.Component{constructor(r,o){super(r,o),this.onVisible=_=>{const A=`${_} Seen`;this.state.post&&(this.state[A]||(this.setState({[A]:!0}),(0,d.track)(A,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var _;const A=document.querySelectorAll('article.post input[type="email"]'),k=((_=this.state.user)==null?void 0:_.email)||this.props.freeSignupEmail;k&&A.forEach(B=>B.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=r;r.post?this.state={post:r.post,user:i,introText:r.introText,crossPostedPub:r.crossPostedPub,crossPostingByLine:r.crossPostingByLine,userWithCrossPostedPubContext:r.userWithCrossPostedPubContext,crossPostedPublicationSettings:r.crossPostedPublicationSettings,crossPostedSiteConfig:r.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return Ed(this,null,function*(){(0,W.scrollToHash)(),this.cleanUpTikTokEnhanceListener=bd(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var r;(r=this.cleanUpTikTokEnhanceListener)==null||r.call(this)}componentDidUpdate(r){return Ed(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return Ed(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,W.scrollToHash)());else try{const r=yield Ke().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,W.setState)(this,{post:r.body.post,introText:r.body.intro_text,crossPostedPub:r.body.crossPostedPub,crossPostingByLine:r.body.crossPostingByLine,userWithCrossPostedPubContext:r.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:r.body.crossPostedPublicationSettings,crossPostedSiteConfig:r.body.crossPostedSiteConfig}),(0,W.scrollToHash)()}catch(r){console.error("Failed to load post:",r),alert((0,W.getNetworkErrorMessage)(r))}})}triggerShareOnLoad(){if((0,f.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,f.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:r,freeSignupEmail:o,publication:i},{post:_,user:A,introText:k,crossPostedPub:B,crossPostingByLine:x,userWithCrossPostedPubContext:q,crossPostedPublicationSettings:de,crossPostedSiteConfig:_e}){const ve=(_==null?void 0:_.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:s()("single-post-container")},(0,e.h)("div",{className:s()({container:!ve})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ou,{post:_,publication:i}),_&&de&&_e?(0,e.h)(L.Iz,{settings:de},(0,e.h)(te.vC,{siteConfigs:_e},(0,e.h)(RN.uL,{crossPost:{crossPostedPub:B}},(0,e.h)(hu,{ref:Oe=>{this.post=Oe},user:q,post:_,pub:B,freeSignup:r,freeSignupEmail:o,paywall:!1,noTitleLink:!0,onChange:Oe=>this.setState(Oe),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:B,crossPostingByLine:x,userWithCrossPostedPubContext:q}})))):(0,e.h)($g,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ne,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(Zg,{user:A,freeSignup:r,freeSignupEmail:o,pub:i,maxPosts:3,filterPostsPredicate:Oe=>Oe.id!==(_==null?void 0:_.id),stateInUrl:!0,sortTabs:Oe=>{const Se=Oe.findIndex(we=>we.id==="top");return Se!==-1?[Oe[Se]].concat(Oe.filter((we,Re)=>Re!==Se)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class Yg extends e.Component{constructor(r,o){super(r,o),this.state={freeSignup:r.freeSignup,freeSignupEmail:r.freeSignupEmail,success:!1}}componentDidMount(){var r;(0,W.preloadImage)((0,f.imginary)("/img/substack_wordmark.png",200));const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o?this.emailInput.value=o:(0,W.isMobileBrowser)()||(r=this.emailInput)==null||r.focus()}onPrepareData(r){(this.props.pub.plans||!this.context.getConfigFor("no_embed_redirect"))&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(r){this.setState({freeSignup:!0,freeSignupEmail:r.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=(0,yt.getSubscribeUrl)(this.props.pub,{addBase:!0,params:{just_signed_up:!0,skip_redirect_check:!0,utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.embed}}))}onError(r){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(o){console.error("Failed to close subscribe window:",o)}this.subscribeWindow=null}}render({pub:r,user:o,no_border:i},{freeSignup:_,freeSignupEmail:A,loading:k,success:B}){const x=A||o&&o.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},r.logo_url&&(0,e.h)("a",{href:`${r.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,f.imginary)(r.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${r.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${r.base_url}/`,target:"_blank"},(0,e.h)(ge,{text:r.name}))),!!r.hero_text&&(0,e.h)("p",{className:"publication-tagline"},(0,e.h)(ge,{text:r.hero_text})),(0,e.h)("div",{className:"publication-meta"},(0,e.h)(ge,{text:In(r,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:r.rankingDetailFreeSubscriberCount,includeRankingDetail:!!r.rankingDetailFreeSubscriberCount})})),r.invite_only?(0,e.h)(Le.ZP,{className:"subscription-request-form",ref:q=>this.form=q,noInlineErrors:!0,action:(0,f.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,f.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:q=>{this.setState({loading:!1}),alert((0,W.getNetworkErrorMessage)(q,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:E.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:E.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:E.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:E.xU}),!!x&&(0,W.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:s()(B?"secondary":"primary"),type:"email",name:"email",ref:q=>this.emailInput=q,readOnly:!!(x||k),disabled:!!(k||B||x),placeholder:"Type your email\u2026"}),(0,e.h)(be.Z,{className:s()("rightButton",B?"secondary":"primary"),type:"submit",disabled:!!(k||B),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},B?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(_a,{source:"embed",pub:r,user:o,freeSignup:_,freeSignupEmail:A,forceEmailInput:!0,onPrepareData:q=>this.onPrepareData(q),onSignup:q=>this.onSignup(q),onError:q=>this.onError(q)}),(0,e.h)("div",{className:"embed-tos"},(0,e.h)(a.xv.B4,{color:"pub-secondary-text",size:12,lineHeight:14,align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,f.getPublisherTermsUrl)({pub:r,utm_source:"embed_publication"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,f.getPublisherPrivacyUrl)({pub:r,utm_source:"embed_publication"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,f.getInfoCollectionUrl)({utm_source:"embed_publication"})},"our Information collection notice"))),(o||_)&&(0,e.h)("p",{className:"sign-out-block"},(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,f.getSignoutUrl)({redirect:document.location.href,for_pub:r.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,f.getSubstackUrl)()}/?utm_source=${j.UTM_SOURCE.embed}&utm_content=${r.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:q=>this.img=q,className:"substack-watermark",src:(0,f.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,f.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,f.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}Yg.contextType=te.QA;var UN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const BN=({pub:n,slug:r})=>{var o;const[i,_]=(0,t.eJ)(null);(0,t.d4)(()=>{function k(){return UN(this,null,function*(){try{const B=yield Ke().get(`/api/v1/posts/${r}`);_(B.body)}catch(B){console.error("Failed to load post:",B),B.status===404?alert("Post not found"):alert((0,W.getNetworkErrorMessage)(B))}})}k()},[r]);let A=!1;return typeof window!="undefined"&&(A=((o=(0,f.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),i?(0,e.h)(Cl.Z,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:A,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};function kN(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}var FN=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const WN=({pub:n,slug:r})=>{var o;const[i,_]=(0,t.eJ)(null);(0,t.d4)(()=>{function k(){return FN(this,null,function*(){try{const B=yield Ke().get(`/api/v1/posts/${r}`);_(B.body)}catch(B){console.error("Failed to load post:",B),B.status===404?alert("Post not found"):alert((0,W.getNetworkErrorMessage)(B))}})}k()},[r]);let A=!1;return typeof window!="undefined"&&(A=((o=(0,f.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Ja.Z,{mediaUpload:i.videoUpload,pub:n,autoPlay:A})):(0,e.h)("div",{className:"loading-container"})};var jN=Object.defineProperty,HN=Object.defineProperties,VN=Object.getOwnPropertyDescriptors,Jg=Object.getOwnPropertySymbols,$N=Object.prototype.hasOwnProperty,KN=Object.prototype.propertyIsEnumerable,Xg=(n,r,o)=>r in n?jN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,GN=(n,r)=>{for(var o in r||(r={}))$N.call(r,o)&&Xg(n,o,r[o]);if(Jg)for(var o of Jg(r))KN.call(r,o)&&Xg(n,o,r[o]);return n},zN=(n,r)=>HN(n,VN(r));const Qg=n=>(0,e.h)(De.l,zN(GN({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var ZN=Object.defineProperty,YN=Object.defineProperties,JN=Object.getOwnPropertyDescriptors,qg=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,QN=Object.prototype.propertyIsEnumerable,ev=(n,r,o)=>r in n?ZN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,qN=(n,r)=>{for(var o in r||(r={}))XN.call(r,o)&&ev(n,o,r[o]);if(qg)for(var o of qg(r))QN.call(r,o)&&ev(n,o,r[o]);return n},eL=(n,r)=>YN(n,JN(r));const tL=n=>(0,e.h)(De.l,eL(qN({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var rL=Object.defineProperty,nL=Object.defineProperties,oL=Object.getOwnPropertyDescriptors,tv=Object.getOwnPropertySymbols,aL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,rv=(n,r,o)=>r in n?rL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,sL=(n,r)=>{for(var o in r||(r={}))aL.call(r,o)&&rv(n,o,r[o]);if(tv)for(var o of tv(r))iL.call(r,o)&&rv(n,o,r[o]);return n},lL=(n,r)=>nL(n,oL(r));const uL=n=>(0,e.h)(De.l,lL(sL({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var cL=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function dL(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function fL(n,r){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${r.toLowerCase()}`}function pL({file:n=dL(),pub:r}){const[o,i]=(0,t.eJ)(null);return(0,t.d4)(()=>(()=>cL(this,null,function*(){if(!n.fileKey){const _=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);_.redirected&&(window.location.href=_.url);const A=yield _.json();i(A)}}))(),[n.fileKey]),(0,e.h)(hL,{file:o||n,pub:r})}function hL({file:n,pub:r}){var o;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(o=n.file_key)==null?void 0:o.split(".").pop().toUpperCase(),_=(0,Et.numberToHumanFileSize)(n.num_bytes),A=fL(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,f.getBaseUrl)(r)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,f.getBaseUrl)(r)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},_," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,f.getBaseUrl)(r)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(uL,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(Qg,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:A,href:`${(0,f.getBaseUrl)(r)}/api/v1/file/${n.file_key}`},(0,e.h)(tL,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},A)),(0,e.h)(Qg,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var mL=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class Pd extends e.Component{constructor(){super(...arguments),this.acceptInvite=()=>mL(this,null,function*(){var r,o;try{const i=yield Ke().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(r=i.body)!=null&&r.postUrl?location.href=(o=i.body)==null?void 0:o.postUrl:(0,W.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const _=(0,W.getNetworkErrorMessage)(i);this.setState({error:_})}})}componentDidMount(){this.props.user||(0,W.redirectToLogin)()}render({pub:r,post:o,user:i,freeSignup:_,freeSignupEmail:A,inviteToPost:k,primaryEligiblePublications:B,switchAccountRedirectUrl:x},{error:q}){if(q)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,q));const de=k&&o&&o.type==="podcast",_e=de&&i?"Fill out your profile for your podcast appearance":de&&!i?"Set up your profile for your podcast appearance":k&&i?"Set up your profile":k&&!i?"Fill out your profile":`Your invite to ${r.name}`,ve=de?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Oe=k?"Update Profile & Accept Invite":"Accept Invite",Se=i?"Already a writer?":"Already have an account?",we=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,_e),(0,e.h)("p",null,ve),(0,e.h)(od._0,{pageTitle:"",user:i,freeSignup:_,freeSignupEmail:A,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:B,onSuccess:this.acceptInvite,text:Oe}),k&&x&&(0,e.h)("div",{className:"invite-switch-account"},Se," ",(0,e.h)("a",{href:x},we)))}}Pd.defaultProps={inviteToPost:!1,primaryEligiblePublications:[]};class _L extends e.Component{renderNotAvailable(r,{time:o=!1}={}){const i=o?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),r,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(ye.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,gL(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:r,t:o,user:i,freeSignupEmail:_,viral_gift_data:A}){const{sender_name:k,count_remaining:B,sender_id:x}=A,q=(0,Et.getGiftValueText)(r.plans),de=q?` (value: ${q})`:"",_e=`Accept ${k||"your friend"}'s gift`,ve=`A three-month subscription to ${r.name}${de}`,Oe=(0,W.setMetaData)({title:_e,description:ve,image:r.logo_url});if(!o||!B)return this.renderNotAvailable(Oe);let Se=null;i&&i.id==x&&(Se=this.renderForSender());let we="",Re=_||"";i&&!Se&&(we=i.name,Re=i.email);const Fe=`${B} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},Se,Oe,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",de),(0,e.h)("p",null,(0,e.h)("b",null,Fe)),(0,e.h)(Le.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:we}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:Re}),(0,e.h)("input",{type:"hidden",value:o,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(be.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function gL(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var vL=ke(39693),nv=ke.n(vL);const Od=({pub:n,section:r,isPodcast:o})=>{let i,_;return o&&n.podcast_title?({title:i}=nu(n,n.podcast_title),_=n.podcast_description):r?{title:i,description:_}=nu(n,`${r.name} | ${n.name}`,r.description):{title:i,description:_}=nu(n),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:ec()(Vf(n),{json:!0,isScriptContext:!0})}}),(0,W.setMetaData)({title:i,description:_}))},wd=({blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:i,noBalanceHeroText:_,pub:A,referralCode:k,showWelcome:B,user:x,launchWelcomePage:q})=>{const de=(0,t.sO)(!1),_e=(0,t.sO)(null);return(0,t.d4)(()=>{(0,f.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,f.updateQuery)({action:null})),de.current=!0),de.current&&_e.current&&_e.current.open(),typeof window!="undefined"&&B&&(0,W.removeQueryParam)("showWelcome")},[B]),(0,e.h)(e.Fragment,null,(0,e.h)(Pi.ZP,{ref:ve=>_e.current=ve,pub:A,user:x}),(0,e.h)(_n,{blurbs:n,freeSignup:r,freeSignupEmail:o,hidden:i||de.current,noBalance:_,publication:A,referralCode:k,showOnMount:B,user:x,launchWelcomePage:q}))};var yL=ke(78718),ov=ke.n(yL),bL=Object.defineProperty,EL=Object.defineProperties,PL=Object.getOwnPropertyDescriptors,av=Object.getOwnPropertySymbols,OL=Object.prototype.hasOwnProperty,wL=Object.prototype.propertyIsEnumerable,iv=(n,r,o)=>r in n?bL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,sv=(n,r)=>{for(var o in r||(r={}))OL.call(r,o)&&iv(n,o,r[o]);if(av)for(var o of av(r))wL.call(r,o)&&iv(n,o,r[o]);return n},lv=(n,r)=>EL(n,PL(r));const uv=({noFirstImage:n,posts:r,pub:o,user:i,utm:_,onChange:A})=>{const k={pub:o,user:i,utm:_,onChange:A};return(0,e.h)(Kn,lv(sv({},k),{variant:n?"two-three-two":"five-up",posts:r}))},SL=n=>(0,e.h)(uv,lv(sv({},n),{noFirstImage:!0})),CL={link:"frontend-main-home-MetaLink-module__link--b9iM0"},ts=({children:n,href:r,testid:o,onClick:i})=>(0,e.h)(c.xv.Meta,{className:CL.link,color:"pub-primary-text",as:"a",native:!0,href:r,"data-testid":o,onClick:i?_=>{_.preventDefault(),i()}:void 0},n),TL={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},ii=({children:n})=>(0,e.h)(c.xv,{className:TL.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},n),cv=({pub:n})=>{const{iString:r}=(0,l.M1)();return(0,e.h)(c.gq,{justifyContent:"space-between",paddingX:8},(0,e.h)(ii,null,r("Most Popular")),(0,e.h)(ts,{href:(0,f.getArchiveUrl)(n,{params:{sort:"top"}})},r("View all")))};var IL=Object.defineProperty,ML=Object.defineProperties,DL=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,AL=Object.prototype.hasOwnProperty,NL=Object.prototype.propertyIsEnumerable,fv=(n,r,o)=>r in n?IL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Sd=(n,r)=>{for(var o in r||(r={}))AL.call(r,o)&&fv(n,o,r[o]);if(dv)for(var o of dv(r))NL.call(r,o)&&fv(n,o,r[o]);return n},Cd=(n,r)=>ML(n,DL(r));const pv=({noFirstImage:n,posts:r,topPosts:o,pub:i,user:_,utm:A,onChange:k})=>{const B={pub:i,user:_,utm:A,onChange:k},{isTablet:x,isMobile:q}=(0,xn.v9)();return q?null:(0,e.h)(ti,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(Kn,Cd(Sd({},B),{variant:n?"two-small-three-medium":"two-small-one-large",posts:r,flex:"grow"})),o&&(0,e.h)(c.tu,{gap:12},(0,e.h)(cv,{pub:i}),(0,e.h)(Kn,Cd(Sd({},B),{flex:"grow",variant:x?"mini-row":"one-column-list",posts:o.slice(0,x?3:5)}))))},LL=n=>(0,e.h)(pv,Cd(Sd({},n),{noFirstImage:!0})),RL=({posts:n,pub:r,user:o,utm:i,onChange:_})=>n.length?(0,e.h)(Zi,{pub:r,user:o,utm:i,onChange:_,variant:"mobile-hero",post:n[0]}):null;var xL=Object.defineProperty,UL=Object.defineProperties,BL=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,kL=Object.prototype.hasOwnProperty,FL=Object.prototype.propertyIsEnumerable,mv=(n,r,o)=>r in n?xL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,WL=(n,r)=>{for(var o in r||(r={}))kL.call(r,o)&&mv(n,o,r[o]);if(hv)for(var o of hv(r))FL.call(r,o)&&mv(n,o,r[o]);return n},jL=(n,r)=>UL(n,BL(r));const _v=({isSmall:n,posts:r,pub:o,user:i,utm:_,onChange:A})=>r.length?(0,e.h)(ti,{variant:n?"three-column-width":"full-width"},(0,e.h)(Zi,{pub:o,user:i,utm:_,onChange:A,variant:n?"jumbo-small":"jumbo",post:r[0]})):null,HL=n=>(0,e.h)(_v,jL(WL({},n),{isSmall:!0}));var VL=Object.defineProperty,_u=Object.getOwnPropertySymbols,gv=Object.prototype.hasOwnProperty,vv=Object.prototype.propertyIsEnumerable,yv=(n,r,o)=>r in n?VL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,$L=(n,r)=>{for(var o in r||(r={}))gv.call(r,o)&&yv(n,o,r[o]);if(_u)for(var o of _u(r))vv.call(r,o)&&yv(n,o,r[o]);return n},KL=(n,r)=>{var o={};for(var i in n)gv.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&_u)for(var i of _u(n))r.indexOf(i)<0&&vv.call(n,i)&&(o[i]=n[i]);return o};const GL={magaziney:pv,"magazine-5":uv,newspaper:_v},zL=n=>{var r=n,{firstPostMissingImage:o,bodyVariant:i,isMobile:_,variant:A}=r,k=KL(r,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let B=GL[A];return _?B=RL:A==="newspaper"&&i==="list"?B=HL:A==="magaziney"&&o?B=LL:A==="magazine-5"&&o&&(B=SL),B?(0,e.h)(B,$L({},k)):(console.error("Component not found, add one to HomeHero"),null)},si=(0,e.createContext)({latestPostByContributorId:void 0,latestPodcastPosts:void 0,contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0,topPosts:void 0,utm:void 0,onChangePost:void 0});var ZL=ke(7739),YL=ke.n(ZL),JL=ke(89734),XL=ke.n(JL),QL=Object.defineProperty,qL=Object.defineProperties,eR=Object.getOwnPropertyDescriptors,bv=Object.getOwnPropertySymbols,tR=Object.prototype.hasOwnProperty,rR=Object.prototype.propertyIsEnumerable,Ev=(n,r,o)=>r in n?QL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nR=(n,r)=>{for(var o in r||(r={}))tR.call(r,o)&&Ev(n,o,r[o]);if(bv)for(var o of bv(r))rR.call(r,o)&&Ev(n,o,r[o]);return n},oR=(n,r)=>qL(n,eR(r));const aR=n=>(0,e.h)(De.l,oR(nR({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var iR=Object.defineProperty,Pv=Object.getOwnPropertySymbols,sR=Object.prototype.hasOwnProperty,lR=Object.prototype.propertyIsEnumerable,Ov=(n,r,o)=>r in n?iR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wv=(n,r)=>{for(var o in r||(r={}))sR.call(r,o)&&Ov(n,o,r[o]);if(Pv)for(var o of Pv(r))lR.call(r,o)&&Ov(n,o,r[o]);return n};const uR=({homepageLinks:n,pub:r,renderGroup:o,renderLink:i})=>{const _=YL()(n,"group"),A=XL()(Object.keys(_),k=>_[k][0].rank);return(0,e.h)(e.Fragment,null,A.map(k=>(0,e.h)(cR,{group:k,items:_[k],pub:r,newTab:!0,renderGroup:o,renderLink:i})))},cR=({group:n,items:r,newTab:o,pub:i,renderGroup:_,renderLink:A})=>{const k=[];let B=null;o&&(B="_blank",k.push("noopener")),(!i||i!=null&&i.no_follow)&&k.push("ugc nofollow");const x={rel:k.join(" "),target:B},q=(0,e.h)(e.Fragment,null,r.map(({title:de,url:_e,subtitle:ve,subtitleUrl:Oe,edit:Se,className:we})=>A?A({title:de,url:_e,subtitle:ve,linkProps:x}):(0,e.h)("div",{className:s()("home-right-col",we)},Se?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:_e,native:!0},de),(0,e.h)(be.Z,{className:"button secondary show-on-hover",href:Se,title:"edit"},(0,e.h)(aR,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",wv({className:"home-right-col-title",href:_e,native:!0},x),de),ve&&(0,e.h)("a",wv({className:"home-right-col-sub",href:Oe||_e,native:!0},x),ve))));return _?_({title:n,links:q}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),q)},Sv={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var dR=Object.defineProperty,fR=Object.defineProperties,pR=Object.getOwnPropertyDescriptors,gu=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,Tv=Object.prototype.propertyIsEnumerable,Iv=(n,r,o)=>r in n?dR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Mv=(n,r)=>{for(var o in r||(r={}))Cv.call(r,o)&&Iv(n,o,r[o]);if(gu)for(var o of gu(r))Tv.call(r,o)&&Iv(n,o,r[o]);return n},hR=(n,r)=>fR(n,pR(r)),mR=(n,r)=>{var o={};for(var i in n)Cv.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&gu)for(var i of gu(n))r.indexOf(i)<0&&Tv.call(n,i)&&(o[i]=n[i]);return o};const Td=(0,Te.forwardRef)((n,r)=>{var o=n,{children:i,className:_,disable:A,href:k,hoverBackground:B,onClick:x}=o,q=mR(o,["children","className","disable","href","hoverBackground","onClick"]);const de=A?void 0:x;return(0,e.h)(Wi.xu,hR(Mv(Mv({},q),k?{as:"a",href:k}:{}),{ref:r,className:s()(_,!A&&Sv.container,{[Sv.containerHoverLight]:B==="light"&&!A}),role:de?"button":void 0,onClick:de}),i)});var _R=Object.defineProperty,gR=Object.defineProperties,vR=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertySymbols,Dv=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable,Nv=(n,r,o)=>r in n?_R(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Id=(n,r)=>{for(var o in r||(r={}))Dv.call(r,o)&&Nv(n,o,r[o]);if(vu)for(var o of vu(r))Av.call(r,o)&&Nv(n,o,r[o]);return n},Md=(n,r)=>gR(n,vR(r)),yR=(n,r)=>{var o={};for(var i in n)Dv.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&vu)for(var i of vu(n))r.indexOf(i)<0&&Av.call(n,i)&&(o[i]=n[i]);return o};const yu=n=>{var r=n,{alignItems:o="center",body:i,clampTitle:_,image:A,linkProps:k,subtitle:B,title:x,url:q}=r,de=yR(r,["alignItems","body","clampTitle","image","linkProps","subtitle","title","url"]);const{size:_e,lineHeight:ve}=Xc.sm,Oe=typeof window=="undefined",Se=(0,e.h)(Td,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(c.gq,Md(Id({},de),{alignItems:o,gap:16}),A&&(0,e.h)(c.xu,{alignSelf:"start"},A),(0,e.h)(c.tu,{gap:8},(0,e.h)(c.tu,{style:{wordBreak:"break-word"}},(0,e.h)(c.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:ve,size:_e,clamp:_},Oe?(0,e.h)("a",Md(Id({},k),{href:q,style:{textDecoration:"none",display:"block"}}),x):x),B&&(0,e.h)(c.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},B)),i&&(0,e.h)("div",null,i))));return Oe?Se:(0,e.h)("a",Md(Id({},k),{href:q,style:{textDecoration:"none",display:"block"}}),Se)},Lv=({hideHeaderBorder:n,pub:r})=>{const{homepageLinks:o}=(0,t.qp)(si);return!o||o.length===0?null:(0,e.h)(c.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(uR,{homepageLinks:o,pub:r,renderGroup:({title:i,links:_})=>(0,e.h)(c.tu,{gap:16},(0,e.h)(c.gq,{alignItems:"center",borderBottom:n?void 0:"detail-themed",paddingBottom:n?void 0:8,paddingX:8},(0,e.h)(ii,null,i)),(0,e.h)(c.tu,{gap:4},_)),renderLink:({linkProps:i,subtitle:_,title:A,url:k})=>(0,e.h)(yu,{linkProps:i,subtitle:_,title:A,url:k})}))},bR={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},bu=()=>{const{iString:n}=(0,l.M1)();return(0,e.h)(c.xu,{paddingX:16,paddingY:20,radius:6,className:bR.container,flex:"grow"},(0,e.h)(c.xv.B4,{color:"pub-secondary-text"},n("Coming soon")))};var ER=Object.defineProperty,PR=Object.defineProperties,OR=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,wR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,xv=(n,r,o)=>r in n?ER(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,CR=(n,r)=>{for(var o in r||(r={}))wR.call(r,o)&&xv(n,o,r[o]);if(Rv)for(var o of Rv(r))SR.call(r,o)&&xv(n,o,r[o]);return n},TR=(n,r)=>PR(n,OR(r)),Uv=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const IR=(n,r,o,i,{trackOnly:_=!1,freeSignupEmail:A}={})=>()=>Uv(void 0,null,function*(){if((0,d.track)(d.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:r.id}),!_)try{const k=o&&!o.is_magic&&o.email||A;yield Ke().post("/api/v1/free").send({email:k,source:"recommendations_page",first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU,other_publication_id:n.id,referring_pub_id:r.id}),i(n)}catch(k){alert((0,W.getNetworkErrorMessage)(k)||"Something went wrong")}}),MR=(n,r,o,{trackOnly:i=!1}={})=>()=>Uv(void 0,null,function*(){if((0,d.track)(d.EVENTS.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:r.id}),!i)try{yield Ke().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),o(n)}catch(_){alert((0,W.getNetworkErrorMessage)(_)||"Something went wrong")}}),DR=({pub:n,recommendations:r,allSubscribedPubs:o,fullySubscribedPubs:i,user:_,freeSignupEmail:A})=>{const{getExperimentVariant:k,exposeExperiment:B}=(0,gr.jc)(),{iString:x,iTemplate:q}=(0,l.M1)(),[de,_e]=(0,t.eJ)(o),ve=Se=>{_e([...de,Se])},Oe=Se=>{_e(de.filter(({id:we})=>we!==Se.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,q`Recommended by ${(0,Et.getByLine)(n)||n.name}`),(0,e.h)("div",{className:"recommended-publications-container"},r.map((Se,we)=>{const Re=Se.recommendedPublication;if(!Re)return;const Fe=`${(0,f.getBaseUrl)(Re)}/?utm_source=${j.UTM_SOURCE.recommendationsPage}&utm_campaign=${n.id}`,He=(0,f.getSubscribeUrl)(Re,{addBase:!0,utm_source:j.UTM_SOURCE.recommendationsPage,referring_pub_ids:[n.id],simple:!0}),ut=(0,Et.getByLine)(Re),et=i.map(({id:rt})=>rt).includes(Re.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Fe,onClick:()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Re.id,recommending_publication_id:n.id})}},(0,e.h)(Ya.Z,{pub:Re,size:48,logo_url:Re.logo_url||Re.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},Re.name),!!ut&&(0,e.h)("div",{className:"publication-author"},q`By ${ut}`))),de.map(({id:rt})=>rt).includes(Re.id)?(0,e.h)(be.Z,{onClick:MR(Re,n,Oe,{trackOnly:et}),href:et?(0,f.getPubAccountSettingsUrl)(Re,{addBase:!0}):null,className:"unsubscribe"},x("Subscribed")):(0,e.h)(be.Z,{onClick:_&&!_.is_magic&&_.email||A?IR(Re,n,_,ve,{freeSignupEmail:A}):()=>{(0,d.track)(d.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:Re.id,recommending_publication_id:n.id}),(0,W.redirect)(He,{local_navigation:!1})}},(0,e.h)(c.gq,{alignItems:"center",gap:8},(0,e.h)(fs.Z,{size:20}),x("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(Re.editorial_bio||Re.hero_text)&&(0,e.h)("div",{className:"publication-description"},Re.editorial_bio||Re.hero_text)),Se.description&&(0,e.h)(AR,{content:Se.description,author:(0,Et.getByLine)(n)||n.name}))))}))))},AR=({author:n,content:r})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},r),(0,e.h)("p",{className:"blurb-author"},"- ",n)),NR=({recommendations:n,numRecommendations:r,pub:o,user:i,render:_,renderRecommendation:A})=>{const{iString:k,iTemplate:B}=(0,l.M1)(),x=n.map(q=>(0,e.h)(LR,{recommendation:q,pub:o,signedIn:!!i,render:A}));return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:q})=>q.id)})},[n]),_?_({recommendations:x,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,f.getPublishSettingsRecommendationsUrl)(o),hasMore:r>n.length,hasMoreUrl:(0,f.getRecommendationsPageUrl)(o),recommendationsCount:r}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,f.getRecommendationsPageUrl)(o)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,f.getPublishSettingsRecommendationsUrl)(o),native:!0},k("Manage")):r>n.length?(0,e.h)("a",{href:(0,f.getRecommendationsPageUrl)(o),native:!0},B`View all ${r}`):null),x)},LR=({recommendation:n,pub:r,signedIn:o,render:i})=>{const{recommendedPublication:_}=n,A=(0,f.getPubUrl)(_,{params:{utm_source:j.UTM_SOURCE.homepageRecommendations,utm_campaign:r.id},signedIn:o}),k=()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:r.id,recommended_publication_id:_.id,source:"homepage-recommendations"})},B={pub:_,logo_url:_.logo_url,href:A,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:B,pubName:_.name,pubAuthor:_.author.name,url:A,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(Ya.Z,TR(CR({},B),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:A,target:"_blank",onClick:k},_.name),(0,e.h)("div",{className:"pub-author"},_.author.name)))))},RR=NR;var xR=Object.defineProperty,UR=Object.defineProperties,BR=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,kR=Object.prototype.hasOwnProperty,FR=Object.prototype.propertyIsEnumerable,kv=(n,r,o)=>r in n?xR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,WR=(n,r)=>{for(var o in r||(r={}))kR.call(r,o)&&kv(n,o,r[o]);if(Bv)for(var o of Bv(r))FR.call(r,o)&&kv(n,o,r[o]);return n},jR=(n,r)=>UR(n,BR(r));const Fv=({pub:n,showEmptyState:r,hideHeaderBorder:o,user:i})=>{const{numRecommendations:_,recommendations:A}=(0,t.qp)(si),{iString:k,iTemplate:B}=(0,l.M1)();return!A||A.length===0&&!r?null:(0,e.h)(RR,{recommendations:A,numRecommendations:_,pub:n,user:i,render:({recommendations:x,canManage:q,manageUrl:de,hasMore:_e,hasMoreUrl:ve,recommendationsCount:Oe})=>(0,e.h)(c.tu,{gap:16},(0,e.h)(c.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:o?void 0:8,paddingX:8,borderBottom:o?void 0:"detail-themed"},(0,e.h)(ii,null,k("Recommendations")),q?(0,e.h)(ts,{href:de},k("Manage")):_e?(0,e.h)(ts,{href:ve,testid:"homepage-recommendations-view-all"},B`View all ${Oe}`):null),(0,e.h)(c.tu,{gap:4,"data-testid":"homepage-recommendations"},_===0?(0,e.h)(c.gq,{paddingX:8},(0,e.h)(bu,null)):x)),renderRecommendation:({url:x,onClick:q,pubIconProps:de,pubName:_e,pubAuthor:ve})=>{const Oe={onClick:q,target:"_blank",rel:"noopener"};return(0,e.h)(yu,{"data-testid":"homepage-recommendation",image:(0,e.h)(Ya.Z,jR(WR({},de),{size:40,noMargin:!0})),linkProps:Oe,subtitle:ve,title:_e,url:x})}})},Wv={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},jv=({pub:n,user:r})=>{const{freeSignup:o,freeSignupEmail:i}=(0,t.qp)(si),{size:_,lineHeight:A}=Xc.sm;return(0,e.h)(c.tu,{className:Wv.container,gap:24,paddingX:8},(0,e.h)(c.tu,{gap:8},n.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:Wv.pubLogo,src:(0,f.imginary)(n.logo_url,88),alt:n.name}),(0,e.h)("div",null,(0,e.h)(c.xv,{size:_,lineHeight:A,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n.name),n.hero_text&&(0,e.h)(c.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},n.hero_text))),!(r!=null&&r.is_subscribed)&&(0,e.h)(_a,{expectTruncation:!0,freeSignup:o,freeSignupEmail:i,isStatic:!1,pub:n,source:"magaziney-home-page",user:r}))},HR=({pub:n,user:r})=>{const{isMobile:o}=(0,xn.v9)();return(0,e.h)(c.tu,{gap:40},!o&&(0,e.h)(jv,{pub:n,user:r}),n.show_recs_on_homepage&&(0,e.h)(Fv,{pub:n,user:r}),(0,e.h)(Lv,{pub:n}))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=(0,pn.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);var $R=ke(35570);const Js={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var KR=Object.defineProperty,GR=Object.defineProperties,zR=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,Hv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,$v=(n,r,o)=>r in n?KR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,li=(n,r)=>{for(var o in r||(r={}))Hv.call(r,o)&&$v(n,o,r[o]);if(Eu)for(var o of Eu(r))Vv.call(r,o)&&$v(n,o,r[o]);return n},rs=(n,r)=>GR(n,zR(r)),Kv=(n,r)=>{var o={};for(var i in n)Hv.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Eu)for(var i of Eu(n))r.indexOf(i)<0&&Vv.call(n,i)&&(o[i]=n[i]);return o},ZR=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Pu=n=>"email_from_name"in n,YR=n=>{var r;const[o,i]=(0,t.eJ)((r=n.postsByGroupId)!=null?r:{}),[_,A]=(0,t.eJ)(!1),k=n,{posts:B,bodyPostGroups:x,hasEmptyGroupOptions:q,setHasInvalidGroupSelection:de}=k,_e=Kv(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,t.d4)(()=>{const Se=we=>ZR(void 0,null,function*(){const Re=li({},o);for(const Fe of we){const He={limit:6};if(Pu(Fe)?He.section_id=Fe.id:He.post_tag_id=Fe.id,!Re[Fe.id]){const{body:ut}=yield Ke().get("/api/v1/archive").query(He);Re[Fe.id]=ut}}Hs()(Re,o)||(i(Re),A(!1))});Object.keys(o).length===0&&x&&(x==null?void 0:x.length)>0&&(A(!0),Se(x))},[x,i,o]);const ve=(0,t.I4)(Se=>{var we;const Re=(we=Se.post_tag_id)!=null?we:Se.section_id;if(!Re)throw new Error("Must supply section_id or post_tag_id");o&&o[Re]||Ke().get("/api/v1/archive").query(li({limit:3},Se)).then(({body:Fe})=>{i(rs(li({},o),{[Re]:Fe}))})},[o,i]),Oe=(0,t.I4)(Se=>{var we;return!o||o&&Object.keys(o).length===0||!o[Se]?null:(we=o[Se])==null?void 0:we.slice(0,3)},[o]);return q||!x||(x==null?void 0:x.length)===0?de?(de(!0),(0,e.h)(Gv,{message:"No groups selected"})):(0,e.h)(c.tu,null,(0,e.h)(Dd,{pub:n.pub}),(0,e.h)(Kn,rs(li({},_e),{variant:"three-column-grid",posts:B.slice(0,3)}))):(0,e.h)("div",{className:Js.homePageGroupsGrid},x.map(Se=>{const we=Oe(Se.id);return(0,e.h)(c.tu,{paddingBottom:24},(0,e.h)(Dd,{pub:n.pub,row:Se}),(0,e.h)(JR,rs(li({},_e),{posts:B,loadingSync:_,groupModel:Se,postsForId:we,setHasInvalidGroupSelection:de,onIntersectCallback:()=>{const Re=Pu(Se)?{section_id:Se.id}:{post_tag_id:Se.id};ve(Re)}})))}),x.length<3?(0,e.h)(c.tu,null,(0,e.h)(Dd,{pub:n.pub}),(0,e.h)(Kn,rs(li({},_e),{variant:"three-column-grid",posts:B.slice(0,3)}))):null)},Gv=({groupModel:n,message:r})=>(0,e.h)(c.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(c.tu,{alignItems:"center",justifyContent:"center",className:s()(Js.homePageGroupsGrid,n?Js.emptyGroupView:Js.emptyRowsView)},(0,e.h)(VR,{className:Js.emptyContentIcon}),r&&(0,e.h)(c.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},r),n&&(0,e.h)(c.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Pu(n)?"section":"tag"," to include it on your homepage."))),Dd=({row:n,pub:r})=>{var o;const{isMobile:i}=(0,xn.v9)();let _="/archive";return n&&(_=Pu(n)?(0,yt.getSectionUrl)(r,{section:n}):(0,yt.getPostTagUrl)(r,n)),(0,e.h)(c.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(c.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(c.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(o=n==null?void 0:n.name)!=null?o:"Recent posts"),(0,e.h)(ts,{href:_},"See all")))},JR=n=>{const r=n,{onIntersectCallback:o,groupModel:i,loadingSync:_,postsForId:A,setHasInvalidGroupSelection:k}=r,B=Kv(r,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[x,q]=(0,$R.Z)();return(0,t.d4)(()=>{q!=null&&q.isIntersecting&&!_&&o()},[q==null?void 0:q.isIntersecting,o,_]),A?A.length===0?k?(k(!0),(0,e.h)(Gv,{groupModel:i})):(0,e.h)(Kn,rs(li({},B),{variant:"three-column-grid",posts:B.posts.slice(0,3)})):(0,e.h)(Kn,rs(li({},B),{variant:"three-column-grid",posts:A})):(0,e.h)(Jc,{postCount:3,variant:"grid-groups",ref:x})};var XR=Object.defineProperty,QR=Object.defineProperties,qR=Object.getOwnPropertyDescriptors,zv=Object.getOwnPropertySymbols,ex=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,Zv=(n,r,o)=>r in n?XR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Yv=(n,r)=>{for(var o in r||(r={}))ex.call(r,o)&&Zv(n,o,r[o]);if(zv)for(var o of zv(r))tx.call(r,o)&&Zv(n,o,r[o]);return n},rx=(n,r)=>QR(n,qR(r));function nx({pub:n,user:r,freeSignup:o,freeSignupEmail:i,className:_=""}){const{iString:A,language:k}=(0,l.M1)();return(0,e.h)("div",{className:s()("home-sitemap",_)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),o||r&&r.is_free_subscribed?!(r&&r.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,f.getSubscribeUrl)(n,{utm_source:j.UTM_SOURCE.homeSitemap}),native:!0},(0,Et.getSubscribeText)(n,{language:k})):null:(0,e.h)(c.xu,{paddingTop:20},(0,e.h)(ye.Z,{className:"home-sitemap-signup-form",freeSignup:o,freeSignupEmail:i,pub:n,source:"home-sitemap",user:r,onSuccess:B=>{B.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,f.pathWithQuery)("/account/login",{redirect:document.location.href,email:B.body.email})},30):n.plans?document.location.href=(0,f.pathWithQuery)("/subscribe",rx(Yv(Yv({next:document.location.href,later:!0,just_signed_up:!0},B.body.subscription_id&&{subscription_id:B.body.subscription_id}),B.body.referral_token&&{referral_token:B.body.referral_token}),{requires_confirmation:B.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,f.getAboutUrl)(n),native:!1},A("About")),(0,e.h)("a",{href:(0,f.getBaseArchiveUrl)(n)},A("Archive")),n.has_recommendations&&(0,e.h)("a",{href:(0,f.getRecommendationsPageUrl)(n),native:!0},A("Recommendations")),n.can_have_sitemap&&(0,e.h)("a",{href:(0,f.getSitemapUrl)(n),native:!0},A("Sitemap"))))}var ox=Object.defineProperty,ax=Object.defineProperties,ix=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,sx=Object.prototype.hasOwnProperty,lx=Object.prototype.propertyIsEnumerable,Xv=(n,r,o)=>r in n?ox(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wi=(n,r)=>{for(var o in r||(r={}))sx.call(r,o)&&Xv(n,o,r[o]);if(Jv)for(var o of Jv(r))lx.call(r,o)&&Xv(n,o,r[o]);return n},Si=(n,r)=>ax(n,ix(r));const Qv=["newspaper","magaziney","magazine-5"],qv=16,mF=7,_F={newspaper:{id:"newspaper",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},e1=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return{newspaper:{id:"newspaper",label:n("Feature"),description:n("One featured post"),legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:n("Newspaper"),description:n("A side column of top posts"),legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:n("Magazine"),description:n("Five featured posts"),legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}}},gF=()=>{const n=e1();return Qv.map(o=>({value:o,label:n[o].label}))},ux=()=>{const n=e1();return Qv.reduce((r,o)=>Si(wi({},r),{[o]:n[o].postCount}),{})},t1=["list","grid","grid-groups","custom"],r1=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return{list:{id:"list",label:n("List"),description:n("A list of posts"),postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:n("Grid"),description:n("A grid of nine posts"),postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:n("Groups (sections or tags)"),description:n("A grid of nine posts, grouped by section or tag"),postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:n("Custom"),description:n("Custom layout"),postCount:{desktop:0,tablet:0,mobile:0}}}},cx=()=>{const n=r1();return t1.reduce((r,o)=>Si(wi({},r),{[o]:n[o].postCount}),{})},vF=({excludeCustom:n})=>{const r=r1();return t1.filter(o=>!n||o!=="custom").map(o=>({value:o,label:r[o].label}))},yF={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"},"top-posts":{id:"top-posts",label:"Top posts"}},Ad={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},bF=n=>{let r=!1;const o=[],i={},_=new Set,A=new Set;let k=0;return n.length===0&&(r=!0,o.push("You must have at least one content block")),n.forEach(B=>{const x=dx(B);x==="latest"&&(k+=Nd({contentBlock:B}),k>qv&&(r=!0,i[B.id]=Si(wi({},i[B.id]),{post_source:[`You can't have more than ${qv} of your most recent posts`]}))),x!=="latest"&&x!=="none"&&(_.has(x)?(r=!0,i[B.id]=Si(wi({},i[B.id]),{post_source:["You can't use the same post source more than once"]})):_.add(x)),x==="none"&&B.block_type!=="subscribe"&&(r=!0,i[B.id]=Si(wi({},i[B.id]),{post_source:["This block type requires a post source"]})),B.primary_sidebar_modules.forEach(q=>{A.has(q)?(r=!0,i[B.id]=Si(wi({},i[B.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):A.add(q)}),B.secondary_sidebar_modules.forEach(q=>{A.has(q)?(r=!0,i[B.id]=Si(wi({},i[B.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):A.add(q)})}),{hasError:r,errorObject:{global:o.length?o:null,contentBlocks:i}}},dx=n=>n.post_source==="tag"?`tag:${n.post_tag_id}`:n.post_source==="section"?`section:${n.section_id}`:n.post_source,Nd=({contentBlock:n,breakpoint:r="desktop"})=>{if(n.block_type==="list")return n.num_posts||Ad.posts.default;if(n.block_type==="grid"){const o=n.num_rows||Ad.rows.default;if(r==="desktop"||r==="mobile"){let i=4;return n.primary_sidebar_modules.length>0&&(i-=1),n.secondary_sidebar_modules.length>0&&(i-=1),i*o}else if(r==="tablet"){let i=3;return(n.primary_sidebar_modules.length>0||n.secondary_sidebar_modules.length>0)&&(i-=1),i*o}}return n.block_type==="feature"?4:0};var fx=Object.defineProperty,px=Object.defineProperties,hx=Object.getOwnPropertyDescriptors,Ou=Object.getOwnPropertySymbols,n1=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable,a1=(n,r,o)=>r in n?fx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ld=(n,r)=>{for(var o in r||(r={}))n1.call(r,o)&&a1(n,o,r[o]);if(Ou)for(var o of Ou(r))o1.call(r,o)&&a1(n,o,r[o]);return n},Rd=(n,r)=>px(n,hx(r)),mx=(n,r)=>{var o={};for(var i in n)n1.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ou)for(var i of Ou(n))r.indexOf(i)<0&&o1.call(n,i)&&(o[i]=n[i]);return o};const _x={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},gx={grid:"three-column-grid",list:"two-column-list"},vx={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},yx=n=>{var r=n,{freeSignup:o,freeSignupEmail:i,hideImagesFromList:_,posts:A,pub:k,showSiteMap:B,source:x,user:q,utm:de,variant:_e,onChange:ve,bodyPostGroups:Oe,postsByGroupId:Se}=r,we=mx(r,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:Re}=(0,xn.v9)(),He=cx()[_e][Re],ut=_e==="list"&&(_||A.slice(0,He).every(et=>!et.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(ti,{variant:_x[_e],showContentBelowOnMobile:!0},(0,e.h)(Gi,Rd(Ld({},we),{maxPosts:He,newPosts:A,pub:k,user:q,variant:_e}),({posts:et,linkToComments:rt,onClickPost:gt})=>{const Tt={hideImages:ut,linkToComments:rt,posts:et,pub:k,source:x,user:q,utm:de,onChange:ve,onClickPost:gt};return _e==="grid-groups"?(0,e.h)(YR,Rd(Ld({},Tt),{bodyPostGroups:Oe,postsByGroupId:Se,setHasInvalidGroupSelection:we.setHasInvalidGroupSelection,hasEmptyGroupOptions:we.hasEmptyGroupOptions})):(0,e.h)(Kn,Rd(Ld({},Tt),{variant:gx[_e]}))}),(0,e.h)(HR,{pub:k,user:q})),B&&(0,e.h)(ti,{variant:vx[_e]},(0,e.h)(nx,{pub:k,user:q,freeSignup:o,freeSignupEmail:i})))},bx={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},xd=()=>(0,e.h)(c.xu,{paddingX:16,paddingY:48,radius:6,className:bx.container},(0,e.h)(c.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),Ud=({title:n,viewAllUrl:r})=>{const{isMobile:o}=(0,xn.v9)();return(0,e.h)(c.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:o?12:16,paddingX:o?0:8},o?(0,e.h)(ii,null,n):(0,e.h)(c.xv.H2,{color:"pub-primary-text",font:"pub-headings"},n),r&&(0,e.h)(ts,{href:r},"View all"))},Xs={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},Ex=({leftContent:n,rightContent:r,mobileContent:o})=>{const{isMobile:i}=(0,xn.v9)();return i&&o?o:(0,e.h)("div",{className:Xs.container},(0,e.h)("div",{className:s()(Xs.column,Xs.left)},n),(0,e.h)("div",{className:s()(Xs.column,Xs.right)},r))},Px=({posts:n,pub:r,showEmptyState:o,title:i,user:_,viewAllUrl:A,onChange:k})=>{const{isTablet:B}=(0,xn.v9)();return!o&&n.length===0?null:(0,e.h)(e.Fragment,null,i&&(0,e.h)(Ud,{title:i,viewAllUrl:A}),n.length?(0,e.h)(Ex,{leftContent:(0,e.h)(Zi,{imageAspectRatio:"wide",hideWash:!0,post:n[0],pub:r,user:_,variant:"large",onChange:k}),rightContent:(0,e.h)(Kn,{posts:n.slice(1,4),pub:r,user:_,variant:B?"one-column-list":"two-column-list",onChange:k}),mobileContent:(0,e.h)(Kn,{posts:n.slice(0,4),pub:r,user:_,variant:"two-column-list",onChange:k})}):(0,e.h)(xd,null))},Ea={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},Bd=({leftContent:n,mainContent:r,rightContent:o,stretchToFullWidth:i})=>{const{isMobile:_,isTablet:A,isDesktop:k}=(0,xn.v9)(),B=n&&o;let x=2;return i&&(k?x=4-(n?1:0)-(o?1:0):A&&(x=3-(n||o?1:0))),_&&(x=1),(0,e.h)("div",{className:Ea.outerContainer},(0,e.h)("div",{className:Ea.container},n&&(0,e.h)(c.xu,{className:s()(Ea.column,Ea.column1),borderRight:B?"detail-themed":void 0,paddingTop:8},n),(0,e.h)(c.xu,{className:s()(Ea.column,{[Ea.column2]:x===2,[Ea.column3]:x===3,[Ea.column4]:x===4}),borderRight:B?"detail-themed":void 0},r),o&&(0,e.h)(c.xu,{className:s()(Ea.column,Ea.column1),paddingTop:8},o)))};var Ox=ke(8400),wx=ke.n(Ox);const Qs={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},Sx=({posts:n,pub:r,numColumns:o,user:i,onChange:_})=>{const A=wx()(n,o);return(0,e.h)(c.tu,{gap:16},A.map(k=>(0,e.h)(c.gq,{className:Qs.postRow},k.map(B=>(0,e.h)("div",{className:s()(Qs.postContainer,{[Qs.postContainerTwoColumn]:o===2,[Qs.postContainerThreeColumn]:o===3,[Qs.postContainerFourColumn]:o===4})},(0,e.h)(Zi,{post:B,pub:r,user:i,variant:"square",onChange:_}))))))},i1=({contributor:n,latestPost:r})=>r?(0,e.h)(Td,{href:r.canonical_url,hoverBackground:"light",padding:8,radius:6},(0,e.h)(c.gq,{gap:16,alignItems:"center"},(0,e.h)(c.tu,{flex:"grow"},(0,e.h)(c.xv.Meta,{color:"pub-accent"},n.name),(0,e.h)(oi,{post:r,preset:"sm"})),(0,e.h)(c.hs,{flex:"auto"},(0,e.h)(bl,{imageUrl:n.photo_url,size:48})))):null,s1=10,Cx=()=>{const{iString:n,iTemplate:r}=(0,l.M1)(),{contributors:o,latestPostByContributorId:i}=(0,t.qp)(si),[_,A]=(0,t.eJ)(!1);if(!o)return null;const k=o.filter(q=>q.name&&(i==null?void 0:i[q.id])),B=k.slice(0,s1),x=k.slice(s1);return(0,e.h)(c.tu,{gap:16},(0,e.h)(c.gq,{paddingX:8},(0,e.h)(ii,null,n("The latest from"))),(0,e.h)(c.tu,{gap:4},B.length?B.map(q=>(0,e.h)(i1,{contributor:q,latestPost:i==null?void 0:i[q.id]})):(0,e.h)(bu,null),(0,e.h)(c.HZ,{expanded:_},(0,e.h)(c.tu,{gap:4},x.map(q=>(0,e.h)(i1,{contributor:q,latestPost:i==null?void 0:i[q.id]})))),x.length>0&&(0,e.h)(c.gq,{paddingY:4,paddingX:8},(0,e.h)(ts,{onClick:()=>{A(!_)}},_?r`Show less`:r`Show ${x.length} more`))))},Ci={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},l1=({altText:n="Section logo",size:r=64,url:o,showPlaceholder:i})=>o?(0,e.h)("img",{className:s()(Ci.logo,{[Ci["logo-64"]]:r===64,[Ci["logo-72"]]:r===72}),src:(0,f.imginary)(o,r*2),alt:n}):i?(0,e.h)("div",{className:s()(Ci.logo,Ci.logoPlaceholder,{[Ci["logo-64"]]:r===64,[Ci["logo-72"]]:r===72})}):null,Tx=({pub:n})=>{const{iString:r}=(0,l.M1)(),o=n.sections.filter(_=>(0,Et.sectionIsSpecificallyMarkedAsNewsletter)({section:_,pub:n})||!_.is_podcast),i=o.some(_=>_.logo_url);return(0,e.h)(c.tu,{gap:16},(0,e.h)(c.gq,{paddingX:8},(0,e.h)(ii,null,r("Newsletters"))),(0,e.h)(c.tu,{gap:4},o.length?o.map(_=>(0,e.h)(yu,{image:_.logo_url||i?(0,e.h)(l1,{size:64,url:_.logo_url,altText:`Logo for ${_.name}`,showPlaceholder:!0}):null,title:_.name,subtitle:_.description,url:(0,yt.getSectionUrl)(n,{section:_,addBase:!0})})):(0,e.h)(bu,null)))},Ix=({podcastArtUrl:n,podcastTitle:r,podcastUrl:o,latestPost:i,showPlaceholder:_})=>{const{iString:A,iTemplate:k}=(0,l.M1)();return(0,e.h)(Td,{href:i?i.canonical_url:o,hoverBackground:"light",padding:8,radius:6},(0,e.h)(c.gq,{gap:16,alignItems:"start"},(n||_)&&(0,e.h)(c.hs,{flex:"auto"},(0,e.h)(l1,{size:64,url:n,altText:k`Logo for ${r}`,showPlaceholder:!0})),(0,e.h)(c.tu,{flex:"grow"},(0,e.h)(c.xv.Meta,{color:"pub-accent"},r),i?(0,e.h)(oi,{noIcons:!0,post:i,preset:"sm"}):(0,e.h)(c.xv.B4,{color:"pub-secondary-text",paddingTop:8,style:{fontStyle:"italic"}},A("Coming soon")))))},Mx=({pub:n})=>{const{iString:r}=(0,l.M1)(),{latestPodcastPosts:o}=(0,t.qp)(si),i=(0,Ks.FV)(n),_=i.some(A=>A.podcast_art_url);return(0,e.h)(c.tu,{gap:16},(0,e.h)(c.gq,{paddingX:8},(0,e.h)(ii,null,r("Podcasts"))),(0,e.h)(c.tu,{gap:4},i.length?i.map(A=>{var k,B;const x=A.section_id?(k=o==null?void 0:o.sectionPodcasts[A.section_id])!=null?k:null:(B=o==null?void 0:o.pubPodcast)!=null?B:null;return(0,e.h)(Ix,{latestPost:x,podcastArtUrl:A.podcast_art_url,podcastTitle:A.title,podcastSubtitle:A.subtitle,podcastUrl:A.url,showPlaceholder:_})}):(0,e.h)(bu,null)))},Dx=({pub:n,user:r})=>{const{iString:o}=(0,l.M1)(),{topPosts:i,utm:_,onChangePost:A}=(0,t.qp)(si);return!i||!A?null:(0,e.h)(c.tu,{gap:16},(0,e.h)(ii,null,o("Top posts")),(0,e.h)(Kn,{pub:n,posts:i.slice(0,5),user:r,utm:_,variant:"one-column-list",onChange:A}))};var Ax=Object.defineProperty,u1=Object.getOwnPropertySymbols,Nx=Object.prototype.hasOwnProperty,Lx=Object.prototype.propertyIsEnumerable,c1=(n,r,o)=>r in n?Ax(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Rx=(n,r)=>{for(var o in r||(r={}))Nx.call(r,o)&&c1(n,o,r[o]);if(u1)for(var o of u1(r))Lx.call(r,o)&&c1(n,o,r[o]);return n};const ui=({ids:n,pub:r,user:o})=>{const i=nv()(n.map(_=>_==="subscribe"?(0,e.h)(jv,{pub:r,user:o}):_==="recommendations"?(0,e.h)(Fv,{pub:r,user:o,showEmptyState:!0,hideHeaderBorder:!0}):_==="links"?xx(Lv,{pub:r,hideHeaderBorder:!0}):_==="contributors"?(0,e.h)(Cx,null):_==="podcasts"?(0,e.h)(Mx,{pub:r}):_==="newsletters"?(0,e.h)(Tx,{pub:r}):_==="top-posts"?(0,e.h)(Dx,{pub:r,user:o}):null));return(0,e.h)(c.tu,null,i.map((_,A)=>(0,e.h)(e.Fragment,null,_,A<i.length-1&&(0,e.h)(Ki,null))))},xx=(n,r)=>{const o=(0,e.h)(n,Rx({},r));return typeof o.type=="function"&&o.type(r)===null?null:o},Ux=({numPosts:n,posts:r,pub:o,showEmptyState:i,sidebarLeft:_,sidebarRight:A,title:k,user:B,viewAllUrl:x,onChange:q})=>{const{isDesktop:de,isTablet:_e}=(0,xn.v9)();if(!i&&r.length===0)return null;const ve=_&&_.length>0,Oe=A&&A.length>0;let Se,we,Re;de?(Se=ve?(0,e.h)(ui,{ids:_,pub:o,user:B}):void 0,we=Oe?(0,e.h)(ui,{ids:A,pub:o,user:B}):void 0,Re=4-(Oe?1:0)-(ve?1:0)):_e?Oe?(we=(0,e.h)(ui,{ids:[...A,..._!=null?_:[]],pub:o,user:B}),Re=2):ve?(Se=(0,e.h)(ui,{ids:_,pub:o,user:B}),Re=2):Re=3:Re=1;const Fe=(0,e.h)(e.Fragment,null,k&&(0,e.h)(Ud,{title:k,viewAllUrl:x}),r.length?(0,e.h)(Sx,{posts:r.slice(0,n),pub:o,user:B,numColumns:Re,onChange:q}):(0,e.h)(xd,null));return(0,e.h)(Bd,{mainContent:Fe,leftContent:Se,rightContent:we,stretchToFullWidth:!0})},Bx=({numPosts:n,posts:r,pub:o,showEmptyState:i,sidebarLeft:_,sidebarRight:A,title:k,user:B,viewAllUrl:x,onChange:q})=>{const{isTablet:de,isDesktop:_e}=(0,xn.v9)();if(!i&&r.length===0)return null;const ve=_&&_.length>0,Oe=A&&A.length>0;let Se,we;const Re=(0,e.h)(e.Fragment,null,k&&(0,e.h)(Ud,{title:k,viewAllUrl:x}),r.length?(0,e.h)(Kn,{posts:r.slice(0,n),pub:o,user:B,variant:"two-column-list",onChange:q}):(0,e.h)(xd,null));return _e?(Se=ve?(0,e.h)(ui,{ids:_,pub:o,user:B}):void 0,we=Oe?(0,e.h)(ui,{ids:A,pub:o,user:B}):void 0):de&&(Oe?we=(0,e.h)(ui,{ids:[...A,..._!=null?_:[]],pub:o,user:B}):ve&&(Se=(0,e.h)(ui,{ids:_,pub:o,user:B}))),(0,e.h)(Bd,{mainContent:Re,leftContent:Se,rightContent:we})},d1={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui"},kx=({contentBlock:n,pub:r,user:o})=>{const{iString:i}=(0,l.M1)(),{freeSignup:_,freeSignupEmail:A}=(0,t.qp)(si),{isMobile:k}=(0,xn.v9)(),B=_||(o==null?void 0:o.is_free_subscribed),x=o==null?void 0:o.is_subscribed,q=(0,yt.getSubscribeUrl)(r,{params:{utm_source:j.UTM_SOURCE.subscribeContentBlock,gift:!0,next:document.location.href}});return(0,e.h)("div",{className:d1.outerContainer},(0,e.h)(c.xu,{className:d1.innerContainer,paddingY:k?40:48},(0,e.h)(c.hs,{direction:k?"column":"row",alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(c.xv.B1,{textAlign:k?"center":"left"},x?n.attrs.paid_subscriber_message:B?n.attrs.free_subscriber_message:n.attrs.non_subscriber_message),(0,e.h)(c.xu,{flex:"auto"},x?(0,e.h)(c.zx,{priority:"primary-theme",href:q,localNavigation:!1},i("Gift a subscription")):(0,e.h)(_a,{pub:r,user:o,freeSignup:_,freeSignupEmail:A,source:"content-block"})))))},Fx=({contentBlock:n,posts:r,pub:o,showEmptyState:i,title:_,user:A,viewAllUrl:k,onChange:B})=>{var x;const{breakpoint:q}=(0,xn.v9)();if(n.block_type==="list")return(0,e.h)(Bx,{numPosts:(x=n.num_posts)!=null?x:Ad.posts.default,posts:r,pub:o,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:_,user:A,viewAllUrl:k,onChange:B});if(n.block_type==="grid"){const de=Nd({contentBlock:n,breakpoint:q});return(0,e.h)(Ux,{numPosts:de,posts:r,pub:o,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:_,user:A,viewAllUrl:k,onChange:B})}return n.block_type==="feature"?(0,e.h)(Px,{posts:r,pub:o,showEmptyState:i,title:_,user:A,viewAllUrl:k,onChange:B}):n.block_type==="subscribe"?(0,e.h)(kx,{contentBlock:n,pub:o,user:A}):null},Wx=()=>(0,e.h)(c.xu,{paddingBottom:120},(0,e.h)(Bd,{mainContent:(0,e.h)(Jc,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),jx=({contentBlocks:n,postsBySectionId:r,postsByTagId:o,postTagsById:i,pub:_,recentPosts:A,sectionsById:k,showEmptyStates:B,user:x,onChange:q})=>{const{breakpoint:de}=(0,xn.v9)();let _e=0;const ve=n.filter(Oe=>Oe.post_source==="latest").length>1;return(0,e.h)(c.tu,{paddingBottom:40},n.length||!B?n.map((Oe,Se)=>{var we,Re;let Fe=[],He="",ut;if(Oe.post_source==="latest"){const et=Nd({contentBlock:Oe,breakpoint:de});Fe=A.slice(_e,_e+et),_e+=et,He=ve?"":"Recent posts",ut=(0,f.getBaseArchiveUrl)(_)}else if(Oe.post_source==="section"&&Oe.section_id){const et=k[Oe.section_id];Fe=(we=r[Oe.section_id])!=null?we:[],He=(et==null?void 0:et.name)||"",ut=et&&(0,yt.getSectionUrl)(_,{section:et})}else if(Oe.post_source==="tag"&&Oe.post_tag_id){const et=i[Oe.post_tag_id];Fe=(Re=o[Oe.post_tag_id])!=null?Re:[],He=(et==null?void 0:et.name)||"",ut=et&&(0,yt.getPostTagUrl)(_,et)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Oe.id}`,style:{scrollMarginTop:48}},(0,e.h)(Fx,{key:Oe.id,contentBlock:Oe,posts:Fe,pub:_,showEmptyState:B,title:He,user:x,viewAllUrl:ut,onChange:q})),Se<n.length-1&&(0,e.h)(Ki,null))}):(0,e.h)(Wx,null))};var Hx=Object.defineProperty,Vx=Object.defineProperties,$x=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertySymbols,f1=Object.prototype.hasOwnProperty,p1=Object.prototype.propertyIsEnumerable,h1=(n,r,o)=>r in n?Hx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Kx=(n,r)=>{for(var o in r||(r={}))f1.call(r,o)&&h1(n,o,r[o]);if(wu)for(var o of wu(r))p1.call(r,o)&&h1(n,o,r[o]);return n},Gx=(n,r)=>Vx(n,$x(r)),zx=(n,r)=>{var o={};for(var i in n)f1.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&wu)for(var i of wu(n))r.indexOf(i)<0&&p1.call(n,i)&&(o[i]=n[i]);return o};const Zx=n=>{var r=n,{columns:o=4,posts:i,pub:_}=r,A=zx(r,["columns","posts","pub"]);const{isMobile:k}=(0,xn.v9)();return k?null:(0,e.h)(ti,{variant:o===3?"three-column-width":"full-width"},(0,e.h)(c.tu,{gap:12},(0,e.h)(cv,{pub:_}),(0,e.h)(Kn,Gx(Kx({},A),{pub:_,posts:i,variant:o===3?"three-column-mini-row":"mini-row"}))))},ns={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var Yx=Object.defineProperty,Jx=Object.defineProperties,Xx=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,m1=Object.prototype.hasOwnProperty,_1=Object.prototype.propertyIsEnumerable,g1=(n,r,o)=>r in n?Yx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Qx=(n,r)=>{for(var o in r||(r={}))m1.call(r,o)&&g1(n,o,r[o]);if(Su)for(var o of Su(r))_1.call(r,o)&&g1(n,o,r[o]);return n},qx=(n,r)=>Jx(n,Xx(r)),e6=(n,r)=>{var o={};for(var i in n)m1.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Su)for(var i of Su(n))r.indexOf(i)<0&&_1.call(n,i)&&(o[i]=n[i]);return o};const t6="modular-home-posts",r6=n=>{var r;const o=n,{alwaysShowActions:i,bodyPostGroups:_,contentBlocks:A,contributors:k,freeSignup:B,freeSignupEmail:x,homepageLinks:q,latestPodcastPosts:de,latestPostByContributorId:_e,numRecommendations:ve,postsByGroupId:Oe,postsBySectionId:Se,postsByTagId:we,postTagsById:Re,pub:Fe,recommendations:He,sectionsById:ut,showEmptyStates:et,showSiteMap:rt,theme:gt,user:Tt,utm:St}=o,Dt=e6(o,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","latestPodcastPosts","latestPostByContributorId","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:Lt,topPosts:Ft,onChange:It,postsLoaded:Qt}=(0,xn.uj)(ov()(n,["newPosts","pinnedPosts","topPosts","postsLoaded"])),{breakpoint:Xt,isMobile:ar}=(0,xn.v9)(),{getSettingFor:fr}=(0,L.So)(),At=(0,Et.ensureInList)(fr("post_preview_crop_gravity"),["center","auto"]),Gt=ux(),cr=Lt[0],nr=(0,t.Ye)(()=>Ft==null?void 0:Ft.filter(Tr=>!cr||Tr.id!==cr.id),[Ft,cr]);if(Lt.length===0)return Qt?(0,e.h)(n6,null):(0,e.h)(c.tu,{className:s()(ns.container,ns["container--empty"]),alignItems:"center",justifyContent:"center"},(0,e.h)("div",{className:"more-loader"}));const er=!((r=Lt[0])!=null&&r.cover_image);let Ot=Gt[gt.home_hero][Xt];er&&["magaziney","magazine-5"].includes(gt.home_hero)&&["desktop","tablet"].includes(Xt)&&(Ot+=2);let Mt=gt.home_hero;Lt.length<Ot+1&&(Mt="newspaper",Ot=1);const kt=["newspaper","feature"].includes(Mt)&&gt.home_posts==="list",zt=Lt.length>=Ot+1,bt=zt?Lt.slice(Ot):Lt;return(0,e.h)($l.Provider,{value:{alwaysShowActions:i,cropGravity:At}},(0,e.h)(si.Provider,{value:{contributors:k,freeSignup:B,freeSignupEmail:x,homepageLinks:q,latestPodcastPosts:de,latestPostByContributorId:_e,numRecommendations:ve,recommendations:He,topPosts:Ft,utm:St,onChangePost:It}},(0,e.h)(c.tu,{className:ns.container},(0,e.h)(c.tu,{gap:32,paddingTop:!zt&&ar?24:0},zt&&(0,e.h)(zL,{firstPostMissingImage:er,bodyVariant:gt.home_posts,isMobile:ar,posts:Lt.slice(0,Ot),pub:Fe,topPosts:nr,user:Tt,utm:St,variant:Mt,onChange:It}),gt.home_show_top_posts&&nr&&Mt!=="magaziney"&&zt&&(0,e.h)(Zx,{columns:kt?3:4,posts:nr,pub:Fe,user:Tt,utm:St,onChange:It})),(0,e.h)(c.tu,{className:ns.bodyContainer,id:t6},zt&&(0,e.h)(Ki,{numColumns:kt?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},gt.home_posts!=="custom"&&(0,e.h)(yx,qx(Qx({},Dt),{freeSignup:B,freeSignupEmail:x,hideImagesFromList:gt.hide_images_from_list,posts:bt,pub:Fe,showSiteMap:rt,source:`${gt.home_hero}-${gt.home_posts}-home`,user:Tt,utm:St,variant:gt.home_posts,onChange:It,bodyPostGroups:_,postsByGroupId:Oe,hasEmptyGroupOptions:n.hasEmptyGroupOptions})),gt.home_posts==="custom"&&A&&Se&&we&&Re&&ut&&(0,e.h)(jx,{contentBlocks:A,postsBySectionId:Se,postsByTagId:we,postTagsById:Re,pub:Fe,recentPosts:bt,sectionsById:ut,showEmptyStates:et,user:Tt,onChange:It}))))))},n6=()=>(0,e.h)(c.tu,{className:s()(ns.container,ns["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var o6=Object.defineProperty,a6=Object.defineProperties,i6=Object.getOwnPropertyDescriptors,Cu=Object.getOwnPropertySymbols,v1=Object.prototype.hasOwnProperty,y1=Object.prototype.propertyIsEnumerable,b1=(n,r,o)=>r in n?o6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,s6=(n,r)=>{for(var o in r||(r={}))v1.call(r,o)&&b1(n,o,r[o]);if(Cu)for(var o of Cu(r))y1.call(r,o)&&b1(n,o,r[o]);return n},l6=(n,r)=>a6(n,i6(r)),u6=(n,r)=>{var o={};for(var i in n)v1.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Cu)for(var i of Cu(n))r.indexOf(i)<0&&y1.call(n,i)&&(o[i]=n[i]);return o};const c6=n=>{var r=n,{blurbs:o,freeSignup:i,freeSignupEmail:_,hasEmptyGroupOptions:A,hide_intro_popup:k,noBalanceHeroText:B,notify_user:x,numRecommendations:q,pub:de,referralCode:_e,showEmptyStates:ve,showWelcome:Oe,user:Se,postTags:we,postsByGroupId:Re,sections:Fe,launchWelcomePage:He,skipIntoPopupRender:ut,contentBlocks:et,contributors:rt,latestPodcastPosts:gt,latestPostByContributorId:Tt,homepageLinks:St,newPosts:Dt,pinnedPosts:Lt,recommendations:Ft,postsBySectionId:It,postsByTagId:Qt,topPosts:Xt,postTagsById:ar,sectionsById:fr}=r,At=u6(r,["blurbs","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pub","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","sections","launchWelcomePage","skipIntoPopupRender","contentBlocks","contributors","latestPodcastPosts","latestPostByContributorId","homepageLinks","newPosts","pinnedPosts","recommendations","postsBySectionId","postsByTagId","topPosts","postTagsById","sectionsById"]),Gt;const{contentBlocks:cr,contributors:nr,latestPodcastPosts:er,latestPostByContributorId:Ot,homepageLinks:Mt,newPosts:kt,pinnedPosts:zt,postsLoaded:bt,recommendations:Tr,topPosts:tr,postsBySectionId:Wr,postsByTagId:Fr,postTagsById:ln,sectionsById:Rr}=(0,xn.qU)({pubId:de.id,preloads:{contentBlocks:et,contributors:rt,latestPodcastPosts:gt,latestPostByContributorId:Tt,homepageLinks:St,newPosts:Dt,pinnedPosts:Lt,recommendations:Ft,postsBySectionId:It,postsByTagId:Qt,topPosts:Xt,postTagsById:ar,sectionsById:fr}});(0,t.d4)(()=>{x&&typeof window!="undefined"&&(0,za.ZP)(x)},[x]);const en=!!(kt&&kt.length>0),kr=nv()((Gt=de.theme.body_post_groups)==null?void 0:Gt.map(yr=>{var xr,Lr,un,dn;return yr.tag_id?(Lr=(xr=yr.post_tag)!=null?xr:we==null?void 0:we.find(bn=>bn.id===yr.tag_id))!=null?Lr:null:yr.section_id&&(dn=(un=yr.section)!=null?un:Fe==null?void 0:Fe.find(bn=>bn.id===yr.section_id))!=null?dn:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Od,{pub:de}),(0,e.h)(r6,l6(s6({},At),{contentBlocks:cr,contributors:nr,latestPodcastPosts:er,latestPostByContributorId:Ot,homepageLinks:Mt,newPosts:kt,pinnedPosts:zt,postsLoaded:bt,recommendations:Tr,topPosts:tr,postsBySectionId:Wr,postsByTagId:Fr,alwaysShowActions:!1,bodyPostGroups:kr,freeSignup:i,freeSignupEmail:_,hasEmptyGroupOptions:A,numRecommendations:q,postsByGroupId:Re,postTagsById:ln,pub:de,sectionsById:Rr,showEmptyStates:!!ve,showSiteMap:en,theme:de.theme,user:Se})),ut?null:(0,e.h)(wd,{blurbs:o,freeSignup:i,freeSignupEmail:_,hide_intro_popup:k,noBalanceHeroText:B,pub:de,referralCode:_e,showWelcome:Oe,user:Se,launchWelcomePage:He}))},d6={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},kd=({logoUrl:n,name:r,description:o})=>(0,e.h)(c.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:d6.logo,src:(0,f.imginary)(n,72*2),alt:r}),(0,e.h)(c.xv.H1,{font:"pub-headings",color:"pub-primary-text"},r),o&&(0,e.h)(c.xv.B3,{color:"pub-secondary-text"},o)),f6={container:"frontend-main-home-SectionPageContainer-module__container--VOaMV"},E1=({children:n})=>(0,e.h)("div",{className:f6.container},n);var Fd=ke(72921),Wd=ke(19541),La=ke(42208);const ia={container:"frontend-main-home-PostPreview-PostPreviewHero-module__container--uGUf6",containerNoImage:"frontend-main-home-PostPreview-PostPreviewHero-module__containerNoImage--QGX1I",videoLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__videoLayer--bJ21s",contentLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__contentLayer--CS14J",content:"frontend-main-home-PostPreview-PostPreviewHero-module__content--gXWZX",image:"frontend-main-home-PostPreview-PostPreviewHero-module__image--vny2h",solidBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__solidBackground--YJ063",previewBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__previewBackground--WxRjs",description:"frontend-main-home-PostPreview-PostPreviewHero-module__description--OVLat",postTitleMobile:"frontend-main-home-PostPreview-PostPreviewHero-module__postTitleMobile--arwfx"},P1=(0,c.E7)({position:"absolute",inset:0}),p6=({post:n,pub:r,section:o,user:i})=>{var _,A,k,B,x,q,de,_e;const{title:ve,description:Oe}=(0,La.Mv)({pub:r,podcastUpload:n.podcastUpload,section:o!=null?o:null}),Se=(0,t.sO)(null),{isMobile:we}=(0,xn.v9)(),{iString:Re}=(0,l.M1)();return we?(0,e.h)(c.tu,null,(0,e.h)(c.gq,{ref:Se,flex:"fill",position:"relative",style:{minHeight:500}},(0,e.h)(c.gq,{className:ia.videoLayer,direction:"column",position:"absolute",radius:6},(0,e.h)(c.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(Aa,{className:ia.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:r,squareImageSize:"large",presenceRef:Se}),(0,e.h)(P1,{className:ia.previewBackground})),(0,e.h)(c.gq,{flex:"grow",className:ia.solidBackground})),(0,e.h)(c.gq,{className:ia.contentLayer,position:"absolute",pointerEvents:"none"},(0,e.h)(c.gq,{flex:"grow"},(0,e.h)(c.tu,{padding:16,gap:16,paddingBottom:24},(0,e.h)(Wd.p,{post:n,pub:r,section:o!=null?o:null,size:48,user:i}),(0,e.h)(c.tu,{gap:8},(0,e.h)(c.xv.H4,{color:"always-white"},ve),(0,e.h)(c.xv.B4,{color:"always-white",className:ia.descriptionMobile,clamp:2},Oe),(0,e.h)(c.gq,{flex:"grow"})),(0,e.h)(c.gq,{alignItems:"center",gap:16,style:{pointerEvents:"auto"}},(0,e.h)(c.gq,{flex:"auto"},(0,e.h)(Fd.D,{size:56,isPlaying:!1})),(0,e.h)(c.tu,{gap:24},(0,e.h)(c.gq,{alignItems:"center"},(0,e.h)(c.tu,null,(0,e.h)(c.gq,{gap:2,alignItems:"center"},(0,e.h)(c.xv.Meta,{color:"always-white"},Re("LATEST")),(0,e.h)(c.xv.Meta,{color:"always-white"},"\xB7"),(0,e.h)(c.xv.Meta,{color:"always-white"},(0,Et.secondsToHHMMSS)((B=(k=(_=n==null?void 0:n.videoUpload)==null?void 0:_.duration)!=null?k:(A=n==null?void 0:n.podcastUpload)==null?void 0:A.duration)!=null?B:0))),(0,e.h)(c.gq,{gap:4,alignItems:"center",opacity:80},(0,e.h)(c.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(Gl.Z,{size:14,color:"white"}):(0,e.h)(fd,{size:14,color:"white"})),(0,e.h)(c.xv.Meta,{color:"always-white",className:ia.postTitleMobile},n.title))))))))))):(0,e.h)(c.tu,null,(0,e.h)(c.gq,{ref:Se,flex:"fill",position:"relative",style:{minHeight:400}},(0,e.h)(c.gq,{position:"absolute",style:{width:"100%",height:"100%"},radius:6},(0,e.h)(c.gq,{flex:"grow",className:ia.solidBackground}),(0,e.h)(c.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(Aa,{className:ia.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:r,squareImageSize:"large",presenceRef:Se}),(0,e.h)(P1,{className:ia.previewBackground}))),(0,e.h)(c.gq,{position:"absolute",style:{width:"100%",height:"100%",pointerEvents:"none"}},(0,e.h)(c.gq,{flex:"grow"},(0,e.h)(c.tu,{justifyContent:"space-between",padding:48},(0,e.h)(Wd.p,{post:n,pub:r,section:o!=null?o:null,size:76,user:i}),(0,e.h)(c.tu,{gap:8},(0,e.h)(c.xv.H2,{color:"always-white"},ve),(0,e.h)(c.xv.B4,{color:"always-white",className:ia.description},Oe),(0,e.h)(c.gq,{flex:"grow"})),(0,e.h)(c.gq,{alignItems:"center",gap:24,style:{pointerEvents:"auto"}},(0,e.h)(c.gq,{style:{width:"80px"}},(0,e.h)(Fd.D,{size:80,isPlaying:!1})),(0,e.h)(c.tu,{gap:48},(0,e.h)(c.gq,{alignItems:"center"},(0,e.h)(c.tu,null,(0,e.h)(c.gq,{gap:4,alignItems:"center"},(0,e.h)(c.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(Gl.Z,{size:14,color:"white"}):(0,e.h)(fd,{size:14,color:"white"})),(0,e.h)(c.xv.Meta,{size:11,color:"always-white"},Re("LATEST")),(0,e.h)(c.xv.Meta,{size:11,color:"always-white"},"\xB7"),(0,e.h)(c.xv.Meta,{size:11,color:"always-white"},(0,Et.secondsToHHMMSS)((_e=(de=(x=n==null?void 0:n.videoUpload)==null?void 0:x.duration)!=null?de:(q=n==null?void 0:n.podcastUpload)==null?void 0:q.duration)!=null?_e:0))),(0,e.h)(c.gq,{gap:4,alignItems:"center"},(0,e.h)(c.xv.Meta,{size:11,color:"always-white"},n.title)))))))),(0,e.h)(c.gq,{flex:"grow",style:{pointerEvents:"none"}}))))},h6={container:"frontend-main-home-PodcastSectionPage-module__container--NazlT"},m6=({blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:i,isPodcast:_,launchWelcomePage:A,newPosts:k,noBalanceHeroText:B,pinnedPosts:x,pub:q,referralCode:de,search:_e,section:ve,showWelcome:Oe,skipIntoPopupRender:Se,sort:we,user:Re,utm:Fe})=>{let He;He=x==null?void 0:x.find(et=>et.videoUpload||et.podcastUpload),He||(He=k==null?void 0:k.find(et=>et.videoUpload||et.podcastUpload));const ut=et=>{const rt=S0({linkToComments:!1,post:He,pub:q,utm:Fe});(0,W.redirect)(rt,{event:et})};return(0,e.h)(c.tu,{className:h6.container},(0,e.h)(Od,{pub:q,section:ve,isPodcast:_}),(0,e.h)(c.tu,{gap:24},He&&(0,e.h)(c.tu,{onClick:ut},(0,e.h)(p6,{pub:q,post:He,section:ve,actions:()=>null})),(0,e.h)(Gi,{isPodcast:!0,maxPosts:12,newPosts:k,pinnedPosts:x,pub:q,search:_e,sectionId:ve==null?void 0:ve.id,sort:we,user:Re,variant:"list"},({posts:et,linkToComments:rt,onClickPost:gt})=>(0,e.h)(Kn,{hideImages:q.theme.hide_images_from_list,linkToComments:rt,posts:et,pub:q,showSectionPins:!0,user:Re,utm:Fe,variant:"four-column-grid",onChange:()=>{},onClickPost:gt}))),Se?null:(0,e.h)(wd,{blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:i,isPodcast:_,noBalanceHeroText:B,pub:q,referralCode:de,showWelcome:Oe,user:Re,launchWelcomePage:A}))};var _6=Object.defineProperty,O1=Object.getOwnPropertySymbols,g6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,w1=(n,r,o)=>r in n?_6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,y6=(n,r)=>{for(var o in r||(r={}))g6.call(r,o)&&w1(n,o,r[o]);if(O1)for(var o of O1(r))v6.call(r,o)&&w1(n,o,r[o]);return n};const jd=n=>{var r,o;const{blurbs:i,freeSignup:_,freeSignupEmail:A,hide_intro_popup:k,isPodcast:B,newPosts:x,noBalanceHeroText:q,notify_user:de,pinnedPosts:_e,pub:ve,referralCode:Oe,search:Se,section:we,sort:Re,showWelcome:Fe,user:He,utm:ut,launchWelcomePage:et,skipIntoPopupRender:rt}=n;if((0,t.d4)(()=>{de&&typeof window!="undefined"&&(0,za.ZP)(de)},[de]),!we&&!B)return console.warn("Should be either a section or podcast or both"),null;let gt=null;return B&&(gt=we?(0,gs.getSectionPodcastSettings)({pub:ve,section:we}):(0,gs.getPubPodcastSettings)({pub:ve})),B||we!=null&&we.is_podcast?(0,e.h)(m6,y6({},n)):(0,e.h)(E1,null,(0,e.h)(Od,{pub:ve,section:we,isPodcast:B}),gt?(0,e.h)(kd,{name:(r=gt.title)!=null?r:"",description:(o=gt.description)!=null?o:"",logoUrl:gt.artUrl}):we&&(0,e.h)(kd,{name:we.name,description:we.description,logoUrl:we.logo_url}),(0,e.h)(Ki,null),(0,e.h)(Gi,{isPodcast:B,maxPosts:7,newPosts:x,pinnedPosts:_e,pub:ve,search:Se,sectionId:we==null?void 0:we.id,sort:Re,user:He,variant:"list"},({posts:Tt,linkToComments:St,onClickPost:Dt})=>(0,e.h)(Kn,{hideImages:ve.theme.hide_images_from_list,linkToComments:St,posts:Tt,pub:ve,showSectionPins:!0,user:He,utm:ut,variant:"two-column-list",onChange:()=>{},onClickPost:Dt})),rt?null:(0,e.h)(wd,{blurbs:i,freeSignup:_,freeSignupEmail:A,hide_intro_popup:k,isPodcast:B,noBalanceHeroText:q,pub:ve,referralCode:Oe,showWelcome:Fe,user:He,launchWelcomePage:et}))};var S1=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class b6 extends e.Component{constructor(){super(...arguments),this.state={loading:!0,invites:[]},this.onSuccess=()=>S1(this,null,function*(){alert("Invite sent!"),document.location.reload()})}componentDidMount(){if(!this.hasInvites()){(0,W.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:r,user:o}=this.props;return r.invite_only?o&&o.is_contributor?!0:!(!(r.subscriber_invites>0)||!(o&&o.is_subscribed)):!1}loadInvites(){return S1(this,null,function*(){try{const r=yield Ke().get("/api/v1/publication/invite");this.setState({invites:r.body,loading:!1})}catch(r){console.error("Failed to fetch invites:",r),alert((0,W.getNetworkErrorMessage)(r))}})}render({pub:r,user:o},{loading:i,invites:_}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const A=o&&o.is_contributor,k=Math.max(o&&o.invites,_.length),B=Math.max(k,r.subscriber_invites),x=B-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,r.name," is invite-only, but you\u2019ve been granted"," ",A?"an infinite number of invites":(0,Et.pluralize)(B,"invite")," to give out."),(x>0||A)&&[!A&&(0,e.h)("h5",null,"You have ",(0,Et.pluralize)(x,"invite")," left"),(0,e.h)(Le.ZP,{ref:q=>this.form=q,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(be.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):_.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,_.sort((q,de)=>new Date(de.created_at)-new Date(q.created_at)).map(q=>(0,e.h)("li",null,q.inviteeUser&&q.inviteeUser.name||""," on"," ",Hr()(q.created_at).standardDate())))]:null))}}function E6({pub:n,post:r}){return(0,e.h)(pe.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(pe.tu,{alignItems:"center",gap:4},(0,e.h)(pe.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(a.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(a.xv.B3,null,"If you change your mind, you can accept from your email invitation."),r.is_published?(0,e.h)(a.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,f.getPostUrl)(n,r)},r.title)):null),(0,e.h)(me.zx,{href:n.base_url},`Go to ${n.name}`))}function P6({pub:n,user:r,post:o,freeSignup:i,freeSignupEmail:_}){const A=(0,t.sO)(null),k=()=>A.current&&A.current.open();if(!o)return(0,e.h)(pe.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(gl.Z,{onClick:k},"profile is up to date")),(0,e.h)(od.EB,{ref:A,user:r,freeSignup:i,freeSignupEmail:_,needsPhoto:!0})));const B=o.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",x="Your profile is set up and good to go!";return(0,e.h)(pe.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(pe.tu,{alignItems:"center",gap:4},(0,e.h)(pe.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(a.xv.H1,null,B)),(0,e.h)(a.xv.B3,null,x)),(0,e.h)(me.zx,{href:n.base_url},`Go to ${n.name}`))}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=(0,pn.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var w6=Object.defineProperty,S6=Object.defineProperties,C6=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,T6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,T1=(n,r,o)=>r in n?w6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,M6=(n,r)=>{for(var o in r||(r={}))T6.call(r,o)&&T1(n,o,r[o]);if(C1)for(var o of C1(r))I6.call(r,o)&&T1(n,o,r[o]);return n},D6=(n,r)=>S6(n,C6(r));const A6=n=>(0,e.h)(De.l,D6(M6({},n),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}));var N6=Object.defineProperty,L6=Object.defineProperties,R6=Object.getOwnPropertyDescriptors,I1=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,U6=Object.prototype.propertyIsEnumerable,M1=(n,r,o)=>r in n?N6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,B6=(n,r)=>{for(var o in r||(r={}))x6.call(r,o)&&M1(n,o,r[o]);if(I1)for(var o of I1(r))U6.call(r,o)&&M1(n,o,r[o]);return n},k6=(n,r)=>L6(n,R6(r));const D1=n=>(0,e.h)(De.l,k6(B6({},n),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}));var F6=(n=>(n.ForYou="for-you",n.Subscribed="subscribed",n.Writers="writers-v2",n.Everyone="everyone",n.FirstNote="first-note",n.FeaturedContentPreview="featured-content-preview",n))(F6||{}),W6=(n=>(n.postStatsDismissKey="post-stats.dismissed",n.appUnifiedHomeCtaDismissKey="app-unified-home-cta.dismissed",n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",n.readerReferral="reader-referral.dismissed",n.referralPostAnnouncement="referral-post-announcement.dismissed",n.pubIntroText="publication-intro-text.dismissed",n.pledgeTurnOnPaid="pledge-turn-on-paid.dismissed",n.bestsellerSurveyModal="bestseller-survey-modal.dismissed",n.indianStripeAccount="indian-stripe-account.dismissed",n))(W6||{}),j6=(n=>(n.post="post",n))(j6||{}),H6=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(H6||{}),V6=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(V6||{});const $6={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},K6=({isSelected:n,tier:r})=>{const{iString:o,iTemplate:i,iPlural:_}=(0,l.M1)(),A={[hi.CompOneMonth]:o("1 month comp"),[hi.CompThreeMonths]:o("3 month comp"),[hi.CompSixMonths]:o("6 month comp"),[hi.CompNineMonths]:o("9 month comp"),[hi.CompTwelveMonths]:o("12 month comp"),[hi.Custom]:o("Custom")};return(0,e.h)(pe.tu,{className:$6.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(pe.gq,{gap:4,alignItems:"center"},new Array(r.display_order).fill(0).map(()=>(0,e.h)(ug,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(a.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},r.reward_type==="custom"?r.reward_description:A[r.reward_type]),(0,e.h)(a.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?i`You're here!`:_("1 Referral","%1 Referrals",r.num_referrals_required)))};var Hd=ke(9178);const Vo={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var G6=Object.defineProperty,z6=Object.defineProperties,Z6=Object.getOwnPropertyDescriptors,A1=Object.getOwnPropertySymbols,Y6=Object.prototype.hasOwnProperty,J6=Object.prototype.propertyIsEnumerable,N1=(n,r,o)=>r in n?G6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,L1=(n,r)=>{for(var o in r||(r={}))Y6.call(r,o)&&N1(n,o,r[o]);if(A1)for(var o of A1(r))J6.call(r,o)&&N1(n,o,r[o]);return n},R1=(n,r)=>z6(n,Z6(r)),x1=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Vd=(n,r)=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:r,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},U1=({user:n,rank:r,referrals:o,isSelf:i,isHighlighted:_})=>{const{iString:A}=(0,l.M1)();return(0,e.h)(a.xv,{as:n?"a":"div",href:n?(0,yt.getProfileUrlById)(n.id,n.name):void 0,className:Vo.referrerLink},(0,e.h)(pe.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||_?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:s()(Vo.referrerRow,{[Vo.referrerRowInverted]:!i})},(0,e.h)(pe.gq,{gap:8,alignItems:"center"},(0,e.h)(a.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},r,"."),n?(0,e.h)(ha.ProfileHoverCard,{subject:n,dontStopPropagation:!1},(0,e.h)(_o.qE,{size:36,user:n})):(0,e.h)(_o.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(a.xv.B4,{color:"primary-themed",weight:"semibold"},(n==null?void 0:n.name)||A("Anonymous Reader"))),(0,e.h)(a.xv.B4,{color:"primary-themed",weight:"semibold"},o)))},X6=({pub:n,user:r,freeSignupEmail:o})=>{const{iString:i,iTemplate:_,iPlural:A}=(0,l.M1)(),{getExperimentVariant:k,exposeExperiment:B}=(0,gr.jc)(),x=(0,yn.pm)(),{result:q,isLoading:de,refetch:_e}=(0,$n.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:ve}=(0,$n.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,t.d4)(()=>{!de&&!q&&(0,W.redirect)((0,yt.getBaseUrl)(n))},[q,de,n]),de||!q)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:Oe,tiers:Se,top_referrers:we,current_user_can_share:Re,current_user_id:Fe,current_user_profile_hidden:He}=q,ut=r==null?void 0:r.is_admin,et=r==null?void 0:r.is_contributor,rt=(0,f.getQueryItem)("referrer_token"),gt=r&&!r.is_magic&&r.email||o||null,Tt=(0,yt.pathWithQuery)((0,yt.getBaseUrl)(n),{r:(Fe==null?void 0:Fe.toString(36))||rt});let St,Dt;Se.find((Ft,It)=>{const Qt=(Oe==null?void 0:Oe.referrals)||0,Xt=Se[It+1];Qt>=Ft.num_referrals_required&&(!Xt||Qt<Xt.num_referrals_required)&&(St=Ft,Dt=Xt)});let Lt="";return!St&&Oe?Lt=`${A("You have %1 referral","You have %1 referrals",Oe.referrals)} - ${A("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",Se[0].num_referrals_required-Oe.referrals)}`:St&&Dt&&Oe?Lt=`${A("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Oe.referrals)} ${_`You’ve qualified for the Tier ${St.display_order} reward.`} ${A("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",Dt.num_referrals_required-Oe.referrals,Dt.display_order)}`:St&&!Dt&&Oe&&(Lt=`${A("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Oe.referrals)} You\u2019re number #${Oe.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(pe.tu,{gap:64,className:Vo.wrapper},(ut||et)&&(0,e.h)(pe.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(pe.tu,{gap:4},(0,e.h)(a.xv.Meta,{color:"pub-primary-text"},ut?"Admin View":"Contributor View"),(0,e.h)(a.xv.B4,{color:"pub-secondary-text"},i(ut?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),ut&&(0,e.h)(me.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},i("Edit Referral Settings"))),(0,e.h)(pe.tu,{alignItems:"center"},(0,e.h)(pe.tu,{gap:24,className:Vo.headerWrapper,alignItems:"center"},(0,e.h)(Wi.xu,null,(0,e.h)(Hd.F,{pub:n,size:64})),(0,e.h)(pe.tu,{alignItems:"center",gap:4},(0,e.h)(a.xv,{className:Vo.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},Re||rt?_`Refer friends to ${n.name}`:_`Subscribe and invite friends to ${n.name}`),(0,e.h)(a.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:Vo.introText},"Show your support by sharing ",I18N.p(n.name)," and earn rewards for your referrals.")),!Re&&!rt&&!(et||ut)&&(0,e.h)(pe.tu,{style:{width:"100%"}},(0,e.h)(me.zx,{grow:!0,priority:"primary-theme",onClick:Ft=>x1(void 0,null,function*(){Ft.preventDefault();let It;try{gt&&(It=(yield Ke().post("/api/v1/free").send({source:"referral-leaderboard",email:gt,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)())}catch(Qt){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:Qt.message,source:"referral-leaderboard"})}window.location.href=(0,yt.getSubscribeUrl)(n,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.referralLeaderboard,utm_medium:j.UTM_MEDIUM.web,skip_redirect_check:!0,just_signed_up:!0,referral_token:It}})}),href:(0,yt.pathWithQuery)("/subscribe",{next:(0,yt.getLeaderboardUrl)(n,void 0,{addBase:!0}),utm_source:j.UTM_SOURCE.referralLeaderboard}),localNavigation:!1},(0,e.h)(pe.gq,{alignItems:"center",gap:8},(0,e.h)(fs.Z,{size:20}),i("Subscribe")))))),(Re||et||ut||rt)&&(0,e.h)(pe.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(pe.gq,{style:{width:"100%"}},(0,e.h)(c.oi,{className:Vo.copyLinkInput,readOnly:!0,value:Tt}),(0,e.h)(me.zx,{className:Vo.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,W.copyToClipboard)(Tt),x.popToast(Ft=>(0,e.h)(yn.FN,R1(L1({},Ft),{Icon:Ts.Z,text:i("Link copied to clipboard")})))}},i("Copy link"))),(0,e.h)(pe.hs,{className:Vo.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(me.zx,{className:Vo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(D1,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>Vd((0,f.getTwitterShareUrl)({url:Tt,text:n.name}),"twitter")},"Twitter"),(0,e.h)(me.zx,{className:Vo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(A6,{height:20,width:20}),onClick:()=>Vd((0,yt.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Tt}),"facebook")},"Facebook"),(0,e.h)(me.zx,{className:Vo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(ag,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>Vd((0,yt.pathWithQuery)("mailto:",{subject:n.name,body:Tt}),"email")},"Email"))),(0,e.h)(pe.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(a.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(pe.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Se.map(Ft=>(0,e.h)(K6,{key:Ft.display_order,tier:Ft,isSelected:Ft.display_order===(St==null?void 0:St.display_order)}))),Re&&Oe&&(0,e.h)(pe.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(U1,{user:r,isSelf:!0,referrals:Oe.referrals,rank:Oe.rank}),!He&&(0,e.h)(a.xv.B4,{color:"pub-secondary-text"},Lt),He&&(0,e.h)(pe.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(pe.tu,{textAlign:"left",gap:4},(0,e.h)(a.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(a.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(n.name))),(0,e.h)(me.zx,{fill:"outline",priority:"primary-theme",onClick:()=>x1(void 0,null,function*(){yield ve({body:{ids:[q.current_user_subscription_id],visibility:"public"}}),_e(),x.popToast(Ft=>(0,e.h)(yn.FN,R1(L1({},Ft),{text:`${n.name} is now visible on your profile!`})))})},i("Show on profile"))))),(0,e.h)(pe.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(a.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(we==null?void 0:we.length)===0&&(0,e.h)(pe.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(O6,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(a.xv.B4,{color:"pub-secondary-text"},_`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(we==null?void 0:we.length)>0&&(0,e.h)(pe.tu,{gap:8,style:{width:"100%"}},(0,e.h)(pe.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(a.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(a.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),we==null?void 0:we.map(Ft=>(0,e.h)(U1,{key:Ft.rank,user:Ft.user,isHighlighted:Ft.isCurrentUser,rank:Ft.rank,referrals:Ft.referrals})))))))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=(0,pn.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=(0,pn.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),No={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},B1=({pub:n})=>{const r=()=>{const o=(0,f.getQueryItem)("referrer"),i=o!=null?o:(0,f.getPubUrl)(n);(0,W.redirect)(i,{local_navigation:!1})};return(0,e.h)(me.hU,{onClick:r,className:No.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(vs.Z,{className:No.closeIcon}))},os=({pub:n,user_id:r,user_profile_photo_url:o,children:i})=>(0,bo.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(pe.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(Hd.F,{className:No.pubLogo,pub:n,size:112}),i):(0,e.h)(pe.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:No.avatarWithPubLogo},(0,e.h)(_o.qE,{className:No.avatar,user:{id:r,photo_url:o},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(Hd.F,{className:No.pubIcon,pub:n,size:40})),i),e8=({pub:n,user:r,settings:o})=>{var i,_,A,k;const{selected_event_type:{price:B,subscriber_price:x,founding_price:q,currency:de,description_html:_e,duration:ve,num_availabilities:Oe},user_name:Se}=o;let we=B,Re=null;((_=(i=n.plans)==null?void 0:i.length)!=null?_:0>0)&&(r!=null&&r.is_subscribed&&x&&(we=x,Re="SUBSCRIBER DISCOUNT"),r!=null&&r.is_founding&&q&&(we=q,Re=`${(A=(0,Rn.getFoundingTierName)(n)||"FOUNDING")==null?void 0:A.toUpperCase()} DISCOUNT`)),(0,t.d4)(()=>{var rt,gt;(0,d.track)(d.EVENTS.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:r.id,referrer:(rt=(0,f.getQueryItem)("referrer"))!=null?rt:null,source:(gt=(0,f.getQueryItem)("source"))!=null?gt:null})},[]);const Fe=(k=(0,f.getQueryItem)("referrer"))!=null?k:void 0,He=(0,f.updateQuery)("/meetings/book",{referrer:Fe}),ut=Oe>0,et=_e?{__html:_e.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(B1,{pub:n}),(0,e.h)(pe.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(pe.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(os,{pub:n,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(a.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(a.xv.H2,{align:"center",paddingTop:4},(0,bo.getConfigFor)("meetings_embed_publication_name")?n.name:Se))),(0,e.h)(pe.tu,{bg:"primary",className:s()(No.offer,{[No.unavailable]:!ut}),radius:12,shadow:"xl",padding:20},Re&&(0,e.h)("div",{className:No.displayedBadge},Re),(0,e.h)(pe.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(pe.tu,null,we&&de&&ve&&(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.H3,{color:ut?"primary":"secondary"},ve,"-minute meeting"),(0,e.h)(a.xv.B4,{color:ut?"primary":"secondary",paddingTop:4},we<B&&(0,e.h)("span",{className:No.originalPrice},(0,Et.centsToPriceString)(B,de)),(0,Et.centsToPriceString)(we,de)," \xB7"," ",ut?Oe>50?"Many availabilities":`${(0,Et.pluralize)(Oe,"slot")} available this month`:"No slots available in the next week"))),ut?(0,e.h)(Q6,{className:No.check,size:28}):(0,e.h)(q6,{size:28,className:No.disabledCheck})),(0,e.h)(a.xv.B4,{color:"secondary"},(0,e.h)("div",{className:No.description,dangerouslySetInnerHTML:et}))),(0,e.h)(me.zx,{className:No.button,disabled:!ut,grow:!0,localNavigation:!1,href:He},ut?"Continue to book":"No meetings available"))))};var t8=ke(45609);const k1={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var r8=Object.defineProperty,n8=Object.defineProperties,o8=Object.getOwnPropertyDescriptors,F1=Object.getOwnPropertySymbols,a8=Object.prototype.hasOwnProperty,i8=Object.prototype.propertyIsEnumerable,W1=(n,r,o)=>r in n?r8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,s8=(n,r)=>{for(var o in r||(r={}))a8.call(r,o)&&W1(n,o,r[o]);if(F1)for(var o of F1(r))i8.call(r,o)&&W1(n,o,r[o]);return n},l8=(n,r)=>n8(n,o8(r));const u8=(n,r,o)=>{var i,_,A,k,B,x,q,de,_e,ve,Oe,Se,we,Re,Fe,He,ut,et,rt,gt,Tt,St,Dt,Lt,Ft,It,Qt,Xt,ar,fr,At,Gt,cr;return!((i=n.location)!=null&&i.location)&&!((_=n.location)!=null&&_.join_url)?r&&o?{href:(0,yt.getMeetingOrderUrl)(o,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(A=n.location)==null?void 0:A.join_url,copyContent:(k=n.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(B=n.location)==null?void 0:B.join_url,copyContent:(x=n.location)==null?void 0:x.join_url,label:"Join Zoom"},google:{href:(q=n.location)==null?void 0:q.join_url,copyContent:(de=n.location)==null?void 0:de.join_url,label:"Join Meet"},google_conference:{href:(_e=n.location)==null?void 0:_e.join_url,copyContent:(ve=n.location)==null?void 0:ve.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Oe=n.location)==null?void 0:Oe.location}`,copyContent:(Se=n.location)==null?void 0:Se.location,label:(we=n.location)==null?void 0:we.location},outbound_call:{href:null,label:`${(0,Et.guessFirstName)(n.user_name)} will call you at ${(Re=n.location)==null?void 0:Re.location}`},microsoft_teams:{href:(Fe=n.location)==null?void 0:Fe.join_url,copyContent:(He=n.location)==null?void 0:He.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(ut=n.location)==null?void 0:ut.join_url,copyContent:(et=n.location)==null?void 0:et.join_url,label:"Join Teams"},webex:{href:(rt=n.location)==null?void 0:rt.join_url,copyContent:(gt=n.location)==null?void 0:gt.join_url,label:"Join Webex"},webex_conference:{href:(Tt=n.location)==null?void 0:Tt.join_url,copyContent:(St=n.location)==null?void 0:St.join_url,label:"Join Webex"},gotomeeting:{href:(Dt=n.location)==null?void 0:Dt.join_url,copyContent:(Lt=n.location)==null?void 0:Lt.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(Ft=n.location)==null?void 0:Ft.join_url,copyContent:(It=n.location)==null?void 0:It.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(Xt=(Qt=n.location)==null?void 0:Qt.location)!=null?Xt:"Unknown"},ask_invitee:{href:null,label:(fr=(ar=n.location)==null?void 0:ar.location)!=null?fr:"Unknown"},custom:{href:null,label:(Gt=(At=n.location)==null?void 0:At.location)!=null?Gt:"Unknown"}}[(cr=n.location)==null?void 0:cr.type]||{}},c8=({order:n,isStatic:r=!1,pub:o=null})=>{const i=(0,yn.pm)(),{href:_,label:A,copyContent:k}=u8(n,r,o),B=(0,e.h)(a.xv.B3,{align:"right"},_?(0,e.h)("a",{href:_},A):A);return r||!k?B:(0,e.h)(pe.gq,{gap:4,alignItems:"center"},B,(0,e.h)(me.hU,{size:24,onClick:()=>{(0,W.copyToClipboard)(k),i.popToast(x=>(0,e.h)(yn.FN,l8(s8({},x),{Icon:Ui.Z,text:"Invite link copied"})))}},(0,e.h)(t8.Z,{height:20})))},d8=({order:n,pub:r})=>{const o=Hr()(n.start_time),i=Hr()(n.end_time),_=`${o.format("MMMM D, YYYY")} at ${o.format("h:mm A z")}`,A=i.diff(o,"minute");return(0,e.h)(pe.tu,{gap:8,className:k1.meetingDetails},(0,e.h)(pe.gq,{justifyContent:"space-between",gap:8},(0,e.h)(a.xv.B3,{weight:"bold"},"Time"),(0,e.h)(a.xv.B3,null,_)),(0,e.h)(pe.gq,{justifyContent:"space-between",gap:8},(0,e.h)(a.xv.B3,{weight:"bold"},"Length"),(0,e.h)(a.xv.B3,null,A," minutes")),(0,e.h)(pe.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(a.xv.B3,{weight:"bold"},"Location"),(0,e.h)(c8,{order:n,pub:r})),(0,e.h)(a.xv.B3,{align:"center",className:k1.description,paddingTop:16},(0,e.h)("i",null,n.description)))},f8=({booking:n,settings:r,pub:o})=>{const i=(0,bo.getConfigFor)("meetings_embed_publication_name")?o.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(os,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(a.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(a.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(a.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),r.enabled&&(0,e.h)(a.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,yt.getMeetingsUrl)(o,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(os,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(a.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(pe.tu,{gap:16,alignItems:"center"},(0,e.h)(d8,{order:n,pub:o}),(0,e.h)(a.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(a.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(me.zx,{onClick:()=>{const _=(0,f.getQueryItem)("referrer"),A=_!=null?_:(0,f.getPubUrl)(o);(0,W.redirect)(A,{local_navigation:!1})}},"Done")))};var $d=ke(44043),p8=Object.defineProperty,h8=Object.defineProperties,m8=Object.getOwnPropertyDescriptors,j1=Object.getOwnPropertySymbols,_8=Object.prototype.hasOwnProperty,g8=Object.prototype.propertyIsEnumerable,H1=(n,r,o)=>r in n?p8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,v8=(n,r)=>{for(var o in r||(r={}))_8.call(r,o)&&H1(n,o,r[o]);if(j1)for(var o of j1(r))g8.call(r,o)&&H1(n,o,r[o]);return n},y8=(n,r)=>h8(n,m8(r));const b8=n=>(0,e.h)(De.l,y8(v8({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=(0,pn.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ti={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var V1=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const P8=({onFileSelected:n,dropCTA:r,pickCTA:o,pickCTAHandler:i,acceptableTypes:_,loading:A,className:k,multiple:B=!1,addMode:x=!1,onDrop:q,onPick:de,info:_e})=>{const[ve,Oe]=(0,t.eJ)(!1),Se=(0,t.sO)(),{iString:we,iTemplate:Re}=(0,l.M1)();!o&&!i&&(o=(0,e.h)("a",{className:Ti.browse,href:"javascript:void(0)"},we("browse"))),r||(r=we("Drop file here"));const Fe=et=>{et.preventDefault(),Oe(!0)},He=et=>{et.preventDefault(),Oe(!1)},ut=et=>V1(void 0,null,function*(){var rt,gt,Tt,St;et.preventDefault(),Oe(!1);let Dt,Lt;if(((gt=(rt=et.dataTransfer)==null?void 0:rt.items)==null?void 0:gt.length)>0){const Ft=Array.from(et.dataTransfer.items);for(const It of Ft)if(It.kind!=="file"){alert(we("Please only drag files!"));return}Dt=et.dataTransfer.items[0].getAsFile(),Lt=Ft.map(It=>It.getAsFile())}else if(((St=(Tt=et.dataTransfer)==null?void 0:Tt.files)==null?void 0:St.length)>0)Dt=et.dataTransfer.files[0],Lt=et.dataTransfer.files;else{alert(we("Something went wrong!"));return}B?yield n(Lt):yield n(Dt),q==null||q(B?Lt:Dt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()(Ti.dragArea,k,{[Ti.dragActive]:ve,"test-drag-active":ve}),onDragEnter:Fe,onDragOver:Fe,onDragLeave:He,onDrop:ut,"aria-label":we("File Picker"),onClick:()=>{var et;i||(et=Se.current)==null||et.click()}},x?(0,e.h)(fs.Z,{size:20,className:Ti.icon}):(0,e.h)(E8,{size:24,className:Ti.icon}),!v.isMobile&&(0,e.h)("p",{className:Ti.text},A?we("Loading..."):ve?we("Release to upload"):x?we("Add another image"):(0,e.h)(e.Fragment,null,r," ",we("or")," ")),(0,e.h)(a.xv.H4,null,"Select file to upload"),(0,e.h)(a.xv.Detail,null," Or drag and drop file"),A?null:o||(i?i(()=>{Se.current.click()}):null),_e?(0,e.h)(a.xv.Detail,{paddingTop:32,paddingX:32},_e):null),(0,e.h)("input",{className:s()(Ti.file,"file-picker-input"),ref:Se,type:"file",name:"file",accept:_,multiple:B,onInput:et=>V1(void 0,null,function*(){const rt=et.target.files;rt&&rt[0]&&(B?yield n(rt):yield n(rt[0]),de==null||de(B?rt:rt[0]))})}))};var O8=ke(92630);const w8={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},$1=({className:n,children:r,detail:o,label:i,alignment:_="vertical",error:A=!1})=>{const k=_==="vertical"?S8:C8;return(0,e.h)(k,{className:n,detail:o,error:A,label:i},Te.Children.map(r,B=>(0,Te.isValidElement)(B)?(0,e.cloneElement)(B,{error:A}):B))},S8=({children:n,className:r,detail:o,error:i,label:_})=>(0,e.h)(pe.tu,{className:r,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(a.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},_),n),o&&(0,e.h)(K1,{detail:o,error:i})),C8=({children:n,className:r,detail:o,error:i,label:_})=>(0,e.h)(pe.gq,{className:r,justifyContent:"space-between",alignItems:"center"},(0,e.h)(pe.tu,{gap:4},_&&(0,e.h)(T8,{label:_,error:i}),o&&(0,e.h)(K1,{detail:o,error:i})),n),T8=({label:n,error:r})=>(0,e.h)(a.xv.B4,{weight:"semibold",className:w8.label,color:r?"error":"primary"},n),K1=({detail:n,error:r})=>(0,e.h)(a.xv.B4,{color:r?"error":"secondary"},n),$o={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var Kd=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const I8=({stripe_publishable_key:n,onComplete:r,user:o,pub:i,booking:_,settings:A})=>{const[k,B]=(0,t.eJ)(_.name),[x,q]=(0,t.eJ)(_.description),[de,_e]=(0,t.eJ)(null),[ve,Oe]=(0,t.eJ)(null),[Se,we]=(0,t.eJ)(null),[Re,Fe]=(0,t.eJ)(null),[He,ut]=(0,t.eJ)(!1),[et,rt]=(0,t.eJ)(null);(0,t.d4)(()=>{const At=(0,Le.lQ)(n,i),Gt=At&&(0,Le.UD)(At);Oe(At),we(Gt)},[i,n,Oe,we]),(0,t.d4)(()=>{(0,d.track)($d.F.MEETING_ORDER_PAGE_VIEWED,{user_id:o.id,publication_id:i.id})},[]),(0,t.d4)(()=>{(()=>Kd(void 0,null,function*(){var Gt;const cr=yield Ke().get("/api/v1/subscription/last4");(Gt=cr.body)!=null&&Gt.last4&&Fe(cr.body.last4)}))()},[i]);const gt=A.selected_event_type,{price:Tt,duration:St,subscriber_price:Dt,founding_price:Lt,currency:Ft}=gt;let It=Tt;o.is_subscribed&&Dt&&(It=Dt),o.is_founding&&Lt&&(It=Lt);const Qt=!!(o!=null&&o.has_saved_payment),Xt=(0,t.I4)(()=>Kd(void 0,null,function*(){return ve?yield ve.createToken(Se):{token:null,error:{message:""}}}),[ve,Se]),ar=(0,t.I4)(()=>Kd(void 0,null,function*(){var At,Gt,cr,nr;ut(!0),rt(null);let er;if(!Qt){const{token:kt,error:zt}=yield Xt();if(zt){ut(!1),rt(zt&&zt.message),(0,d.track)($d.F.MEETING_MISSING_PAYMENT,{type:zt&&zt.type,code:zt&&zt.code,decline_code:zt&&zt.decline_code,reason:zt&&zt.message});return}er=kt}const Ot=new FormData;Ot.append("name",k),Ot.append("description",x),er&&Ot.append("stripe_token",JSON.stringify(er)),de&&Ot.append("attachment",de);const Mt=Intl.DateTimeFormat().resolvedOptions().timeZone;Mt&&Ot.append("timezone",Mt),(0,d.track)($d.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:o.id});try{const kt=yield Ke().post("/api/v1/meetings/book").send(Ot);history.pushState({},"",`/meetings/book/${kt.body.order_id}`),r("schedule",ov()(kt.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(kt){(Gt=(At=kt.response)==null?void 0:At.body)!=null&&Gt.error?rt((nr=(cr=kt.response)==null?void 0:cr.body)==null?void 0:nr.error):rt("Something went wrong.")}ut(!1)}),[k,x,Xt,de,ut,rt]),fr=!!k&&!!x;return(0,e.h)(e.Fragment,null,(0,e.h)(os,{pub:i,user_id:A.user_id,user_profile_photo_url:A.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(c.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(c.xv.H2,{align:"center",paddingTop:4},(0,bo.getConfigFor)("meetings_embed_publication_name")?i.name:A.user_name),(0,e.h)(c.xv.B3,{align:"center",paddingTop:8},It<Tt&&(0,e.h)("span",{className:$o.originalPrice},(0,Et.centsToPriceString)(Tt,Ft)),(0,Et.centsToPriceString)(It,Ft)," \xB7 ",St,"-minute meeting"))),(0,e.h)(c.tu,{gap:32},(0,e.h)($1,{alignment:"vertical",label:"Your name"},(0,e.h)(c.oi,{name:"name",value:k||"",onChange:At=>B(At.target.value),placeholder:"Name...",disabled:He,maxLength:500})),(0,e.h)($1,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(c.gx,{name:"description",value:x,onChange:At=>q(At.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:He})),de?(0,e.h)("div",null,(0,e.h)(c.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(c.gq,{className:$o.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(vs.Z,{onClick:()=>_e(null),className:$o.fileRemoveIcon,height:24}),(0,e.h)(c.xv.B3,{className:$o.fileName},de.name))):(0,e.h)("div",null,(0,e.h)(c.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(P8,{className:$o.filePicker,onFileSelected:At=>_e(At),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:$o.checkoutBox},Qt&&(0,e.h)(c.gq,{className:$o.savedCard,padding:12,gap:12},(0,e.h)(b8,{className:$o.cardOnFileIcon}),(0,e.h)(c.xv.B4,null,Re?`**** **** **** ${Re}`:"Use card on file")),!Qt&&Se&&(0,e.h)(Le.GP,{className:$o.input,element:Se}),et&&(0,e.h)(c.xv.B4,{paddingTop:12,className:$o.errorContainer},et),(0,e.h)(c.hs,{paddingTop:12},(0,e.h)(O8.u,{text:A.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:He||fr&&A.enabled,preferPlacement:"top-center",className:$o.errorTooltip},(0,e.h)(c.zx,{className:$o.button,grow:!0,type:"submit",onClick:ar,disabled:He||!fr||!A.enabled},He?"Loading...":"Book meeting"))))),(0,e.h)(c.xv,{className:$o.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gd=function(n,r){return Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var _ in i)i.hasOwnProperty(_)&&(o[_]=i[_])},Gd(n,r)};function qs(n,r){Gd(n,r);function o(){this.constructor=n}n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}var el=function(){return el=Object.assign||function(r){for(var o,i=1,_=arguments.length;i<_;i++){o=arguments[i];for(var A in o)Object.prototype.hasOwnProperty.call(o,A)&&(r[A]=o[A])}return r},el.apply(this,arguments)};function M8(n,r){r===void 0&&(r={});var o=r.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",o==="top"&&i.firstChild?i.insertBefore(_,i.firstChild):i.appendChild(_),_.styleSheet?_.styleSheet.cssText=n:_.appendChild(document.createTextNode(n))}}var D8=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;M8(D8);var as;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(as||(as={}));var G1=function(n){var r=n.url,o=n.prefill,i=o===void 0?{}:o,_=n.pageSettings,A=_===void 0?{}:_,k=n.utm,B=k===void 0?{}:k,x=n.embedType,q=A.backgroundColor,de=A.hideEventTypeDetails,_e=A.hideLandingPageDetails,ve=A.primaryColor,Oe=A.textColor,Se=A.hideGdprBanner,we=i.customAnswers,Re=i.date,Fe=i.email,He=i.firstName,ut=i.guests,et=i.lastName,rt=i.location,gt=i.name,Tt=B.utmCampaign,St=B.utmContent,Dt=B.utmMedium,Lt=B.utmSource,Ft=B.utmTerm,It=B.salesforce_uuid,Qt=r.indexOf("?"),Xt=Qt>-1,ar=r.slice(Qt+1),fr=Xt?r.slice(0,Qt):r,At=[Xt?ar:null,q?"background_color="+q:null,de?"hide_event_type_details=1":null,_e?"hide_landing_page_details=1":null,ve?"primary_color="+ve:null,Oe?"text_color="+Oe:null,Se?"hide_gdpr_banner=1":null,gt?"name="+encodeURIComponent(gt):null,rt?"location="+encodeURIComponent(rt):null,He?"first_name="+encodeURIComponent(He):null,et?"last_name="+encodeURIComponent(et):null,ut?"guests="+ut.map(encodeURIComponent).join(","):null,Fe?"email="+encodeURIComponent(Fe):null,Re&&Re instanceof Date?"date="+A8(Re):null,Tt?"utm_campaign="+encodeURIComponent(Tt):null,St?"utm_content="+encodeURIComponent(St):null,Dt?"utm_medium="+encodeURIComponent(Dt):null,Lt?"utm_source="+encodeURIComponent(Lt):null,Ft?"utm_term="+encodeURIComponent(Ft):null,It?"salesforce_uuid="+encodeURIComponent(It):null,x?"embed_type="+x:null,"embed_domain=1"].concat(we?L8(we):[]).filter(function(Gt){return Gt!==null}).join("&");return fr+"?"+At},A8=function(n){var r=n.getMonth()+1,o=n.getDate(),i=n.getFullYear();return[i,r<10?"0"+r:r,o<10?"0"+o:o].join("-")},N8=/^a\d{1,2}$/,L8=function(n){var r=Object.keys(n).filter(function(o){return o.match(N8)});return r.length?r.map(function(o){return o+"="+encodeURIComponent(n[o])}):[]},z1=function(n){qs(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(){return(0,Te.createElement)("div",{className:"calendly-spinner"},(0,Te.createElement)("div",{className:"calendly-bounce1"}),(0,Te.createElement)("div",{className:"calendly-bounce2"}),(0,Te.createElement)("div",{className:"calendly-bounce3"}))},r}(Te.Component),R8={minWidth:"320px",height:"630px"},x8=function(n){qs(r,n);function r(o){var i=n.call(this,o)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return r.prototype.onLoad=function(){this.setState({isLoading:!1})},r.prototype.render=function(){var o=G1({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,Te.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||R8},this.state.isLoading&&(0,Te.createElement)(z1,null),(0,Te.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:o}))},r}(Te.Component),U8=function(n){qs(r,n);function r(o){var i=n.call(this,o)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return r.prototype.onLoad=function(){this.setState({isLoading:!1})},r.prototype.render=function(){var o=G1({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,Te.createElement)(Te.Fragment,null,this.state.isLoading&&(0,Te.createElement)(z1,null),(0,Te.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:o}))},r}(Te.Component),Z1=function(n){return n.open?(0,Te.createPortal)((0,Te.createElement)("div",{className:"calendly-overlay"},(0,Te.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,Te.createElement)("div",{className:"calendly-popup"},(0,Te.createElement)("div",{className:"calendly-popup-content"},(0,Te.createElement)(U8,el({},n)))),(0,Te.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},SF=function(n){qs(r,n);function r(o){var i=n.call(this,o)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return r.prototype.onClick=function(o){o.preventDefault(),this.setState({isOpen:!0})},r.prototype.onClose=function(o){o.stopPropagation(),this.setState({isOpen:!1})},r.prototype.render=function(){return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,Te.createElement)(Z1,el({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},r}(Te.Component),CF=function(n){qs(r,n);function r(o){var i=n.call(this,o)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return r.prototype.onClick=function(){this.setState({isOpen:!0})},r.prototype.onClose=function(o){o.stopPropagation(),this.setState({isOpen:!1})},r.prototype.render=function(){return(0,Te.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,Te.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,Te.createElement)("span",null,"powered by Calendly")),(0,Te.createElement)(Z1,el({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},r}(Te.Component),Y1="message";function B8(n){var r=n||{},o=r.onDateAndTimeSelected,i=r.onEventScheduled,_=r.onEventTypeViewed,A=r.onProfilePageViewed;(0,Te.useEffect)(function(){var k=function(B){var x=B.data.event;x===as.DATE_AND_TIME_SELECTED?o&&o(B):x===as.EVENT_SCHEDULED?i&&i(B):x===as.EVENT_TYPE_VIEWED?_&&_(B):x===as.PROFILE_PAGE_VIEWED&&A&&A(B)};return window.addEventListener(Y1,k),function(){window.removeEventListener(Y1,k)}},[n])}var k8=ke(56288),F8=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const W8=({booking:n,onComplete:r,settings:o,pub:i})=>{const _="calendly",[A,k]=(0,t.eJ)(!1),[B,x]=(0,t.eJ)(!1),{duration:q}=o.selected_event_type,de=(0,bo.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,_e=(0,nc.useMediaQuery)({maxWidth:698});return B8({onEventScheduled:ve=>F8(void 0,null,function*(){var Oe,Se,we;const Re=(we=(Se=(Oe=ve.data)==null?void 0:Oe.payload)==null?void 0:Se.event)==null?void 0:we.uri;k(!0);try{const Fe=yield Ke().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:Re});yield new Promise(He=>setTimeout(He,2e3)),r("confirmation",Fe.body)}catch(Fe){x(!0)}})}),B?(0,e.h)(os,{pub:i,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)(a.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):A?(0,e.h)(pe.hs,{justifyContent:"center"},(0,e.h)(k8.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(os,{pub:i,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(a.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",de),(0,e.h)(a.xv.B3,{align:"center",paddingTop:8},"Schedule your ",q,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(x8,{iframeTitle:_,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name||"",email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:_e?"0px":"-66px"}}))};var j8=Object.defineProperty,Tu=Object.getOwnPropertySymbols,J1=Object.prototype.hasOwnProperty,X1=Object.prototype.propertyIsEnumerable,Q1=(n,r,o)=>r in n?j8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,is=(n,r)=>{for(var o in r||(r={}))J1.call(r,o)&&Q1(n,o,r[o]);if(Tu)for(var o of Tu(r))X1.call(r,o)&&Q1(n,o,r[o]);return n},H8=(n,r)=>{var o={};for(var i in n)J1.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Tu)for(var i of Tu(n))r.indexOf(i)<0&&X1.call(n,i)&&(o[i]=n[i]);return o};const V8=n=>{var r=n,{step:o}=r,i=H8(r,["step"]);switch(o){case"order":return(0,e.h)(I8,is({},i));case"schedule":return(0,e.h)(W8,is({},i));case"confirmation":return(0,e.h)(f8,is({},i))}},q1=({stripe_publishable_key:n,pub:r,user:o,order:i,order_id:_,settings:A})=>{const k=_?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[B,x]=(0,t.eJ)(k),[q,de]=(0,t.eJ)(is({name:o.name,email:o.email,description:""},i)),_e=V8({step:B,booking:q,settings:A,order:i,onComplete:(ve,Oe)=>{de(is(is({},q),Oe)),x(ve)},pub:r,stripe_publishable_key:n,user:o,orderId:_});return(0,e.h)(e.Fragment,null,(0,e.h)(B1,{pub:r}),(0,e.h)(pe.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(pe.tu,{paddingX:24,gap:32,style:{width:B==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},_e)))},$8=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,W.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,f.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,f.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var K8=ke(67256);const ey={"player-wrapper-outer":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-outer--NvMj8","player-wrapper-inner":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-inner--cF55h"},G8=({audioPlayerRef:n,hasPaywall:r,feedUrl:o,isPrivateFeed:i,isServingFreePodcastUrl:_,post:A,pub:k,section:B,user:x,onChange:q,onCommentsClick:de})=>(0,e.h)("div",{className:ey["player-wrapper-outer"]},(0,e.h)("div",{className:ey["player-wrapper-inner"]},(0,e.h)(K8.Fb,{audioPlayerRef:n,feedUrl:o,hasPaywall:r,isPrivateFeed:i,isServingFreePodcastUrl:_,post:A,pub:k,section:B,user:x,ufiComponent:(0,e.h)(An._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:A,pub:k,style:"large-on-dark",user:x,onChange:q,onCommentsClick:de})})));var z8=ke(22939);const ty={"icon-20":"frontend-shows-ShowLinkIcon-module__icon-20--okag9","icon-40":"frontend-shows-ShowLinkIcon-module__icon-40--u4yey"},Z8={apple_podcasts:"/img/shows_app_icons/apple_podcasts.svg?v=1",google_podcasts:"/img/shows_app_icons/google_podcasts.svg?v=1",overcast:"/img/shows_app_icons/overcast.svg?v=1",pocket_casts:"/img/shows_app_icons/pocket_casts.svg?v=1",rss:"/img/shows_app_icons/rss.svg?v=1",spotify:"/img/shows_app_icons/spotify.svg?v=1",substack:"/img/shows_app_icons/substack.svg?v=1",youtube:"/img/shows_app_icons/youtube.svg?v=1"},zd=({platformKey:n,size:r=20})=>(0,e.h)("img",{className:s()({[ty["icon-20"]]:r===20,[ty["icon-40"]]:r===40}),src:Z8[n]}),ry={button:"frontend-shows-ShowsListenOnMobile-module__button--SMKzW"},Y8=({feedUrl:n,post:r,pub:o,section:i,showLinks:_,user:A})=>{const{title:k}=(0,La.Mv)({pub:o,section:i}),[B,x]=(0,z8.E)();return(0,e.h)(e.Fragment,null,(0,e.h)(c.gq,{gap:8},(0,e.h)(c.zx,{className:ry.button,fill:"outline",priority:"secondary-theme",onClick:()=>(0,zs.TB)({feedUrl:n,pub:o,post:r})},(0,e.h)(c.gq,{gap:12,alignItems:"center"},(0,e.h)(zd,{platformKey:"substack"}),"Open in app")),(0,e.h)(c.zx,{className:ry.button,fill:"outline",priority:"secondary-theme",onClick:()=>{x()}},"More options")),(0,e.h)(Ho.ZP,{ref:B,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0},(0,e.h)(c.tu,{gap:24,paddingBottom:24},(0,e.h)(c.tu,{borderBottom:"detail-themed",paddingX:8,paddingBottom:A!=null&&A.is_free_subscribed?8:16},(0,e.h)(c.xv.H3,{paddingY:16},"Open in other app"),!(A!=null&&A.is_free_subscribed)&&(0,e.h)(c.xv.B3,null,"Never miss a new episode,"," ",(0,e.h)("a",{href:(0,yt.getSubscribeUrl)(o,{addBase:!0,params:{utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.showsListenOnMobileDropdown,utm_content:r.id}}),native:!0},"subscribe to ",k))),(0,e.h)(c.tu,{gap:24,paddingX:8},_&&(0,La.U6)({feedUrl:n,isApple:(0,v.isIos)(),isMobile:!0,showLinks:_,user:A,render:({key:q,label:de,url:_e,onClick:ve})=>(0,e.h)(J8,{platformKey:q,label:de,url:_e,onClick:ve})}),(A==null?void 0:A.is_subscribed)&&(0,e.h)(c.xv.B3,null,"Listen to paid episodes on your favorite podcast app with your private RSS feed."," ",(0,e.h)("a",{href:La.ty},"Learn about RSS")),(0,e.h)(c.zx,{fill:"outline",priority:"secondary-theme",onClick:()=>{(0,za.ZP)("RSS feed URL copied"),(0,W.copyToClipboard)(n)}},"Copy RSS Feed")))))},J8=({platformKey:n,label:r,url:o,onClick:i})=>(0,e.h)("a",{href:o,style:{textDecoration:"none"},onClick:_=>{_.preventDefault(),i()}},(0,e.h)(c.gq,{alignItems:"center",gap:12},(0,e.h)(zd,{platformKey:n,size:40}),(0,e.h)(c.xv.B3,{weight:"bold"},r))),X8=({feedUrl:n,post:r,pub:o,magicToken:i,section:_,showLinks:A,themeVariables:k,user:B,onChange:x,onCommentsClick:q})=>{const{isMobile:de}=(0,xn.v9)();return(0,e.h)(c.tu,{gap:16},de&&(0,e.h)(Y8,{feedUrl:n,post:r,pub:o,section:_,showLinks:A,user:B}),(0,e.h)(c.tu,{gap:8},(0,e.h)(c.xv,{color:"pub-primary-text",font:"pub-headings",size:28,lineHeight:36},r.title),r.subtitle&&(0,e.h)(c.xv.B2,{color:"pub-secondary-text",font:"pub-headings",weight:"normal"},r.subtitle)),(0,e.h)(Gg,{variant:"shows",post:r,pub:o}),!de&&(0,e.h)(An.Mp,{hideBottomBorder:!0,post:r,pub:o,user:B,onChange:x,themeVariables:k,postReactionToken:i,onCommentsClick:q}))},Q8=({bylines:n,isStandaloneVideo:r})=>(0,e.h)(c.tu,{gap:16},r?(0,e.h)(c.xv.H4,{color:"pub-primary-text",translated:!0},"Authors"):(0,e.h)(c.xv.H4,{color:"pub-primary-text",translated:!0},"Appears in episode"),(0,e.h)(z_,{bylines:n,variant:"shows"})),ny={"subscribe-container":"frontend-shows-ShowsCTA-module__subscribe-container--ao5j2",description:"frontend-shows-ShowsCTA-module__description--fsbTx"},q8=({post:n,pub:r,section:o,user:i,useSection:_})=>{const{title:A,description:k}=(0,La.Mv)({pub:r,section:o,useSection:_});return(0,e.h)(c.tu,{border:"detail-themed",gap:24,paddingX:16,paddingY:24,radius:12,shadow:"lg"},(0,e.h)(c.tu,{gap:8,alignItems:"center"},(0,e.h)(Wd.p,{post:n,pub:r,section:o,user:i,useSection:_}),A&&(0,e.h)(c.xv.H4,{textAlign:"center",color:"pub-primary-text"},A),k&&(0,e.h)(c.xv.B4,{className:ny.description,color:"pub-secondary-text",textAlign:"center"},k)),!(i!=null&&i.is_subscribed)&&(0,e.h)("div",{className:ny["subscribe-container"]},(0,e.h)(_a,{expectTruncation:!0,pub:r,source:"episode-page-sidebar",user:i})))},eU={"listen-on-item":"frontend-shows-ShowsListenOn-module__listen-on-item--_4h4Q"},tU=({feedUrl:n,pub:r,post:o,showLinks:i,user:_})=>{const{iString:A}=(0,l.M1)();return(0,e.h)(c.tu,{gap:16,"data-testid":"shows-listen-on"},(0,e.h)(c.xv.H4,{color:"pub-primary-text",translated:!0},"Listen on"),(0,e.h)(c.gq,{gap:8,wrap:"wrap"},(0,e.h)(oy,{platformKey:"substack",label:A("Substack App"),onClick:()=>{(0,zs.TB)({feedUrl:n,pub:r,post:o})}}),(0,La.U6)({feedUrl:n,isApple:(0,W.isMac)(),isMobile:!1,showLinks:i,user:_,render:({label:k,key:B,onClick:x})=>(0,e.h)(oy,{label:k,platformKey:B,onClick:x})})))},oy=({label:n,platformKey:r,onClick:o})=>(0,e.h)(c.gq,{className:eU["listen-on-item"],bg:"secondary",gap:12,alignItems:"center",radius:6,paddingX:12,onClick:o},(0,e.h)(zd,{platformKey:r}),(0,e.h)(c.xv.B4,{weight:"medium",color:"pub-secondary-text"},n)),ay={image:"frontend-shows-ShowsEpisodePreview-module__image--KC1Rx","thumbnail-duration":"frontend-shows-ShowsEpisodePreview-module__thumbnail-duration--oW4Om"},rU=({post:n,pub:r})=>{var o,i;const _=(i=(o=n.videoUpload)==null?void 0:o.duration)!=null?i:null,A=(0,t.sO)(null);return(0,lp.UM)(A,()=>{(0,d.track)(d.EVENTS.RECENT_EPISODE_ITEM_SEEN,{post_id:n.id})}),(0,e.h)(c.gq,{ref:A},(0,e.h)(yu,{alignItems:"start",body:(0,e.h)(Ei,{post:n,pub:r}),clampTitle:2,image:(0,e.h)(c.xu,{position:"relative",overflow:"hidden",radius:6},(0,e.h)(f0,{containerRef:A,post:n,aspectRatio:Ns,size:"small"}),(0,e.h)(Aa,{className:ay.image,imageAspectRatio:Ns,imageWidth:300,isBelowTheFold:!0,post:n}),typeof _=="number"&&(0,e.h)(c.gq,{className:ay["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(c.xv.Meta,{color:"always-white",lineHeight:20},(0,Et.secondsToHHMMSS)(_)))),title:n.title,url:n.canonical_url,linkProps:{onClick:()=>{(0,d.track)(d.EVENTS.RECENT_EPISODE_ITEM_CLICKED,{post_id:n.id})}}}))},nU=({isStandaloneVideo:n,pub:r,recentEpisodes:o})=>{const{iString:i}=(0,l.M1)();return(0,e.h)(c.tu,{gap:16},(0,e.h)(c.xv.H4,{color:"pub-primary-text"},i(n?"Recent Posts":"Recent Episodes")),(0,e.h)(c.tu,{gap:16},o.map(_=>(0,e.h)(rU,{post:_,pub:r}))))};var oU=Object.defineProperty,iy=Object.getOwnPropertySymbols,aU=Object.prototype.hasOwnProperty,iU=Object.prototype.propertyIsEnumerable,sy=(n,r,o)=>r in n?oU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,sU=(n,r)=>{for(var o in r||(r={}))aU.call(r,o)&&sy(n,o,r[o]);if(iy)for(var o of iy(r))iU.call(r,o)&&sy(n,o,r[o]);return n},lU=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const uU=({feedUrl:n,isStandaloneVideo:r,post:o,pub:i,recentEpisodes:_,section:A,showLinks:k,user:B})=>{var x;const{isMobile:q}=(0,xn.v9)(),[de,_e]=(0,t.eJ)(_),ve=(0,t.Ye)(()=>{var Se;return(Se=de==null?void 0:de.filter(we=>we.id!==o.id))!=null?Se:null},[de,o.id]),Oe=(0,Et.getBylineUsers)(o).sort((Se,we)=>Se.id===i.author_id?-1:we.id===i.author_id?1:Se.is_guest&&!we.is_guest?-1:!Se.is_guest&&we.is_guest?1:(Se.name||"").localeCompare(we.name||""));return(0,t.d4)(()=>{_||(()=>lU(void 0,null,function*(){var we,Re;const Fe=yield Ke().get("/api/v1/recent_posts").query(sU({episodes_only:!((we=o.podcastFields)!=null&&we.hide_from_feed)},A!=null&&A.id?{section_id:A.id}:{}));_e((Re=Fe.body)!=null?Re:[])}))()},[o.id,(x=o.podcastFields)==null?void 0:x.hide_from_feed,_,i.id,A==null?void 0:A.id]),(0,e.h)(c.tu,{gap:32},!q&&(0,e.h)(q8,{post:o,pub:i,section:A,user:B,useSection:r}),(0,e.h)(c.tu,{gap:48},!q&&!r&&(0,e.h)(tU,{feedUrl:n,showLinks:k,post:o,pub:i,user:B}),!q&&i.bylines_enabled&&Oe.length>0&&(0,e.h)(Q8,{bylines:Oe,isStandaloneVideo:r}),ve&&ve.length>0&&(0,e.h)(nU,{isStandaloneVideo:r,pub:i,recentEpisodes:ve})))},Pa={container:"frontend-shows-ShowsTranscript-module__container--gR_Eu","container--collapsed":"frontend-shows-ShowsTranscript-module__container--collapsed--n9den",header:"frontend-shows-ShowsTranscript-module__header--HOKBZ",icon:"frontend-shows-ShowsTranscript-module__icon--SxusQ","icon--expanded":"frontend-shows-ShowsTranscript-module__icon--expanded--ddc0e","transcription-container":"frontend-shows-ShowsTranscript-module__transcription-container--IjluX","transcription-chunk":"frontend-shows-ShowsTranscript-module__transcription-chunk--HW9zd",transcriptionWords:"frontend-shows-ShowsTranscript-module__transcriptionWords--AGVSc","transcription-chunk--active":"frontend-shows-ShowsTranscript-module__transcription-chunk--active--lMJxz","transcription-timestamp":"frontend-shows-ShowsTranscript-module__transcription-timestamp--NAgIH","transcription-text":"frontend-shows-ShowsTranscript-module__transcription-text--nnfzG"},cU=({post:n,playerRef:r,transcription:o})=>{const[i,_]=(0,t.eJ)(!1),[A,k]=(0,t.eJ)(0),B=(0,t.sO)(null);(0,t.d4)(()=>{if(!(!B.current||!i)&&B.current){const q=B.current.clientHeight,de=B.current.querySelector(`#transcription-${A}`);de&&B.current.scrollTo({top:de.offsetTop-.5*(q-de.clientHeight),behavior:"smooth"})}},[A,i]);const x=()=>{const q=!i;_(q),(0,d.track)(d.EVENTS.TRANSCRIPTION_TOGGLED,{state:q?"expanded":"collapsed",post_id:n.id})};return(0,e.h)(c.tu,{radius:6,className:s()(Pa.container,{[Pa["container--collapsed"]]:!i})},(0,e.h)(c.gq,{className:Pa.header,justifyContent:"space-between",alignItems:"center",padding:16,onClick:x},(0,e.h)(c.gq,{alignItems:"center",gap:8},(0,e.h)(q_,{size:16}),(0,e.h)(c.xv.B4,{color:"pub-primary-text",weight:"bold",translated:!0},"Transcript")),(0,e.h)(c.gq,{color:"pub-secondary-text",justifyContent:"center",alignItems:"center",className:s()(Pa.icon,{[Pa["icon--expanded"]]:i})},(0,e.h)(gf.Z,{size:16}))),(0,e.h)(c.HZ,{expanded:i,renderWhenCollapsed:!0},(0,e.h)("div",{className:Pa["transcription-container"],ref:B},(0,e.h)(x0,{player:r,postId:n.id,renderTranscriptionChunk:({isPlaying:q,row:de,rowIndex:_e,words:ve,onPause:Oe,onPlay:Se})=>{const we=_e===A&&q,Re=`transcription-${_e}`;return(0,e.h)(c.xu,{id:Re,paddingY:4,paddingRight:16,className:s()(Pa["transcription-chunk"],{[Pa["transcription-chunk--active"]]:we}),onClick:()=>{var Fe;(Fe=window.getSelection())!=null&&Fe.toString()||(we?Oe():Se())}},(0,e.h)(c.gq,{alignItems:"baseline",gap:12},(0,e.h)(c.xv.B4,{className:Pa["transcription-timestamp"],color:"pub-secondary-text"},(0,M_.DL)(de.start)),(0,e.h)(c.xu,{display:"inline",className:Pa.transcriptionWords,lineHeight:22,padding:4,radius:6,"data-chunk-index":_e},ve.map(Fe=>Fe.word).join(" "))))},transcription:o,onUpdateActiveRowIndex:k}))))};var dU=ke(23493),fU=ke.n(dU);const pU=({idleAfter:n=3e3,element:r})=>{const[o,i]=(0,t.eJ)(!1);return(0,t.d4)(()=>{const _=r!=null?r:window;let A;const k=()=>{i(!0)},B=fU()(()=>{i(!1),clearTimeout(A),A=setTimeout(k,n)},500),x=()=>{document.hidden||B()};return A=setTimeout(k,n),_.addEventListener("mousemove",B),_.addEventListener("mousedown",B),_.addEventListener("resize",B),_.addEventListener("keydown",B),_.addEventListener("touchstart",B),_.addEventListener("wheel",B),r||document.addEventListener("visibilitychange",x),()=>{_.removeEventListener("mousemove",B),_.removeEventListener("mousedown",B),_.removeEventListener("resize",B),_.removeEventListener("keydown",B),_.removeEventListener("touchstart",B),_.removeEventListener("wheel",B),r||document.removeEventListener("visibilitychange",x),clearTimeout(A)}},[r,n]),{isIdle:o}};var hU=ke(26494),mU=ke(1622);const ss={container:"frontend-shows-ShowsVideoPlayer-module__container--YsDXk","video-wrapper":"frontend-shows-ShowsVideoPlayer-module__video-wrapper--kVvEJ","preview-label-container":"frontend-shows-ShowsVideoPlayer-module__preview-label-container--l5L0H",sidebar:"frontend-shows-ShowsVideoPlayer-module__sidebar--poWlZ","sidebar--hidden":"frontend-shows-ShowsVideoPlayer-module__sidebar--hidden--ljSvj","sidebar-icons":"frontend-shows-ShowsVideoPlayer-module__sidebar-icons--xA9c1"};var _U=Object.defineProperty,Iu=Object.getOwnPropertySymbols,ly=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,cy=(n,r,o)=>r in n?_U(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,gU=(n,r)=>{for(var o in r||(r={}))ly.call(r,o)&&cy(n,o,r[o]);if(Iu)for(var o of Iu(r))uy.call(r,o)&&cy(n,o,r[o]);return n},vU=(n,r)=>{var o={};for(var i in n)ly.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Iu)for(var i of Iu(n))r.indexOf(i)<0&&uy.call(n,i)&&(o[i]=n[i]);return o};class yU extends Ja.Z{constructor(){super(...arguments),this.playbackEnabled=()=>this.props.showPreview}}const bU=n=>{var r=n,{hasPaywall:o,mediaUpload:i,post:_,pub:A,user:k,videoPlayerRef:B,onChange:x,onClipClick:q,onCommentsClick:de}=r,_e=vU(r,["hasPaywall","mediaUpload","post","pub","user","videoPlayerRef","onChange","onClipClick","onCommentsClick"]),ve;const{iString:Oe}=(0,l.M1)(),[Se,we]=(0,t.eJ)(!1),{isMobile:Re}=(0,xn.v9)(),Fe=(0,t.sO)(null),{isPlaying:He}=A0(B),{isIdle:ut}=pU({idleAfter:2e3,element:Fe.current}),et=((ve=i.preview_duration)!=null?ve:0)>0,rt=o&&(!et||Se),gt=()=>{var Tt;(Tt=B.current)!=null&&Tt.player&&(we(!1),B.current.player.currentTime=0,B.current.player.play())};return(0,e.h)("div",{className:ss.container,ref:Fe},(0,e.h)("div",{className:ss["video-wrapper"]},(0,e.h)(yU,gU({ref:B,doNotResetOnEnd:!0,hidePlayButton:rt,mediaUpload:i,showPreview:o?et:!0,noControls:rt&&!o,post:_,pub:A,renderPlayButton:()=>(0,e.h)(Fd.D,{isPlaying:!1,size:Re?56:80}),usePreview:o&&et,onFinishVideo:()=>{we(!0)}},_e)),et&&o&&!rt&&(0,e.h)("div",{className:ss["preview-label-container"]},(0,e.h)(mU.l,null,Oe("Preview"))),!Re&&!rt&&(0,e.h)("div",{className:s()(ss.sidebar,{[ss["sidebar--hidden"]]:He&&ut})},(0,e.h)(c.hs,{className:ss["sidebar-icons"],bg:"glass-inverted-thick",paddingX:8,paddingY:16},(0,e.h)(An._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:_,pub:A,style:"large-on-dark",user:k,showClipping:_.type==="podcast",onChange:x,onClipClick:q,onCommentsClick:de})))),rt&&(0,e.h)(hU.Y,{isFreeSubscribed:!!(k!=null&&k.is_free_subscribed),post:_,pub:A,variant:"video",onRestart:et?gt:void 0}))},tl={container:"frontend-shows-ShowsPost-module__container--kzpgm","main-content-and-sidebar":"frontend-shows-ShowsPost-module__main-content-and-sidebar--p703x","main-content":"frontend-shows-ShowsPost-module__main-content--mgpu3",postContentWrapper:"frontend-shows-ShowsPost-module__postContentWrapper--baa06",sidebar:"frontend-shows-ShowsPost-module__sidebar--qwsJE"};var EU=Object.defineProperty,PU=Object.defineProperties,OU=Object.getOwnPropertyDescriptors,dy=Object.getOwnPropertySymbols,wU=Object.prototype.hasOwnProperty,SU=Object.prototype.propertyIsEnumerable,fy=(n,r,o)=>r in n?EU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,CU=(n,r)=>{for(var o in r||(r={}))wU.call(r,o)&&fy(n,o,r[o]);if(dy)for(var o of dy(r))SU.call(r,o)&&fy(n,o,r[o]);return n},TU=(n,r)=>PU(n,OU(r)),IU=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const MU=(0,Te.forwardRef)((n,r)=>{var o,i,_,A;const{getConfigFor:k}=(0,te.xR)(),{isMobile:B}=(0,xn.v9)(),[x,q]=(0,t.eJ)(!1),[de,_e]=(0,t.eJ)(null),[ve,Oe]=(0,t.eJ)(null),Se=(0,t.sO)(null),we=(0,t.sO)(null),{isServingFreePodcastUrl:Re,paywall:Fe,post:He,pub:ut,reaction_token:et,recentEpisodes:rt,showComments:gt,themeVariables:Tt,user:St,onChange:Dt}=n,Lt=He.section_id&&(o=ut.sections.find(Gt=>Gt.id===He.section_id))!=null?o:null,{feedUrl:Ft,isPrivateFeed:It}=U5({pub:ut,magicToken:et,user:St,section:Lt}),Qt=((i=He.podcastUpload)==null?void 0:i.transcription)||((_=He.videoUpload)==null?void 0:_.transcription),Xt=(0,La.a9)({pub:ut,section:Lt}),ar=He.type==="video"||!!((A=He.podcastFields)!=null&&A.hide_from_feed)||!Lt&&!ut.podcast_enabled||!!(Lt&&!Lt.is_podcast),fr=de?de.length>0:!1,At=Gt=>{Gt.preventDefault(),(0,d.track)(d.EVENTS.COMMENTS_CLICKED,{post_id:He.id});const cr=document.getElementById(La.nK);cr&&cr.scrollIntoView({behavior:"smooth"})};return(0,t.d4)(()=>{(()=>IU(void 0,null,function*(){const[cr,nr]=yield Promise.all([Ke().get(`/api/v1/post/${He.id}/reactors`),Ke().get(`/api/v1/post/${He.id}/restackers`)]);_e(cr.body),Oe(nr.body)}))()},[He.id]),(0,e.h)(hu,TU(CU({},n),{ref:r,isShowsPost:!0,renderContent:({comments:Gt,postContent:cr})=>(0,e.h)("div",{className:tl.container},(0,e.h)(dd,{visible:x,style:{zIndex:1}}),He.videoUpload?(0,e.h)(bU,{autoPlay:!0,hasPaywall:Fe,mediaUpload:He.videoUpload,post:He,pub:ut,reaction_token:et,restorePlaybackLocation:!0,duration:He.videoUpload.duration,user:St,videoPlayerRef:Se,onChange:Dt,clippingMode:x,onClipClick:()=>q(!0),onClippingModeCancel:()=>q(!1),onCommentsClick:At}):He.podcastUpload?(0,e.h)(G8,{audioPlayerRef:we,feedUrl:Ft,hasPaywall:Fe,isPrivateFeed:It,isServingFreePodcastUrl:Re,post:He,pub:ut,section:Lt,user:St,onChange:Dt,onCommentsClick:At}):null,(0,e.h)("div",{className:tl["main-content-and-sidebar"]},(0,e.h)("div",{className:tl["main-content"]},(0,e.h)(c.tu,{gap:32},(0,e.h)(c.tu,{gap:16},(0,e.h)(X8,{feedUrl:Ft,magicToken:et,post:He,pub:ut,section:Lt,showLinks:Xt,themeVariables:Tt,user:St,onChange:Dt,onCommentsClick:At}),(Qt==null?void 0:Qt.approved_at)&&!Fe&&(0,e.h)(cU,{playerRef:He.videoUpload?Se:we,post:He,transcription:Qt})),(0,e.h)("div",{className:tl.postContentWrapper},cr,k("like_posts_enabled")&&ut.community_enabled&&fr&&!Fe&&(0,e.h)(c.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(md,{post:He,pub:ut,user:St,reactors:de,secondaryFaces:ve})),!Fe&&gt&&Gt))),(0,e.h)(c.tu,{className:tl.sidebar,borderLeft:"detail-themed",paddingX:32,paddingY:24},(0,e.h)(uU,{feedUrl:Ft,isStandaloneVideo:ar,post:He,pub:ut,recentEpisodes:rt,section:Lt,showLinks:Xt,user:St}))),B&&(0,e.h)(An.mt,{allowEdit:St==null?void 0:St.is_contributor,hideComments:!gt,post:He,postReactionToken:et,pub:ut,user:St,onCommentsClick:At,onChange:Dt}))}))});var DU=ke(66141),py=ke(19696);function AU(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function TF({user:n,pathname:r="/inbox"}){const[o,i]=AU(),_=gy();if(o||!_||n!=null&&n.reader_installed_at&&_==="ios"&&isSafari()&&(r.startsWith(FEED_PATH)||r.includes("/note/"))||r.startsWith("/chat"))return null;const A=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},k=B=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(hy,{className:"app-banner-fixed"},h(Zd,{surface:"reader"}),h(_y,null),h(my,null,h("div",null,"Get the full experience")),h("a",{href:LU(r),className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:A},h(X,{size:16,className:"app-banner-x-out"})))}function NU({post:n,subdomain:r}){const o=gy();if(!(0,v.isMobile)({checkFirst4:!0})||!o)return null;const i=(0,f.getPostAppLinkUrl)(r,n.slug,{redirect:"app-store",source:"post-banner"}),_=()=>{(0,d.track)(d.EVENTS.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(hy,null,(0,e.h)(Zd,{surface:"post"}),(0,e.h)(_y,null),(0,e.h)(my,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:_},"Open app"))}function Zd({surface:n,bannerType:r}){return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.APP_BANNER_VIEWED,{surface:n,bannerType:r})},[]),null}const hy=(0,py.L)("app-banner"),my=(0,py.L)("app-banner-text");function _y(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(C.Z,{height:16}))}function gy(){return(0,v.isIos)()?"ios":(0,v.isAndroid)()?"android":null}function LU(n){const r=n.split("/"),o=r.length>1?r[1]:null;return o&&["/chat",FEED_PATH,"/activity","/library"].includes(`/${o}`)?getAppLinkTabUrl({tab:o,redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"})}function IF({user:n,pub:r,post:o}){const i=UTM_SOURCE.postReferralBanner,_=getReaderProfileUrl(n,{utm_source:i}),A=getPostAppLinkUrl(r.subdomain,o.slug,{redirect:"app-store",source:i}),k=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"cta"}),B=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"profile"});return h(FlexBox,{bg:"secondary",alignItems:"center",justifyContent:"space-between",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,gap:12},h(Zd,{surface:"post",bannerType:"post-referral-banner"}),h(UserHead,{subject:n,url:_,onClick:B}),h(FlexColumn,{flex:"fill"},h(Text,{as:"a",href:_,onClick:B,font:"display",size:11,weight:"bold"},"Shared by ",n.name),h(Text,{font:"display",size:11},"Follow their reading in the app")),h(UnstyledButton,{href:A,className:"referral-banner-cta",onClick:k},"Open App"))}var RU=Object.defineProperty,xU=Object.defineProperties,UU=Object.getOwnPropertyDescriptors,vy=Object.getOwnPropertySymbols,BU=Object.prototype.hasOwnProperty,kU=Object.prototype.propertyIsEnumerable,yy=(n,r,o)=>r in n?RU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,FU=(n,r)=>{for(var o in r||(r={}))BU.call(r,o)&&yy(n,o,r[o]);if(vy)for(var o of vy(r))kU.call(r,o)&&yy(n,o,r[o]);return n},WU=(n,r)=>xU(n,UU(r));const MF=n=>h(SvgIcon,WU(FU({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),DF=null,Mu=({children:n,dismissKey:r,dismissDurationInSeconds:o,beforeDismiss:i,className:_,level:A="info"}={})=>{const[k,B]=(0,DU.Z)(r,o,i);if(!k)return(0,e.h)("div",{className:s()("banner",A,_)},n,(0,e.h)(Me.Z,{width:12,height:12,className:"banner-close",onClick:x=>{x.preventDefault(),x.stopPropagation(),B()}}))},AF=null,NF=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(Mu,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),LF=({action:n="connect"})=>{const{getConfigFor:r}=useSiteConfigs(),[o,i]=useState(!1);return o||!r("twitter_connect_flows_enabled")?null:h(Mu,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},jU=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return(0,e.h)(Mu,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{Ke().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},n("Welcome to Substack!")),(0,e.h)("br",null),(0,e.h)("p",null,n(`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`)),(0,e.h)("br",null),(0,e.h)("p",null,n(`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)))},RF=({children:n,className:r,level:o="info",onClose:i}={})=>{const[_,A]=useState(!1);if(!(_&&o!=="error"))return h("div",{className:classnames("banner",o,r)},o!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),i&&i(),A(!0)}}),n)},xF=({featureName:n,featureLink:r,preText:o,linkedText:i,postText:_,children:A})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const k=isMobileBrowser();return h(Mu,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&A,h("p",{className:"new-feature-banner-text"},o," ",h("a",{href:r,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",_))};var HU=ke(3323),VU=ke(65207),$U=Object.defineProperty,KU=Object.defineProperties,GU=Object.getOwnPropertyDescriptors,by=Object.getOwnPropertySymbols,zU=Object.prototype.hasOwnProperty,ZU=Object.prototype.propertyIsEnumerable,Ey=(n,r,o)=>r in n?$U(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,YU=(n,r)=>{for(var o in r||(r={}))zU.call(r,o)&&Ey(n,o,r[o]);if(by)for(var o of by(r))ZU.call(r,o)&&Ey(n,o,r[o]);return n},JU=(n,r)=>KU(n,GU(r));const XU=n=>(0,e.h)(De.l,JU(YU({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(VU.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var QU=Object.defineProperty,qU=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,Py=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,r7=Object.prototype.propertyIsEnumerable,Oy=(n,r,o)=>r in n?QU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,n7=(n,r)=>{for(var o in r||(r={}))t7.call(r,o)&&Oy(n,o,r[o]);if(Py)for(var o of Py(r))r7.call(r,o)&&Oy(n,o,r[o]);return n},o7=(n,r)=>qU(n,e7(r));const a7=n=>(0,e.h)(De.l,o7(n7({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var i7=ke(7775),s7=ke(74957);const Yd={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var l7=Object.defineProperty,u7=Object.defineProperties,c7=Object.getOwnPropertyDescriptors,wy=Object.getOwnPropertySymbols,d7=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,Sy=(n,r,o)=>r in n?l7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,rl=(n,r)=>{for(var o in r||(r={}))d7.call(r,o)&&Sy(n,o,r[o]);if(wy)for(var o of wy(r))f7.call(r,o)&&Sy(n,o,r[o]);return n},Cy=(n,r)=>u7(n,c7(r));const Ty="https://twitter.com",Iy=()=>{const n=(0,yn.pm)();return(r,o=null)=>n.popToast(i=>(0,e.h)(yn.FN,Cy(rl({},i),{className:Yd.toast,text:r,cta:o})))},p7=({post:n,publication:r,autoSharedOnTwitter:o,showAfter:i,publicationTwitterScreenName:_,authorVersion:A})=>{const k=(0,t.sO)(null),[B,x]=(0,t.eJ)(!0),q=Iy();(0,t.d4)(()=>{o&&q("Post shared to Twitter",_?(0,e.h)("a",{className:Yd.cta,href:`${Ty}/${_}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const de=()=>{x(!1)};return!B&&i?i:(0,e.h)($e.Z,{testID:"share-modal",openByDefault:!0,className:s()("force-light-theme",Yd.modal),ref:k,variant:"structured",modalTitle:`Share your ${A?"substack:":"post:"}`,modalFooter:(0,e.h)(qo.z,{variant:A?"primary":"secondary",look:"button",onClick:_e=>{_e.preventDefault(),k.current.close()}},A?"View Dashboard":"View post"),onBeforeClose:de},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Ts.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,A?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!A&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(m7,{modalRef:k})),(0,e.h)(h7,{post:n,publication:r,hideEmailOption:!A,trackingParams:{sd:"pf"},autoSharedOnTwitter:o,authorVersion:A})))},h7=({post:n,publication:r,hideEmailOption:o=!1,trackingParams:i,autoSharedOnTwitter:_,authorVersion:A})=>{const k=A?(0,f.getBaseUrl)(r):n.canonical_url,B=q=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:q,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},x=Iy();return(0,e.h)(e.Fragment,null,(0,e.h)(nl,{onClick:()=>{B("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,f.serializeQuery)({u:(0,f.updateQuery)(k,rl({utm_source:j.UTM_SOURCE.facebook},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(a7,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!_&&(0,e.h)(nl,{onClick:()=>{B("twitter"),window.open(`${Ty}/share?${(0,f.serializeQuery)({url:(0,f.updateQuery)(k,rl({utm_source:j.UTM_SOURCE.twitter},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(D1,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(nl,{onClick:()=>{(0,W.copyToClipboard)((0,f.updateQuery)(k,i)),B("copy"),x("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(i7.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!o&&(0,e.h)(nl,{onClick:()=>{B("email"),window.open(`mailto:?${(0,f.serializeQuery)({subject:A?`Check out ${r.name}`:n.title,body:(0,f.updateQuery)(k,rl({utm_source:j.UTM_SOURCE.email},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(s7.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!A&&(0,e.h)(nl,{onClick:()=>{B("media-assets"),window.open(`${(0,f.getPostUrl)(r,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(XU,{stroke:"#404040",fill:"white"}),"View shareable images")))},nl=n=>(0,e.h)("a",Cy(rl({},n),{native:!0})),m7=({modalRef:n})=>{var r,o,i;let _="";typeof window!="undefined"&&(_=window.location.host);const A=(r=document.head.querySelector('meta[property="og:image"]'))==null?void 0:r.content,k=(o=document.head.querySelector('meta[property="og:title"]'))==null?void 0:o.content,B=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},A&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:A,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},_),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},B)))},_7=p7;var g7=Object.defineProperty,v7=Object.defineProperties,y7=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,E7=Object.prototype.propertyIsEnumerable,Dy=(n,r,o)=>r in n?g7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ay=(n,r)=>{for(var o in r||(r={}))b7.call(r,o)&&Dy(n,o,r[o]);if(My)for(var o of My(r))E7.call(r,o)&&Dy(n,o,r[o]);return n},P7=(n,r)=>v7(n,y7(r)),O7=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const w7=({pub:n,pubsToRecommend:r})=>{const{iString:o,iTemplate:i,iPlural:_}=(0,l.M1)(),[A,k]=(0,t.eJ)(!0),[B,x]=(0,t.eJ)(!0),[q,de]=(0,t.eJ)((r||[]).reduce((Re,Fe)=>P7(Ay({},Re),{[Fe.id]:!0}),{})),_e=()=>{k(!A),x(!1)},ve=Re=>{const Fe=Ay({},q);Fe[Re]=!Fe[Re],de(Fe)},Oe=()=>O7(void 0,null,function*(){try{const Re=Object.keys(q).filter(Fe=>q[Fe]===!0).map(Fe=>Number(Fe));yield Ke().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:Re,source:"post_publish_cta",suggested:Re.map(()=>!0)}),Re.length&&(0,za.ZP)(_("Recommended %1 publication","Recommended %1 publications",Re.length),{timeout:1500}),_e()}catch(Re){console.error("Failed to add recommendations: ",Re),_e()}});let Se,we;return r!=null&&r.length&&(Se=(Object.values(q).filter(Re=>Re===!0)||[]).length,we=r.length>1?_("Do you want to recommend %2 and %1 other publication","Do you want to recommend %2 and %1 other publications",r.length-1,r[0].name):i`Do you want to recommend ${r[0].name}`),(0,e.h)(e.Fragment,null,B?(0,e.h)(Mo.u_,{isOpen:A,onClose:_e},(0,e.h)(Mo.xB,{onClose:_e,title:we}),(0,e.h)(Mo.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},r.length>1?i`Since you embedded ${r.length} publications on your post, we thought you might want to recommend them to your readers`:i`Since you embedded ${r[0].name} on your post, we thought you might want to recommend them to your readers`),r&&r.length&&r.map((Re,Fe)=>(0,e.h)("div",{className:s()("recommend-publication-container",{last:Fe===r.length-1}),onClick:()=>ve(Re.id)},(0,e.h)(Ya.Z,{pub:Re,size:40,logo_url:Re.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,f.getBaseUrl)(Re),target:"_blank"},Re.name),(0,e.h)("p",{className:"author-name"},(0,Et.getByLine)(Re))),(0,e.h)(eh.p,{checked:q[Re.id]?q[Re.id]:!1}))))),(0,e.h)(Mo.mz,{alignment:"center",primaryButton:(0,e.h)(qo.z,{onClick:Oe,variant:"primary"},Se===0?o("Continue"):_("Recommend %1 publication","Recommend %1 publications",Se)),secondaryButton:(0,e.h)(qo.z,{onClick:_e,variant:"secondary"},o("Maybe later"))})):null)};class S7 extends e.Component{isSubscribed(){const{user:r}=this.props;return r&&r.is_subscribed}isFreeSubscribed(){const{freeSignup:r,user:o}=this.props;return r||o&&o.is_free_subscribed&&!o.is_contributor}onFreeSubscribe(r){if(this.props.publication.plans){let o=(0,f.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:r.body.referral_token});r.body.prompt_to_login&&(o=`/account/login?redirect=${encodeURIComponent(o)}&email=${encodeURIComponent(r.body.email)}`),document.location.href=o}else window.location.reload()}render({publication:r,user:o,freeSignupEmail:i,features:_,iString:A,language:k}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!r.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,A("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,f.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.readyForMore}),native:!0},(0,e.h)(be.Z,{className:"primary"},(0,e.h)("b",null,(0,Et.getSubscribeText)(r,{language:k}))))):(0,e.h)(c.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(ye.Z,{freeSignupEmail:i,onAccentBackground:!0,pub:r,source:"subscribe_footer",submitButtonText:(0,Et.getSubscribeText)(r),user:o,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const C7=(0,l.fz)(S7),T7=()=>{const[n,r]=(0,t.eJ)(!0),o=()=>{r(!1)};return(0,e.h)(Mo.u_,{isOpen:n,onClose:o},(0,e.h)(Mo.fe,null,(0,e.h)(c.tu,{padding:16,gap:12},(0,e.h)(a.xv.H3,{color:"primary"},"Select a chunk of text to share as a video."),(0,e.h)("img",{src:(0,yt.imginary)("/img/publish/selection.gif"),style:{padding:"16px",borderRadius:"25px"}}),(0,e.h)(c.zx,{onClick:o,grow:!0,priority:"primary-theme"},"Got it"))))};var I7=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});function kF(n,r={}){n=n||getQueryItem("selection");const{isLoading:o,error:i,result:_}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:o,error:i,postSelection:_!=null?_:null,highlightSelection:()=>{_&&Ny(_,r)}}}function M7(n){return I7(this,arguments,function*(r,o={}){r=r||(0,f.getQueryItem)("selection");let i=null;try{i=yield(0,$n.rd)(`/api/v1/post_selection/${r}`,{})}catch(_){}i&&Ny(i,o)})}function Ny(n,r={}){var o,i;if(r.ignoreSafari&&(0,W.isSafari)()||!n.text)return;const _=((i=(o=/^[^.]+\./.exec(n.text))==null?void 0:o[0])!=null?i:n.text).replace(/\.+$/g,"");if(!_)return;const A=`#:~:text=${encodeURIComponent(_)}`;history.replaceState({},document.title,A),document.location.hash=A}const Ko={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",foundingButton:"frontend-main-scheduled_post_page-module__foundingButton--lN7jr",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"},D7=({post:n,publication:r,user:o,freeSignup:i,freeSignupEmail:_})=>{var A,k,B,x,q,de,_e,ve,Oe,Se;const we=(0,t.sO)(),Re=n.cover_image,Fe=n.title,He=n.description,ut=(0,Et.getPrintedByline)(r,n),et=((A=n.postSchedule)==null?void 0:A.email_audience)==="founding"&&(o==null?void 0:o.is_founding)||((k=n.postSchedule)==null?void 0:k.email_audience)==="only_paid"&&o&&(0,Kc.P)(o,r)||((B=n.postSchedule)==null?void 0:B.email_audience)==="everyone"&&(o==null?void 0:o.is_free_subscribed),[rt,gt]=(0,t.eJ)(Hr()((x=n.postSchedule)==null?void 0:x.trigger_at).diff(Hr()(),"second")),Tt=Math.floor(rt/60/60/24),St=Math.floor(rt/60/60%24),Dt=Math.floor(rt/60%60),Lt=rt%60;return(0,t.d4)(()=>{const Ft=setInterval(()=>{var It;gt(Hr()((It=n.postSchedule)==null?void 0:It.trigger_at).diff(Hr()(),"second"))},500);return()=>{clearInterval(Ft)}}),(0,t.d4)(()=>{(0,d.track)(d.EVENTS.SCHEDULED_POST_SEEN,{post_id:n.id})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(ou,{post:n,publication:r}),(0,e.h)(c.tu,{className:Ko.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(c.tu,{className:Ko.postAndImageContainer,alignItems:"center",gap:32},Re&&(0,e.h)("div",{className:Ko.imageContainer},(0,e.h)("img",{src:Re,className:Ko.imagePreview})),(0,e.h)(c.tu,{className:Ko.postContainer,alignItems:"center",gap:4},(0,e.h)(c.xv.H2,{color:"pub-primary-text",align:"center"},Fe),(0,e.h)(c.xv.B3,{color:"pub-secondary-text",align:"center"},(0,Et.truncateText)(He,135)),(0,e.h)(c.xv.Meta,{color:"pub-secondary-text",align:"center"},((q=n.postSchedule)==null?void 0:q.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(c.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),ut?"\xA0\xA0\u2022\xA0\xA0":""):((de=n.postSchedule)==null?void 0:de.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(c.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),ut?"\xA0\xA0\u2022\xA0\xA0":""):"",ut?`By ${ut}`:""))),(0,e.h)(c.tu,{className:Ko.upsellContainer,alignItems:"center"},et?(0,e.h)(c.gq,{gap:12},(0,e.h)(c.zx,{onClick:()=>{var Ft;o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,W.redirect)((0,yt.getPostDetailsShareCenterUrl)(r,n.id),{local_navigation:!1}):(Ft=we.current)==null||Ft.open()},className:Ko.shareButton,leftIcon:(0,e.h)(id.Z,null),priority:"primary-theme"},"Share"),o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,e.h)(c.zx,{onClick:()=>{(0,W.redirect)((0,yt.getEditPostUrlById)(r,n.id,!!n.editor_v2),{local_navigation:!1})},className:Ko.shareButton,leftIcon:(0,e.h)(Bi.Z,null),priority:"secondary-theme"},"Edit Post"):null):((_e=n.postSchedule)==null?void 0:_e.email_audience)==="founding"&&!(o!=null&&o.is_founding)?(0,e.h)(c.zx,{className:Ko.foundingButton,onClick:()=>{var Ft,It;const Qt=(It=(Ft=r.plans)==null?void 0:Ft.find(Xt=>{var ar;return(ar=Xt.metadata)==null?void 0:ar.founding}))==null?void 0:It.id;(0,W.redirect)(Qt?(0,yt.getSubscribeUrl)(r,{addBase:!0,params:{next:document.location.href,utm_source:j.UTM_SOURCE.postScheduledPage,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id,selectedPlanId:Qt}}):(0,f.getCheckoutUrl)(r,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.postScheduledPage,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id,plan:"founding"}),{local_navigation:!1})}},"Upgrade to founding"):(0,e.h)(_a,{pub:r,post:n,user:o,freeSignup:i,freeSignupEmail:_,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(c.xv.B3,{className:Ko.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",Hr()((ve=n.postSchedule)==null?void 0:ve.trigger_at).format("MMMM Do, h:mma"),"."," ",o!=null&&o.is_admin||o!=null&&o.is_contributor?"":et?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((Oe=n.postSchedule)==null?void 0:Oe.email_audience)==="founding"&&(o!=null&&o.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((Se=n.postSchedule)==null?void 0:Se.email_audience)==="only_paid"&&(o!=null&&o.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and receive the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:Ko.countdownContainer},(0,e.h)(c.tu,{className:Ko.countdownInnerContainer,alignItems:"center",gap:4},rt>0?(0,e.h)(c.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",Tt>0?`${(0,Et.pluralize)(Tt,"day")}, `:"",Tt>0||St>0?`${(0,Et.pluralize)(St,"hour")}, `:"",Tt>0||St>0||Dt>0?`${(0,Et.pluralize)(Dt,"minute")}${Tt>0||St>0?",":""} and `:"",(0,Et.pluralize)(Lt,"second")):(0,e.h)(c.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(c.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onClick:()=>{location.reload()},className:Ko.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(Pi.ZP,{ref:we,user:o,pub:r,post:n}))};var A7=Object.defineProperty,N7=Object.defineProperties,L7=Object.getOwnPropertyDescriptors,Ly=Object.getOwnPropertySymbols,R7=Object.prototype.hasOwnProperty,x7=Object.prototype.propertyIsEnumerable,Ry=(n,r,o)=>r in n?A7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,xy=(n,r)=>{for(var o in r||(r={}))R7.call(r,o)&&Ry(n,o,r[o]);if(Ly)for(var o of Ly(r))x7.call(r,o)&&Ry(n,o,r[o]);return n},Uy=(n,r)=>N7(n,L7(r)),Du=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});class Jd extends e.Component{constructor(r,o){super(r,o),this.updateSubscribeTakeover=()=>{const A=`pub-${this.props.publication.id}-takeover-next-shown-at`,k=(0,T.mM)(A),B=!k||Date.now()>=k;(0,W.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(B&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),this.updateSubscribeTimers()):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})},this.updateSubscribeTimers=()=>{const _=this.props.publication.id,A=`pub-${_}-subscribe-prompt-next-shown-at`,k=`pub-${_}-takeover-next-shown-at`;(0,T.ex)(A,Hr()().add(1,"hour").valueOf()),(0,T.ex)(k,Hr()().add(1,"hour").valueOf())},this.onChangeComment=_=>{this.setState({comments:Ws(this.state.comments,_)})},this.onVisible=_=>{const A=`${_} Seen`;this.state.post&&(this.state[A]||(this.setState({[A]:!0}),(0,d.track)(A,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this._inlineComments=()=>{const{inlineComments:_,publication:A}=this.props;return _||(0,Et.shouldUseInlineComments)(A,this.state.post||this.props.post)},this.fillEmbeddedEmailInputs=()=>{var _;const A=document.querySelectorAll('article.post input[type="email"]'),k=((_=this.state.user)==null?void 0:_.email)||this.props.freeSignupEmail;if(k)for(const B of A)B.value=k;this.setState({embeddedEmailInputsFilled:!0})};let{user:i}=r;this.I18N=I18N.i({pub:r.publication}),r.postPreview&&(i=Uy(xy({},i),{is_draft:!1,is_subscribed:r.postPreview!=="free",is_founding:r.postPreview==="founding",is_contributor:!1})),r.post&&[r.post.slug,r.post.uuid].filter(_=>_).includes(r.slug)&&!this.shouldRedirectToComments(r.post)?this.state={post:r.post,comments:r.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return Du(this,null,function*(){(0,W.scrollToHash)(),this.cleanUpTikTokEnhanceListener=bd();const r=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(o=>o).includes(this.props.slug)&&this.props.post;if(this.shouldRedirectToComments(r)?this.redirectToComments(r):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished){(0,W.removeQueryParam)("justPublished"),(0,W.preloadImage)(au(this.props.publication,this.props.post)[0]);const o=N_(this.props.publication,this.props.post);o&&(0,W.preloadImage)(o)}(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,W.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,W.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,W.removeQueryParam)("showRestackModal"),this.props.action&&(0,W.removeQueryParam)("action"),this.props.showWelcome||(0,W.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.showWelcome&&((0,W.removeQueryParam)("showWelcome"),this.updateSubscribeTimers()),this.props.selectionFromQuery&&M7(this.props.selectionFromQuery),this.props.trackFrontendVisit&&((0,d.track)(d.EVENTS.POST_PAGE_VISIT_TRACKED,{post_id:r.id}),this.context.exposeExperiment("check_for_tracking_disabled")),this.props.user||this.context.exposeExperiment("test_cached_post_page")})}componentWillUnmount(){var r;(r=this.cleanUpTikTokEnhanceListener)==null||r.call(this),(0,W.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(r){return Du(this,null,function*(){r.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(r){if(r&&r.type==="thread")return!0}redirectToComments(r){(0,y.route)((0,f.getPostUrl)(this.props.publication,r,{comments:!0,noBase:!0}),!0)}loadPost(){return Du(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,W.scrollToHash)());else{this.setState({post:null,comments:null});try{const r=yield Ke().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview,updated:this.props.updated,sub:this.props.sub,device:this.props.device,audience:this.props.audience,free_preview:this.props.free_preview,freemail:this.props.freemail});this.shouldRedirectToComments(r.body)?this.redirectToComments(r.body):(yield(0,W.setState)(this,{post:r.body,comments:r.body.comments,stateThemeVariables:r.body.themeVariables}),(0,W.scrollToHash)())}catch(r){console.error("Failed to load post:",r),r.status===404?this.setState({notFound:!0}):alert((0,W.getNetworkErrorMessage)(r))}}})}triggerShareOnLoad(){if((0,f.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,f.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:r,freeSignup:o,freeSignupEmail:i,publication:_,reaction_token:A,hide_intro_popup:k,unlock:B,sort:x,search:q,children:de,showWelcome:_e,justPublished:ve,autoSharedOnTwitter:Oe,readerIsSearchCrawler:Se,postPreview:we,truncatedPost:Re,selectionFromQuery:Fe,embeddedPublications:He,siteConfigs:ut={},freeTrialCoupon:et,showRestackModal:rt,action:gt,publicationSettings:Tt,show_reaction_upsell:St,stripe_publishable_key:Dt,bannedFromNotes:Lt,themeVariables:Ft,referringUser:It,clip:Qt,recentEpisodes:Xt},{comments:ar,notFound:fr,post:At,user:Gt,showSubscribeTakeover:cr,stateThemeVariables:nr,tab:er}){const{iString:Ot}=this.I18N,Mt=this._inlineComments(),kt=At!=null&&At.audience?(0,or.userHasFullAccessToPost)(Gt,At):!0,zt=(Gt==null?void 0:Gt.is_subscribed)&&kt,bt=At&&At.slug&&At.slug!=="coming-soon"&&At.type!=="page",Tr=(0,Et.commentsEnabledForPost)({publication:_,post:At}),tr=(0,Et.showCommentsOnPost)({publication:_,post:At}),Wr=zt||(Gt==null?void 0:Gt.is_free_subscriber)||o,Fr=(At==null?void 0:At.podcastUpload)||(At==null?void 0:At.videoUpload),ln=nr||Ft,Rr=!(At!=null&&At.hidden)&&((0,Et.isUUID)(r)||zt||Se||At&&!(0,or.isPaidAudience)(At.audience)||At&&!At.slug),en=!!At&&(0,Rn.hasFreePodcastUrl)({post:At})&&(0,or.isPaidAudience)(At.audience)&&!zt,kr=!Rr||(Gt==null?void 0:Gt.is_contributor)&&At&&(0,or.isPaidAudience)(At.audience),yr=ve&&(Gt==null?void 0:Gt.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(At.type);let xr=!1;if(typeof window!="undefined"&&(xr=new URLSearchParams(window.location.search).get("selectQuote")==="true"),At!=null&&At.is_scheduled)return(0,e.h)(D7,{freeSignup:o,freeSignupEmail:i,user:Gt,post:At,publication:_});const Lr=(0,e.h)(B7,{commentsEnabled:Tr,comments:ar,post:At,slug:r,user:Gt,freeSignup:o,freeSignupEmail:i,publication:_,reaction_token:A,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Mt,selectionFromQuery:Fe,onChange:({post:dn})=>{this.setState({post:Uy(xy({},At),{comment_count:dn.comment_count})})},bannedFromNotes:Lt}),un=Fr?MU:hu;return(0,e.h)("div",null,gt==="restack-comment"&&(0,e.h)(F7,{post:At,pub:_,selection:Fe}),(0,e.h)(k7,{pub:_,post:At}),_e||cr?(0,e.h)(_n,{freeSignup:o,freeSignupEmail:i,user:Gt,post:At,publication:_,hidden:k,launchWelcomePage:_e,noBalance:_e}):null,!Fr&&(0,e.h)(U7,{user:Gt,referringUser:It,post:At,publication:_,readerIsSearchCrawler:Se,publicationSettings:Tt}),(0,e.h)("div",{className:s()("single-post-container")},(0,e.h)("div",{className:s()({container:!Fr})},(0,e.h)("div",{className:"single-post"},(0,e.h)(ou,{publication:_,post:At,clip:Qt,selection:Fe,siteConfigs:ut}),At?(0,e.h)(un,{ref:dn=>{this.post=dn},commentsEnabled:Tr,isServingFreePodcastUrl:en,isShowsEpisodePage:Fr,postPreview:we,showComments:tr,user:Gt,post:At,pub:_,freeSignup:o,freeSignupEmail:i,reaction_token:A,disableSubscribePrompt:_e&&!k,paywall:!Rr,noTitleLink:!0,onChange:dn=>this.setState(dn),fromPostPage:!0,freeTrialCoupon:et,showRestackModal:!!rt,stripe_publishable_key:Dt,readerIsSearchCrawler:Se,renderComments:()=>Lr,themeVariables:ln,referringUser:It,setTab:dn=>{this.setState({tab:dn})},recentEpisodes:Xt}):fr?(0,e.h)("p",{className:"main-loader"},Ot("Post not found")):(0,e.h)($g,{pub:_}),de)),bt&&Rr&&[tr&&er!=="comments"&&!Fr&&Lr,_.has_posts&&!Fr&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ne,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(Zg,{user:Gt,freeSignup:o,freeSignupEmail:i,pub:_,maxPosts:!kr&&!zt&&!(Wr&&!_.plans)?3:10,filterPostsPredicate:dn=>dn.id!==At.id,sort:x,search:q,stateInUrl:!0,sortTabs:dn=>{const bn=dn.findIndex(Lo=>Lo.id==="top");return bn!==-1?[dn[bn]].concat(dn.filter((Lo,Jn)=>Jn!==bn)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!kr&&[(0,e.h)(ne,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(C7,{publication:_,user:Gt,freeSignupEmail:i,freeSignup:o})]],yr?(0,e.h)(_7,{post:At,autoSharedOnTwitter:Oe==="true",publicationTwitterScreenName:_.twitter_screen_name,publication:_,showAfter:He!=null&&He.length?(0,e.h)(w7,{pub:_,pubsToRecommend:He}):null}):null,St?(0,e.h)(x_.hF,{user:Gt,pub:_,post:At}):null,xr&&(0,e.h)(T7,null),(0,e.h)(HU.Z,{user:Gt,pub:_,post:At,mediaUploadId:this.props.clipId})))}}Jd.contextType=On;function U7({user:n,referringUser:r,post:o,publication:i,readerIsSearchCrawler:_,publicationSettings:A}){const k=o&&i&&!_,B=n&&n.is_contributor&&(o==null?void 0:o.slug)=="coming-soon"&&!(A!=null&&A.seen_coming_soon_explainer);return(0,e.h)(e.Fragment,null,k&&(0,e.h)(NU,{subdomain:i.subdomain,post:o}),B&&(0,e.h)(jU,null))}class B7 extends e.Component{constructor(r,o){super(r,o),this.modalRef=(0,e.createRef)(null),this.I18N=I18N.i({pub:r.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:r.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(gd,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(gd,this.handleFocusInput)}render({commentsEnabled:r,inlineComments:o,post:i,user:_,freeSignup:A,freeSignupEmail:k,publication:B,reaction_token:x,onVisible:q,onChangeComment:de,selectionFromQuery:_e,slug:ve,onChange:Oe,bannedFromNotes:Se},{comments:we,reactionSigninComment:Re}){if(o)return(0,e.h)("div",{id:La.nK},(0,e.h)(ud,{slug:ve,user:_,freeSignupEmail:k,freeSignup:A,post:i,publication:B,post_reaction_token:x,selectionFromQuery:_e,initialComments:we,inline:!0,onChange:Oe}));const{iPlural:Fe,iString:He}=this.I18N,ut=(et,rt)=>Du(this,null,function*(){return $_({user:_,reactionToken:x,comments:we,id:et,reacted:rt,setComments:gt=>this.setState({comments:gt}),onNeedsSignin:gt=>new Promise(Tt=>this.setState({reactionSigninComment:gt},()=>this.modalRef.current.open(Tt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(r||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?Fe("1 Comment","%1 Comments",i.comment_count):He("Comments")),(0,e.h)(ne,{onVisible:()=>q("Post Comments Footer")}),r&&(0,e.h)($s,{user:_,freeSignup:A,freeSignupEmail:k,pub:B,post:i,token:x,ref:this.inputRef,bannedFromNotes:Se}),we.length>0&&!r&&(0,e.h)(V_,{post:i}),we&&we.length>0&&B.community_enabled&&(0,e.h)(ru,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:_,freeSignup:A,freeSignupEmail:k,pub:B,post:i,comments:we,reaction_token:x,onChange:de,updateCommentReacted:ut,noRestack:!0}),r&&i.comment_count>(we||[]).length&&(0,e.h)("a",{className:"more-comments",href:js(i,B)},Fe("1 more comment...","%1 more comments...",i.comment_count-(we||[]).length)),Re&&(0,e.h)(Oi.oq,{comment:Re,pub:B,user:_,react:()=>ut(Re.id,!0),modalRef:this.modalRef})))}}const k7=({pub:n,post:r})=>{if(r)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:ec()(eP(n,r),{json:!0,isScriptContext:!0})}})};function F7({pub:n,post:r,selection:o}){const i=(0,_s.i3)();return(0,t.d4)(()=>{i.open({restackUrl:(0,f.getPostUrl)(n,r,{urlParams:{selection:o}})})},[]),null}var Au=ke(71278);const ls={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"},W7=n=>{const r=n.themeVariables,o=r.web_bg_color||r.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url,[_,A]=(0,t.eJ)("square");return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:ls.root},(0,e.h)(a.xv.H2,{color:"pub-primary-text",className:ls.pageTitle},"Share ",n.post.title),(0,e.h)(a.xv.B3,{color:"pub-primary-text",className:ls.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(pe.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(a.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(c.gu,{name:"aspectRatio",value:_,onChange:A,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,v.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,v.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(pe.tu,{justifyContent:"center",className:ls.container},(0,e.h)(pe.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(a.xv.H4,{color:"pub-primary-text"},n.post.title),!(0,v.isMobile)()&&(0,e.h)(c.zx,{priority:"secondary",leftIcon:(0,e.h)($c.Z,{stroke:"#404040",size:20}),href:(0,f.pathWithQuery)(`/api/v1/press_kit/all/${n.post.id}`,{aspectRatio:_,isDraft:n.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:ls.divider}),(0,v.isMobile)()&&(0,e.h)(c.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(a.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(pe.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(Au.ZP,{pub:n.publication,post:n.post,style:{bgColor:o,textColor:r.print_on_web_bg_color||r.cover_print_primary||"#1a1a1a",aspectRatio:_},text:"Background Color"}),r.background_pop&&(0,e.h)(Au.ZP,{pub:n.publication,post:n.post,style:{bgColor:r.background_pop,textColor:r.print_on_pop,aspectRatio:_},text:"Accent Color"}),i&&(0,e.h)(Au.ZP,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:_},text:"Image"}),o.toLowerCase()!=="#ffffff"?(0,e.h)(Au.ZP,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:_},text:"Black and White"}):null)),(0,e.h)("div",{className:ls.textFooter},(0,e.h)(a.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,f.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},By=({sitemapHeader:n,sitemapDescription:r,sitemapLinks:o})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,W.setMetaData)({title:n,description:r}),(0,e.h)("h1",null,n),(0,e.h)("div",null,o.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),ky={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},j7=({})=>{const{iString:n}=(0,l.M1)();return(0,e.h)("div",{className:ky.noPodcasts},n("No podcasts."))},Fy=(n,r,o)=>{let i=n[r.id];return i||(i=(0,f.getPodcatcherSetupUrl)(r,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!o||!o.is_free_subscribed,params:{utm_source:j.UTM_SOURCE.allPodcasts}})),i},H7=({pub:n,user:r,idToMagicLink:o,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(a.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:Fy(o!=null?o:{},n,r),target:i?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),V7=({pub:n,user:r,idToMagicLink:o={},openInNewTab:i=!1,newFormatting:_=!1})=>{const A=[],{iString:k}=(0,l.M1)();(0,Rn.getSectionPodcasts)(n)&&(0,Rn.getSectionPodcasts)(n).forEach(_e=>{var ve,Oe;if(!(0,Rn.canSubscribeToSectionPodcast)({pub:n,section:_e}))return;const Se=(0,gs.getSectionPodcastSettings)({pub:n,section:_e});if(!Se.title)return;const we={logoUrl:(ve=Se.artUrl)!=null?ve:void 0,mainClickUrl:(0,f.getPodcastLandingUrl)({pub:n,section:_e,addBase:!0}),buttonClickUrl:o[_e.id]||(0,f.getPodcatcherSetupUrl)(n,{section:_e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:j.UTM_SOURCE.allPodcasts}}),name:Se.title,description:(Oe=Se.description)!=null?Oe:"",buttonText:k("Set up podcast")};A.push(we)}),(0,Rn.canSubscribeToPubPodcast)(n)&&A.push(XI(n,Fy(o,n,r)));const B=Object.keys(o).length>0||!!(r!=null&&r.is_free_subscribed);let x=A.length>1?k("Podcast feeds"):k("Podcast feed");B&&(x=(0,Rn.hasMultiplePodcasts)(n)?k("Private podcast feeds"):k("Private podcast feed"));const q=(0,e.h)(pe.tu,{radius:12,border:"detail",padding:16},(0,Rn.hasPodcast)(n)?(0,e.h)(e.Fragment,null,(0,e.h)(jl,{showButton:!0,items:A,openInNewTab:i,buttonText:k("Set up podcast")}),(0,e.h)(H7,{pub:n,user:r,idToMagicLink:o,openInNewTab:i})):(0,e.h)(j7,null));return _?(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.H4,{paddingTop:20,paddingBottom:8},x),q):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(a.xv.H3,{paddingTop:16,paddingBottom:16},x),q))},$7=({pub:n,user:r,idToMagicLink:o,openInNewTab:i=!1})=>(0,e.h)("div",{className:s()("page","typography",ky.container)},(0,e.h)(V7,{pub:n,user:r,idToMagicLink:o,openInNewTab:i}));var Wy=ke(53570),jy=ke(92958),Hy=ke(34394);const Xd={questionListDisabled:"frontend-main-survey_page-module__questionListDisabled--Eb9tZ",dropdown:"frontend-main-survey_page-module__dropdown--P6GQ4"};var K7=Object.defineProperty,G7=Object.defineProperties,z7=Object.getOwnPropertyDescriptors,Vy=Object.getOwnPropertySymbols,Z7=Object.prototype.hasOwnProperty,Y7=Object.prototype.propertyIsEnumerable,$y=(n,r,o)=>r in n?K7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,sa=(n,r)=>{for(var o in r||(r={}))Z7.call(r,o)&&$y(n,o,r[o]);if(Vy)for(var o of Vy(r))Y7.call(r,o)&&$y(n,o,r[o]);return n},la=(n,r)=>G7(n,z7(r)),J7=(n,r,o)=>new Promise((i,_)=>{var A=x=>{try{B(o.next(x))}catch(q){_(q)}},k=x=>{try{B(o.throw(x))}catch(q){_(q)}},B=x=>x.done?i(x.value):Promise.resolve(x.value).then(A,k);B((o=o.apply(n,r)).next())});const Ky=n=>["checkbox","checkbox_freeform","radio","radio_freeform"].includes(n||""),Gy=n=>["checkbox_freeform","radio_freeform"].includes(n||""),zy={container:n=>la(sa({},n),{flex:1}),dropdownIndicator:n=>la(sa({},n),{color:"var(--color-secondary)"}),control:n=>la(sa({},n),{fontSize:14,color:"var(--color-secondary)",boxShadow:"none"}),option:(n,r)=>la(sa({},n),{fontSize:14,color:"var(--color-secondary)",backgroundColor:r.isFocused?"var(--color-bg-secondary)":r.isSelected?"var(--color-bg-accent-primary-hover)":"white"}),noOptionsMessage:n=>la(sa({},n),{fontSize:14,color:"var(--color-secondary)"})},X7=({question:n,responseData:r,onChange:o,disabled:i=!1,countries:_})=>{const{iString:A}=(0,l.M1)(),k=(0,t.Ye)(()=>{if(n.type==="country"&&r.value&&_){const x=String(r.value).split(",")[0],q=_.find(de=>de.countryShortCode===x);return q?{value:q.countryShortCode,label:q.countryName,regions:q.regions}:null}return null},[r.value]),B=(0,t.Ye)(()=>{if(n.type==="country"&&(k!=null&&k.regions)&&_&&r.value){const x=String(r.value).split(",")[1],q=k.regions.find(de=>de.shortCode===x);return q?{value:q.shortCode,label:q.name}:null}return null},[k,r.value]);return(0,e.h)(pe.tu,{gap:16},(0,e.h)(a.xv.H4,null,n.label,n.is_required&&(0,e.h)(a.xv.H4,{as:"span",color:"error"},"*")),n.type==="text"&&(0,e.h)(c.gx,{disabled:i,placeholder:A("Type here"),value:String(r.value||""),onChange:x=>{const q=r;q.value=x.target.value,o(q)}}),n.type==="number"&&(0,e.h)(Hy.o,{disabled:i,placeholder:A("Type number value here"),value:Number.isNaN(Number(r.value))?"":Number(r.value),onChange:x=>{const q=x.target.value.replace(/[^\d]/g,""),de=r;de.value=Number(q)||0,o(de)}}),n.type==="country"&&(0,e.h)(pe.tu,{gap:24},(0,e.h)(Fc,{className:Xd.dropdown,options:_==null?void 0:_.map(x=>({label:x.countryName,value:x.countryShortCode})),onChange:x=>{const q=x.value;o(la(sa({},r),{value:q}))},value:k,placeholder:A("Select or search for a country..."),noOptionsMessage:()=>A("No options found."),theme:(0,W.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:zy}),r.value&&(k==null?void 0:k.regions)&&(0,e.h)(Fc,{className:Xd.dropdown,options:k.regions.map(x=>({label:x.name,value:x.shortCode})),onChange:x=>{const q=x.value;o(la(sa({},r),{value:`${String(r.value).split(",")[0]},${q}`}))},value:B,placeholder:A("Select or search for a state, province, or region..."),noOptionsMessage:()=>A("No options found."),theme:(0,W.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:zy})),Ky(n.type)&&n.options&&n.options.map(x=>(0,e.h)(pe.gq,{as:"label",gap:16},(n.type==="checkbox"||n.type==="checkbox_freeform")&&(0,e.h)(Wy.X,{disabled:i,withTheme:!0,name:`${n.id}check`,checked:r.options.indexOf(x.id)>-1,onChange:q=>{const de=r.options.filter(_e=>_e!==x.id);q&&de.push(x.id),o(la(sa({},r),{options:de}))}}),(n.type==="radio"||n.type==="radio_freeform")&&(0,e.h)(jy.Y,{disabled:i,color:"accent",value:x.id,name:`${n.id}check`,checked:r.options.indexOf(x.id)>-1,onClick:q=>{const de=[];q.target.checked&&de.push(x.id),o({value:"",options:de})}}),(0,e.h)(a.xv.B3,null,x.label))),Gy(n.type)&&(0,e.h)(pe.gq,{as:"label",gap:16,alignItems:"center"},(n.type==="checkbox"||n.type==="checkbox_freeform")&&(0,e.h)(Wy.X,{disabled:i,withTheme:!0,name:`${n.id}check`,checked:String(r.value).length>0,onChange:x=>{o(x?la(sa({},r),{value:" "}):la(sa({},r),{value:""}))}}),(n.type==="radio"||n.type==="radio_freeform")&&(0,e.h)(jy.Y,{disabled:i,color:"accent",value:"text",name:`${n.id}check`,checked:String(r.value).length>0,onClick:()=>{o({options:[],value:" "})}}),(0,e.h)(Hy.o,{disabled:i,placeholder:A("Other..."),value:String(r.value||""),onChange:x=>{const q=r;q.value=x.target.value,q.value.length>0&&(n.type==="radio"||n.type==="radio_freeform")&&(q.options=[]),o(q)}})))},Q7=({surveyId:n,user:r,pub:o})=>{const{iString:i}=(0,l.M1)(),[_,A]=(0,t.eJ)({}),{result:k,isLoading:B}=(0,$n.ib)({pathname:`/api/v1/survey/${n}`,auto:!0});(0,Te.useEffect)(()=>{var He;!B&&k&&((He=k.questions)!=null&&He.some(et=>et.type==="country"))&&q()},[k,B]);const{result:x,fetch:q}=(0,wr.Oe)({module:"country-region-data/data.json",onRequest:()=>ke.e(8376).then(ke.t.bind(ke,8376,19)),fetchImmediately:!1}),de=(0,$n.ib)({method:"post",pathname:`/api/v1/survey/${n}/responses`,auto:!1,json:{responses:Object.keys(_).map(He=>({survey_question_id:He,data:_[He]}))}}),_e=(0,t.I4)(()=>J7(void 0,null,function*(){de.isLoading||(yield de.refetch(),window.location.reload())}),[de]);if(!k&&!B)return(0,e.h)(pe.tu,{paddingTop:48,gap:48},(0,e.h)(a.xv.H1,{translated:!0},"There was an error fetching this survey."));if(!k)return(0,e.h)("div",null);if(k.hasCurrentUserResponded)return(0,e.h)(pe.tu,{paddingTop:48,gap:24,alignItems:"center",justifyContent:"center"},(0,e.h)(a.xv.H1,{translated:!0},"Thank you!"),(0,e.h)(a.xv.B3,{translated:!0},"Your response has been recorded."));const{questions:ve=[],title:Oe}=k,Se=!!r,we=r&&r.is_free_subscribed,Re=Se&&we,Fe=Re&&ve.reduce((He,ut)=>{let et=!0;if(ut.is_required){const rt=_[ut.id];if(ut.type==="text")et=String((rt==null?void 0:rt.value)||"").length>0;else if(ut.type==="number"){const gt=Number(rt==null?void 0:rt.value);et=!Number.isNaN(gt)}else if(ut.type==="country")et=String((rt==null?void 0:rt.value)||"").split(",").length===2;else if(Ky(ut.type)){const gt=rt&&Array.isArray(rt==null?void 0:rt.options)?rt.options:[],Tt=String((rt==null?void 0:rt.value)||"");Gy(ut.type)?et=gt.length>0||Tt.length>0:et=gt.length>0}}return He&&et},!0);return(0,e.h)(pe.tu,{paddingTop:48,gap:48},(0,e.h)(a.xv.H1,{color:"pub-primary-text"},Oe),!Se&&(0,e.h)(pe.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(pe.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(a.xv.H4,{translated:!0},"Log in to answer this survey from ",I18N.p(o.name)),(0,e.h)(c.zx,{localNavigation:!1,priority:"primary-theme",href:(0,f.getSigninUrl)({for_pub:o.subdomain,redirect:window.location.href})},i("Log in")))),Se&&!we&&(0,e.h)(pe.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(pe.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(a.xv.H4,{translated:!0},"Subscribe to ",I18N.p(o.name)," to answer this survey."),(0,e.h)(c.zx,{localNavigation:!1,priority:"primary-theme",href:(0,yt.getSubscribeUrl)(o,{params:{next:window.location.href,email:r.email,just_signed_up:!0,autoSubmit:!0,utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.email,utm_content:j.UTM_CONTENT.readerSurveySubscribePrompt}})},i("Subscribe")))),(0,e.h)(pe.tu,{gap:48,className:s()({[Xd.questionListDisabled]:!Re}),paddingBottom:48},ve.map(He=>{const ut=_[He.id]?_[He.id]:{options:[],value:""};return(0,e.h)(X7,{key:He.id,question:He,responseData:ut,disabled:!Re,countries:x==null?void 0:x.default,onChange:et=>{A(la(sa({},_),{[He.id]:et}))}})}),(0,e.h)(c.zx,{disabled:!Fe,priority:"primary-theme",onClick:_e},i("Submit"))))},q7=({surveyId:n,user:r,pub:o})=>((0,Te.useEffect)(()=>{(0,d.track)(d.EVENTS.READER_SURVEY_SEEN,{surveyId:n,isLoggedIn:!!r,isSubscribed:r==null?void 0:r.is_free_subscribed})},[n]),(0,e.h)("div",{className:"container"},(0,e.h)(Q7,{surveyId:n,user:r,pub:o})));function eB({slug:n,pub:r,user:o,tagPagePreloads:i,utm:_}){var A,k;const B=(0,$n.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(i==null?void 0:i.slug)!==n,initialResult:(i==null?void 0:i.slug)===n?i.postTag:null,deps:[i,n]});return(0,e.h)(E1,null,B.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)(kd,{name:((A=B.result)==null?void 0:A.name)||"Page not found",description:null,logoUrl:null}),(0,e.h)(Ki,null),(0,e.h)(Gi,{user:o,pub:r,sort:"new",postTagId:(k=B.result)==null?void 0:k.id,newPosts:(i==null?void 0:i.slug)===n?i.posts:null,source:"tag-archive"},({posts:x,linkToComments:q,onClickPost:de})=>(0,e.h)(Kn,{hideImages:r.theme.hide_images_from_list,linkToComments:q,posts:x,pub:r,showSectionPins:!0,user:o,utm:_,variant:"two-column-list",onChange:()=>{},onClickPost:de}))))}var tB=Object.defineProperty,Zy=Object.getOwnPropertySymbols,rB=Object.prototype.hasOwnProperty,nB=Object.prototype.propertyIsEnumerable,Yy=(n,r,o)=>r in n?tB(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,us=(n,r)=>{for(var o in r||(r={}))rB.call(r,o)&&Yy(n,o,r[o]);if(Zy)for(var o of Zy(r))nB.call(r,o)&&Yy(n,o,r[o]);return n};class oB extends e.Component{constructor(r,o){super(r,o),this.state=r.initialData||{}}componentDidUpdate(r,o){var i,_,A,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(us({},this.props.initialData));const B=(_=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:_.web_bg_color,x=document.documentElement;x&&B&&((k=(A=o==null?void 0:o.pub)==null?void 0:A.theme)==null?void 0:k.web_bg_color)!==B&&(x.style.background=B)}componentDidMount(){var r,o,i,_;const A=(_=(i=(o=(r=this.props)==null?void 0:r.initialData)==null?void 0:o.pub)==null?void 0:i.theme)==null?void 0:_.web_bg_color,k=document.documentElement;k&&A&&(k.style.background=A)}render({coupon:r,skipIntoPopupRender:o},{pub:i,section:_,user:A,userProfile:k,freeSignup:B,freeSignupEmail:x,posts:q,post:de,truncatedPost:_e,pinnedPosts:ve,newPosts:Oe,topPosts:Se,contentBlocks:we,communityPosts:Re,communityAction:Fe,searchPosts:He,sectionsById:ut,postTagsById:et,contributors:rt,latestPodcastPosts:gt,latestPostByContributorId:Tt,postsByGroupId:St,postsBySectionId:Dt,postsByTagId:Lt,inlineComments:Ft,latestSectionPosts:It,subscribeContent:Qt,homepageLinks:Xt,recommendations:ar,numRecommendations:fr,allSubscribedPubs:At,fullySubscribedPubs:Gt,sitemapHeader:cr,sitemapDescription:nr,sitemapLinks:er,referralCode:Ot,hide_intro_popup:Mt,post_reaction_token:kt,stripe_publishable_key:zt,viral_gift_data:bt,campaign:Tr,referralCampaign:tr,file:Wr,primaryEligiblePublications:Fr,flagged_as_spam:ln,switchAccountRedirectUrl:Rr,readerIsSearchCrawler:en,commentId:kr,selectionFromQuery:yr,siteConfigs:xr={},blurbs:Lr,noBalanceHeroText:un,embeddedPublications:dn,themeVariables:bn,subdomainNotFound:Lo,freeTrialCoupon:Jn,signupForFreeVariant:Gn,people:$r,useNewSubscribePage:Nn,idToMagicLink:Ii,token:cs,podcast_rss_url:Ra,publicationSettings:Jy,pledgePlans:lB,isChatActive:Xy,isMeetingsActive:ol,optOutLegacyTheming:uB,meetingsOrder:Qd,meetingsSettings:qd,appModalOpenByDefault:Qy,twitterCardUrl:cB,tagPagePreloads:dB,initialComments:qy,bannedFromNotes:Nu,intro_text:fB,crossPostedPub:pB,crossPostingByLine:hB,userWithCrossPostedPubContext:mB,crossPostedPublicationSettings:_B,crossPostedSiteConfig:gB,launchWelcomePage:ds,referringUser:vB,clip:yB,recentEpisodes:bB,trackFrontendVisit:EB}){var eb;const tb=P()(this.state.comments)?this.state.comments:[];if(Lo)return(0,e.h)($8,{subdomain:Lo});if(ln&&!(A!=null&&A.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,W.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,f.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,f.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const rb=!!(i!=null&&i.theme&&!uB),PB=(0,y.getCurrentUrl)().startsWith("/chat"),{iString:xa,iTemplate:Mi}=I18N.i(this.state.language);return(0,e.h)(DE,{pub:i,user:A,siteConfigs:xr,hasThemedBackground:rb,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Jy},(0,e.h)(p,us({},this.props)),(0,e.h)(bA,{publication:i,twitterCardUrl:cB}),(0,e.h)(aB,{user:A}),(0,e.h)(iB,{user:A,pub:i}),(0,e.h)(sB,null),(0,e.h)("div",{className:s()("main typography",{"use-theme-bg":rb,"should-flex":PB}),id:"main"},(0,e.h)(O.qE,{path:"/"},({path:Tn})=>{var nb,ob;let Ro="/home";/^\/about\b/.test(Tn)?Ro="/about":/^\/notes\b/.test(Tn)?Ro="/notes":/^\/leaderboard\b/.test(Tn)?Ro="/leaderboard":/^\/chat\b/.test(Tn)?Ro="/chat":/^\/podcast\b/.test(Tn)?Ro="/podcast":/^\/archive\b/.test(Tn)?Ro="/archive":/^\/newsletters\b/.test(Tn)?Ro="/newsletters":/^\/recommendations\b/.test(Tn)?Ro="/recommendations":/^\/listen\b/.test(Tn)?Ro="/listen":_?Ro=_.id:/^\/p\//.test(Tn)?Ro=((nb=/^\/p\/([^/?#]+)/.exec(Tn))==null?void 0:nb[0])||"/p":/^\/t\//.test(Tn)&&(Ro=((ob=/^\/t\/([^/?#]+)/.exec(Tn))==null?void 0:ob[0])||"/p");let al;typeof window!="undefined"&&window.location.search&&(al=(0,f.parseQuery)(window.location.search));const ab=/^\/p\/([^/?#]*)/.exec(Tn),ib=ab&&!((de==null?void 0:de.type)==="page"&&de.slug===ab[1]),sb=Tn.startsWith("/subscribe")||Tn.startsWith("/finish-invite")||Tn.startsWith("/meetings"),OB=Tn.startsWith("/chat/posts/");return _?(0,e.h)(vl,{pub:i,user:A,freeSignup:B,freeSignupEmail:x,hide_subscribe_cta:Tn.startsWith("/subscribe"),selectedSectionId:Ro,isPostView:ib,showCustomerSupportModeModal:!!(al!=null&&al.showCustomerSupportModeModal),lowChrome:sb,numRecommendations:fr,isChatActive:Xy,isMeetingsActive:ol,signupForFreeVariant:Gn}):!["welcome","embed","meetings"].some(wB=>Tn.startsWith(`/${wB}`))&&!(Tn.startsWith("/subscribe")&&(Nn||lB))&&(0,e.h)(vl,{pub:i,user:A,freeSignup:B,freeSignupEmail:x,hide_subscribe_cta:Tn.startsWith("/subscribe"),isPostView:ib,selectedSectionId:Ro,showCustomerSupportModeModal:!!(al!=null&&al.showCustomerSupportModeModal),lowChrome:sb,numRecommendations:fr,isChatActive:Xy,isMeetingsActive:ol,signupForFreeVariant:Gn,hideSections:OB})}),(0,e.h)(za.g1,{pub:i,user:A}),(0,e.h)(y.Router,{onChange:GE},["newspaper","magaziney"].includes(i.homepage_type)?(0,e.h)(c6,{path:"/",blurbs:Lr,bodyPostGroups:(eb=i.theme)==null?void 0:eb.body_post_groups,contentBlocks:we,freeSignup:B,freeSignupEmail:x,hide_intro_popup:Mt,homepageLinks:Xt,sectionsById:ut,postTagsById:et,contributors:rt,latestPodcastPosts:gt,latestPostByContributorId:Tt,latestSectionPosts:It,newPosts:Oe,noBalanceHeroText:un,numRecommendations:fr,pinnedPosts:ve,postsByGroupId:St,postsBySectionId:Dt,postsByTagId:Lt,pub:i,recommendations:ar,referralCampaign:tr,referralCode:Ot,topPosts:Se,user:A,launchWelcomePage:ds,skipIntoPopupRender:o}):(0,e.h)(zg,{path:"/",user:A,freeSignupEmail:x,freeSignup:B,hide_intro_popup:Mt,preloadedPosts:q,pub:i,blurbs:Lr,noBalanceHeroText:un,launchWelcomePage:ds,skipIntoPopupRender:o}),(0,e.h)(jd,{path:"/listen/:sectionSlug",blurbs:Lr,user:A,freeSignupEmail:x,freeSignup:B,hide_intro_popup:Mt,pub:i,pinnedPosts:ve,newPosts:Oe,latestSectionPosts:It,section:i.section,referralCampaign:tr,isPodcast:!0,launchWelcomePage:ds,noBalanceHeroText:un,skipIntoPopupRender:o}),(0,e.h)(jd,{path:"/podcast",blurbs:Lr,user:A,freeSignupEmail:x,freeSignup:B,hide_intro_popup:Mt,pub:i,pinnedPosts:ve,newPosts:Oe,latestSectionPosts:It,recommendations:ar,numRecommendations:fr,referralCampaign:tr,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:ds,noBalanceHeroText:un}),(0,e.h)(Bs,{path:"/podcast/archive",blurbs:Lr,user:A,newPosts:Oe,topPosts:Se,communityPosts:Re,searchPosts:He,pub:i,freeSignupEmail:x,freeSignup:B,isPodcast:!0,metadata:us({title:Mi`Podcast Archive - ${i.name}`,description:Mi`Full archive of all the episodes from ${i.name}.`},!!(He||(0,f.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(jd,{path:"/s/:slug",blurbs:Lr,user:A,freeSignupEmail:x,freeSignup:B,hide_intro_popup:Mt,pub:i,pinnedPosts:ve,newPosts:Oe,latestSectionPosts:It,section:i.section,referralCampaign:tr,launchWelcomePage:ds,noBalanceHeroText:un,skipIntoPopupRender:o}),(0,e.h)(Bs,{path:"/archive",user:A,newPosts:Oe,topPosts:Se,communityPosts:Re,searchPosts:He,pub:i,freeSignupEmail:x,freeSignup:B,metadata:us({title:Mi`Archive - ${i.name}`,description:Mi`Full archive of all the posts from ${i.name}.`},!!(He||(0,f.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Bs,{path:"/s/:slug/archive",user:A,newPosts:Oe,topPosts:Se,communityPosts:Re,searchPosts:He,pub:i,freeSignupEmail:x,freeSignup:B,sectionId:_==null?void 0:_.id,metadata:us({title:Mi`Archive - ${_==null?void 0:_.name} of ${i.name}`,description:Mi`Full archive of all the posts from ${_==null?void 0:_.name} of ${i.name}.`},!!(He||(0,f.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Bs,{path:"/listen/:sectionSlug/archive/",user:A,newPosts:Oe,topPosts:Se,communityPosts:Re,searchPosts:He,pub:i,freeSignupEmail:x,freeSignup:B,sectionId:_==null?void 0:_.id,metadata:us({title:xa("Podcast Archive - %1",(0,gs.getSectionPodcastSettings)({pub:i,section:i.section}).title),description:xa("Full archive of all the episodes from %1.",(0,gs.getSectionPodcastSettings)({pub:i,section:i.section}).title)},!!(He||(0,f.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(eB,{path:"/t/:slug",user:A,freeSignupEmail:x,freeSignup:B,pub:i,tagPagePreloads:dB}),(0,e.h)(Bs,{default:!0,title:xa("Page not found"),user:A,newPosts:Oe,topPosts:Se,communityPosts:Re,searchPosts:He,pub:i,freeSignupEmail:x,freeSignup:B}),(0,e.h)(ae,{path:"/tos",html:i.tos_content_html||xa("Terms of Service"),metadata:{title:xa("Terms of Service")}},(0,e.h)(c.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:(0,f.getSubstackTermsUrl)(),native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(ae,{path:"/privacy",html:i.privacy_content_html||xa("Privacy Policy"),metadata:{title:xa("Privacy Policy")}},(0,e.h)(c.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,f.getSubstackPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(ae,{path:"/disclosures",html:i.disclosures_content_html||xa("Disclosures"),metadata:{title:xa("Disclosures")}}),(0,e.h)(_n,{path:"/welcome",publication:i,post:null,user:A,freeSignup:B,freeSignupEmail:x,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(_n,{path:"/podcast",publication:i,post:null,referralCode:Ot,user:A,freeSignup:B,freeSignupEmail:x,coupon:r,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(b6,{pub:i,path:"/invite",user:A,freeSignup:B,freeSignupEmail:x}),(0,e.h)(P6,{path:"/invite-success/:id",pub:i,user:A,post:de,freeSignup:B,freeSignupEmail:x}),(0,e.h)(E6,{path:"/invite-reject-success/:id",pub:i,user:A,post:de}),(0,e.h)(Pd,{path:"/finish-invite/:id",pub:i,user:A,freeSignup:B,freeSignupEmail:x}),(0,e.h)(Pd,{path:"/finish-post-invite/:id",pub:i,post:de,user:A,freeSignup:B,freeSignupEmail:x,inviteToPost:!0,primaryEligiblePublications:Fr||[],switchAccountRedirectUrl:Rr}),(0,e.h)(DR,{path:"/recommendations",pub:i,user:A,recommendations:ar,allSubscribedPubs:At,fullySubscribedPubs:Gt,freeSignupEmail:x}),(0,e.h)(By,{path:"/sitemap",pub:i,sitemapHeader:cr,sitemapDescription:nr,sitemapLinks:er}),(0,e.h)(By,{path:"/sitemap/:year",pub:i,sitemapHeader:cr,sitemapDescription:nr,sitemapLinks:er}),(0,e.h)(n5,{path:"/about",pub:i,user:A,freeSignup:B,freeSignupEmail:x,subscribeContent:Qt,people:$r,metadata:{title:Mi`About - ${i.name}`}}),(0,e.h)(Jd,{path:"/p/:slug",user:A,freeSignupEmail:x,freeSignup:B,referralCode:Ot,post:de,truncatedPost:_e,publication:i,renderedComments:tb,inlineComments:Ft,reaction_token:kt,hide_intro_popup:Mt,stripe_publishable_key:zt,readerIsSearchCrawler:en,selectionFromQuery:yr,embeddedPublications:dn,siteConfigs:xr,freeTrialCoupon:Jn,publicationSettings:Jy,bannedFromNotes:Nu,themeVariables:bn,referringUser:vB,clip:yB,showWelcome:ds,recentEpisodes:bB,trackFrontendVisit:EB}),(0,e.h)(xN,{path:"/cp/:post_id",user:A,freeSignupEmail:x,freeSignup:B,post:de,publication:i,introText:fB,crossPostedPub:pB,crossPostingByLine:hB,userWithCrossPostedPubContext:mB,crossPostedPublicationSettings:_B,crossPostedSiteConfig:gB}),(0,e.h)($7,{path:"/listen",pub:i,user:A||null,openInNewTab:!0,idToMagicLink:Ii}),(0,e.h)(vE,{path:"/newsletters",pub:i,user:A!=null?A:null}),(0,e.h)(W7,{path:"/p/:slug/media-assets",post:de,publication:i,themeVariables:bn}),Ft?(0,e.h)(Jd,{path:"/p/:slug/comments",user:A,freeSignupEmail:x,freeSignup:B,referralCode:Ot,post:de,truncatedPost:_e,publication:i,renderedComments:tb,inlineComments:Ft,reaction_token:kt,hide_intro_popup:Mt,stripe_publishable_key:zt,readerIsSearchCrawler:en,selectionFromQuery:yr,siteConfigs:xr,freeTrialCoupon:Jn,bannedFromNotes:Nu,themeVariables:bn}):(0,e.h)(ud,{path:"/p/:slug/comments",user:A,freeSignupEmail:x,freeSignup:B,post:de,publication:i,post_reaction_token:kt,commentId:kr,freeTrialCoupon:Jn,initialComments:qy,bannedFromNotes:Nu}),!Ft&&(0,e.h)(ud,{path:"/p/:slug/comment/:comment_id",user:A,freeSignupEmail:x,freeSignup:B,post:de,publication:i,post_reaction_token:kt,commentId:kr,freeTrialCoupon:Jn,initialComments:qy,bannedFromNotes:Nu}),(0,e.h)(_L,{path:"/rewards/receive",pub:i,user:A,freeSignupEmail:x,viral_gift_data:bt}),(0,e.h)(Yg,{path:"/embed",pub:i,user:A,freeSignup:B,freeSignupEmail:x}),(0,e.h)(kN,{path:"/embed/test",pub:i,user:A,freeSignup:B,freeSignupEmail:x}),(0,e.h)(BN,{path:"/embed/podcast/:slug",pub:i}),(0,e.h)(WN,{path:"/embed/video/:slug",pub:i}),(0,e.h)(pL,{path:"/f/:fileId",pub:i,user:A,hide_subscribe_cta:!0,file:Wr}),xr.live_events&&(0,e.h)(wr.cr,{module:"../live_events",onRequest:()=>Promise.all([ke.e(9315),ke.e(7602)]).then(ke.bind(ke,87602)),resolve:Tn=>Tn.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:i,user:A}),(0,e.h)(mP,{path:"/chat",publication:i,user:A}),(0,e.h)(_P,{path:"/chat/posts/:postId",publication:i,communityAction:Fe,user:A,appModalOpenByDefault:Qy}),(0,e.h)(gP,{path:"/chat/replies/:commentId",publication:i,communityAction:Fe,user:A,appModalOpenByDefault:Qy}),(0,e.h)(q7,{path:"/survey/:surveyId",pub:i,user:A}),xr.meetings_v1&&(ol||(A==null?void 0:A.is_author))&&(0,e.h)(e8,{path:"/meetings",exact:!0,pub:i,user:A,settings:qd}),xr.meetings_v1&&(ol||(A==null?void 0:A.is_author))&&(0,e.h)(q1,{path:"/meetings/book",pub:i,user:A,stripe_publishable_key:zt,order:Qd,settings:qd}),xr.meetings_v1&&(Qd||ol||(A==null?void 0:A.is_author))&&(0,e.h)(q1,{path:"/meetings/book/:order_id?",pub:i,user:A,stripe_publishable_key:zt,order:Qd,settings:qd}),(0,e.h)(X6,{pub:i,user:A,freeSignupEmail:x,path:"/leaderboard"}),(0,e.h)(AE,{path:"/notes"})),(0,e.h)(O.qE,{path:"/"},({path:Tn})=>!Tn.startsWith("/welcome")&&!Tn.startsWith("/embed")&&!Tn.startsWith("/subscribe")&&!Tn.startsWith("/meetings")&&!Tn.startsWith("/chat")&&(0,e.h)(ie,{publication:i,user:A,showIntrinioAttrib:de&&de.hasCashtag,path:Tn})),null))}}function aB({user:n}){const r=(0,Ff.S)({user:n});return(0,t.d4)(()=>{const o=new URLSearchParams(location.search);if(o.get("reaction")==="\u2764"){r(),o.delete("reaction");const i=o.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function iB({user:n,pub:r}){return VE({user:n,pub:r}),null}function sB(){return WE(),null}(0,H.Z)(oB)})()})()});DB();})();

//# sourceMappingURL=main.51a5274be4ddcf9c835d.bundle.js.map